/*! For license information please see main.6816edec.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8926:function(e){function t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,n){var r=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1109:function(e,t,n){var r=n(9713);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),i=n(3884),a=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),i=n(6860),a=n(379),o=n(8206);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},7124:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{attentionMarkers:function(){return ag},contentInitial:function(){return Jm},disable:function(){return og},document:function(){return Zm},flow:function(){return tg},flowInitial:function(){return eg},insideSpan:function(){return ig},string:function(){return ng},text:function(){return rg}});var i={};n.r(i),n.d(i,{boolean:function(){return ny},booleanish:function(){return ry},commaOrSpaceSeparated:function(){return sy},commaSeparated:function(){return uy},number:function(){return ay},overloadedBoolean:function(){return iy},spaceSeparated:function(){return oy}});var a={};n.r(a),n.d(a,{JsonPatchError:function(){return S_},_areEquals:function(){return R_},applyOperation:function(){return T_},applyPatch:function(){return F_},applyReducer:function(){return P_},deepClone:function(){return A_},getValueByPointer:function(){return j_},validate:function(){return N_},validator:function(){return M_}});var o={};n.r(o),n.d(o,{compare:function(){return H_},generate:function(){return q_},observe:function(){return U_},unobserve:function(){return L_}});var u={};n.r(u),n.d(u,{aggregate:function(){return jF},bin:function(){return TF},collect:function(){return PF},compare:function(){return MF},countpattern:function(){return RF},cross:function(){return IF},density:function(){return UF},dotbin:function(){return VF},expression:function(){return GF},extent:function(){return KF},facet:function(){return QF},field:function(){return ZF},filter:function(){return eP},flatten:function(){return tP},fold:function(){return nP},formula:function(){return rP},generate:function(){return iP},impute:function(){return uP},joinaggregate:function(){return sP},kde:function(){return cP},key:function(){return lP},load:function(){return dP},lookup:function(){return pP},multiextent:function(){return vP},multivalues:function(){return gP},params:function(){return bP},pivot:function(){return xP},prefacet:function(){return wP},project:function(){return _P},proxy:function(){return kP},quantile:function(){return EP},relay:function(){return OP},sample:function(){return SP},sequence:function(){return AP},sieve:function(){return CP},subflow:function(){return XF},timeunit:function(){return DP},tupleindex:function(){return TP},values:function(){return FP},window:function(){return IP}});var s={};n.r(s),n.d(s,{interpolate:function(){return CR},interpolateArray:function(){return xR},interpolateBasis:function(){return uR},interpolateBasisClosed:function(){return sR},interpolateCubehelix:function(){return fz},interpolateCubehelixLong:function(){return dz},interpolateDate:function(){return _R},interpolateDiscrete:function(){return vB},interpolateHcl:function(){return KB},interpolateHclLong:function(){return XB},interpolateHsl:function(){return AB},interpolateHslLong:function(){return CB},interpolateHue:function(){return mB},interpolateLab:function(){return GB},interpolateNumber:function(){return kR},interpolateNumberArray:function(){return yR},interpolateObject:function(){return ER},interpolateRgb:function(){return pR},interpolateRgbBasis:function(){return mR},interpolateRgbBasisClosed:function(){return gR},interpolateRound:function(){return DR},interpolateString:function(){return AR},interpolateTransformCss:function(){return _B},interpolateTransformSvg:function(){return kB},interpolateZoom:function(){return OB},piecewise:function(){return dB},quantize:function(){return hz}});var c={};n.r(c),n.d(c,{bound:function(){return B$},identifier:function(){return U$},mark:function(){return q$},overlap:function(){return W$},render:function(){return X$},viewlayout:function(){return yV}});var l={};n.r(l),n.d(l,{axisticks:function(){return xV},datajoin:function(){return wV},encode:function(){return kV},legendentries:function(){return EV},linkpath:function(){return DV},pie:function(){return MV},scale:function(){return IV},sortitems:function(){return UV},stack:function(){return VV}});var f={};n.r(f),n.d(f,{contour:function(){return DX},geojson:function(){return FX},geopath:function(){return PX},geopoint:function(){return MX},geoshape:function(){return NX},graticule:function(){return RX},heatmap:function(){return IX},isocontour:function(){return bX},kde2d:function(){return SX},projection:function(){return zX}});var d={};n.r(d),n.d(d,{force:function(){return NQ}});var h={};n.r(h),n.d(h,{nest:function(){return BZ},pack:function(){return HZ},partition:function(){return VZ},stratify:function(){return GZ},tree:function(){return XZ},treelinks:function(){return QZ},treemap:function(){return eJ}});var p={};n.r(p),n.d(p,{label:function(){return EJ}});var v={};n.r(v),n.d(v,{loess:function(){return SJ},regression:function(){return CJ}});var m={};n.r(m),n.d(m,{voronoi:function(){return e0}});var g={};n.r(g),n.d(g,{wordcloud:function(){return v0}});var y={};n.r(y),n.d(y,{crossfilter:function(){return _0},resolvefilter:function(){return k0}});var b={};n.r(b),n.d(b,{Bounds:function(){return SU},CanvasHandler:function(){return rH},CanvasRenderer:function(){return sH},DATE:function(){return mS},DAY:function(){return gS},DAYOFYEAR:function(){return yS},Dataflow:function(){return nT},Debug:function(){return hk},Error:function(){return lk},EventStream:function(){return Rj},Gradient:function(){return PL},GroupItem:function(){return CU},HOURS:function(){return bS},Handler:function(){return zW},Info:function(){return dk},Item:function(){return AU},MILLISECONDS:function(){return _S},MINUTES:function(){return xS},MONTH:function(){return pS},Marks:function(){return kW},MultiPulse:function(){return Kj},None:function(){return ck},Operator:function(){return Pj},Parameters:function(){return jj},Pulse:function(){return $j},QUARTER:function(){return hS},RenderType:function(){return QH},Renderer:function(){return UW},ResourceLoader:function(){return DU},SECONDS:function(){return wS},SVGHandler:function(){return lH},SVGRenderer:function(){return MH},SVGStringRenderer:function(){return YH},Scenegraph:function(){return TW},TIME_UNITS:function(){return kS},Transform:function(){return iT},View:function(){return X5},WEEK:function(){return vS},Warn:function(){return fk},YEAR:function(){return dS},accessor:function(){return G_},accessorFields:function(){return K_},accessorName:function(){return Y_},array:function(){return Lk},ascending:function(){return Hk},bandwidthNRD:function(){return kT},bin:function(){return ET},bootstrapCI:function(){return AT},boundClip:function(){return a$},boundContext:function(){return XU},boundItem:function(){return EW},boundMark:function(){return SW},boundStroke:function(){return FU},changeset:function(){return Cj},clampRange:function(){return Uk},codegenExpression:function(){return W1},compare:function(){return Wk},constant:function(){return Yk},cumulativeLogNormal:function(){return qT},cumulativeNormal:function(){return RT},cumulativeUniform:function(){return YT},dayofyear:function(){return jS},debounce:function(){return Kk},defaultLocale:function(){return RD},definition:function(){return oT},densityLogNormal:function(){return UT},densityNormal:function(){return NT},densityUniform:function(){return GT},domChild:function(){return NW},domClear:function(){return RW},domCreate:function(){return PW},domFind:function(){return MW},dotbin:function(){return CT},error:function(){return J_},expressionFunction:function(){return W3},extend:function(){return Xk},extent:function(){return Qk},extentIndex:function(){return Zk},falsy:function(){return uk},fastmap:function(){return nE},field:function(){return tk},flush:function(){return rE},font:function(){return vW},fontFamily:function(){return pW},fontSize:function(){return cW},format:function(){return cj},formatLocale:function(){return CD},formats:function(){return lj},hasOwnProperty:function(){return eE},id:function(){return nk},identity:function(){return rk},inferType:function(){return nj},inferTypes:function(){return rj},ingest:function(){return _j},inherits:function(){return iE},inrange:function(){return aE},interpolate:function(){return rL},interpolateColors:function(){return eL},interpolateRange:function(){return Jz},intersect:function(){return e$},intersectBoxLine:function(){return uq},intersectPath:function(){return rq},intersectPoint:function(){return iq},intersectRule:function(){return oq},isArray:function(){return vk},isBoolean:function(){return oE},isDate:function(){return uE},isFunction:function(){return qk},isIterable:function(){return sE},isNumber:function(){return cE},isObject:function(){return mk},isRegExp:function(){return lE},isString:function(){return fE},isTuple:function(){return bj},key:function(){return dE},lerp:function(){return hE},lineHeight:function(){return lW},loader:function(){return hj},locale:function(){return ND},logger:function(){return pk},lruCache:function(){return pE},markup:function(){return AH},merge:function(){return vE},mergeConfig:function(){return yk},multiLineOffset:function(){return dW},one:function(){return ak},pad:function(){return gE},panLinear:function(){return Dk},panLog:function(){return jk},panPow:function(){return Tk},panSymlog:function(){return Fk},parse:function(){return r9},parseExpression:function(){return L1},parseSelector:function(){return u6},pathCurves:function(){return NL},pathEqual:function(){return u$},pathParse:function(){return BL},pathRectangle:function(){return sU},pathRender:function(){return KL},pathSymbols:function(){return JL},pathTrail:function(){return cU},peek:function(){return wk},point:function(){return BW},projection:function(){return aX},quantileLogNormal:function(){return WT},quantileNormal:function(){return IT},quantileUniform:function(){return KT},quantiles:function(){return wT},quantizeInterpolator:function(){return tL},quarter:function(){return Bk},quartiles:function(){return _T},random:function(){return OT},randomInteger:function(){return jT},randomKDE:function(){return zT},randomLCG:function(){return DT},randomLogNormal:function(){return HT},randomMixture:function(){return $T},randomNormal:function(){return BT},randomUniform:function(){return XT},read:function(){return dj},regressionExp:function(){return rF},regressionLinear:function(){return tF},regressionLoess:function(){return sF},regressionLog:function(){return nF},regressionPoly:function(){return oF},regressionPow:function(){return iF},regressionQuad:function(){return aF},renderModule:function(){return JH},repeat:function(){return mE},resetDefaultLocale:function(){return ID},resetSVGClipId:function(){return EU},resetSVGDefIds:function(){return s$},responseType:function(){return fj},runtimeContext:function(){return J3},sampleCurve:function(){return dF},sampleLogNormal:function(){return LT},sampleNormal:function(){return MT},sampleUniform:function(){return VT},scale:function(){return Wz},sceneEqual:function(){return o$},sceneFromJSON:function(){return DW},scenePickVisit:function(){return yq},sceneToJSON:function(){return CW},sceneVisit:function(){return gq},sceneZOrder:function(){return mq},scheme:function(){return uL},serializeXML:function(){return CH},setRandom:function(){return ST},span:function(){return yE},splitAccessPath:function(){return ek},stringValue:function(){return bE},textMetrics:function(){return rW},timeBin:function(){return xA},timeFloor:function(){return VS},timeFormatLocale:function(){return PD},timeInterval:function(){return ZS},timeOffset:function(){return tA},timeSequence:function(){return iA},timeUnitSpecifier:function(){return AS},timeUnits:function(){return OS},toBoolean:function(){return xE},toDate:function(){return _E},toNumber:function(){return _k},toSet:function(){return EE},toString:function(){return kE},transform:function(){return uT},transforms:function(){return aT},truncate:function(){return OE},truthy:function(){return ok},tupleid:function(){return xj},typeParsers:function(){return JD},utcFloor:function(){return KS},utcInterval:function(){return JS},utcOffset:function(){return nA},utcSequence:function(){return aA},utcdayofyear:function(){return RS},utcquarter:function(){return zk},utcweek:function(){return IS},version:function(){return a9},visitArray:function(){return SE},week:function(){return TS},writeConfig:function(){return bk},zero:function(){return ik},zoomLinear:function(){return Mk},zoomLog:function(){return Nk},zoomPow:function(){return Rk},zoomSymlog:function(){return Ik}});var x={};n.r(x),n.d(x,{accessPathDepth:function(){return uee},accessPathWithDatum:function(){return tee},compile:function(){return fve},contains:function(){return N9},deepEqual:function(){return A9},deleteNestedProperty:function(){return J9},duplicate:function(){return C9},entries:function(){return K9},every:function(){return I9},fieldIntersection:function(){return $9},flatAccessWithDatum:function(){return nee},getFirstDefined:function(){return see},hasIntersection:function(){return W9},hash:function(){return P9},internalField:function(){return dee},isBoolean:function(){return X9},isEmpty:function(){return V9},isEqual:function(){return U9},isInternalField:function(){return hee},isNullOrFalse:function(){return M9},isNumeric:function(){return vee},keys:function(){return G9},logicalExpr:function(){return Z9},mergeDeep:function(){return B9},never:function(){return D9},normalize:function(){return xce},normalizeAngle:function(){return pee},omit:function(){return T9},pick:function(){return j9},prefixGenerator:function(){return H9},removePathFromField:function(){return oee},replaceAll:function(){return aee},replacePathInField:function(){return iee},resetIdCounter:function(){return fee},setEqual:function(){return q9},some:function(){return R9},stringify:function(){return F9},titleCase:function(){return eee},unique:function(){return L9},uniqueId:function(){return lee},vals:function(){return Y9},varName:function(){return Q9},version:function(){return pve}});var w={};n.r(w),n.d(w,{dark:function(){return gve},excel:function(){return bve},fivethirtyeight:function(){return Eve},ggplot2:function(){return Sve},googlecharts:function(){return Gve},latimes:function(){return Fve},quartz:function(){return Nve},urbaninstitute:function(){return Wve},version:function(){return Yve},vox:function(){return Ive}});var _=n(2791),k=n(4164);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function A(e){if(Array.isArray(e))return e}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){return A(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||O(e,t)||C()}function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}var T,F=T||(T={});F.Pop="POP",F.Push="PUSH",F.Replace="REPLACE";var P=function(e){return e};function M(e){e.preventDefault(),e.returnValue=""}function N(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function R(){return Math.random().toString(36).substr(2,8)}function I(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function B(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function z(e,t){if(!e)throw new Error(t)}var L=(0,_.createContext)(null);var U=(0,_.createContext)(null);var q=(0,_.createContext)({outlet:null,matches:[]});function W(e){var t=e.to,n=e.replace,r=e.state;K()||z(!1);var i=Q();return(0,_.useEffect)((function(){i(t,{replace:n,state:r})})),null}function H(e){return function(e){var t=(0,_.useContext)(q).outlet;if(t)return(0,_.createElement)(Z.Provider,{value:e},t);return t}(e.context)}function $(e){z(!1)}function V(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?T.Pop:o,s=e.navigator,c=e.static,l=void 0!==c&&c;K()&&z(!1);var f=fe(n),d=(0,_.useMemo)((function(){return{basename:f,navigator:s,static:l}}),[f,s,l]);"string"===typeof a&&(a=B(a));var h=a,p=h.pathname,v=void 0===p?"/":p,m=h.search,g=void 0===m?"":m,y=h.hash,b=void 0===y?"":y,x=h.state,w=void 0===x?null:x,k=h.key,E=void 0===k?"default":k,O=(0,_.useMemo)((function(){var e=ce(v,f);return null==e?null:{pathname:e,search:g,hash:b,state:w,key:E}}),[f,v,g,b,w,E]);return null==O?null:(0,_.createElement)(L.Provider,{value:d},(0,_.createElement)(U.Provider,{children:i,value:{location:O,navigationType:u}}))}function G(e){var t=e.children,n=e.location;return function(e,t){K()||z(!1);var n=(0,_.useContext)(q).matches,r=n[n.length-1],i=r?r.params:{},a=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var o,u=X();if(t){var s,c="string"===typeof t?B(t):t;"/"===a||(null==(s=c.pathname)?void 0:s.startsWith(a))||z(!1),o=c}else o=u;var l=o.pathname||"/",f="/"===a?l:l.slice(a.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=ce(("string"===typeof t?B(t):t).pathname||"/",n);if(null==r)return null;var i=te(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ae(i[o],r);return a}(e,{pathname:f});0;return oe(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},i,e.params),pathname:le([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:le([a,e.pathnameBase])})})),n)}(ee(t),n)}function Y(e){K()||z(!1);var t=(0,_.useContext)(L),n=t.basename,r=t.navigator,i=J(e),a=i.hash,o=i.pathname,u=i.search,s=o;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?B(e).pathname:e.pathname}(e),l=null!=c&&c.endsWith("/");s="/"===o?n+(l?"/":""):le([n,o])}return r.createHref({pathname:s,search:u,hash:a})}function K(){return null!=(0,_.useContext)(U)}function X(){return K()||z(!1),(0,_.useContext)(U).location}function Q(){K()||z(!1);var e=(0,_.useContext)(L),t=e.basename,n=e.navigator,r=(0,_.useContext)(q).matches,i=X().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),o=(0,_.useRef)(!1);(0,_.useEffect)((function(){o.current=!0}));var u=(0,_.useCallback)((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=se(e,JSON.parse(a),i);"/"!==t&&(u.pathname=le([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state)}else n.go(e)}),[t,n,a,i]);return u}var Z=(0,_.createContext)(null);function J(e){var t=(0,_.useContext)(q).matches,n=X().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,_.useMemo)((function(){return se(e,JSON.parse(r),n)}),[e,r,n])}function ee(e){var t=[];return _.Children.forEach(e,(function(e){if((0,_.isValidElement)(e))if(e.type!==_.Fragment){e.type!==$&&z(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=ee(e.props.children)),t.push(n)}else t.push.apply(t,ee(e.props.children))})),t}function te(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||z(!1),a.relativePath=a.relativePath.slice(r.length));var o=le([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&z(!1),te(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:ie(o,e.index),routesMeta:u})})),t}var ne=/^:\w+$/,re=function(e){return"*"===e};function ie(e,t){var n=e.split("/"),r=n.length;return n.some(re)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!re(e)})).reduce((function(e,t){return e+(ne.test(t)?3:""===t?1:10)}),r)}function ae(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=ue({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:le([i,l.pathname]),pathnameBase:le([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=le([i,l.pathnameBase]))}return a}function oe(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,_.createElement)(q.Provider,{children:void 0!==r.route.element?r.route.element:(0,_.createElement)(H,null),value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function ue(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=D(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(J_){return e}}(c[n]||""),e}),{});return{params:l,pathname:u,pathnameBase:s,pattern:e}}function se(e,t,n){var r,i="string"===typeof e?B(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?B(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:de(a),hash:he(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function ce(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var le=function(e){return e.join("/").replace(/\/\/+/g,"/")},fe=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},de=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},he=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var me=["onClick","reloadDocument","replace","state","target","to"];function ge(e){var t=e.basename,n=e.children,r=e.window,i=(0,_.useRef)();null==i.current&&(i.current=function(e){function t(){var e=o.location,t=u.state||{};return[t.idx,P({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:I(e)}function r(e,t){return void 0===t&&(t=null),P(j({pathname:f.pathname,hash:"",search:""},"string"===typeof e?B(e):e,{state:t,key:R()}))}function i(e){c=e,e=t(),l=e[0],f=e[1],d.call({action:c,location:f})}function a(e){u.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,u=o.history,s=null;o.addEventListener("popstate",(function(){if(s)h.call(s),s=null;else{var e=T.Pop,n=t(),r=n[0];if(n=n[1],h.length){if(null!=r){var o=l-r;o&&(s={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=T.Pop,l=(e=t())[0],f=e[1],d=N(),h=N();return null==l&&(l=0,u.replaceState(j({},u.state,{idx:l}),"")),{get action(){return c},get location(){return f},createHref:n,push:function e(t,a){var s=T.Push,c=r(t,a);if(!h.length||(h.call({action:s,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{u.pushState(c,"",f)}catch(d){o.location.assign(f)}i(s)}},replace:function e(t,a){var o=T.Replace,s=r(t,a);h.length&&(h.call({action:o,location:s,retry:function(){e(t,a)}}),1)||(s=[{usr:s.state,key:s.key,idx:l},n(s)],u.replaceState(s[0],"",s[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return d.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&o.addEventListener("beforeunload",M),function(){t(),h.length||o.removeEventListener("beforeunload",M)}}}}({window:r}));var a=i.current,o=D((0,_.useState)({action:a.action,location:a.location}),2),u=o[0],s=o[1];return(0,_.useLayoutEffect)((function(){return a.listen(s)}),[a]),(0,_.createElement)(V,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:a})}var ye=(0,_.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,i=e.replace,a=void 0!==i&&i,o=e.state,u=e.target,s=e.to,c=ve(e,me),l=Y(s),f=function(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,a=n.state,o=Q(),u=X(),s=J(e);return(0,_.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!i||I(u)===I(s);o(e,{replace:n,state:a})}}),[u,o,s,i,a,r,e])}(s,{replace:a,state:o,target:u});return(0,_.createElement)("a",pe({},c,{href:l,onClick:function(e){n&&n(e),e.defaultPrevented||r||f(e)},ref:t,target:u}))}));function be(e){var t=(0,_.useRef)(xe(e)),n=X(),r=(0,_.useMemo)((function(){var e,r=xe(n.search),i=S(t.current.keys());try{var a=function(){var n=e.value;r.has(n)||t.current.getAll(n).forEach((function(e){r.append(n,e)}))};for(i.s();!(e=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}),[n.search]),i=Q();return[r,(0,_.useCallback)((function(e,t){i("?"+xe(e),t)}),[i])]}function xe(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}function we(e,t){return we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},we(e,t)}function _e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,we(e,t)}var ke=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Ee=function(){this.__data__=[],this.size=0};var Oe=function(e,t){return e===t||e!==e&&t!==t};var Se=function(e,t){for(var n=e.length;n--;)if(Oe(e[n][0],t))return n;return-1},Ae=Array.prototype.splice;var Ce=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ae.call(t,n,1),--this.size,!0)};var De=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]};var je=function(e){return Se(this.__data__,e)>-1};var Te=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fe.prototype.clear=Ee,Fe.prototype.delete=Ce,Fe.prototype.get=De,Fe.prototype.has=je,Fe.prototype.set=Te;var Pe=Fe;var Me=function(){this.__data__=new Pe,this.size=0};var Ne=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Re=function(e){return this.__data__.get(e)};var Ie=function(e){return this.__data__.has(e)},Be="object"==typeof global&&global&&global.Object===Object&&global,ze="object"==typeof self&&self&&self.Object===Object&&self,Le=Be||ze||Function("return this")(),Ue=Le.Symbol,qe=Object.prototype,We=qe.hasOwnProperty,He=qe.toString,$e=Ue?Ue.toStringTag:void 0;var Ve=function(e){var t=We.call(e,$e),n=e[$e];try{e[$e]=void 0;var r=!0}catch(a){}var i=He.call(e);return r&&(t?e[$e]=n:delete e[$e]),i},Ge=Object.prototype.toString;var Ye=function(e){return Ge.call(e)},Ke=Ue?Ue.toStringTag:void 0;var Xe=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ke&&Ke in Object(e)?Ve(e):Ye(e)};var Qe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Ze=function(e){if(!Qe(e))return!1;var t=Xe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Je=Le["__core-js_shared__"],et=function(){var e=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var tt=function(e){return!!et&&et in e},nt=Function.prototype.toString;var rt=function(e){if(null!=e){try{return nt.call(e)}catch(t){}try{return e+""}catch(t){}}return""},it=/^\[object .+?Constructor\]$/,at=Function.prototype,ot=Object.prototype,ut=at.toString,st=ot.hasOwnProperty,ct=RegExp("^"+ut.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var lt=function(e){return!(!Qe(e)||tt(e))&&(Ze(e)?ct:it).test(rt(e))};var ft=function(e,t){return null==e?void 0:e[t]};var dt=function(e,t){var n=ft(e,t);return lt(n)?n:void 0},ht=dt(Le,"Map"),pt=dt(Object,"create");var vt=function(){this.__data__=pt?pt(null):{},this.size=0};var mt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gt=Object.prototype.hasOwnProperty;var yt=function(e){var t=this.__data__;if(pt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return gt.call(t,e)?t[e]:void 0},bt=Object.prototype.hasOwnProperty;var xt=function(e){var t=this.__data__;return pt?void 0!==t[e]:bt.call(t,e)};var wt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pt&&void 0===t?"__lodash_hash_undefined__":t,this};function _t(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_t.prototype.clear=vt,_t.prototype.delete=mt,_t.prototype.get=yt,_t.prototype.has=xt,_t.prototype.set=wt;var kt=_t;var Et=function(){this.size=0,this.__data__={hash:new kt,map:new(ht||Pe),string:new kt}};var Ot=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var St=function(e,t){var n=e.__data__;return Ot(t)?n["string"==typeof t?"string":"hash"]:n.map};var At=function(e){var t=St(this,e).delete(e);return this.size-=t?1:0,t};var Ct=function(e){return St(this,e).get(e)};var Dt=function(e){return St(this,e).has(e)};var jt=function(e,t){var n=St(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Tt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tt.prototype.clear=Et,Tt.prototype.delete=At,Tt.prototype.get=Ct,Tt.prototype.has=Dt,Tt.prototype.set=jt;var Ft=Tt;var Pt=function(e,t){var n=this.__data__;if(n instanceof Pe){var r=n.__data__;if(!ht||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ft(r)}return n.set(e,t),this.size=n.size,this};function Mt(e){var t=this.__data__=new Pe(e);this.size=t.size}Mt.prototype.clear=Me,Mt.prototype.delete=Ne,Mt.prototype.get=Re,Mt.prototype.has=Ie,Mt.prototype.set=Pt;var Nt=Mt;var Rt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var It=function(e){return this.__data__.has(e)};function Bt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ft;++t<n;)this.add(e[t])}Bt.prototype.add=Bt.prototype.push=Rt,Bt.prototype.has=It;var zt=Bt;var Lt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Ut=function(e,t){return e.has(t)};var qt=function(e,t,n,r,i,a){var o=1&n,u=e.length,s=t.length;if(u!=s&&!(o&&s>u))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var f=-1,d=!0,h=2&n?new zt:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var m=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!Lt(t,(function(e,t){if(!Ut(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)}))){d=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d},Wt=Le.Uint8Array;var Ht=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var $t=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Vt=Ue?Ue.prototype:void 0,Gt=Vt?Vt.valueOf:void 0;var Yt=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Wt(e),new Wt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Oe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Ht;case"[object Set]":var s=1&r;if(u||(u=$t),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=qt(u(e),u(t),r,i,a,o);return o.delete(e),l;case"[object Symbol]":if(Gt)return Gt.call(e)==Gt.call(t)}return!1};var Kt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Xt=Array.isArray;var Qt=function(e,t,n){var r=t(e);return Xt(e)?r:Kt(r,n(e))};var Zt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Jt=function(){return[]},en=Object.prototype.propertyIsEnumerable,tn=Object.getOwnPropertySymbols,nn=tn?function(e){return null==e?[]:(e=Object(e),Zt(tn(e),(function(t){return en.call(e,t)})))}:Jt,rn=nn;var an=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var on=function(e){return null!=e&&"object"==typeof e};var un=function(e){return on(e)&&"[object Arguments]"==Xe(e)},sn=Object.prototype,cn=sn.hasOwnProperty,ln=sn.propertyIsEnumerable,fn=un(function(){return arguments}())?un:function(e){return on(e)&&cn.call(e,"callee")&&!ln.call(e,"callee")},dn=fn;var hn=function(){return!1},pn="object"==typeof exports&&exports&&!exports.nodeType&&exports,vn=pn&&"object"==typeof module&&module&&!module.nodeType&&module,mn=vn&&vn.exports===pn?Le.Buffer:void 0,gn=(mn?mn.isBuffer:void 0)||hn,yn=/^(?:0|[1-9]\d*)$/;var bn=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&yn.test(e))&&e>-1&&e%1==0&&e<t};var xn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},wn={};wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Arguments]"]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object Boolean]"]=wn["[object DataView]"]=wn["[object Date]"]=wn["[object Error]"]=wn["[object Function]"]=wn["[object Map]"]=wn["[object Number]"]=wn["[object Object]"]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object WeakMap]"]=!1;var _n=function(e){return on(e)&&xn(e.length)&&!!wn[Xe(e)]};var kn=function(e){return function(t){return e(t)}},En="object"==typeof exports&&exports&&!exports.nodeType&&exports,On=En&&"object"==typeof module&&module&&!module.nodeType&&module,Sn=On&&On.exports===En&&Be.process,An=function(){try{var e=On&&On.require&&On.require("util").types;return e||Sn&&Sn.binding&&Sn.binding("util")}catch(t){}}(),Cn=An&&An.isTypedArray,Dn=Cn?kn(Cn):_n,jn=Object.prototype.hasOwnProperty;var Tn=function(e,t){var n=Xt(e),r=!n&&dn(e),i=!n&&!r&&gn(e),a=!n&&!r&&!i&&Dn(e),o=n||r||i||a,u=o?an(e.length,String):[],s=u.length;for(var c in e)!t&&!jn.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bn(c,s))||u.push(c);return u},Fn=Object.prototype;var Pn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fn)};var Mn=function(e,t){return function(n){return e(t(n))}},Nn=Mn(Object.keys,Object),Rn=Object.prototype.hasOwnProperty;var In=function(e){if(!Pn(e))return Nn(e);var t=[];for(var n in Object(e))Rn.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Bn=function(e){return null!=e&&xn(e.length)&&!Ze(e)};var zn=function(e){return Bn(e)?Tn(e):In(e)};var Ln=function(e){return Qt(e,zn,rn)},Un=Object.prototype.hasOwnProperty;var qn=function(e,t,n,r,i,a){var o=1&n,u=Ln(e),s=u.length;if(s!=Ln(t).length&&!o)return!1;for(var c=s;c--;){var l=u[c];if(!(o?l in t:Un.call(t,l)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<s;){var v=e[l=u[c]],m=t[l];if(r)var g=o?r(m,v,l,t,e,a):r(v,m,l,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h},Wn=dt(Le,"DataView"),Hn=dt(Le,"Promise"),$n=dt(Le,"Set"),Vn=dt(Le,"WeakMap"),Gn="[object Map]",Yn="[object Promise]",Kn="[object Set]",Xn="[object WeakMap]",Qn="[object DataView]",Zn=rt(Wn),Jn=rt(ht),er=rt(Hn),tr=rt($n),nr=rt(Vn),rr=Xe;(Wn&&rr(new Wn(new ArrayBuffer(1)))!=Qn||ht&&rr(new ht)!=Gn||Hn&&rr(Hn.resolve())!=Yn||$n&&rr(new $n)!=Kn||Vn&&rr(new Vn)!=Xn)&&(rr=function(e){var t=Xe(e),n="[object Object]"==t?e.constructor:void 0,r=n?rt(n):"";if(r)switch(r){case Zn:return Qn;case Jn:return Gn;case er:return Yn;case tr:return Kn;case nr:return Xn}return t});var ir=rr,ar="[object Arguments]",or="[object Array]",ur="[object Object]",sr=Object.prototype.hasOwnProperty;var cr=function(e,t,n,r,i,a){var o=Xt(e),u=Xt(t),s=o?or:ir(e),c=u?or:ir(t),l=(s=s==ar?ur:s)==ur,f=(c=c==ar?ur:c)==ur,d=s==c;if(d&&gn(e)){if(!gn(t))return!1;o=!0,l=!1}if(d&&!l)return a||(a=new Nt),o||Dn(e)?qt(e,t,n,r,i,a):Yt(e,t,s,n,r,i,a);if(!(1&n)){var h=l&&sr.call(e,"__wrapped__"),p=f&&sr.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,m=p?t.value():t;return a||(a=new Nt),i(v,m,n,r,a)}}return!!d&&(a||(a=new Nt),qn(e,t,n,r,i,a))};var lr=function e(t,n,r,i,a){return t===n||(null==t||null==n||!on(t)&&!on(n)?t!==t&&n!==n:cr(t,n,r,i,e,a))};var fr=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var u=n[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var s=(u=n[i])[0],c=e[s],l=u[1];if(o&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new Nt;if(r)var d=r(c,l,s,e,t,f);if(!(void 0===d?lr(l,c,3,r,f):d))return!1}}return!0};var dr=function(e){return e===e&&!Qe(e)};var hr=function(e){for(var t=zn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,dr(i)]}return t};var pr=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var vr=function(e){var t=hr(e);return 1==t.length&&t[0][2]?pr(t[0][0],t[0][1]):function(n){return n===e||fr(n,e,t)}};var mr=function(e){return"symbol"==typeof e||on(e)&&"[object Symbol]"==Xe(e)},gr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yr=/^\w*$/;var br=function(e,t){if(Xt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!mr(e))||(yr.test(e)||!gr.test(e)||null!=t&&e in Object(t))};function xr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(xr.Cache||Ft),n}xr.Cache=Ft;var wr=xr;var _r=function(e){var t=wr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},kr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Er=/\\(\\)?/g,Or=_r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(kr,(function(e,n,r,i){t.push(r?i.replace(Er,"$1"):n||e)})),t})),Sr=Or,Ar=Ue?Ue.prototype:void 0,Cr=Ar?Ar.toString:void 0;var Dr=function e(t){if("string"==typeof t)return t;if(Xt(t))return ke(t,e)+"";if(mr(t))return Cr?Cr.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var jr=function(e){return null==e?"":Dr(e)};var Tr=function(e,t){return Xt(e)?e:br(e,t)?[e]:Sr(jr(e))};var Fr=function(e){if("string"==typeof e||mr(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Pr=function(e,t){for(var n=0,r=(t=Tr(t,e)).length;null!=e&&n<r;)e=e[Fr(t[n++])];return n&&n==r?e:void 0};var Mr=function(e,t,n){var r=null==e?void 0:Pr(e,t);return void 0===r?n:r};var Nr=function(e,t){return null!=e&&t in Object(e)};var Rr=function(e,t,n){for(var r=-1,i=(t=Tr(t,e)).length,a=!1;++r<i;){var o=Fr(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&xn(i)&&bn(o,i)&&(Xt(e)||dn(e))};var Ir=function(e,t){return null!=e&&Rr(e,t,Nr)};var Br=function(e,t){return br(e)&&dr(t)?pr(Fr(e),t):function(n){var r=Mr(n,e);return void 0===r&&r===t?Ir(n,e):lr(t,r,3)}};var zr=function(e){return e};var Lr=function(e){return function(t){return null==t?void 0:t[e]}};var Ur=function(e){return function(t){return Pr(t,e)}};var qr=function(e){return br(e)?Lr(Fr(e)):Ur(e)};var Wr=function(e){return"function"==typeof e?e:null==e?zr:"object"==typeof e?Xt(e)?Br(e[0],e[1]):vr(e):qr(e)};var Hr=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}},$r=Hr();var Vr=function(e,t){return e&&$r(e,t,zn)};var Gr=function(e,t){return function(n,r){if(null==n)return n;if(!Bn(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}},Yr=Gr(Vr);var Kr=function(e,t){var n=-1,r=Bn(e)?Array(e.length):[];return Yr(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var Xr=function(e,t){return(Xt(e)?ke:Kr)(e,Wr(t,3))};var Qr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var Zr=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Jr=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var ei=function(e,t){return t.length<2?e:Pr(e,Jr(t,0,-1))};var ti=function(e,t,n){t=Tr(t,e);var r=null==(e=ei(e,t))?e:e[Fr(Zr(t))];return null==r?void 0:Qr(r,e,n)},ni=Math.max;var ri=function(e,t,n){return t=ni(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=ni(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(o),Qr(e,this,u)}};var ii=function(e){return function(){return e}},ai=function(){try{var e=dt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),oi=ai?function(e,t){return ai(e,"toString",{configurable:!0,enumerable:!1,value:ii(t),writable:!0})}:zr,ui=oi,si=Date.now;var ci=function(e){var t=0,n=0;return function(){var r=si(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},li=ci(ui);var fi=function(e,t){return li(ri(e,t,zr),e+"")},di=fi(ti);function hi(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=hi(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function pi(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=hi(e))&&(r&&(r+=" "),r+=t);return r}var vi={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function mi(e){var t=typeof e;return"string"===t||"number"===t?vi[e]||e:""}var gi=function(e,t){return e&&t},yi=function(e,t){return e&&!0!==e&&e+" "+t},bi=function(e,t){return e&&(!0===e?t:e+" "+t)},xi=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},wi=function(e){return"justified"===e?"justified":yi(e,"aligned")},_i=function(e){return yi(e,"aligned")},ki=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?mi(e):mi(e)+" "+t},Ei=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};var Oi=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var a=n();if(a)return a}return t.href?"a":i.as||"div"};var Si=function(e,t){var n;return Yr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};var Ai=function(e,t,n){if(!Qe(n))return!1;var r=typeof t;return!!("number"==r?Bn(n)&&bn(t,n.length):"string"==r&&t in n)&&Oe(n[t],e)};var Ci=function(e,t,n){var r=Xt(e)?Lt:Si;return n&&Ai(e,t,n)&&(t=void 0),r(e,Wr(t,3))},Di=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};function ji(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ti=function(e){return void 0===e},Fi=function(e,t,n,r){void 0===r&&(r=!1);var i,a=t[e];if(void 0!==a)return a;if(r){var o=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==o)return o;if(n){var u=n[e];if(void 0!==u)return u}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)},Pi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(t=e.call.apply(e,[this].concat(r))||this).constructor,o=a.autoControlledProps,u=a.getAutoControlledStateFromProps,s=di(ji(t),"getInitialAutoControlledState",t.props)||{},c=o.reduce((function(e,n){return e[n]=Fi(n,t.props,s,!0),e}),{});return t.state=j({},s,c,{autoControlledProps:o,getAutoControlledStateFromProps:u}),t}return _e(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!Ti(e[n])&&(t[n]=e[n]),t}),{});if(r){var a=r(e,j({},t,i),t);return j({},i,a)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(_.Component);var Mi=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var Ni=function(e){return e!==e};var Ri=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Ii=function(e,t,n){return t===t?Ri(e,t,n):Mi(e,Ni,n)};var Bi=function(e,t){return!!(null==e?0:e.length)&&Ii(e,t,0)>-1};var zi=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Li=function(){},Ui=$n&&1/$t(new $n([,-0]))[1]==1/0?function(e){return new $n(e)}:Li,qi=Ui;var Wi=function(e,t,n){var r=-1,i=Bi,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=zi;else if(a>=200){var c=t?null:qi(e);if(c)return $t(c);o=!1,i=Ut,s=new zt}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u};var Hi=function(e){return e&&e.length?Wi(e):[]},$i=Mn(Object.getPrototypeOf,Object),Vi=Function.prototype,Gi=Object.prototype,Yi=Vi.toString,Ki=Gi.hasOwnProperty,Xi=Yi.call(Object);var Qi=function(e){if(!on(e)||"[object Object]"!=Xe(e))return!1;var t=$i(e);if(null===t)return!0;var n=Ki.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Yi.call(n)==Xi};var Zi=function(e){return"number"==typeof e||on(e)&&"[object Number]"==Xe(e)};var Ji=function(e){return"string"==typeof e||!Xt(e)&&on(e)&&"[object String]"==Xe(e)};var ea=function(e){return!0===e||!1===e||on(e)&&"[object Boolean]"==Xe(e)};var ta=function(e){return null==e};function na(e,t,n,r){if(void 0===r&&(r={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(ta(n)||ea(n))return null;var i=Ji(n),a=Zi(n),o=Ze(n),u=_.isValidElement(n),s=Qi(n),c=i||a||Xt(n);if(!o&&!u&&!s&&!c)return null;var l=r.defaultProps,f=void 0===l?{}:l,d=u&&n.props||s&&n||c&&t(n),h=r.overrideProps,p=void 0===h?{}:h;p=Ze(p)?p(j({},f,d)):p;var v=j({},f,d,p);if(f.className||p.className||d.className){var m=pi(f.className,p.className,d.className);v.className=Hi(m.split(" ")).join(" ")}if((f.style||p.style||d.style)&&(v.style=j({},f.style,d.style,p.style)),ta(v.key)){var g=v.childKey,y=r.autoGenerateKey,b=void 0===y||y;ta(g)?b&&(i||a)&&(v.key=n):(v.key="function"===typeof g?g(v):g,delete v.childKey)}return u?_.cloneElement(n,v):"function"===typeof v.children?v.children(e,j({},v,{children:void 0})):c||s?_.createElement(e,v):o?n(e,v,v.children):void 0}function ra(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return na(e,t,n,r)}}var ia=ra("div",(function(e){return{children:e}})),aa=ra("input",(function(e){return{type:e}})),oa=ra("label",(function(e){return{children:e}}));function ua(e){var t=e.children,n=e.className,r=e.content,i=pi("header",n),a=Ei(ua,e),o=Oi(ua,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}ua.handledProps=["as","children","className","content"],ua.propTypes={};var sa=ua;var ca=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var la=function(e){return function(t){return null==e?void 0:e[t]}},fa=la({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),da=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ha=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var pa=function(e){return(e=jr(e))&&e.replace(da,fa).replace(ha,"")},va=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var ma=function(e){return e.match(va)||[]},ga=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ya=function(e){return ga.test(e)},ba="\\u2700-\\u27bf",xa="a-z\\xdf-\\xf6\\xf8-\\xff",wa="A-Z\\xc0-\\xd6\\xd8-\\xde",_a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ka="["+_a+"]",Ea="\\d+",Oa="[\\u2700-\\u27bf]",Sa="["+xa+"]",Aa="[^\\ud800-\\udfff"+_a+Ea+ba+xa+wa+"]",Ca="(?:\\ud83c[\\udde6-\\uddff]){2}",Da="[\\ud800-\\udbff][\\udc00-\\udfff]",ja="["+wa+"]",Ta="(?:"+Sa+"|"+Aa+")",Fa="(?:"+ja+"|"+Aa+")",Pa="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ma="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Na="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Ra="[\\ufe0e\\ufe0f]?",Ia=Ra+Na+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Ca,Da].join("|")+")"+Ra+Na+")*"),Ba="(?:"+[Oa,Ca,Da].join("|")+")"+Ia,za=RegExp([ja+"?"+Sa+"+"+Pa+"(?="+[ka,ja,"$"].join("|")+")",Fa+"+"+Ma+"(?="+[ka,ja+Ta,"$"].join("|")+")",ja+"?"+Ta+"+"+Pa,ja+"+"+Ma,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ea,Ba].join("|"),"g");var La=function(e){return e.match(za)||[]};var Ua=function(e,t,n){return e=jr(e),void 0===(t=n?void 0:t)?ya(e)?La(e):ma(e):e.match(t)||[]},qa=RegExp("['\u2019]","g");var Wa=function(e){return function(t){return ca(Ua(pa(t).replace(qa,"")),e,"")}};var Ha=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Jr(e,t,n)},$a=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Va=function(e){return $a.test(e)};var Ga=function(e){return e.split("")},Ya="[\\ud800-\\udfff]",Ka="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Xa="[^\\ud800-\\udfff]",Qa="(?:\\ud83c[\\udde6-\\uddff]){2}",Za="[\\ud800-\\udbff][\\udc00-\\udfff]",Ja="(?:"+Ka+"|"+"\\ud83c[\\udffb-\\udfff])"+"?",eo="[\\ufe0e\\ufe0f]?",to=eo+Ja+("(?:\\u200d(?:"+[Xa,Qa,Za].join("|")+")"+eo+Ja+")*"),no="(?:"+[Xa+Ka+"?",Ka,Qa,Za,Ya].join("|")+")",ro=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+no+to,"g");var io=function(e){return e.match(ro)||[]};var ao=function(e){return Va(e)?io(e):Ga(e)};var oo=function(e){return function(t){t=jr(t);var n=Va(t)?ao(t):void 0,r=n?n[0]:t.charAt(0),i=n?Ha(n,1).join(""):t.slice(1);return r[e]()+i}},uo=oo("toUpperCase"),so=Wa((function(e,t,n){return e+(n?" ":"")+uo(t)})),co=so;function lo(e){var t=e.children,n=e.className,r=e.content,i=pi(e.size,"icons",n),a=Ei(lo,e),o=Oi(lo,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}lo.handledProps=["as","children","className","content","size"],lo.propTypes={},lo.defaultProps={as:"i"};var fo=lo,ho=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():di(t.props,"onClick",e,t.props)},t}_e(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return ta(n)?e["aria-hidden"]="true":e["aria-label"]=n,ta(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,r=e.circular,i=e.className,a=e.color,o=e.corner,u=e.disabled,s=e.fitted,c=e.flipped,l=e.inverted,f=e.link,d=e.loading,h=e.name,p=e.rotated,v=pi(a,h,e.size,gi(n,"bordered"),gi(r,"circular"),gi(u,"disabled"),gi(s,"fitted"),gi(l,"inverted"),gi(f,"link"),gi(d,"loading"),bi(o,"corner"),yi(c,"flipped"),yi(p,"rotated"),"icon",i),m=Ei(t,this.props),g=Oi(t,this.props),y=this.getIconAriaOptions();return _.createElement(g,j({},m,y,{className:v,onClick:this.handleClick}))},t}(_.PureComponent);ho.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],ho.propTypes={},ho.defaultProps={as:"i"},ho.Group=fo,ho.create=ra(ho,(function(e){return{name:e}}));var po=ho,vo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||di(t.props,"onClick",e,t.props)},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.color,o=e.content,u=e.disabled,s=e.fitted,c=e.header,l=e.icon,f=e.link,d=e.name,h=e.onClick,p=pi(a,e.position,gi(n,"active"),gi(u,"disabled"),gi(!0===l||l&&!(d||o),"icon"),gi(c,"header"),gi(f,"link"),bi(s,"fitted"),"item",i),v=Oi(t,this.props,(function(){if(h)return"a"})),m=Ei(t,this.props);return Di(r)?_.createElement(v,j({},m,{className:p,onClick:this.handleClick}),po.create(l,{autoGenerateKey:!1}),Di(o)?co(d):o):_.createElement(v,j({},m,{className:p,onClick:this.handleClick}),r)},t}(_.Component);function mo(e){var t=e.children,n=e.className,r=e.content,i=pi(e.position,"menu",n),a=Ei(mo,e),o=Oi(mo,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}vo.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],vo.propTypes={},vo.create=ra(vo,(function(e){return{content:e,name:e}})),mo.handledProps=["as","children","className","content","position"],mo.propTypes={};var go=mo,yo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),di(e,"onClick",n,r),di(t.props,"onItemClick",n,r)}}},t}_e(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Xr(t,(function(t,r){return vo.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,r=e.borderless,i=e.children,a=e.className,o=e.color,u=e.compact,s=e.fixed,c=e.floated,l=e.fluid,f=e.icon,d=e.inverted,h=e.pagination,p=e.pointing,v=e.secondary,m=e.size,g=e.stackable,y=e.tabular,b=e.text,x=e.vertical,w=e.widths,k=pi("ui",o,m,gi(r,"borderless"),gi(u,"compact"),gi(l,"fluid"),gi(d,"inverted"),gi(h,"pagination"),gi(p,"pointing"),gi(v,"secondary"),gi(g,"stackable"),gi(b,"text"),gi(x,"vertical"),bi(n,"attached"),bi(c,"floated"),bi(f,"icon"),bi(y,"tabular"),yi(s,"fixed"),ki(w,"item"),a,"menu"),E=Ei(t,this.props),O=Oi(t,this.props);return _.createElement(O,j({},E,{className:k}),Di(i)?this.renderItems():i)},t}(Pi);yo.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],yo.propTypes={},yo.autoControlledProps=["activeIndex"],yo.Header=sa,yo.Item=vo,yo.Menu=go,yo.create=ra(yo,(function(e){return{items:e}}));var bo=yo,xo={current:"undefined"===typeof document?null:document},wo=("undefined"===typeof window||window,function(e,t){return!!e&&!!e[t]}),_o=function(){function e(e){return function(e){var t=e.capture,n=e.listener,r=e.type,i=e.target,a=e.targetRef,o=_.useRef(n);o.current=n;var u=_.useCallback((function(e){return o.current(e)}),[]);_.useEffect((function(){var e="undefined"===typeof a?i:a.current,n=window.event,o=function(e){e!==n?u(e):n=void 0};return wo(e,"addEventListener")&&e.addEventListener(r,o,t),function(){wo(e,"removeEventListener")&&e.removeEventListener(r,o,t)}}),[t,u,i,a,r])}(e),null}return e.defaultProps={capture:!1},e}(),ko=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},Eo=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")};function Oo(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var So=n(3033);var Ao=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=null,t}_e(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=k.findDOMNode(this);this.prevNode=e,ko(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=k.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,ko(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&ko(this.props.innerRef,t)},n.componentWillUnmount=function(){ko(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(_.Component),Co=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=null,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;ko(r.ref,e),ko(i,e),t.currentNode=e},t}_e(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&ko(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return _.cloneElement(e,{ref:this.handleRefOverride})},t}(_.Component),Do=function(e){var t=e.children,n=e.innerRef,r=Oo(e,["children","innerRef"]),i=_.Children.only(t),a=So.isForwardRef(i)?Co:Ao,o=i&&r&&Object.keys(r).length>0?_.cloneElement(i,r):i;return _.createElement(a,{innerRef:n},o)},jo=Math.max,To=Math.min;var Fo=function(e,t,n){return e>=To(t,n)&&e<jo(t,n)},Po=/\s/;var Mo=function(e){for(var t=e.length;t--&&Po.test(e.charAt(t)););return t},No=/^\s+/;var Ro=function(e){return e?e.slice(0,Mo(e)+1).replace(No,""):e},Io=/^[-+]0x[0-9a-f]+$/i,Bo=/^0b[01]+$/i,zo=/^0o[0-7]+$/i,Lo=parseInt;var Uo=function(e){if("number"==typeof e)return e;if(mr(e))return NaN;if(Qe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ro(e);var n=Bo.test(e);return n||zo.test(e)?Lo(e.slice(2),n?2:8):Io.test(e)?NaN:+e},qo=1/0;var Wo=function(e){return e?(e=Uo(e))===qo||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var Ho=function(e,t,n){return t=Wo(t),void 0===n?(n=t,t=0):n=Wo(n),e=Uo(e),Fo(e,t,n)};var $o=function(e){return e&&e.length?e[0]:void 0},Vo=function(e,t){if(Ci([t,e],ta))return!1;if(t.target&&(di(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return di(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(Ci([n,r],ta))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var a=$o(i),o=a.top,u=a.bottom,s=a.left,c=a.right;return!Ci([o,u,s,c],ta)&&(Ho(r,o,u+.001)&&Ho(n,s,c+.001))};function Go(e){var t=e.className,n=e.children,r=e.content,i=pi("pushable",t),a=Ei(Go,e),o=Oi(Go,e);return _.createElement(o,j({},a,{className:i}),Di(n)?r:n)}Go.handledProps=["as","children","className","content"],Go.propTypes={};var Yo=Go;function Ko(e){var t=e.className,n=e.dimmed,r=e.children,i=e.content,a=pi("pusher",gi(n,"dimmed"),t),o=Ei(Ko,e),u=Oi(Ko,e);return _.createElement(u,j({},o,{className:a}),Di(r)?i:r)}Ko.handledProps=["as","children","className","content","dimmed"],Ko.propTypes={};var Xo=Ko,Qo=function(e){function t(n){var r;return(r=e.call(this,n)||this).ref=(0,_.createRef)(),r.handleAnimationStart=function(){var e=r.props.visible?"onVisible":"onHide";clearTimeout(r.animationTimer),r.animationTimer=setTimeout(r.handleAnimationEnd,t.animationDuration),r.skipNextCallback?r.skipNextCallback=!1:di(r.props,e,null,r.props)},r.handleAnimationEnd=function(){var e=r.props.visible?"onShow":"onHidden";r.setState({animationTick:0}),di(r.props,e,null,r.props)},r.handleDocumentClick=function(e){Vo(r.ref.current,e)||(r.skipNextCallback=!0,di(r.props,"onHide",e,j({},r.props,{visible:!1})))},r.state={animationTick:0,visible:n.visible},r}_e(t,e),t.getDerivedStateFromProps=function(e,t){var n=!!e.visible===!!t.visible?0:1;return{animationTick:t.animationTick+n,visible:e.visible}};var n=t.prototype;return n.componentDidUpdate=function(e,t){this.state.animationTick>t.animationTick&&this.handleAnimationStart()},n.componentWillUnmount=function(){clearTimeout(this.animationTimer)},n.render=function(){var e=this.props,n=e.animation,r=e.className,i=e.children,a=e.content,o=e.direction,u=e.target,s=e.visible,c=e.width,l=this.state.animationTick,f=pi("ui",n,o,c,gi(l>0,"animating"),gi(s,"visible"),"sidebar",r),d=Ei(t,this.props),h=Oi(t,this.props),p=Eo(u)?{targetRef:u}:{target:u};return _.createElement(_.Fragment,null,_.createElement(Do,{innerRef:this.ref},_.createElement(h,j({},d,{className:f}),Di(i)?a:i)),s&&_.createElement(_o,j({listener:this.handleDocumentClick,type:"click"},p)))},t}(_.Component);Qo.handledProps=["animation","as","children","className","content","direction","onHidden","onHide","onShow","onVisible","target","visible","width"],Qo.propTypes={},Qo.defaultProps={direction:"left",target:xo,visible:!1},Qo.animationDuration=500,Qo.autoControlledProps=["visible"],Qo.Pushable=Yo,Qo.Pusher=Xo;var Zo=Qo,Jo=n(184),eu=function(e){var t=e.items,n=e.children,r=X(),i=t.map((function(e,t){return(0,Jo.jsx)(bo.Item,{index:t,as:ye,to:e.path,header:0===t,disabled:!1,active:e.path===r.pathname,children:e.label},"item-"+t)}));return(0,Jo.jsxs)(Zo.Pushable,{children:[(0,Jo.jsx)(Zo,{as:bo,inverted:!0,animation:"push",visible:!1,direction:"top",size:"mini",children:i}),(0,Jo.jsx)(Zo.Pusher,{children:n})]})};function tu(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(J_){return void n(J_)}u.done?t(s):Promise.resolve(s).then(r,i)}function nu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){tu(a,r,i,o,u,"next",e)}function u(e){tu(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ru=n(7757),iu=n.n(ru);function au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uu(e,t,n){return t&&ou(e.prototype,t),n&&ou(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var su=function(){var e=nu(iu().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h,p,v,m,g;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df.getGroupInfo(t);case 2:if(r=e.sent,i=t.filter((function(e){return!r[e]||!r[e].retry})),0!==i.length){e.next=6;break}return e.abrupt("return",r);case 6:a=S(i);try{for(a.s();!(o=a.n()).done;)u=o.value,r[u]={}}catch(y){a.e(y)}finally{a.f()}if(s={},"domain"!==n){e.next=13;break}return e.next=12,cu(i);case 12:s=e.sent;case 13:for(Df.addGroupInfo(s),c=0,l=Object.entries(s);c<l.length;c++)f=D(l[c],2),d=f[0],h=f[1],r[d]=h;p=S(t);try{for(p.s();!(v=p.n()).done;)m=v.value,g=r[m]||{},"domain"===n&&(g=lu(m,g)),r[m]=g}catch(y){p.e(y)}finally{p.f()}return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),cu=function(){var e=nu(iu().mark((function e(t){var n,r,i,a,o;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fu("1234",t);case 3:return n=e.sent,r={token:n,urls:t},e.next=7,fetch("https://dd.amcat.nl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:return i=e.sent,e.next=10,i.json();case 10:return a=e.sent,e.abrupt("return",a);case 14:return e.prev=14,e.t0=e.catch(0),o=t.reduce((function(e,t){return e[t]={retry:!0},e}),{}),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),lu=function(e,t){return t.url=t.url||e,t.category=t.category||t.url.split(".").slice(-1)[0]||"other",t.icon=t.icon||"https://icons.duckduckgo.com/ip3/".concat(t.url,".ico"),t},fu=function(){var e=nu(iu().mark((function e(t,n){var r,i,a,o;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[t].concat(n).join("|"),i=(new TextEncoder).encode(r),e.next=4,crypto.subtle.digest("SHA-256",i);case 4:return a=e.sent,o=Array.from(new Uint8Array(a)),e.abrupt("return",o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hu(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function pu(e){return function(e){if(Array.isArray(e))return E(e)}(e)||hu(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,yu=Object.keys,bu=Array.isArray;function xu(e,t){return"object"!==typeof t||yu(t).forEach((function(n){e[n]=t[n]})),e}"undefined"===typeof Promise||gu.Promise||(gu.Promise=Promise);var wu=Object.getPrototypeOf,_u={}.hasOwnProperty;function ku(e,t){return _u.call(e,t)}function Eu(e,t){"function"===typeof t&&(t=t(wu(e))),("undefined"===typeof Reflect?yu:Reflect.ownKeys)(t).forEach((function(n){Su(e,n,t[n])}))}var Ou=Object.defineProperty;function Su(e,t,n,r){Ou(e,t,xu(n&&ku(n,"get")&&"function"===typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Au(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Su(e.prototype,"constructor",e),{extend:Eu.bind(null,e.prototype)}}}}var Cu=Object.getOwnPropertyDescriptor;function Du(e,t){var n;return Cu(e,t)||(n=wu(e))&&Du(n,t)}var ju=[].slice;function Tu(e,t,n){return ju.call(e,t,n)}function Fu(e,t){return t(e)}function Pu(e){if(!e)throw new Error("Assertion Failed")}function Mu(e){gu.setImmediate?setImmediate(e):setTimeout(e,0)}function Nu(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function Ru(e,t){if(ku(e,t))return e[t];if(!t)return e;if("string"!==typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var a=Ru(e,t[r]);n.push(a)}return n}var o=t.indexOf(".");if(-1!==o){var u=e[t.substr(0,o)];return void 0===u?void 0:Ru(u,t.substr(o+1))}}function Iu(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!==typeof t&&"length"in t){Pu("string"!==typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)Iu(e,t[r],n[r])}else{var a=t.indexOf(".");if(-1!==a){var o=t.substr(0,a),u=t.substr(a+1);if(""===u)void 0===n?bu(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var s=e[o];s||(s=e[o]={}),Iu(s,u,n)}}else void 0===n?bu(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Bu(e){var t={};for(var n in e)ku(e,n)&&(t[n]=e[n]);return t}var zu=[].concat;function Lu(e){return zu.apply([],e)}var Uu="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Lu([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return gu[e]})),qu=Uu.map((function(e){return gu[e]}));Nu(Uu,(function(e){return[e,!0]}));var Wu=null;function Hu(e){Wu="undefined"!==typeof WeakMap&&new WeakMap;var t=$u(e);return Wu=null,t}function $u(e){if(!e||"object"!==typeof e)return e;var t=Wu&&Wu.get(e);if(t)return t;if(bu(e)){t=[],Wu&&Wu.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push($u(e[n]))}else if(qu.indexOf(e.constructor)>=0)t=e;else{var i=wu(e);for(var a in t=i===Object.prototype?{}:Object.create(i),Wu&&Wu.set(e,t),e)ku(e,a)&&(t[a]=$u(e[a]))}return t}var Vu={}.toString;function Gu(e){return Vu.call(e).slice(8,-1)}var Yu="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator",Ku="symbol"===typeof Yu?function(e){var t;return null!=e&&(t=e[Yu])&&t.apply(e)}:function(){return null},Xu={};function Qu(e){var t,n,r,i;if(1===arguments.length){if(bu(e))return e.slice();if(this===Xu&&"string"===typeof e)return[e];if(i=Ku(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"===typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Zu="undefined"!==typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},Ju="undefined"!==typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function es(e,t){Ju=e,ts=t}var ts=function(){return!0},ns=!new Error("").stack;function rs(){if(ns)try{throw rs.arguments,new Error}catch(e){return e}return new Error}function is(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(ts).map((function(e){return"\n"+e})).join("")):""}var as=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],os=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(as),us={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ss(e,t){this._e=rs(),this.name=e,this.message=t}function cs(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function ls(e,t,n,r){this._e=rs(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=cs(e,t)}function fs(e,t){this._e=rs(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=cs(e,t)}Au(ss).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+is(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Au(ls).from(ss),Au(fs).from(ss);var ds=os.reduce((function(e,t){return e[t]=t+"Error",e}),{}),hs=ss,ps=os.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=rs(),this.name=n,e?"string"===typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"===typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=us[t]||n,this.inner=null)}return Au(r).from(hs),e[t]=r,e}),{});ps.Syntax=SyntaxError,ps.Type=TypeError,ps.Range=RangeError;var vs=as.reduce((function(e,t){return e[t+"Error"]=ps[t],e}),{});var ms=os.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ps[t]),e}),{});function gs(){}function ys(e){return e}function bs(e,t){return null==e||e===ys?t:function(n){return t(e(n))}}function xs(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ws(e,t){return e===gs?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?xs(r,this.onsuccess):r),i&&(this.onerror=this.onerror?xs(i,this.onerror):i),void 0!==a?a:n}}function _s(e,t){return e===gs?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?xs(n,this.onsuccess):n),r&&(this.onerror=this.onerror?xs(r,this.onerror):r)}}function ks(e,t){return e===gs?t:function(n){var r=e.apply(this,arguments);xu(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?xs(i,this.onsuccess):i),a&&(this.onerror=this.onerror?xs(a,this.onerror):a),void 0===r?void 0===o?void 0:o:xu(r,o)}}function Es(e,t){return e===gs?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Os(e,t){return e===gs?t:function(){var n=e.apply(this,arguments);if(n&&"function"===typeof n.then){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then((function(){return t.apply(r,a)}))}return t.apply(this,arguments)}}ms.ModifyError=ls,ms.DexieError=ss,ms.BulkError=fs;var Ss={},As=D("undefined"===typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"===typeof crypto||!crypto.subtle)return[e,wu(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,wu(t),e]}(),3),Cs=As[0],Ds=As[1],js=As[2],Ts=Ds&&Ds.then,Fs=Cs&&Cs.constructor,Ps=!!js,Ms=!1,Ns=js?function(){js.then(ic)}:gu.setImmediate?setImmediate.bind(null,ic):gu.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){ic(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(ic,0)},Rs=function(e,t){$s.push([e,t]),Bs&&(Ns(),Bs=!1)},Is=!0,Bs=!0,zs=[],Ls=[],Us=null,qs=ys,Ws={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Dc,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Dc(e[0],e[1])}catch(t){}}))}},Hs=Ws,$s=[],Vs=0,Gs=[];function Ys(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=gs,this._lib=!1;var t=this._PSD=Hs;if(Ju&&(this._stackHolder=rs(),this._prev=null,this._numPrev=0),"function"!==typeof e){if(e!==Ss)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Zs(this,this._value))}this._state=null,this._value=null,++t.ref,Qs(this,e)}var Ks={get:function(){var e=Hs,t=pc;function n(n,r){var i=this,a=!e.global&&(e!==Hs||t!==pc),o=a&&!yc(),u=new Ys((function(t,u){ec(i,new Xs(Sc(n,e,a,o),Sc(r,e,a,o),t,u,e))}));return Ju&&rc(u,this),u}return n.prototype=Ss,n},set:function(e){Su(this,"then",e&&e.prototype===Ss?Ks:{get:function(){return e},set:Ks.set})}};function Xs(e,t,n,r,i){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Qs(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&ac();t&&"function"===typeof t.then?Qs(e,(function(e,n){t instanceof Ys?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Js(e)),n&&oc()}}),Zs.bind(null,e))}catch(n){Zs(e,n)}}function Zs(e,t){if(Ls.push(t),null===e._state){var n=e._lib&&ac();t=qs(t),e._state=!1,e._value=t,Ju&&null!==t&&"object"===typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}((function(){var n=Du(t,"stack");t._promise=e,Su(t,"stack",{get:function(){return Ms?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){zs.some((function(t){return t._value===e._value}))||zs.push(e)}(e),Js(e),n&&oc()}}function Js(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ec(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Vs&&(++Vs,Rs((function(){0===--Vs&&uc()}),[]))}function ec(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Vs,Rs(tc,[n,e,t])}else e._listeners.push(t)}function tc(e,t,n){try{Us=t;var r,i=t._value;t._state?r=e(i):(Ls.length&&(Ls=[]),r=e(i),-1===Ls.indexOf(i)&&function(e){var t=zs.length;for(;t;)if(zs[--t]._value===e._value)return void zs.splice(t,1)}(t)),n.resolve(r)}catch(a){n.reject(a)}finally{Us=null,0===--Vs&&uc(),--n.psd.ref||n.psd.finalize()}}function nc(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,a,o=e._value;null!=o?(i=o.name||"Error",a=o.message||o,r=is(o,0)):(i=o,a=""),t.push(i+(a?": "+a:"")+r)}return Ju&&((r=is(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&nc(e._prev,t,n)),t}function rc(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function ic(){ac()&&oc()}function ac(){var e=Is;return Is=!1,Bs=!1,e}function oc(){var e,t,n;do{for(;$s.length>0;)for(e=$s,$s=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while($s.length>0);Is=!0,Bs=!0}function uc(){var e=zs;zs=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Gs.slice(0),n=t.length;n;)t[--n]()}function sc(e){return new Ys(Ss,!1,e)}function cc(e,t){var n=Hs;return function(){var r=ac(),i=Hs;try{return _c(n,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{_c(i,!1),r&&oc()}}}Eu(Ys.prototype,{then:Ks,_then:function(e,t){ec(this,new Xs(null,null,e,t,Hs))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"===typeof t?this.then(null,(function(e){return e instanceof t?n(e):sc(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):sc(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),sc(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Ms=!0;var e=nc(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Ms=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Ys((function(r,i){var a=setTimeout((function(){return i(new ps.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,a))})):this}}),"undefined"!==typeof Symbol&&Symbol.toStringTag&&Su(Ys.prototype,Symbol.toStringTag,"Dexie.Promise"),Ws.env=kc(),Eu(Ys,{all:function(){var e=Qu.apply(null,arguments).map(bc);return new Ys((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,a){return Ys.resolve(i).then((function(n){e[a]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Ys)return e;if(e&&"function"===typeof e.then)return new Ys((function(t,n){e.then(t,n)}));var t=new Ys(Ss,!0,e);return rc(t,Us),t},reject:sc,race:function(){var e=Qu.apply(null,arguments).map(bc);return new Ys((function(t,n){e.map((function(e){return Ys.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Hs},set:function(e){return Hs=e}},totalEchoes:{get:function(){return pc}},newPSD:mc,usePSD:Ec,scheduler:{get:function(){return Rs},set:function(e){Rs=e}},rejectionMapper:{get:function(){return qs},set:function(e){qs=e}},follow:function(e,t){return new Ys((function(n,r){return mc((function(t,n){var r=Hs;r.unhandleds=[],r.onunhandled=n,r.finalize=xs((function(){var e=this;!function(e){function t(){e(),Gs.splice(Gs.indexOf(t),1)}Gs.push(t),++Vs,Rs((function(){0===--Vs&&uc()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),Fs&&(Fs.allSettled&&Su(Ys,"allSettled",(function(){var e=Qu.apply(null,arguments).map(bc);return new Ys((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return Ys.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),Fs.any&&"undefined"!==typeof AggregateError&&Su(Ys,"any",(function(){var e=Qu.apply(null,arguments).map(bc);return new Ys((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,a){return Ys.resolve(e).then((function(e){return t(e)}),(function(e){i[a]=e,--r||n(new AggregateError(i))}))}))}))})));var lc={awaits:0,echoes:0,id:0},fc=0,dc=[],hc=0,pc=0,vc=0;function mc(e,t,n,r){var i=Hs,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++vc;var o=Ws.env;a.env=Ps?{Promise:Ys,PromiseProp:{value:Ys,configurable:!0,writable:!0},all:Ys.all,race:Ys.race,allSettled:Ys.allSettled,any:Ys.any,resolve:Ys.resolve,reject:Ys.reject,nthen:Ac(o.nthen,a),gthen:Ac(o.gthen,a)}:{},t&&xu(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Ec(a,e,n,r);return 0===a.ref&&a.finalize(),u}function gc(){return lc.id||(lc.id=++fc),++lc.awaits,lc.echoes+=100,lc.id}function yc(){return!!lc.awaits&&(0===--lc.awaits&&(lc.id=0),lc.echoes=100*lc.awaits,!0)}function bc(e){return lc.echoes&&e&&e.constructor===Fs?(gc(),e.then((function(e){return yc(),e}),(function(e){return yc(),jc(e)}))):e}function xc(e){++pc,lc.echoes&&0!==--lc.echoes||(lc.echoes=lc.id=0),dc.push(Hs),_c(e,!0)}function wc(){var e=dc[dc.length-1];dc.pop(),_c(e,!1)}function _c(e,t){var n=Hs;if((t?!lc.echoes||hc++&&e===Hs:!hc||--hc&&e===Hs)||Oc(t?xc.bind(null,e):wc),e!==Hs&&(Hs=e,n===Ws&&(Ws.env=kc()),Ps)){var r=Ws.env.Promise,i=e.env;Ds.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(gu,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function kc(){var e=gu.Promise;return Ps?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(gu,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ds.then,gthen:e.prototype.then}:{}}function Ec(e,t,n,r,i){var a=Hs;try{return _c(e,!0),t(n,r,i)}finally{_c(a,!1)}}function Oc(e){Ts.call(Cs,e)}function Sc(e,t,n,r){return"function"!==typeof e?e:function(){var i=Hs;n&&gc(),_c(t,!0);try{return e.apply(this,arguments)}finally{_c(i,!1),r&&Oc(yc)}}}function Ac(e,t){return function(n,r){return e.call(this,Sc(n,t),Sc(r,t))}}-1===(""+Ts).indexOf("[native code]")&&(gc=yc=gs);var Cc="unhandledrejection";function Dc(e,t){var n;try{n=t.onuncatched(e)}catch(a){}if(!1!==n)try{var r,i={promise:t,reason:e};if(gu.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Cc,!0,!0),xu(r,i)):gu.CustomEvent&&xu(r=new CustomEvent(Cc,{detail:i}),i),r&&gu.dispatchEvent&&(dispatchEvent(r),!gu.PromiseRejectionEvent&&gu.onunhandledrejection))try{gu.onunhandledrejection(r)}catch(o){}Ju&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(a){}}var jc=Ys.reject;function Tc(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Hs.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create()}catch(a){return jc(a)}return i._promise(t,(function(e,t){return mc((function(){return Hs.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(e._state.openComplete)return jc(new ps.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return jc(new ps.DatabaseClosed);e.open().catch(gs)}return e._state.dbReadyPromise.then((function(){return Tc(e,t,n,r)}))}var Fc="3.2.0",Pc=String.fromCharCode(65535),Mc=-1/0,Nc="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Rc="String expected.",Ic=[],Bc="undefined"!==typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),zc=Bc,Lc=Bc,Uc=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},qc="__dbnames",Wc="readonly",Hc="readwrite";function $c(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Vc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Gc(e){return"string"!==typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=Hu(t))[e],t}}var Yc=function(){function e(){au(this,e)}return uu(e,[{key:"_trans",value:function(e,t,n){var r=this._tx||Hs.trans,i=this.name;function a(e,n,r){if(!r.schema[i])throw new ps.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var o=ac();try{return r&&r.db===this.db?r===Hs.trans?r._promise(e,a,n):mc((function(){return r._promise(e,a,n)}),{trans:r,transless:Hs.transless||Hs}):Tc(this.db,e,[this.name],a)}finally{o&&oc()}}},{key:"get",value:function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)}},{key:"where",value:function(e){if("string"===typeof e)return new this.db.WhereClause(this,e);if(bu(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=yu(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==Pc)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&Ju&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a ")+"compound index [".concat(t.join("+"),"]"));var r=this.schema.idxByName,i=this.db._deps.indexedDB;function a(e,t){try{return 0===i.cmp(e,t)}catch(n){return!1}}var o=t.reduce((function(t,n){var i=D(t,2),o=i[0],u=i[1],s=r[n],c=e[n];return[o||s,o||!s?$c(u,s&&s.multi?function(e){var t=Ru(e,n);return bu(t)&&t.some((function(e){return a(c,e)}))}:function(e){return a(c,Ru(e,n))}):u]}),[null,null]),u=D(o,2),s=u[0],c=u[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")}},{key:"filter",value:function(e){return this.toCollection().and(e)}},{key:"count",value:function(e){return this.toCollection().count(e)}},{key:"offset",value:function(e){return this.toCollection().offset(e)}},{key:"limit",value:function(e){return this.toCollection().limit(e)}},{key:"each",value:function(e){return this.toCollection().each(e)}},{key:"toArray",value:function(e){return this.toCollection().toArray(e)}},{key:"toCollection",value:function(){return new this.db.Collection(new this.db.WhereClause(this))}},{key:"orderBy",value:function(e){return new this.db.Collection(new this.db.WhereClause(this,bu(e)?"[".concat(e.join("+"),"]"):e))}},{key:"reverse",value:function(){return this.toCollection().reverse()}},{key:"mapToClass",value:function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(ku(t,r))try{n[r]=t[r]}catch(i){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}},{key:"defineClass",value:function(){return this.mapToClass((function(e){xu(this,e)}))}},{key:"add",value:function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,o=e;return a&&i&&(o=Gc(a)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]})})).then((function(e){return e.numFailures?Ys.reject(e.failures[0]):e.lastResult})).then((function(t){if(a)try{Iu(e,a,t)}catch(n){}return t}))}},{key:"update",value:function(e,t){if("object"!==typeof e||bu(e))return this.where(":id").equals(e).modify(t);var n=Ru(e,this.schema.primKey.keyPath);if(void 0===n)return jc(new ps.InvalidArgument("Given object does not contain its primary key"));try{"function"!==typeof t?yu(t).forEach((function(n){Iu(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(r){}return this.where(":id").equals(n).modify(t)}},{key:"put",value:function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,o=e;return a&&i&&(o=Gc(a)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Ys.reject(e.failures[0]):e.lastResult})).then((function(t){if(a)try{Iu(e,a,t)}catch(n){}return t}))}},{key:"delete",value:function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Ys.reject(e.failures[0]):void 0}))}},{key:"clear",value:function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Vc})})).then((function(e){return e.numFailures?Ys.reject(e.failures[0]):void 0}))}},{key:"bulkGet",value:function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))}},{key:"bulkAdd",value:function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,o=n.auto,u=n.keyPath;if(u&&i)throw new ps.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ps.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,c=u&&o?e.map(Gc(u)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:c,wantResults:a}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,o=e.failures;if(0===t)return a?n:i;throw new fs("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(s," operations failed"),o)}))}))}},{key:"bulkPut",value:function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,o=n.auto,u=n.keyPath;if(u&&i)throw new ps.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ps.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,c=u&&o?e.map(Gc(u)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:c,wantResults:a}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,o=e.failures;if(0===t)return a?n:i;throw new fs("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(s," operations failed"),o)}))}))}},{key:"bulkDelete",value:function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult,a=e.failures;if(0===r)return i;throw new fs("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),a)}))}}]),e}();function Kc(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,a=new Array(i-1);--i;)a[i-1]=arguments[i];return t[n].subscribe.apply(null,a),e}if("string"===typeof n)return t[n]};n.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return n;function a(e,r,i){if("object"===typeof e)return o(e);r||(r=Es),i||(i=gs);var a={subscribers:[],fire:i,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,i)}};return t[e]=n[e]=a,a}function o(e){yu(e).forEach((function(t){var n=e[t];if(bu(n))a(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new ps.InvalidArgument("Invalid event config");var r=a(t,ys,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){Mu((function(){e.apply(null,t)}))}))}))}}))}}function Xc(e,t){return Au(t).from({prototype:e}),t}function Qc(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Zc(e,t){e.filter=$c(e.filter,t)}function Jc(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return $c(r(),t())}:t,e.justLimit=n&&!r}function el(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ps.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function tl(e,t,n){var r=el(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function nl(e,t,n,r){var i=e.replayFilter?$c(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},o=function(e,n,r){if(!i||i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var o=n.primaryKey,u=""+o;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(o)),ku(a,u)||(a[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(o,n),rl(tl(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return rl(tl(e,r,n),$c(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function rl(e,t,n,r){var i=r?function(e,t,i){return n(r(e),t,i)}:n,a=cc(i);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=gs}),(function(t){e.fail(t),n=gs}))||a(e.value,e,(function(e){return n=e})),n()}))}))}function il(e,t){try{var n=al(e),r=al(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return n===r?0:n<r?-1:1}(ol(e),ol(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a){var o=il(e[a],t[a]);if(0!==o)return o}return n===r?0:n<r?-1:1}(e,t)}}catch(i){}return NaN}function al(e){var t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=Gu(e);return"ArrayBuffer"===n?"binary":n}function ol(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var ul=function(){function e(){au(this,e)}return uu(e,[{key:"_read",value:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,jc.bind(null,n.error)):n.table._trans("readonly",e).then(t)}},{key:"_write",value:function(e){var t=this._ctx;return t.error?t.table._trans(null,jc.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}},{key:"_addAlgorithm",value:function(e){var t=this._ctx;t.algorithm=$c(t.algorithm,e)}},{key:"_iterate",value:function(e,t){return nl(this._ctx,e,t,this._ctx.table.core)}},{key:"clone",value:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&xu(n,e),t._ctx=n,t}},{key:"raw",value:function(){return this._ctx.valueMapper=null,this}},{key:"each",value:function(e){var t=this._ctx;return this._read((function(n){return nl(t,e,n,t.table.core)}))}},{key:"count",value:function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(Qc(n,!0))return r.count({trans:e,query:{index:el(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return nl(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)}},{key:"sortBy",value:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function u(e,t){var n=a(e,i),r=a(t,i);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(u)})).then(t)}},{key:"toArray",value:function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&Qc(n,!0)&&n.limit>0){var r=n.valueMapper,i=el(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var a=[];return nl(n,(function(e){return a.push(e)}),e,n.table.core).then((function(){return a}))}),e)}},{key:"offset",value:function(e){var t=this._ctx;return e<=0||(t.offset+=e,Qc(t)?Jc(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Jc(t,(function(){var t=e;return function(){return--t<0}}))),this}},{key:"limit",value:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Jc(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}},{key:"until",value:function(e,t){return Zc(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}},{key:"first",value:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}},{key:"last",value:function(e){return this.reverse().first(e)}},{key:"filter",value:function(e){var t,n;return Zc(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=$c(t.isMatch,n),this}},{key:"and",value:function(e){return this.filter(e)}},{key:"or",value:function(e){return new this.db.WhereClause(this._ctx.table,e,this)}},{key:"reverse",value:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}},{key:"desc",value:function(){return this.reverse()}},{key:"eachKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}},{key:"eachUniqueKey",value:function(e){return this._ctx.unique="unique",this.eachKey(e)}},{key:"eachPrimaryKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}},{key:"keys",value:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}},{key:"primaryKeys",value:function(e){var t=this._ctx;if("next"===t.dir&&Qc(t,!0)&&t.limit>0)return this._read((function(e){var n=el(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}},{key:"uniqueKeys",value:function(e){return this._ctx.unique="unique",this.keys(e)}},{key:"firstKey",value:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}},{key:"lastKey",value:function(e){return this.reverse().firstKey(e)}},{key:"distinct",value:function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Zc(this._ctx,(function(e){var t=e.primaryKey.toString(),r=ku(n,t);return n[t]=!0,!r})),this}},{key:"modify",value:function(e){var t=this,n=this._ctx;return this._write((function(r){var i;if("function"===typeof e)i=e;else{var a=yu(e),o=a.length;i=function(t){for(var n=!1,r=0;r<o;++r){var i=a[r],u=e[i];Ru(t,i)!==u&&(Iu(t,i,u),n=!0)}return n}}var u=n.table.core,s=u.schema.primaryKey,c=s.outbound,l=s.extractKey,f=t.db._options.modifyChunkSize||200,d=[],h=0,p=[],v=function(e,t){var n=t.failures,r=t.numFailures;h+=e-r;var i,a=S(yu(n));try{for(a.s();!(i=a.n()).done;){var o=i.value;d.push(n[o])}}catch(u){a.e(u)}finally{a.f()}};return t.clone().primaryKeys().then((function(t){return function a(o){var s=Math.min(f,t.length-o);return u.getMany({trans:r,keys:t.slice(o,o+s),cache:"immutable"}).then((function(d){for(var h=[],p=[],m=c?[]:null,g=[],y=0;y<s;++y){var b=d[y],x={value:Hu(b),primKey:t[o+y]};!1!==i.call(x,x.value,x)&&(null==x.value?g.push(t[o+y]):c||0===il(l(b),l(x.value))?(p.push(x.value),c&&m.push(t[o+y])):(g.push(t[o+y]),h.push(x.value)))}var w=Qc(n)&&n.limit===1/0&&("function"!==typeof e||e===sl)&&{index:n.index,range:n.range};return Promise.resolve(h.length>0&&u.mutate({trans:r,type:"add",values:h}).then((function(e){for(var t in e.failures)g.splice(parseInt(t),1);v(h.length,e)}))).then((function(){return(p.length>0||w&&"object"===typeof e)&&u.mutate({trans:r,type:"put",keys:m,values:p,criteria:w,changeSpec:"function"!==typeof e&&e}).then((function(e){return v(p.length,e)}))})).then((function(){return(g.length>0||w&&e===sl)&&u.mutate({trans:r,type:"delete",keys:g,criteria:w}).then((function(e){return v(g.length,e)}))})).then((function(){return t.length>o+s&&a(o+f)}))}))}(0).then((function(){if(d.length>0)throw new ls("Error modifying one or more objects",d,h,p);return t.length}))}))}))}},{key:"delete",value:function(){var e=this._ctx,t=e.range;return Qc(e)&&(e.isPrimKey&&!Lc||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new ls("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(sl)}}]),e}(),sl=function(e,t){return t.value=null};function cl(e,t){return e<t?-1:e===t?0:1}function ll(e,t){return e>t?-1:e===t?0:1}function fl(e,t,n){var r=e instanceof gl?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function dl(e){return new e.Collection(e,(function(){return ml("")})).limit(0)}function hl(e,t,n,r,i,a){for(var o=Math.min(e.length,r.length),u=-1,s=0;s<o;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)<0&&(u=s)}return o<r.length&&"next"===a?e+n.substr(e.length):o<e.length&&"prev"===a?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function pl(e,t,n,r){var i,a,o,u,s,c,l,f=n.length;if(!n.every((function(e){return"string"===typeof e})))return fl(e,Rc);function d(e){i=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),o="next"===e?cl:ll;var t=n.map((function(e){return{lower:a(e),upper:i(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}d("next");var h=new e.Collection(e,(function(){return vl(u[0],s[f-1]+r)}));h._ondirectionchange=function(e){d(e)};var p=0;return h._addAlgorithm((function(e,n,r){var i=e.key;if("string"!==typeof i)return!1;var d=a(i);if(t(d,s,p))return!0;for(var h=null,v=p;v<f;++v){var m=hl(i,d,u[v],s[v],o,c);null===m&&null===h?p=v+1:(null===h||o(h,m)>0)&&(h=m)}return n(null!==h?function(){e.continue(h+l)}:r),!1})),h}function vl(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function ml(e){return{type:1,lower:e,upper:e}}var gl=function(){function e(){au(this,e)}return uu(e,[{key:"Collection",get:function(){return this._ctx.table.db.Collection}},{key:"between",value:function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?dl(this):new this.Collection(this,(function(){return vl(e,t,!n,!r)}))}catch(i){return fl(this,Nc)}}},{key:"equals",value:function(e){return null==e?fl(this,Nc):new this.Collection(this,(function(){return ml(e)}))}},{key:"above",value:function(e){return null==e?fl(this,Nc):new this.Collection(this,(function(){return vl(e,void 0,!0)}))}},{key:"aboveOrEqual",value:function(e){return null==e?fl(this,Nc):new this.Collection(this,(function(){return vl(e,void 0,!1)}))}},{key:"below",value:function(e){return null==e?fl(this,Nc):new this.Collection(this,(function(){return vl(void 0,e,!1,!0)}))}},{key:"belowOrEqual",value:function(e){return null==e?fl(this,Nc):new this.Collection(this,(function(){return vl(void 0,e)}))}},{key:"startsWith",value:function(e){return"string"!==typeof e?fl(this,Rc):this.between(e,e+Pc,!0,!0)}},{key:"startsWithIgnoreCase",value:function(e){return""===e?this.startsWith(e):pl(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Pc)}},{key:"equalsIgnoreCase",value:function(e){return pl(this,(function(e,t){return e===t[0]}),[e],"")}},{key:"anyOfIgnoreCase",value:function(){var e=Qu.apply(Xu,arguments);return 0===e.length?dl(this):pl(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")}},{key:"startsWithAnyOfIgnoreCase",value:function(){var e=Qu.apply(Xu,arguments);return 0===e.length?dl(this):pl(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Pc)}},{key:"anyOf",value:function(){var e=this,t=Qu.apply(Xu,arguments),n=this._cmp;try{t.sort(n)}catch(a){return fl(this,Nc)}if(0===t.length)return dl(this);var r=new this.Collection(this,(function(){return vl(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,a){for(var o=e.key;n(o,t[i])>0;)if(++i===t.length)return r(a),!1;return 0===n(o,t[i])||(r((function(){e.continue(t[i])})),!1)})),r}},{key:"notEqual",value:function(e){return this.inAnyRange([[Mc,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}},{key:"noneOf",value:function(){var e=Qu.apply(Xu,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return fl(this,Nc)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[Mc,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}},{key:"inAnyRange",value:function(e,t){var n=this,r=this._cmp,i=this._ascending,a=this._descending,o=this._min,u=this._max;if(0===e.length)return dl(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return fl(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ps.InvalidArgument);var s=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;var l,f=i;function d(e,t){return f(e[0],t[0])}try{l=e.reduce((function(e,t){for(var n=0,i=e.length;n<i;++n){var a=e[n];if(r(t[0],a[1])<0&&r(t[1],a[0])>0){a[0]=o(a[0],t[0]),a[1]=u(a[1],t[1]);break}}return n===i&&e.push(t),e}),[]),l.sort(d)}catch(y){return fl(this,Nc)}var h=0,p=c?function(e){return i(e,l[h][1])>0}:function(e){return i(e,l[h][1])>=0},v=s?function(e){return a(e,l[h][0])>0}:function(e){return a(e,l[h][0])>=0};var m=p,g=new this.Collection(this,(function(){return vl(l[0][0],l[l.length-1][1],!s,!c)}));return g._ondirectionchange=function(e){"next"===e?(m=p,f=i):(m=v,f=a),l.sort(d)},g._addAlgorithm((function(e,t,r){for(var a=e.key;m(a);)if(++h===l.length)return t(r),!1;return!!function(e){return!p(e)&&!v(e)}(a)||(0===n._cmp(a,l[h][1])||0===n._cmp(a,l[h][0])||t((function(){f===i?e.continue(l[h][0]):e.continue(l[h][1])})),!1)})),g}},{key:"startsWithAnyOf",value:function(){var e=Qu.apply(Xu,arguments);return e.every((function(e){return"string"===typeof e}))?0===e.length?dl(this):this.inAnyRange(e.map((function(e){return[e,e+Pc]}))):fl(this,"startsWithAnyOf() only works with strings")}}]),e}();function yl(e){return cc((function(t){return bl(t),e(t.target.error),!1}))}function bl(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var xl="storagemutated",wl="x-storagemutated-1",_l=Kc(null,xl),kl=function(){function e(){au(this,e)}return uu(e,[{key:"_lock",value:function(){return Pu(!Hs.global),++this._reculock,1!==this._reculock||Hs.global||(Hs.lockOwnerFor=this),this}},{key:"_unlock",value:function(){if(Pu(!Hs.global),0===--this._reculock)for(Hs.global||(Hs.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ec(e[1],e[0])}catch(t){}}return this}},{key:"_locked",value:function(){return this._reculock&&Hs.lockOwnerFor!==this}},{key:"create",value:function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(Pu(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new ps.DatabaseClosed(r);case"MissingAPIError":throw new ps.MissingAPI(r.message,r);default:throw new ps.OpenFailed(r)}if(!this.active)throw new ps.TransactionInactive;return Pu(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=cc((function(n){bl(n),t._reject(e.error)})),e.onabort=cc((function(n){bl(n),t.active&&t._reject(new ps.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=cc((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&_l.storagemutated.fire(e.mutatedParts)})),this}},{key:"_promise",value:function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return jc(new ps.ReadOnly("Transaction is readonly"));if(!this.active)return jc(new ps.TransactionInactive);if(this._locked())return new Ys((function(i,a){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,a)},Hs])}));if(n)return mc((function(){var e=new Ys((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Ys((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i}},{key:"_root",value:function(){return this.parent?this.parent._root():this}},{key:"waitFor",value:function(e){var t=this._root(),n=Ys.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new Ys((function(e,r){n.then((function(n){return t._waitingQueue.push(cc(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(cc(r.bind(null,e)))})).finally((function(){t._waitingFor===i&&(t._waitingFor=null)}))}))}},{key:"abort",value:function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ps.Abort))}},{key:"table",value:function(e){var t=this._memoizedTables||(this._memoizedTables={});if(ku(t,e))return t[e];var n=this.schema[e];if(!n)throw new ps.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}]),e}();function El(e,t,n,r,i,a,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:a,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+Ol(t)}}function Ol(e){return"string"===typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Sl(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Nu(n,(function(e){return[e.name,e]}))}}var Al=function(e){try{return e.only([[]]),Al=function(){return[[]]},[[]]}catch(t){return Al=function(){return Pc},Pc}};function Cl(e){return null==e?function(){}:"string"===typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return Ru(t,e)}}(e):function(t){return Ru(t,e)}}function Dl(e){return[].slice.call(e)}var jl=0;function Tl(e){return null==e?":id":"string"===typeof e?e:"[".concat(e.join("+"),"]")}function Fl(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen,a=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!a):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!a)}var i=function(e,t){var n=Dl(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=bu(t),i=null==t,a={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Cl(t)},indexes:Dl(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,i=e.keyPath,o={name:t,compound:bu(i),keyPath:i,unique:n,multiEntry:r,extractKey:Cl(i)};return a[Tl(i)]=o,o})),getIndexByKeyPath:function(e){return a[Tl(e)]}};return a[":id"]=o.primaryKey,null!=t&&(a[Tl(t)]=o.primaryKey),o}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.schema,o=i.hasGetAll,u=a.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var n=e.trans,i=e.type,a=e.keys,o=e.values,u=e.range;return new Promise((function(e,s){e=cc(e);var c=n.objectStore(t),l=null==c.keyPath,f="put"===i||"add"===i;if(!f&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var d,h=(a||o||{length:1}).length;if(a&&o&&a.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var p=[],v=[],m=0,g=function(e){++m,bl(e)};if("deleteRange"===i){if(4===u.type)return e({numFailures:m,failures:v,results:[],lastResult:void 0});3===u.type?p.push(d=c.clear()):p.push(d=c.delete(r(u)))}else{var y=D(f?l?[o,a]:[o,null]:[a,null],2),b=y[0],x=y[1];if(f)for(var w=0;w<h;++w)p.push(d=x&&void 0!==x[w]?c[i](b[w],x[w]):c[i](b[w])),d.onerror=g;else for(var _=0;_<h;++_)p.push(d=c[i](b[_])),d.onerror=g}var k=function(t){var n=t.target.result;p.forEach((function(e,t){return null!=e.error&&(v[t]=e.error)})),e({numFailures:m,failures:v,results:"delete"===i?a:p.map((function(e){return e.result})),lastResult:n})};d.onerror=function(e){g(e),k(e)},d.onsuccess=k}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,i){e=cc(e);for(var a,o=n.objectStore(t),u=r.length,s=new Array(u),c=0,l=0,f=function(t){var n=t.target;s[n._pos]=n.result,++l===c&&e(s)},d=yl(i),h=0;h<u;++h)null!=r[h]&&((a=o.get(r[h]))._pos=h,a.onsuccess=f,a.onerror=d,++c);0===c&&e(s)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,i){e=cc(e);var a=n.objectStore(t).get(r);a.onsuccess=function(t){return e(t.target.result)},a.onerror=yl(i)}))},query:function(e){return function(n){return new Promise((function(i,a){i=cc(i);var o=n.trans,u=n.values,s=n.limit,c=n.query,l=s===1/0?void 0:s,f=c.index,d=c.range,h=o.objectStore(t),p=f.isPrimaryKey?h:h.index(f.name),v=r(d);if(0===s)return i({result:[]});if(e){var m=u?p.getAll(v,l):p.getAllKeys(v,l);m.onsuccess=function(e){return i({result:e.target.result})},m.onerror=yl(a)}else{var g=0,y=u||!("openKeyCursor"in p)?p.openCursor(v):p.openKeyCursor(v),b=[];y.onsuccess=function(e){var t=y.result;return t?(b.push(u?t.value:t.primaryKey),++g===s?i({result:b}):void t.continue()):i({result:b})},y.onerror=yl(a)}}))}}(o),openCursor:function(e){var n=e.trans,i=e.values,a=e.query,o=e.reverse,u=e.unique;return new Promise((function(e,s){e=cc(e);var c=a.index,l=a.range,f=n.objectStore(t),d=c.isPrimaryKey?f:f.index(c.name),h=o?u?"prevunique":"prev":u?"nextunique":"next",p=i||!("openKeyCursor"in d)?d.openCursor(r(l),h):d.openKeyCursor(r(l),h);p.onerror=yl(s),p.onsuccess=cc((function(t){var r=p.result;if(r){r.___id=++jl,r.done=!1;var i=r.continue.bind(r),a=r.continuePrimaryKey;a&&(a=a.bind(r));var o=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=cc(s),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=cc(e),p.onerror=yl(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,e(t)}})),n=function(){if(p.result)try{e()}catch(t){r.fail(t)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=cc((function(e){p.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=a,r.advance=o,n(),t},e(r)}else e(null)}),s)}))},count:function(e){var n=e.query,i=e.trans,a=n.index,o=n.range;return new Promise((function(e,n){var u=i.objectStore(t),s=a.isPrimaryKey?u:u.index(a.name),c=r(o),l=c?s.count(c):s.count();l.onsuccess=cc((function(t){return e(t.target.result)})),l.onerror=yl(n)}))}}}(e)})),s={};return u.forEach((function(e){return s[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!s[e])throw new Error("Table '".concat(e,"' not found"));return s[e]},MIN_KEY:-1/0,MAX_KEY:Al(t),schema:a}}function Pl(e,t,n,r){var i=n.IDBKeyRange,a=(n.indexedDB,function(e,t){return t.reduce((function(e,t){var n=t.create;return mu(mu({},e),n(e))}),e)}(Fl(t,i,r),e.dbcore));return{dbcore:a}}function Ml(e,t){var n=e._novip,r=t.db,i=Pl(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach((function(e){var t=e.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function Nl(e,t,n,r){var i=e._novip;n.forEach((function(e){var n=r[e];t.forEach((function(t){var r=Du(t,e);(!r||"value"in r&&void 0===r.value)&&(t===i.Transaction.prototype||t instanceof i.Transaction?Su(t,e,{get:function(){return this.table(e)},set:function(t){Ou(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new i.Table(e,n))}))}))}function Rl(e,t){var n=e._novip;t.forEach((function(e){for(var t in e)e[t]instanceof n.Table&&delete e[t]}))}function Il(e,t){return e._cfg.version-t._cfg.version}function Bl(e,t,n,r){var i=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,i);a.create(n),a._completion.catch(r);var o=a._reject.bind(a),u=Hs.transless||Hs;mc((function(){Hs.trans=a,Hs.transless=u,0===t?(yu(i).forEach((function(e){Ll(n,e,i[e].primKey,i[e].indexes)})),Ml(e,n),Ys.follow((function(){return e.on.populate.fire(a)})).catch(o)):function(e,t,n,r){var i=e._novip,a=[],o=i._versions,u=i._dbSchema=ql(i,i.idbdb,r),s=!1;function c(){return a.length?Ys.resolve(a.shift()(n.idbtrans)).then(c):Ys.resolve()}return o.filter((function(e){return e._cfg.version>=t})).forEach((function(e){a.push((function(){var a=u,o=e._cfg.dbschema;Wl(i,a,r),Wl(i,o,r),u=i._dbSchema=o;var c=zl(a,o);c.add.forEach((function(e){Ll(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((function(e){if(e.recreate)throw new ps.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return Ul(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),Ul(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=e._cfg.contentUpgrade;if(l&&e._cfg.version>t){Ml(i,r),n._memoizedTables={},s=!0;var f=Bu(o);c.del.forEach((function(e){f[e]=a[e]})),Rl(i,[i.Transaction.prototype]),Nl(i,[i.Transaction.prototype],yu(f),f),n.schema=f;var d,h=Zu(l);h&&gc();var p=Ys.follow((function(){if((d=l(n))&&h){var e=yc.bind(null,null);d.then(e,e)}}));return d&&"function"===typeof d.then?Ys.resolve(d):p.then((function(){return d}))}})),a.push((function(t){s&&zc||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}(e._cfg.dbschema,t);Rl(i,[i.Transaction.prototype]),Nl(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema}))})),c().then((function(){var e,t;t=r,yu(e=u).forEach((function(n){t.db.objectStoreNames.contains(n)||Ll(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,a,n).catch(o)}))}function zl(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],a=t[n];if(i){var o={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!==""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!Bc)o.recreate=!0,r.change.push(o);else{var u=i.idxByName,s=a.idxByName,c=void 0;for(c in u)s[c]||o.del.push(c);for(c in s){var l=u[c],f=s[c];l?l.src!==f.src&&o.change.push(f):o.add.push(f)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([n,a])}return r}function Ll(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return Ul(i,e)})),i}function Ul(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ql(e,t,n){var r={};return Tu(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),i=t.keyPath,a=El(Ol(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!==typeof i,!0),o=[],u=0;u<t.indexNames.length;++u){var s=t.index(t.indexNames[u]);i=s.keyPath;var c=El(s.name,i,!!s.unique,!!s.multiEntry,!1,i&&"string"!==typeof i,!1);o.push(c)}r[e]=Sl(e,a,o)})),r}function Wl(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,a=0;a<i.length;++a){var o=i[a],u=n.objectStore(o);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],l=u.index(c).keyPath,f="string"===typeof l?l:"["+Tu(l).join("+")+"]";if(t[o]){var d=t[o].idxByName[f];d&&(d.name=c,delete t[o].idxByName[f],t[o].idxByName[c]=d)}}}"undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&gu.WorkerGlobalScope&&gu instanceof gu.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}var Hl=function(){function e(){au(this,e)}return uu(e,[{key:"_parseStoresSpec",value:function(e,t){yu(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return El(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),bu(r),0===t)})),i=r.shift();if(i.multi)throw new ps.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new ps.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ps.Schema("Index must have a name and cannot be an empty string")})),t[n]=Sl(n,i,r)}}))}},{key:"stores",value:function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?xu(this._cfg.storesSource,e):e;var n=t._versions,r={},i={};return n.forEach((function(e){xu(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,Rl(t,[t._allTables,t,t.Transaction.prototype]),Nl(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],yu(i),i),t._storeNames=yu(i),this}},{key:"upgrade",value:function(e){return this._cfg.contentUpgrade=Os(this._cfg.contentUpgrade||gs,e),this}}]),e}();function $l(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new mf(qc,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Vl(e){return e&&"function"===typeof e.databases}function Gl(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Vl(n)&&t!==qc&&$l(n,r).delete(t).catch(gs)}function Yl(e){return mc((function(){return Hs.letThrough=!0,e()}))}function Kl(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Xl(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?jc(t.dbOpenError):e}));Ju&&(t.openCanceller._stackHolder=rs()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new ps.DatabaseClosed("db.open() was cancelled")}var a=t.dbReadyResolve,o=null,u=!1;return Ys.race([r,("undefined"===typeof navigator?Ys.resolve():Kl()).then((function(){return new Ys((function(r,a){if(i(),!n)throw new ps.MissingAPI;var s=e.name,c=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!c)throw new ps.MissingAPI;c.onerror=yl(a),c.onblocked=cc(e._fireOnBlocked),c.onupgradeneeded=cc((function(r){if(o=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=bl,o.abort(),c.result.close();var i=n.deleteDatabase(s);i.onsuccess=i.onerror=cc((function(){a(new ps.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{o.onerror=yl(a);var l=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=l<1,e._novip.idbdb=c.result,Bl(e,l/10,o,a)}}),a),c.onsuccess=cc((function(){o=null;var n,i=e._novip.idbdb=c.result,a=Tu(i.objectStoreNames);if(a.length>0)try{var l=i.transaction(1===(n=a).length?n[0]:n,"readonly");t.autoSchema?function(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=ql(0,t,n);r._storeNames=Tu(t.objectStoreNames,0),Nl(r,[r._allTables],yu(i),i)}(e,i,l):(Wl(e,e._dbSchema,l),function(e,t){var n=zl(ql(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ml(e,l)}catch(f){}Ic.push(e),i.onversionchange=cc((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),i.onclose=cc((function(t){e.on("close").fire(t)})),u&&function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Vl(n)&&t!==qc&&$l(n,r).put({name:t}).catch(gs)}(e._deps,s),r()}),a)}))}))]).then((function(){return i(),t.onReadyBeingFired=[],Ys.resolve(Yl((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(Os,gs);return t.onReadyBeingFired=[],Ys.resolve(Yl((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((function(){return e})).catch((function(n){t.dbOpenError=n;try{o&&o.abort()}catch(i){}return r===t.openCanceller&&e._close(),jc(n)})).finally((function(){t.openComplete=!0,a()}))}function Ql(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),a=i.value;return i.done?a:a&&"function"===typeof a.then?a.then(n,r):bu(a)?Promise.all(a).then(n,r):n(a)}}return i(t)()}function Zl(e,t,n){var r=arguments.length;if(r<2)throw new ps.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var a=Lu(i);return[e,a,n]}function Jl(e,t,n,r,i){return Ys.resolve().then((function(){var a=Hs.transless||Hs,o=e._createTransaction(t,n,e._dbSchema,r),u={trans:o,transless:a};r?o.idbtrans=r.idbtrans:o.create();var s,c=Zu(i);c&&gc();var l=Ys.follow((function(){if(s=i.call(o,o))if(c){var e=yc.bind(null,null);s.then(e,e)}else"function"===typeof s.next&&"function"===typeof s.throw&&(s=Ql(s))}),u);return(s&&"function"===typeof s.then?Ys.resolve(s).then((function(e){return o.active?e:jc(new ps.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return s}))).then((function(e){return r&&o._resolve(),o._completion.then((function(){return e}))})).catch((function(e){return o._reject(e),jc(e)}))}))}function ef(e,t,n){for(var r=bu(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var tf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return mu(mu({},e),{},{table:function(t){var n=e.table(t),r=n.schema,i={},a=[];function o(e,t,n){var r=Tl(e),u=i[r]=i[r]||[],s=null==e?0:"string"===typeof e?1:e.length,c=t>0,l=mu(mu({},n),{},{isVirtual:c,keyTail:t,keyLength:s,extractKey:Cl(e),unique:!c&&n.unique});(u.push(l),l.isPrimaryKey||a.push(l),s>1)&&o(2===s?e[0]:e.slice(0,s-1),t+1,n);return u.sort((function(e,t){return e.keyTail-t.keyTail})),l}var u=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];var s,c=S(r.indexes);try{for(c.s();!(s=c.n()).done;){var l=s.value;o(l.keyPath,0,l)}}catch(p){c.e(p)}finally{c.f()}function f(t,n){return{type:1===t.type?2:t.type,lower:ef(t.lower,t.lowerOpen?e.MAX_KEY:e.MIN_KEY,n),lowerOpen:!0,upper:ef(t.upper,t.upperOpen?e.MIN_KEY:e.MAX_KEY,n),upperOpen:!0}}function d(e){var t=e.query.index;return t.isVirtual?mu(mu({},e),{},{query:{index:t,range:f(e.query.range,t.keyTail)}}):e}var h=mu(mu({},n),{},{schema:mu(mu({},r),{},{primaryKey:u,indexes:a,getIndexByKeyPath:function(e){var t=i[Tl(e)];return t&&t[0]}}),count:function(e){return n.count(d(e))},query:function(e){return n.query(d(e))},openCursor:function(t){var r=t.query.index,i=r.keyTail,a=r.isVirtual,o=r.keyLength;if(!a)return n.openCursor(t);return n.openCursor(d(t)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(ef(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(ef(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:function(){return n.value}}});return r}(n)}))}});return h}})}};function nf(e,t,n,r){return n=n||{},r=r||"",yu(e).forEach((function(i){if(ku(t,i)){var a=e[i],o=t[i];if("object"===typeof a&&"object"===typeof o&&a&&o){var u=Gu(a);u!==Gu(o)?n[r+i]=t[i]:"Object"===u?nf(a,o,n,r+i+"."):a!==o&&(n[r+i]=t[i])}else a!==o&&(n[r+i]=t[i])}else n[r+i]=void 0})),yu(t).forEach((function(i){ku(e,i)||(n[r+i]=t[i])})),n}var rf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return mu(mu({},e),{},{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=mu(mu({},n),{},{mutate:function(e){var i=Hs.trans,a=i.table(t).hook,o=a.deleting,u=a.creating,s=a.updating;switch(e.type){case"add":if(u.fire===gs)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"put":if(u.fire===gs&&s.fire===gs)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"delete":if(o.fire===gs)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"deleteRange":if(o.fire===gs)break;return i._promise("readwrite",(function(){return function(e){return l(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function c(e){var t=Hs.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?mu(mu({},e),{},{keys:i}):mu({},e)).type&&(e.values=pu(e.values)),e.keys&&(e.keys=pu(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((function(a){var c=i.map((function(n,i){var c=a[i],l={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(l,n,c,t);else if("add"===e.type||void 0===c){var f=u.fire.call(l,n,e.values[i],t);null==n&&null!=f&&(n=f,e.keys[i]=n,r.outbound||Iu(e.values[i],r.keyPath,n))}else{var d=nf(c,e.values[i]),h=s.fire.call(l,d,n,c,t);if(h){var p=e.values[i];Object.keys(h).forEach((function(e){ku(p,e)?p[e]=h[e]:Iu(p,e,h[e])}))}}return l}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,o=t.numFailures,u=t.lastResult,s=0;s<i.length;++s){var l=r?r[s]:i[s],f=c[s];null==l?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===e.type&&a[s]?e.values[s]:l)}return{failures:n,results:r,numFailures:o,lastResult:u}})).catch((function(e){return c.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function l(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((function(n){var r=n.result;return c({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:l(e,mu(mu({},t),{},{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}});return i}})}};function af(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,a=0;i<t.keys.length&&a<e.length;++i)0===il(t.keys[i],e[a])&&(r.push(n?Hu(t.values[i]):t.values[i]),++a);return r.length===e.length?r:null}catch(o){return null}}var of={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return mu(mu({},n),{},{getMany:function(e){if(!e.cache)return n.getMany(e);var t=af(e.keys,e.trans._cache,"clone"===e.cache);return t?Ys.resolve(t):n.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?Hu(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}};function uf(e){return!("from"in e)}var sf=function e(t,n){if(!this){var r=new e;return t&&"d"in t&&xu(r,t),r}xu(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0})};function cf(e,t,n){var r=il(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(uf(e))return xu(e,{from:t,to:n,d:1});var i=e.l,a=e.r;if(il(n,e.from)<0)return i?cf(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},df(e);if(il(t,e.to)>0)return a?cf(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},df(e);il(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),il(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var o=!e.r;i&&!e.l&&lf(e,i),a&&o&&lf(e,a)}}function lf(e,t){uf(t)||function e(t,n){var r=n.from,i=n.to,a=n.l,o=n.r;cf(t,r,i),a&&e(t,a),o&&e(t,o)}(e,t)}function ff(e){var t=uf(e)?null:{s:0,n:e};return{next:function(e){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&il(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||il(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function df(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var a="r"===i?"l":"r",o=mu({},e),u=e[i];e.from=u.from,e.to=u.to,e[i]=u[i],o[i]=u[a],e[a]=o,o.d=hf(o)}e.d=hf(e)}function hf(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}Eu(sf.prototype,du({add:function(e){return lf(this,e),this},addKey:function(e){return cf(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return cf(t,e,e)})),this}},Yu,(function(){return ff(this)})));var pf={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new sf(e.MIN_KEY,e.MAX_KEY);return mu(mu({},e),{},{table:function(r){var i=e.table(r),a=i.schema,o=a.primaryKey,u=o.extractKey,s=o.outbound,c=mu(mu({},i),{},{mutate:function(e){var o=e.trans,u=o.mutatedParts||(o.mutatedParts={}),s=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return u[n]||(u[n]=new sf)},c=s(""),l=s(":dels"),f=e.type,d=D("deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],2),h=d[0],p=d[1],v=e.trans._cache;return i.mutate(e).then((function(e){if(bu(h)){"delete"!==f&&(h=e.results),c.addKeys(h);var t=af(h,v);t||"add"===f||l.addKeys(h),(t||p)&&function(e,t,n,r){function i(t){var i=e(t.name||"");function a(e){return null!=e?t.extractKey(e):null}var o=function(e){return t.multiEntry&&bu(e)?e.forEach((function(e){return i.addKey(e)})):i.addKey(e)};(n||r).forEach((function(e,t){var i=n&&a(n[t]),u=r&&a(r[t]);0!==il(i,u)&&(null!=i&&o(i),null!=u&&o(u))}))}t.indexes.forEach(i)}(s,a,t,p)}else if(h){var r={from:h.lower,to:h.upper};l.add(r),c.add(r)}else c.add(n),l.add(n),a.indexes.forEach((function(e){return s(e.name).add(n)}));return e}))}}),l=function(t){var n,r,i=t.query,a=i.index,o=i.range;return[a,new sf(null!==(n=o.lower)&&void 0!==n?n:e.MIN_KEY,null!==(r=o.upper)&&void 0!==r?r:e.MAX_KEY)]},f={get:function(e){return[o,new sf(e.key)]},getMany:function(e){return[o,(new sf).addKeys(e.keys)]},count:l,query:l,openCursor:l};return yu(f).forEach((function(e){c[e]=function(a){var o=Hs,c=o.subscr;if(c){var l=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return c[n]||(c[n]=new sf)},d=l(""),h=l(":dels"),p=f[e](a),v=D(p,2),m=v[0],g=v[1];if(l(m.name||"").add(g),!m.isPrimaryKey){if("count"!==e){var y="query"===e&&s&&a.values&&i.query(mu(mu({},a),{},{values:!1}));return i[e].apply(this,arguments).then((function(t){if("query"===e){if(s&&a.values)return y.then((function(e){var n=e.result;return d.addKeys(n),t}));var n=a.values?t.result.map(u):t.result;a.values?d.addKeys(n):h.addKeys(n)}else if("openCursor"===e){var r=t,i=a.values;return r&&Object.create(r,{key:{get:function(){return h.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return h.addKey(e),e}},value:{get:function(){return i&&d.addKey(r.primaryKey),r.value}}})}return t}))}h.add(n)}}return i[e].apply(this,arguments)}})),c}})}};var vf,mf=function(){function e(t,n){var r=this;au(this,e),this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=mu({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:gs,dbReadyPromise:null,cancelOpen:gs,openCanceller:null,autoSchema:!0};o.dbReadyPromise=new Ys((function(e){o.dbReadyResolve=e})),o.openCanceller=new Ys((function(e,t){o.cancelOpen=t})),this._state=o,this.name=t,this.on=Kc(this,"populate","blocked","versionchange","close",{ready:[Os,gs]}),this.on.ready.subscribe=Fu(this.on.ready.subscribe,(function(t){return function(n,i){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||Ys.resolve().then(n),i&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),i&&t(n);else{t(n);var a=r;i||t((function e(){a.on.ready.unsubscribe(n),a.on.ready.unsubscribe(e)}))}}))}})),this.Collection=function(e){return Xc(ul.prototype,(function(t,n){this.db=e;var r=Vc,i=null;if(n)try{r=n()}catch(s){i=s}var a=t._ctx,o=a.table,u=o.hook.reading.fire;this._ctx={table:o,index:a.index,isPrimKey:!a.index||o.schema.primKey.keyPath&&a.index===o.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:a.or,valueMapper:u!==ys?u:null}}))}(this),this.Table=function(e){return Xc(Yc.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Kc(null,{creating:[ws,gs],reading:[bs,ys],updating:[ks,gs],deleting:[_s,gs]})}))}(this),this.Transaction=function(e){return Xc(kl.prototype,(function(t,n,r,i,a){var o=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Kc(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ys((function(e,t){o._resolve=e,o._reject=t})),this._completion.then((function(){o.active=!1,o.on.complete.fire()}),(function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),jc(e)}))}))}(this),this.Version=function(e){return Xc(Hl.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Xc(gl.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var i=e._deps.indexedDB;if(!i)throw new ps.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(e,t){return i.cmp(t,e)},this._max=function(e,t){return i.cmp(e,t)>0?e:t},this._min=function(e,t){return i.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=Al(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),Ic.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(tf),this.use(rf),this.use(pf),this.use(of),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach((function(e){return e(r)}))}return uu(e,[{key:"version",value:function(e){if(isNaN(e)||e<.1)throw new ps.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ps.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Il),n.stores({}),this._state.autoSchema=!1,n)}},{key:"_whenReady",value:function(e){var t=this;return this.idbdb&&(this._state.openComplete||Hs.letThrough||this._vip)?e():new Ys((function(e,n){if(t._state.openComplete)return n(new ps.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new ps.DatabaseClosed);t.open().catch(gs)}t._state.dbReadyPromise.then(e,n)})).then(e)}},{key:"use",value:function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;i&&this.unuse({stack:t,name:i});var a=this._middlewares[t]||(this._middlewares[t]=[]);return a.push({stack:t,create:n,level:null==r?10:r,name:i}),a.sort((function(e,t){return e.level-t.level})),this}},{key:"unuse",value:function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this}},{key:"open",value:function(){return Xl(this)}},{key:"_close",value:function(){var e=this._state,t=Ic.indexOf(this);if(t>=0&&Ic.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new Ys((function(t){e.dbReadyResolve=t})),e.openCanceller=new Ys((function(t,n){e.cancelOpen=n}))}},{key:"close",value:function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ps.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}},{key:"delete",value:function(){var e=this,t=arguments.length>0,n=this._state;return new Ys((function(r,i){var a=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=cc((function(){Gl(e._deps,e.name),r()})),t.onerror=yl(i),t.onblocked=e._fireOnBlocked};if(t)throw new ps.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(a):a()}))}},{key:"backendDB",value:function(){return this.idbdb}},{key:"isOpen",value:function(){return null!==this.idbdb}},{key:"hasBeenClosed",value:function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}},{key:"hasFailed",value:function(){return null!==this._state.dbOpenError}},{key:"dynamicallyOpened",value:function(){return this._state.autoSchema}},{key:"tables",get:function(){var e=this;return yu(this._allTables).map((function(t){return e._allTables[t]}))}},{key:"transaction",value:function(){var e=Zl.apply(this,arguments);return this._transaction.apply(this,e)}},{key:"_transaction",value:function(e,t,n){var r=this,i=Hs.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var a,o,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(o=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!==typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Wc)a=Wc;else{if("rw"!=e&&e!=Hc)throw new ps.InvalidArgument("Invalid transaction mode: "+e);a=Hc}if(i){if(i.mode===Wc&&a===Hc){if(!u)throw new ps.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!u)throw new ps.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),u&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,(function(e,t){t(c)})):jc(c)}var s=Jl.bind(null,this,a,o,i,n);return i?i._promise(a,s,"lock"):Hs.trans?Ec(Hs.transless,(function(){return r._whenReady(s)})):this._whenReady(s)}},{key:"table",value:function(e){if(!ku(this._allTables,e))throw new ps.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}]),e}(),gf="undefined"!==typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",yf=function(){function e(t){au(this,e),this._subscribe=t}return uu(e,[{key:"subscribe",value:function(e,t,n){return this._subscribe(e&&"function"!==typeof e?e:{next:e,error:t,complete:n})}},{key:gf,value:function(){return this}}]),e}();function bf(e,t){return yu(t).forEach((function(n){lf(e[n]||(e[n]=new sf),t[n])})),e}try{vf={indexedDB:gu.indexedDB||gu.mozIndexedDB||gu.webkitIndexedDB||gu.msIndexedDB,IDBKeyRange:gu.IDBKeyRange||gu.webkitIDBKeyRange}}catch(Xwe){vf={indexedDB:null,IDBKeyRange:null}}var xf=mf;function wf(e){var t=_f;try{_f=!0,_l.storagemutated.fire(e)}finally{_f=t}}Eu(xf,mu(mu({},ms),{},{delete:function(e){return new xf(e,{addons:[]}).delete()},exists:function(e){return new xf(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function(e){var t=e.indexedDB,n=e.IDBKeyRange;return Vl(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==qc}))})):$l(t,n).toCollection().primaryKeys()}(xf.dependencies).then(e)}catch(t){return jc(new ps.MissingAPI)}},defineClass:function(){return function(e){xu(this,e)}},ignoreTransaction:function(e){return Hs.trans?Ec(Hs.transless,e):e()},vip:Yl,async:function(e){return function(){try{var t=Ql(e.apply(this,arguments));return t&&"function"===typeof t.then?t:Ys.resolve(t)}catch(Xwe){return jc(Xwe)}}},spawn:function(e,t,n){try{var r=Ql(e.apply(n,t||[]));return r&&"function"===typeof r.then?r:Ys.resolve(r)}catch(Xwe){return jc(Xwe)}},currentTransaction:{get:function(){return Hs.trans||null}},waitFor:function(e,t){var n=Ys.resolve("function"===typeof e?xf.ignoreTransaction(e):e).timeout(t||6e4);return Hs.trans?Hs.trans.waitFor(n):n},Promise:Ys,debug:{get:function(){return Ju},set:function(e){es(e,"dexie"===e?function(){return!0}:Uc)}},derive:Au,extend:xu,props:Eu,override:Fu,Events:Kc,on:_l,liveQuery:function(e){return new yf((function(t){var n=Zu(e);var r=!1,i={},a={},o={get closed(){return r},unsubscribe:function(){r=!0,_l.storagemutated.unsubscribe(l)}};t.start&&t.start(o);var u=!1,s=!1;function c(){return yu(a).some((function(e){return i[e]&&function(e,t){var n=ff(t),r=n.next();if(r.done)return!1;for(var i=r.value,a=ff(e),o=a.next(i.from),u=o.value;!r.done&&!o.done;){if(il(u.from,i.to)<=0&&il(u.to,i.from)>=0)return!0;il(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(o=a.next(i.from)).value}return!1}(i[e],a[e])}))}var l=function(e){bf(i,e),c()&&f()},f=function f(){if(!u&&!r){i={};var d={},h=function(t){n&&gc();var r=function(){return mc(e,{subscr:t,trans:null})},i=Hs.trans?Ec(Hs.transless,r):r();return n&&i.then(yc,yc),i}(d);s||(_l(xl,l),s=!0),u=!0,Promise.resolve(h).then((function(e){u=!1,r||(c()?f():(i={},a=d,t.next&&t.next(e)))}),(function(e){u=!1,t.error&&t.error(e),o.unsubscribe()}))}};return f(),o}))},extendObservabilitySet:bf,getByKeyPath:Ru,setByKeyPath:Iu,delByKeyPath:function(e,t){"string"===typeof t?Iu(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Iu(e,t,void 0)}))},shallowClone:Bu,deepClone:Hu,getObjectDiff:nf,cmp:il,asap:Mu,minKey:Mc,addons:[],connections:Ic,errnames:ds,dependencies:vf,semVer:Fc,version:Fc.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),xf.maxKey=Al(xf.dependencies.IDBKeyRange),"undefined"!==typeof dispatchEvent&&"undefined"!==typeof addEventListener&&(_l(xl,(function(e){var t;_f||(Bc?(t=document.createEvent("CustomEvent")).initCustomEvent(wl,!0,!0,e):t=new CustomEvent(wl,{detail:e}),_f=!0,dispatchEvent(t),_f=!1)})),addEventListener(wl,(function(e){var t=e.detail;_f||wf(t)})));var _f=!1;if("undefined"!==typeof BroadcastChannel){var kf=new BroadcastChannel(wl);_l(xl,(function(e){_f||kf.postMessage(e)})),kf.onmessage=function(e){e.data&&wf(e.data)}}else if("undefined"!==typeof self&&"undefined"!==typeof navigator){_l(xl,(function(e){try{_f||("undefined"!==typeof localStorage&&localStorage.setItem(wl,JSON.stringify({trig:Math.random(),changedParts:e})),"object"===typeof self.clients&&pu(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){return t.postMessage({type:wl,changedParts:e})})))}catch(t){}})),addEventListener("storage",(function(e){if(e.key===wl){var t=JSON.parse(e.newValue);t&&wf(t.changedParts)}}));var Ef=self.document&&navigator.serviceWorker;Ef&&Ef.addEventListener("message",(function(e){var t=e.data;t&&t.type===wl&&wf(t.changedParts)}))}Ys.rejectionMapper=function(e,t){if(!e||e instanceof ss||e instanceof TypeError||e instanceof SyntaxError||!e.name||!vs[e.name])return e;var n=new vs[e.name](t||e.message,e);return"stack"in e&&Su(n,"stack",{get:function(){return this.inner.stack}}),n},es(Ju,Uc);var Of=n(2575),Sf=n(3017),Af=function(){function e(){au(this,e),this.setIDB()}return uu(e,[{key:"setIDB",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.idb=e?new mf("DigitalFootprintDB",{indexedDB:Of,IDBKeyRange:Sf}):new mf("DigitalFootprintDB"),this.idb.version(2).stores({meta:"welcome",dataStatus:"&name, source, status, date",data:"&name, deleted",groupInfo:"&group"})}},{key:"destroyEverything",value:function(){var e=nu(iu().mark((function e(){var t;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cf.idb.meta.get(1);case 2:return t=e.sent,e.next=5,this.idb.delete();case 5:return e.abrupt("return",t.userId);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"welcome",value:function(){var e=nu(iu().mark((function e(t){var n;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idb.meta.put({welcome:1,userId:t});case 3:n=!0,e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(0),this.setIDB(!0),e.next=11,this.idb.meta.put({welcome:1,userId:t});case 11:n=!1;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isWelcome",value:function(){var e=nu(iu().mark((function e(){var t;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idb.meta.get(1);case 3:return t=e.sent,e.abrupt("return",{welcome:!!t,persistent:!0,userId:null===t||void 0===t?void 0:t.userId});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{welcome:!1,persistent:!1,userId:null});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=nu(iu().mark((function e(t,n){var r,i,a,o,u,s,c,l,f;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idb.data.get({name:t});case 3:if((r=e.sent).data=JSON.parse(r.data),null===r||void 0===r||!r.deleted){e.next=12;break}return i=r.data.length,r.data=r.data.filter((function(e,t){return!r.deleted[t]})),a=r.data.n_deleted||0,a+=i-r.data.length,e.next=12,this.idb.data.put({name:t,deleted:null,n_deleted:a,data:JSON.stringify(r.data)},[t]);case 12:if(n)for(o=0;o<r.data.length;o++){u={},s=S(n);try{for(s.s();!(c=s.n()).done;)l=c.value,u[l]=r.data[o][l]}catch(d){s.e(d)}finally{s.f()}r.data[o]=u}for(f=0;f<r.data.length;f++)r.data[f]._INDEX=f;return e.abrupt("return",r);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setDeleted",value:function(){var e=nu(iu().mark((function e(t,n){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.data.where("name").equals(t).modify({deleted:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addData",value:function(){var e=nu(iu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>3&&void 0!==v[3]?v[3]:null,e.next=3,this.getData(n);case 3:if(a=e.sent,o={},!(a&&a.data.length>0)){e.next=26;break}if(u={},i){s=S(t);try{for(l=function(){var e=c.value;e.group&&!o[e.group]&&(o[e.group]=!0);var t=JSON.stringify(i.map((function(t){return e[t]})));u[t]=!0},s.s();!(c=s.n()).done;)l()}catch(m){s.e(m)}finally{s.f()}}f=S(a.data),e.prev=9,h=function(){var e=d.value;if(e.group&&o[e.group]&&(o[e.group]=!1),i){var n=JSON.stringify(i.map((function(t){return e[t]})));if(u[n])return"continue"}t.push(e)},f.s();case 12:if((d=f.n()).done){e.next=18;break}if("continue"!==h()){e.next=16;break}return e.abrupt("continue",16);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),f.e(e.t0);case 23:return e.prev=23,f.f(),e.finish(23);case 26:return e.next=28,this.idb.data.put({name:n,deleted:null,n_deleted:0,data:JSON.stringify(t)},[n]);case 28:return e.next=30,this.updateDataStatus(n,r);case 30:p=Object.keys(o).filter((function(e){return o[e]})),p.length>0&&su(p);case 32:case"end":return e.stop()}}),e,this,[[9,20,23,26]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setDataAnnotations",value:function(){var e=nu(iu().mark((function e(t,n){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.data.update(n,{annotations:JSON.stringify(t)});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDataAnnotations",value:function(){var e=nu(iu().mark((function e(t){var n;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.data.get({name:t});case 2:if(null===(n=e.sent)||void 0===n||!n.annotations){e.next=5;break}return e.abrupt("return",JSON.parse(n.annotations));case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDataStatus",value:function(){var e=nu(iu().mark((function e(t){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.idb.datastatus.get({name:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDataStatus",value:function(){var e=nu(iu().mark((function e(t,n){var r,i;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.dataStatus.get({name:t});case 2:r=e.sent,i=new Date,r?this.idb.dataStatus.where("name").equals(t).modify({date:i,source:n,status:"finished"}):this.idb.dataStatus.add({name:t,date:i,source:n,status:"finished"});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getGroupInfo",value:function(){var e=nu(iu().mark((function e(t){var n;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.groupInfo.where("group").anyOf(t).toArray();case 2:return n=e.sent,e.abrupt("return",n.reduce((function(e,t){return e[t.url]=t.info,e}),{}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroupInfo",value:function(){var e=nu(iu().mark((function e(t){var n;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.keys(t).map((function(e){return{group:e,info:t[e]}})),this.idb.groupInfo.bulkPut(n).then().catch(mf.BulkError,(function(e){console.log("ignored some duplicates in writeGroupInfo")}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Cf=new Af,Df=Cf;function jf(e){var t=e.children,n=e.className,r=e.computer,i=e.color,a=e.floated,o=e.largeScreen,u=e.mobile,s=e.only,c=e.stretched,l=e.tablet,f=e.textAlign,d=e.verticalAlign,h=e.widescreen,p=e.width,v=pi(i,gi(c,"stretched"),xi(s,"only"),wi(f),yi(a,"floated"),_i(d),ki(r,"wide computer"),ki(o,"wide large screen"),ki(u,"wide mobile"),ki(l,"wide tablet"),ki(h,"wide widescreen"),ki(p,"wide"),"column",n),m=Ei(jf,e),g=Oi(jf,e);return _.createElement(g,j({},m,{className:v}),t)}jf.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],jf.propTypes={},jf.create=ra(jf,(function(e){return{children:e}}));var Tf=jf;function Ff(e){var t=e.centered,n=e.children,r=e.className,i=e.color,a=e.columns,o=e.divided,u=e.only,s=e.reversed,c=e.stretched,l=e.textAlign,f=e.verticalAlign,d=pi(i,gi(t,"centered"),gi(o,"divided"),gi(c,"stretched"),xi(u,"only"),xi(s,"reversed"),wi(l),_i(f),ki(a,"column",!0),"row",r),h=Ei(Ff,e),p=Oi(Ff,e);return _.createElement(p,j({},h,{className:d}),n)}Ff.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Ff.propTypes={};var Pf=Ff;function Mf(e){var t=e.celled,n=e.centered,r=e.children,i=e.className,a=e.columns,o=e.container,u=e.divided,s=e.doubling,c=e.inverted,l=e.padded,f=e.relaxed,d=e.reversed,h=e.stackable,p=e.stretched,v=e.textAlign,m=e.verticalAlign,g=pi("ui",gi(n,"centered"),gi(o,"container"),gi(s,"doubling"),gi(c,"inverted"),gi(h,"stackable"),gi(p,"stretched"),bi(t,"celled"),bi(u,"divided"),bi(l,"padded"),bi(f,"relaxed"),xi(d,"reversed"),wi(v),_i(m),ki(a,"column",!0),"grid",i),y=Ei(Mf,e),b=Oi(Mf,e);return _.createElement(b,j({},y,{className:g}),r)}Mf.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Mf.Column=Tf,Mf.Row=Pf,Mf.propTypes={};var Nf=Mf;function Rf(e){var t=e.children,n=e.className,r=e.compact,i=e.content,a=e.horizontal,o=e.piled,u=e.raised,s=e.size,c=e.stacked,l=pi("ui",s,gi(r,"compact"),gi(a,"horizontal"),gi(o,"piled"),gi(u,"raised"),gi(c,"stacked"),"segments",n),f=Ei(Rf,e),d=Oi(Rf,e);return _.createElement(d,j({},f,{className:l}),Di(t)?i:t)}Rf.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Rf.propTypes={};var If=Rf;function Bf(e){var t=e.children,n=e.className,r=e.content,i=pi("inline",n),a=Ei(Bf,e),o=Oi(Bf,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}Bf.handledProps=["as","children","className","content"],Bf.propTypes={};var zf=Bf;function Lf(e){var t=e.attached,n=e.basic,r=e.children,i=e.circular,a=e.className,o=e.clearing,u=e.color,s=e.compact,c=e.content,l=e.disabled,f=e.floated,d=e.inverted,h=e.loading,p=e.placeholder,v=e.padded,m=e.piled,g=e.raised,y=e.secondary,b=e.size,x=e.stacked,w=e.tertiary,k=e.textAlign,E=e.vertical,O=pi("ui",u,b,gi(n,"basic"),gi(i,"circular"),gi(o,"clearing"),gi(s,"compact"),gi(l,"disabled"),gi(d,"inverted"),gi(h,"loading"),gi(p,"placeholder"),gi(m,"piled"),gi(g,"raised"),gi(y,"secondary"),gi(x,"stacked"),gi(w,"tertiary"),gi(E,"vertical"),bi(t,"attached"),bi(v,"padded"),wi(k),yi(f,"floated"),"segment",a),S=Ei(Lf,e),A=Oi(Lf,e);return _.createElement(A,j({},S,{className:O}),Di(r)?c:r)}Lf.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],Lf.Group=If,Lf.Inline=zf,Lf.propTypes={};var Uf=Lf;var qf=function(e){var t=Wo(e),n=t%1;return t===t?n?t-n:t:0};var Wf=function(e,t){return ke(t,(function(t){return e[t]}))};var Hf=function(e){return null==e?[]:Wf(e,zn(e))},$f=Math.max;var Vf=function(e,t,n,r){e=Bn(e)?e:Hf(e),n=n&&!r?qf(n):0;var i=e.length;return n<0&&(n=$f(i+n,0)),Ji(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ii(e,t,n)>-1};var Gf=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Yf=function(e){return"function"==typeof e?e:zr};var Kf=function(e,t){return(Xt(e)?Gf:Yr)(e,Yf(t))},Xf=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Qf=[].concat(Xf,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),Zf=["alt","height","src","srcSet","width","loading"],Jf=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?Qf:r,a=n.includeAria,o=void 0===a||a,u={},s={};return Kf(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(Vf(i,t)||n?u:s)[t]=e})),[u,s]},ed="object"===typeof document&&null!==document,td="object"===typeof window&&null!==window&&window.self===window,nd=function e(){return ta(e.override)?ed&&td:e.override},rd=n(6775),id=n.n(rd),ad=n(7854),od=n.n(ad),ud=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){ko(t.props.innerRef,e)},t}_e(t,e);var n=t.prototype;return n.componentDidMount=function(){di(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){di(this.props,"onUnmount",null,this.props)},n.render=function(){if(!nd())return null;var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?document.body:n;return(0,k.createPortal)(_.createElement(Do,{innerRef:this.handleRef},t),r)},t}(_.Component);ud.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],ud.propTypes={};var sd=ud,cd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).contentRef=_.createRef(),t.triggerRef=_.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||Vo(t.triggerRef.current,e)||r&&Vo(t.contentRef.current,r)||Vo(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&od().getCode(e)===od().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];di.apply(void 0,[r,"props.onBlur",e].concat(o));var s=e.relatedTarget||document.activeElement,c=di(t.contentRef.current,"contains",s);i&&!c&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,a=n.openOnTriggerClick,o=t.state.open,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];di.apply(void 0,[r,"props.onClick",e].concat(s)),o&&i?t.close(e):!o&&a&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];di.apply(void 0,[r,"props.onFocus",e].concat(o)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,a=n.mouseLeaveDelay,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];di.apply(void 0,[r,"props.onMouseLeave",e].concat(u)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,a))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,a=n.openOnTriggerMouseEnter,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];di.apply(void 0,[r,"props.onMouseEnter",e].concat(u)),a&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){di(t.props,"onOpen",e,j({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=j({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),di(t.props,"onClose",e,j({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=j({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){di(t.props,"onMount",null,t.props)},t.handleUnmount=function(){di(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,ko(t.props.triggerRef,e)},t}_e(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,r=e.mountNode,i=e.trigger,a=this.state.open;return _.createElement(_.Fragment,null,a&&_.createElement(_.Fragment,null,_.createElement(sd,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},t),_.createElement(id(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),_.createElement(id(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),_.createElement(id(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),_.createElement(id(),{name:"click",on:this.handleDocumentClick,pool:n}),_.createElement(id(),{name:"keydown",on:this.handleEscape,pool:n})),i&&_.createElement(Do,{innerRef:this.handleTriggerRef},_.cloneElement(i,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(Pi);cd.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],cd.propTypes={},cd.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},cd.autoControlledProps=["open"],cd.Inner=sd;var ld=cd;function fd(e){var t=e.blurring,n=e.className,r=e.children,i=e.content,a=e.dimmed,o=pi(gi(t,"blurring"),gi(a,"dimmed"),"dimmable",n),u=Ei(fd,e),s=Oi(fd,e);return _.createElement(s,j({},u,{className:o}),Di(r)?i:r)}fd.handledProps=["as","blurring","children","className","content","dimmed"],fd.propTypes={};var dd=fd,hd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=(0,_.createRef)(),t.contentRef=(0,_.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;di(t.props,"onClick",e,t.props),n&&n!==e.target&&Vo(n,e)||di(t.props,"onClickOutside",e,t.props)},t}_e(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.disabled,u=e.inverted,s=e.page,c=e.simple,l=e.verticalAlign,f=pi("ui",gi(n,"active transition visible"),gi(o,"disabled"),gi(u,"inverted"),gi(s,"page"),gi(c,"simple"),_i(l),"dimmer",i),d=Ei(t,this.props),h=Oi(t,this.props),p=Di(r)?a:r;return _.createElement(Do,{innerRef:this.containerRef},_.createElement(h,j({},d,{className:f,onClick:this.handleClick}),p&&_.createElement("div",{className:"content",ref:this.contentRef},p)))},t}(_.Component);hd.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],hd.propTypes={};var pd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){nd()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){nd()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.page,i=Ei(t,this.props);return r?_.createElement(ld,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},_.createElement(hd,j({},i,{active:n,page:r}))):_.createElement(hd,j({},i,{active:n,page:r}))},t}(_.Component);function vd(e){var t=e.children,n=e.className,r=e.content,i=pi("detail",n),a=Ei(vd,e),o=Oi(vd,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}pd.handledProps=["active","page"],pd.propTypes={},pd.Dimmable=dd,pd.Inner=hd,pd.create=ra(pd,(function(e){return{content:e}})),vd.handledProps=["as","children","className","content"],vd.propTypes={},vd.create=ra(vd,(function(e){return{content:e}}));var md=vd;function gd(e){var t=e.children,n=e.circular,r=e.className,i=e.color,a=e.content,o=e.size,u=e.tag,s=pi("ui",i,o,gi(n,"circular"),gi(u,"tag"),"labels",r),c=Ei(gd,e),l=Oi(gd,e);return _.createElement(l,j({},c,{className:s}),Di(t)?a:t)}gd.handledProps=["as","children","circular","className","color","content","size","tag"],gd.propTypes={};var yd=gd,bd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){di(e,"onClick",n),di(t.props,"onRemove",n,t.props)}}},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.attached,i=e.basic,a=e.children,o=e.circular,u=e.className,s=e.color,c=e.content,l=e.corner,f=e.detail,d=e.empty,h=e.floating,p=e.horizontal,v=e.icon,m=e.image,g=e.onRemove,y=e.pointing,b=e.prompt,x=e.removeIcon,w=e.ribbon,k=e.size,E=e.tag,O=pi("ui",s,(!0===y?"pointing":("left"===y||"right"===y)&&y+" pointing")||("above"===y||"below"===y)&&"pointing "+y,k,gi(n,"active"),gi(i,"basic"),gi(o,"circular"),gi(d,"empty"),gi(h,"floating"),gi(p,"horizontal"),gi(!0===m,"image"),gi(b,"prompt"),gi(E,"tag"),bi(l,"corner"),bi(w,"ribbon"),yi(r,"attached"),"label",u),S=Ei(t,this.props),A=Oi(t,this.props);if(!Di(a))return _.createElement(A,j({},S,{className:O,onClick:this.handleClick}),a);var C=Ti(x)?"delete":x;return _.createElement(A,j({className:O,onClick:this.handleClick},S),po.create(v,{autoGenerateKey:!1}),"boolean"!==typeof m&&kd.create(m,{autoGenerateKey:!1}),c,md.create(f,{autoGenerateKey:!1}),g&&po.create(C,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(_.Component);function xd(e){var t=e.children,n=e.className,r=e.content,i=pi("ui",e.size,n,"images"),a=Ei(xd,e),o=Oi(xd,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}bd.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],bd.propTypes={},bd.Detail=md,bd.Group=yd,bd.create=ra(bd,(function(e){return{content:e}})),xd.handledProps=["as","children","className","content","size"],xd.propTypes={};var wd=xd;function _d(e){var t=e.avatar,n=e.bordered,r=e.centered,i=e.children,a=e.circular,o=e.className,u=e.content,s=e.dimmer,c=e.disabled,l=e.floated,f=e.fluid,d=e.hidden,h=e.href,p=e.inline,v=e.label,m=e.rounded,g=e.size,y=e.spaced,b=e.verticalAlign,x=e.wrapped,w=e.ui,k=pi(gi(w,"ui"),g,gi(t,"avatar"),gi(n,"bordered"),gi(a,"circular"),gi(r,"centered"),gi(c,"disabled"),gi(f,"fluid"),gi(d,"hidden"),gi(p,"inline"),gi(m,"rounded"),bi(y,"spaced"),yi(l,"floated"),_i(b),"image",o),E=Ei(_d,e),O=Jf(E,{htmlProps:Zf}),S=O[0],A=O[1],C=Oi(_d,e,(function(){if(!ta(s)||!ta(v)||!ta(x)||!Di(i))return"div"}));return Di(i)?Di(u)?"img"===C?_.createElement(C,j({},A,S,{className:k})):_.createElement(C,j({},A,{className:k,href:h}),pd.create(s,{autoGenerateKey:!1}),bd.create(v,{autoGenerateKey:!1}),_.createElement("img",S)):_.createElement(C,j({},E,{className:k}),u):_.createElement(C,j({},E,{className:k}),i)}_d.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],_d.Group=wd,_d.propTypes={},_d.defaultProps={as:"img",ui:!0},_d.create=ra(_d,(function(e){return{src:e}}));var kd=_d;function Ed(e){var t=e.children,n=e.className,r=e.content,i=pi("sub header",n),a=Ei(Ed,e),o=Oi(Ed,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}Ed.handledProps=["as","children","className","content"],Ed.propTypes={},Ed.create=ra(Ed,(function(e){return{content:e}}));var Od=Ed;function Sd(e){var t=e.children,n=e.className,r=e.content,i=pi("content",n),a=Ei(Sd,e),o=Oi(Sd,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}Sd.handledProps=["as","children","className","content"],Sd.propTypes={};var Ad=Sd;function Cd(e){var t=e.attached,n=e.block,r=e.children,i=e.className,a=e.color,o=e.content,u=e.disabled,s=e.dividing,c=e.floated,l=e.icon,f=e.image,d=e.inverted,h=e.size,p=e.sub,v=e.subheader,m=e.textAlign,g=pi("ui",a,h,gi(n,"block"),gi(u,"disabled"),gi(s,"dividing"),yi(c,"floated"),gi(!0===l,"icon"),gi(!0===f,"image"),gi(d,"inverted"),gi(p,"sub"),bi(t,"attached"),wi(m),"header",i),y=Ei(Cd,e),b=Oi(Cd,e);if(!Di(r))return _.createElement(b,j({},y,{className:g}),r);var x=po.create(l,{autoGenerateKey:!1}),w=kd.create(f,{autoGenerateKey:!1}),k=Od.create(v,{autoGenerateKey:!1});return x||w?_.createElement(b,j({},y,{className:g}),x||w,(o||k)&&_.createElement(Ad,null,o,k)):_.createElement(b,j({},y,{className:g}),o,k)}Cd.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],Cd.propTypes={},Cd.Content=Ad,Cd.Subheader=Od;var Dd=Cd;function jd(e){var t=e.children,n=e.className,r=e.content,i=e.hidden,a=e.visible,o=pi(gi(a,"visible"),gi(i,"hidden"),"content",n),u=Ei(jd,e),s=Oi(jd,e);return _.createElement(s,j({},u,{className:o}),Di(t)?r:t)}jd.handledProps=["as","children","className","content","hidden","visible"],jd.propTypes={};var Td=jd;function Fd(e){var t=e.attached,n=e.basic,r=e.buttons,i=e.children,a=e.className,o=e.color,u=e.compact,s=e.content,c=e.floated,l=e.fluid,f=e.icon,d=e.inverted,h=e.labeled,p=e.negative,v=e.positive,m=e.primary,g=e.secondary,y=e.size,b=e.toggle,x=e.vertical,w=e.widths,k=pi("ui",o,y,gi(n,"basic"),gi(u,"compact"),gi(l,"fluid"),gi(f,"icon"),gi(d,"inverted"),gi(h,"labeled"),gi(p,"negative"),gi(v,"positive"),gi(m,"primary"),gi(g,"secondary"),gi(b,"toggle"),gi(x,"vertical"),bi(t,"attached"),yi(c,"floated"),ki(w),"buttons",a),E=Ei(Fd,e),O=Oi(Fd,e);return ta(r)?_.createElement(O,j({},E,{className:k}),Di(i)?s:i):_.createElement(O,j({},E,{className:k}),Xr(r,(function(e){return Id.create(e)})))}Fd.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],Fd.propTypes={};var Pd=Fd;function Md(e){var t=e.className,n=e.text,r=pi("or",t),i=Ei(Md,e),a=Oi(Md,e);return _.createElement(a,j({},i,{className:r,"data-text":n}))}Md.handledProps=["as","className","text"],Md.propTypes={};var Nd=Md,Rd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,_.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!ta(n)||!ta(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return ta(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(){return di(t.ref.current,"focus")},t.handleClick=function(e){t.props.disabled?e.preventDefault():di(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,a=e.icon;return!0===a||a&&(n||Di(r)&&ta(i))},t}_e(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return ta(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,r=e.animated,i=e.attached,a=e.basic,o=e.children,u=e.circular,s=e.className,c=e.color,l=e.compact,f=e.content,d=e.disabled,h=e.floated,p=e.fluid,v=e.icon,m=e.inverted,g=e.label,y=e.labelPosition,b=e.loading,x=e.negative,w=e.positive,k=e.primary,E=e.secondary,O=e.size,S=e.toggle,A=e.type,C=pi(c,O,gi(n,"active"),gi(a,"basic"),gi(u,"circular"),gi(l,"compact"),gi(p,"fluid"),gi(this.hasIconClass(),"icon"),gi(m,"inverted"),gi(b,"loading"),gi(x,"negative"),gi(w,"positive"),gi(k,"primary"),gi(E,"secondary"),gi(S,"toggle"),bi(r,"animated"),bi(i,"attached")),D=pi(bi(y||!!g,"labeled")),T=pi(gi(d,"disabled"),yi(h,"floated")),F=Ei(t,this.props),P=Oi(t,this.props,this.computeElementType),M=this.computeTabIndex(P);if(!ta(g)){var N=pi("ui",C,"button",s),R=pi("ui",D,"button",s,T),I=bd.create(g,{defaultProps:{basic:!0,pointing:"left"===y?"right":"left"},autoGenerateKey:!1});return _.createElement(P,j({},F,{className:R,onClick:this.handleClick}),"left"===y&&I,_.createElement(Do,{innerRef:this.ref},_.createElement("button",{className:N,"aria-pressed":S?!!n:void 0,disabled:d,type:A,tabIndex:M},po.create(v,{autoGenerateKey:!1})," ",f)),("right"===y||!y)&&I)}var B=pi("ui",C,T,D,"button",s),z=!Di(o),L=this.computeButtonAriaRole(P);return _.createElement(Do,{innerRef:this.ref},_.createElement(P,j({},F,{className:B,"aria-pressed":S?!!n:void 0,disabled:d&&"button"===P||void 0,onClick:this.handleClick,role:L,type:A,tabIndex:M}),z&&o,!z&&po.create(v,{autoGenerateKey:!1}),!z&&f))},t}(_.Component);Rd.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Rd.propTypes={},Rd.defaultProps={as:"button"},Rd.Content=Td,Rd.Group=Pd,Rd.Or=Nd,Rd.create=ra(Rd,(function(e){return{content:e}}));var Id=Rd,Bd=n(3687),zd=_.createContext(null);var Ld=function(e){e()},Ud=function(){return Ld};var qd={notify:function(){},get:function(){return[]}};function Wd(e,t){var n,r=qd;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ud(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=qd)},getListeners:function(){return r}};return o}var Hd="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?_.useLayoutEffect:_.useEffect;var $d=function(e){var t=e.store,n=e.context,r=e.children,i=(0,_.useMemo)((function(){var e=Wd(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=(0,_.useMemo)((function(){return t.getState()}),[t]);Hd((function(){var e=i.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,a]);var o=n||zd;return _.createElement(o.Provider,{value:i},r)},Vd=(n(2110),n(7441));function Gd(){return(0,_.useContext)(zd)}function Yd(e){void 0===e&&(e=zd);var t=e===zd?Gd:function(){return(0,_.useContext)(e)};return function(){return t().store}}var Kd=Yd();function Xd(e){void 0===e&&(e=zd);var t=e===zd?Kd:Yd(e);return function(){return t().dispatch}}var Qd=Xd(),Zd=function(e,t){return e===t};function Jd(e){void 0===e&&(e=zd);var t=e===zd?Gd:function(){return(0,_.useContext)(e)};return function(e,n){void 0===n&&(n=Zd);var r=t(),i=function(e,t,n,r){var i,a=(0,_.useReducer)((function(e){return e+1}),0),o=a[1],u=(0,_.useMemo)((function(){return Wd(n,r)}),[n,r]),s=(0,_.useRef)(),c=(0,_.useRef)(),l=(0,_.useRef)(),f=(0,_.useRef)(),d=n.getState();try{if(e!==c.current||d!==l.current||s.current){var h=e(d);i=void 0!==f.current&&t(h,f.current)?f.current:h}else i=f.current}catch(p){throw s.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),p}return Hd((function(){c.current=e,l.current=d,f.current=i,s.current=void 0})),Hd((function(){function e(){try{var e=n.getState();if(e===l.current)return;var r=c.current(e);if(t(r,f.current))return;f.current=r,l.current=e}catch(p){s.current=p}o()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),i}(e,n,r.store,r.subscription);return(0,_.useDebugValue)(i),i}}var eh,th=Jd();eh=k.unstable_batchedUpdates,Ld=eh;var nh=function(e){return{type:"SET_DATA_STATUS",dataStatus:e}},rh=function(e,t,n){return function(r,i){var a=pu(i().dataStatus),o=a.findIndex((function(n){return n.name===e&&n.source===t}));if(o<0){var u="finished"===n?new Date:null;a.push({name:e,source:t,date:u,status:n})}else a[o]=mu(mu({},a[o]),{},{status:n}),"finished"===n&&(a[o].date=new Date);r(nh(a))}},ih=function(e){return{type:"SET_PERSISTENT",persistent:e}},ah=function(){return(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsxs)("h4",{style:{marginBottom:"8px"},children:[(0,Jo.jsx)(po,{color:"orange",name:"warning sign"})," If possible, use a different browser"]}),(0,Jo.jsx)("p",{children:"This application works best in recent versions of Chrome, Safari, Edge, Firefox and Opera. For some browsers, like Firefox, it works better when not in private mode. You can still use the application with your current browser, but your data won't be stored if you leave. Don't worry though! you'll get a warning when you try to refresh or leave the page so this doesn't easily happen by accident."})]})},oh=function(){return(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsxs)("h4",{style:{marginBottom:"8px"},children:[(0,Jo.jsx)(po,{color:"orange",name:"warning sign"})," LOGGING IN AS TEST USER"]}),(0,Jo.jsx)("p",{children:"The link that brought you to this website did not contain a user ID. If you are participating in a study, this should not be possible, and you should contact the researchers or survey company."}),(0,Jo.jsx)("p",{children:"As a test user your data will never be send to a server. If you complete the data donation submission, the server will receive a dummy submission that only contains meta information (time of submission, number of items, number of deleted items)"})]})},uh=function(e,t){return null===t?(0,Jo.jsx)(Id,{primary:!0,onClick:function(){return e(!1,"test_user")},style:{background:"#ff7300"},children:"Log in as test user"}):(0,Jo.jsx)(Id,{primary:!0,onClick:function(){return e(!1,t)},children:"Great, let's get started!"})},sh=function(e){var t=e.items,n=Q(),r=Qd(),i=th((function(e){return e.persistent})),a=D(be(),1)[0].get("id"),o=function(){var e=nu(iu().mark((function e(i,a){var o,u;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=8;break}return e.next=3,Df.isWelcome();case 3:if(null!==(o=e.sent)&&void 0!==o&&o.persistent||r(ih(!1)),null!==o&&void 0!==o&&o.welcome){e.next=7;break}return e.abrupt("return",null);case 7:o.userId&&null!==a&&o.userId!==a&&Df.destroyEverything().then((function(){window.location.href+="?id=".concat(a)}));case 8:return e.prev=8,e.next=11,Df.welcome(null!==a&&void 0!==a?a:"test_user");case 11:u=e.sent,r(ih(u)),n(t[0].path),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,_.useEffect)((function(){o(!0,a)})),(0,Jo.jsx)(Nf,{inverted:!0,textAlign:"center",style:{height:"100vh",backgroundImage:"url(".concat(Bd,")"),backgroundSize:"100% 100%"},verticalAlign:"middle",children:(0,Jo.jsx)(Nf.Column,{style:{maxWidth:600},children:(0,Jo.jsxs)(Uf,{style:{border:0},children:[(0,Jo.jsx)(Dd,{as:"h2",children:"Welcome to the Digital Footprints Lab!"}),(0,Jo.jsxs)("div",{align:"justified",style:{textAlign:"left",marginTop:"20px",marginBottom:"20px"},children:[(0,Jo.jsx)("h4",{style:{marginBottom:"8px"},children:"Gather and explore your digital footprints"}),(0,Jo.jsxs)("p",{children:["This application let's you collect and explore your own digital traces. All the data is stored and processed on your own device, so it ",(0,Jo.jsx)("b",{children:"doesn't touch the internet"}),"."]}),(0,Jo.jsx)("h4",{style:{marginBottom:"8px"},children:"Donate data to support academic research"}),(0,Jo.jsxs)("p",{children:["You can also donate a selection of this data for scientific research. This data will only be used for ",(0,Jo.jsx)("b",{children:"non-commercial research"})," by a select group of academics, for research that is approved by the ethical board of their university."]}),i?null:ah(),null===a?oh():null]}),uh(o,a)]})})})},ch=function(e){var t=e.children,n=D(be(),1)[0].get("id"),r=D((0,_.useState)(!0),2),i=r[0],a=r[1],o=D((0,_.useState)(!1),2),u=o[0],s=o[1];return(0,_.useEffect)((function(){var e=function(){var e=nu(iu().mark((function e(){var t;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df.isWelcome();case 2:null===(t=e.sent)||void 0===t||!t.welcome||null!==n&&t.userId!==n?s(!1):s(!0),a(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),i?(0,Jo.jsx)("div",{children:"loading..."}):u?t:(0,Jo.jsx)(W,{to:null!==n?"/?id=".concat(n):"/"})};function lh(e){var t=e.children,n=e.className,r=e.content,i=e.textAlign,a=pi(wi(i),"description",n),o=Ei(lh,e),u=Oi(lh,e);return _.createElement(u,j({},o,{className:a}),Di(t)?r:t)}lh.handledProps=["as","children","className","content","textAlign"],lh.propTypes={};var fh=lh;function dh(e){var t=e.children,n=e.className,r=e.content,i=e.textAlign,a=pi(wi(i),"header",n),o=Ei(dh,e),u=Oi(dh,e);return _.createElement(u,j({},o,{className:a}),Di(t)?r:t)}dh.handledProps=["as","children","className","content","textAlign"],dh.propTypes={};var hh=dh;function ph(e){var t=e.children,n=e.className,r=e.content,i=e.textAlign,a=pi(wi(i),"meta",n),o=Ei(ph,e),u=Oi(ph,e);return _.createElement(u,j({},o,{className:a}),Di(t)?r:t)}ph.handledProps=["as","children","className","content","textAlign"],ph.propTypes={};var vh=ph;function mh(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.meta,s=e.textAlign,c=pi(gi(a,"extra"),wi(s),"content",n),l=Ei(mh,e),f=Oi(mh,e);return Di(t)?Di(r)?_.createElement(f,j({},l,{className:c}),na(hh,(function(e){return{content:e}}),o,{autoGenerateKey:!1}),na(vh,(function(e){return{content:e}}),u,{autoGenerateKey:!1}),na(fh,(function(e){return{content:e}}),i,{autoGenerateKey:!1})):_.createElement(f,j({},l,{className:c}),r):_.createElement(f,j({},l,{className:c}),t)}mh.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],mh.propTypes={};var gh=mh;function yh(e){var t=e.centered,n=e.children,r=e.className,i=e.content,a=e.doubling,o=e.items,u=e.itemsPerRow,s=e.stackable,c=e.textAlign,l=pi("ui",gi(t,"centered"),gi(a,"doubling"),gi(s,"stackable"),wi(c),ki(u),"cards",r),f=Ei(yh,e),d=Oi(yh,e);if(!Di(n))return _.createElement(d,j({},f,{className:l}),n);if(!Di(i))return _.createElement(d,j({},f,{className:l}),i);var h=Xr(o,(function(e){var t,n=null!=(t=e.key)?t:[e.header,e.description].join("-");return _.createElement(xh,j({key:n},e))}));return _.createElement(d,j({},f,{className:l}),h)}yh.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],yh.propTypes={};var bh=yh,xh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.centered,r=e.children,i=e.className,a=e.color,o=e.content,u=e.description,s=e.extra,c=e.fluid,l=e.header,f=e.href,d=e.image,h=e.link,p=e.meta,v=e.onClick,m=e.raised,g=pi("ui",a,gi(n,"centered"),gi(c,"fluid"),gi(h,"link"),gi(m,"raised"),"card",i),y=Ei(t,this.props),b=Oi(t,this.props,(function(){if(v)return"a"}));return Di(r)?Di(o)?_.createElement(b,j({},y,{className:g,href:f,onClick:this.handleClick}),kd.create(d,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(u||l||p)&&_.createElement(gh,{description:u,header:l,meta:p}),s&&_.createElement(gh,{extra:!0},s)):_.createElement(b,j({},y,{className:g,href:f,onClick:this.handleClick}),o):_.createElement(b,j({},y,{className:g,href:f,onClick:this.handleClick}),r)},t}(_.Component);function wh(e){var t=e.children,n=e.className,r=e.content,i=pi(n,"description"),a=Ei(wh,e),o=Oi(wh,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}xh.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],xh.propTypes={},xh.Content=gh,xh.Description=fh,xh.Group=bh,xh.Header=hh,xh.Meta=vh,wh.handledProps=["as","children","className","content"],wh.propTypes={},wh.create=ra(wh,(function(e){return{content:e}}));var _h=wh;function kh(e){var t=e.children,n=e.className,r=e.content,i=pi("header",n),a=Ei(kh,e),o=Oi(kh,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}kh.handledProps=["as","children","className","content"],kh.propTypes={},kh.create=ra(kh,(function(e){return{content:e}}));var Eh=kh;function Oh(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.floated,o=e.header,u=e.verticalAlign,s=pi(yi(a,"floated"),_i(u),"content",n),c=Ei(Oh,e),l=Oi(Oh,e);return Di(t)?_.createElement(l,j({},c,{className:s}),Eh.create(o),_h.create(i),r):_.createElement(l,j({},c,{className:s}),t)}Oh.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],Oh.propTypes={},Oh.create=ra(Oh,(function(e){return{content:e}}));var Sh=Oh;function Ah(e){var t=e.className,n=e.verticalAlign,r=pi(_i(n),t),i=Ei(Ah,e);return _.createElement(po,j({},i,{className:r}))}Ah.handledProps=["className","verticalAlign"],Ah.propTypes={},Ah.create=ra(Ah,(function(e){return{name:e}}));var Ch=Ah,Dh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||di(t.props,"onClick",e,t.props)},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.description,u=e.disabled,s=e.header,c=e.icon,l=e.image,f=e.value,d=Oi(t,this.props),h=pi(gi(n,"active"),gi(u,"disabled"),gi("li"!==d,"item"),i),p=Ei(t,this.props),v="li"===d?{value:f}:{"data-value":f};if(!Di(r))return _.createElement(d,j({},v,{role:"listitem",className:h,onClick:this.handleClick},p),r);var m=Ch.create(c,{autoGenerateKey:!1}),g=kd.create(l,{autoGenerateKey:!1});if(!(0,_.isValidElement)(a)&&Qi(a))return _.createElement(d,j({},v,{role:"listitem",className:h,onClick:this.handleClick},p),m||g,Sh.create(a,{autoGenerateKey:!1,defaultProps:{header:s,description:o}}));var y=Eh.create(s,{autoGenerateKey:!1}),b=_h.create(o,{autoGenerateKey:!1});return m||g?_.createElement(d,j({},v,{role:"listitem",className:h,onClick:this.handleClick},p),m||g,(a||y||b)&&_.createElement(Sh,null,y,b,a)):_.createElement(d,j({},v,{role:"listitem",className:h,onClick:this.handleClick},p),y,b,a)},t}(_.Component);Dh.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],Dh.propTypes={},Dh.create=ra(Dh,(function(e){return{content:e}}));var jh=Dh;function Th(e){var t=e.children,n=e.className,r=e.content,i=Ei(Th,e),a=Oi(Th,e),o=pi(gi("ul"!==a&&"ol"!==a,"list"),n);return _.createElement(a,j({},i,{className:o}),Di(t)?r:t)}Th.handledProps=["as","children","className","content"],Th.propTypes={};var Fh=Th,Ph=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){di(e,"onClick",n,r),di(t.props,"onItemClick",n,r)}}},t}return _e(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.animated,i=n.bulleted,a=n.celled,o=n.children,u=n.className,s=n.content,c=n.divided,l=n.floated,f=n.horizontal,d=n.inverted,h=n.items,p=n.link,v=n.ordered,m=n.relaxed,g=n.selection,y=n.size,b=n.verticalAlign,x=pi("ui",y,gi(r,"animated"),gi(i,"bulleted"),gi(a,"celled"),gi(c,"divided"),gi(f,"horizontal"),gi(d,"inverted"),gi(p,"link"),gi(v,"ordered"),gi(g,"selection"),bi(m,"relaxed"),yi(l,"floated"),_i(b),"list",u),w=Ei(t,this.props),k=Oi(t,this.props);return Di(o)?Di(s)?_.createElement(k,j({role:"list",className:x},w),Xr(h,(function(t){return jh.create(t,{overrideProps:e.handleItemOverrides})}))):_.createElement(k,j({role:"list",className:x},w),s):_.createElement(k,j({role:"list",className:x},w),o)},t}(_.Component);Ph.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],Ph.propTypes={},Ph.Content=Sh,Ph.Description=_h,Ph.Header=Eh,Ph.Icon=Ch,Ph.Item=jh,Ph.List=Fh;var Mh=Ph;function Nh(e){var t=e.active,n=e.children,r=e.className,i=e.content,a=e.disabled,o=e.indeterminate,u=e.inline,s=e.inverted,c=pi("ui",e.size,gi(t,"active"),gi(a,"disabled"),gi(o,"indeterminate"),gi(s,"inverted"),gi(n||i,"text"),bi(u,"inline"),"loader",r),l=Ei(Nh,e),f=Oi(Nh,e);return _.createElement(f,j({},l,{className:c}),Di(n)?i:n)}Nh.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],Nh.propTypes={};var Rh=Nh,Ih=function(e){var t=e.children,n=e.name,r=e.subname,i=e.icon,a=e.onClick,o=e.loading,u=e.done,s=e.disabled;return(0,Jo.jsxs)(xh,{centered:!0,style:{cursor:s?null:"pointer",width:"100%",marginLeft:"2em",marginRight:"2em",position:"relative",color:"green",background:"#0f0f0f82",fontSize:"min(max(1vw, 1em),1.2em)"},onClick:s?null:a,children:[(0,Jo.jsx)(pd,{active:"loading"===o,children:(0,Jo.jsx)(Rh,{})}),u?(0,Jo.jsx)(po,{size:"massive",name:"checkmark",style:{position:"absolute",color:"#57b92d8c",top:"20%",left:"60%"}}):null,(0,Jo.jsxs)(xh.Content,{style:{background:s?"#ffffffcc":"#ffffff"},children:[(0,Jo.jsx)(po,{size:"huge",name:i,style:{float:"left",color:"#4183c4"}}),(0,Jo.jsx)(xh.Header,{content:n.replace("_"," ")}),(0,Jo.jsx)(xh.Meta,{content:r}),(0,Jo.jsx)(xh.Description,{children:t})]})]})},Bh=function(e,t){var n=e.name.replace("_"," ");return"failed"===e.status?e.date?(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(Mh.Icon,{name:"exclamation circle",color:"red"}),(0,Jo.jsxs)(Mh.Content,{children:["Failed to update ",(0,Jo.jsx)("b",{children:n})," history."]})]},t):(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(Mh.Icon,{name:"close",color:"red"}),(0,Jo.jsxs)(Mh.Content,{children:["Failed to get ",(0,Jo.jsx)("b",{children:n})," history"]})]},t):"finished"===e.status?(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(Mh.Icon,{name:"check circle outline",color:"green"}),(0,Jo.jsxs)(Mh.Content,{children:["Gathered ",(0,Jo.jsx)("b",{children:n})," history"]})]},t):(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(Mh.Icon,{name:"circle outline"}),(0,Jo.jsxs)(Mh.Content,{children:[(0,Jo.jsx)("b",{children:n})," history"]})]},t)},zh=function(e){var t=e.source,n=e.subname,r=e.produces,i=e.icon,a=e.onClick,o=e.loading,u=th((function(e){return e.dataStatus.filter((function(e){return e.source===t}))})),s=!0,c=r.map((function(e){var t=u.find((function(t){return t.name===e}));return null!==t&&void 0!==t&&t.date||(s=!1),t||{name:e,status:"empty"}}));return(0,Jo.jsx)(Ih,{name:t,subname:n,icon:i,onClick:a,loading:o,done:s,children:(0,Jo.jsxs)(Mh,{style:{textAlign:"left",paddingTop:"10px"},children:[" ",s?null:(0,Jo.jsxs)("p",{children:["Click here to gather the data that Google has about your ",(0,Jo.jsx)("b",{children:"browsing"}),", ",(0,Jo.jsx)("b",{children:"search"})," ","and ",(0,Jo.jsx)("b",{children:"Youtube"})," history"]}),c.map(Bh)]})})};var Lh=function(e,t,n){"__proto__"==t&&ai?ai(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Uh=Object.prototype.hasOwnProperty;var qh=function(e,t,n){var r=e[t];Uh.call(e,t)&&Oe(r,n)&&(void 0!==n||t in e)||Lh(e,t,n)};var Wh=function(e,t,n,r){if(!Qe(e))return e;for(var i=-1,a=(t=Tr(t,e)).length,o=a-1,u=e;null!=u&&++i<a;){var s=Fr(t[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=o){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=Qe(l)?l:bn(t[i+1])?[]:{})}qh(u,s,c),u=u[s]}return e};var Hh=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Pr(e,o);n(u,o)&&Wh(a,Tr(o,e),u)}return a};var $h=function(e,t){return Hh(e,t,(function(t,n){return Ir(e,n)}))},Vh=Ue?Ue.isConcatSpreadable:void 0;var Gh=function(e){return Xt(e)||dn(e)||!!(Vh&&e&&e[Vh])};var Yh=function e(t,n,r,i,a){var o=-1,u=t.length;for(r||(r=Gh),a||(a=[]);++o<u;){var s=t[o];n>0&&r(s)?n>1?e(s,n-1,r,i,a):Kt(a,s):i||(a[a.length]=s)}return a};var Kh=function(e){return(null==e?0:e.length)?Yh(e,1):[]};var Xh=function(e){return li(ri(e,void 0,Kh),e+"")}((function(e,t){return null==e?{}:$h(e,t)})),Qh=Xh;var Zh=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n};var Jh=function(e,t,n){var r=Xt(e)?ca:Zh,i=arguments.length<3;return r(e,Wr(t,4),n,i,Yr)},ep=Object.prototype.hasOwnProperty;var tp=function(e){if(null==e)return!0;if(Bn(e)&&(Xt(e)||"string"==typeof e||"function"==typeof e.splice||gn(e)||Dn(e)||dn(e)))return!e.length;var t=ir(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Pn(e))return!In(e).length;for(var n in e)if(ep.call(e,n))return!1;return!0},np=n(9613),rp=n.n(np),ip=rd.instance,ap=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){di(e,"onClick",n,r),di(t.props,"onActionClick",n,r)}}},t}return _e(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.actions,i=n.children,a=n.className,o=n.content,u=pi("actions",a),s=Ei(t,this.props),c=Oi(t,this.props);return Di(i)?Di(o)?_.createElement(c,j({},s,{className:u}),Xr(r,(function(t){return Id.create(t,{overrideProps:e.handleButtonOverrides})}))):_.createElement(c,j({},s,{className:u}),o):_.createElement(c,j({},s,{className:u}),i)},t}(_.Component);function op(e){var t=e.children,n=e.className,r=e.content,i=e.image,a=e.scrolling,o=pi(n,gi(i,"image"),gi(a,"scrolling"),"content"),u=Ei(op,e),s=Oi(op,e);return _.createElement(s,j({},u,{className:o}),Di(t)?r:t)}ap.handledProps=["actions","as","children","className","content","onActionClick"],ap.propTypes={},ap.create=ra(ap,(function(e){return{actions:e}})),op.handledProps=["as","children","className","content","image","scrolling"],op.propTypes={},op.create=ra(op,(function(e){return{content:e}}));var up=op;function sp(e){var t=e.children,n=e.className,r=e.content,i=pi("description",n),a=Ei(sp,e),o=Oi(sp,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}sp.handledProps=["as","children","className","content"],sp.propTypes={};var cp=sp,lp=nd()?_.useLayoutEffect:_.useEffect,fp=/\s+/;var dp=new Map,hp=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(fp).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(dp.get(e)||[],n),i=r[0],a=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),a.forEach((function(t){return e.classList.remove(t)}))),dp.set(e,n)},pp=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function vp(e){var t=e.blurring,n=e.children,r=e.className,i=e.centered,a=e.content,o=e.inverted,u=e.mountNode,s=e.scrolling,c=_.useRef(),l=pi("ui",gi(o,"inverted"),gi(!i,"top aligned"),"page modals dimmer transition visible active",r),f=pi("dimmable dimmed",gi(t,"blurring"),gi(s,"scrolling")),d=Ei(vp,e),h=Oi(vp,e);return function(e,t){var n=_.useRef(),r=_.useRef(!1);lp((function(){if(n.current=t,r.current){var i=Eo(e)?e.current:e;pp.emit(i,hp)}r.current=!0}),[t]),lp((function(){var t=Eo(e)?e.current:e;return pp.add(t,n),pp.emit(t,hp),function(){pp.del(t,n),pp.emit(t,hp)}}),[e])}(u,f),_.useEffect((function(){c.current&&c.current.style&&c.current.style.setProperty("display","flex","important")}),[]),_.createElement(Do,{innerRef:c},_.createElement(h,j({},d,{className:l}),Di(n)?a:n))}vp.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],vp.propTypes={},vp.create=ra(vp,(function(e){return{content:e}}));var mp=vp;function gp(e){var t=e.children,n=e.className,r=e.content,i=pi("header",n),a=Ei(gp,e),o=Oi(gp,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}gp.handledProps=["as","children","className","content"],gp.propTypes={},gp.create=ra(gp,(function(e){return{content:e}}));var yp=gp,bp=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r},xp=function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}},wp=function(){return!window.ActiveXObject&&"ActiveXObject"in window},_p=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).legacy=nd()&&wp(),n.ref=(0,_.createRef)(),n.dimmerRef=(0,_.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return nd()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){di(e,"onActionClick",t,r),di(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),di(n.props,"onClose",e,j({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||Vo(n.ref.current,r)||Vo(n.ref.current,e)||(n.setState({open:!1}),di(n.props,"onClose",e,j({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){di(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){di(n.props,"onOpen",e,j({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),ip.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),ip.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),di(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),ip.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),ip.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),di(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),a=bp(i);e=!a;var o=n.legacy?xp(a,t,i):{};rp()(n.state.legacyStyles,o)||(r.legacyStyles=o),n.state.scrolling!==e&&(r.scrolling=e)}tp(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var r=n.props,i=r.actions,a=r.basic,o=r.children,u=r.className,s=r.closeIcon,c=r.content,l=r.header,f=r.size,d=r.style,h=n.state,p=h.legacyStyles,v=h.scrolling,m=pi("ui",f,gi(a,"basic"),gi(n.legacy,"legacy"),gi(v,"scrolling"),"modal transition visible active",u),g=Oi(t,n.props),y=!0===s?"close":s,b=po.create(y,{overrideProps:n.handleIconOverrides});return _.createElement(Do,{innerRef:n.ref},_.createElement(g,j({},e,{className:m,style:j({},p,d)}),b,Di(o)?_.createElement(_.Fragment,null,yp.create(l,{autoGenerateKey:!1}),up.create(c,{autoGenerateKey:!1}),ap.create(i,{overrideProps:n.handleActionsOverrides})):o))},n}_e(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,r=e.closeOnDocumentClick,i=e.dimmer,a=e.eventPool,o=e.trigger,u=this.state,s=u.open,c=u.scrolling,l=this.getMountNode();if(!nd())return(0,_.isValidElement)(o)?o:null;var f=Ei(t,this.props),d=ld.handledProps,h=Jh(f,(function(e,t,n){return Vf(d,n)||(e[n]=t),e}),{}),p=Qh(f,d);return _.createElement(ld,j({closeOnDocumentClick:r},p,{trigger:o,eventPool:a,mountNode:l,open:s,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),_.createElement(Do,{innerRef:this.dimmerRef},mp.create(Qi(i)?i:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===i,inverted:"inverted"===i},overrideProps:{children:this.renderContent(h),centered:n,mountNode:l,scrolling:c}})))},t}(Pi);_p.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],_p.propTypes={},_p.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},_p.autoControlledProps=["open"],_p.Actions=ap,_p.Content=up,_p.Description=cp,_p.Dimmer=mp,_p.Header=yp;var kp=_p,Ep=["and","or","not","the","it"].reduce((function(e,t){return e[t]=!0,e}),{}),Op=function(e){return e.split(/\W+/).filter((function(e){return!((e=e.toLowerCase()).length<=1)&&!Ep[e]}))};function Sp(e){var t=e.children,n=e.className,r=e.content,i=pi("description",n),a=Ei(Sp,e),o=Oi(Sp,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}Sp.handledProps=["as","children","className","content"],Sp.propTypes={},Sp.create=ra(Sp,(function(e){return{content:e}}));var Ap=Sp;function Cp(e){var t=e.children,n=e.className,r=e.content,i=pi("title",n),a=Ei(Cp,e),o=Oi(Cp,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}Cp.handledProps=["as","children","className","content"],Cp.propTypes={},Cp.create=ra(Cp,(function(e){return{content:e}}));var Dp=Cp;function jp(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.title,o=pi("content",n),u=Ei(jp,e),s=Oi(jp,e);return Di(t)?Di(r)?_.createElement(s,j({},u,{className:o}),Dp.create(a,{autoGenerateKey:!1}),Ap.create(i,{autoGenerateKey:!1})):_.createElement(s,j({},u,{className:o}),r):_.createElement(s,j({},u,{className:o}),t)}jp.handledProps=["as","children","className","content","description","title"],jp.propTypes={},jp.create=ra(jp,(function(e){return{content:e}}));var Tp=jp;function Fp(e){var t=e.attached,n=e.children,r=e.className,i=e.content,a=e.fluid,o=e.items,u=e.ordered,s=e.size,c=e.stackable,l=e.unstackable,f=e.vertical,d=e.widths,h=pi("ui",s,gi(a,"fluid"),gi(u,"ordered"),gi(l,"unstackable"),gi(f,"vertical"),bi(t,"attached"),yi(c,"stackable"),ki(d),"steps",r),p=Ei(Fp,e),v=Oi(Fp,e);return Di(n)?Di(i)?_.createElement(v,j({},p,{className:h}),Xr(o,(function(e){return Np.create(e)}))):_.createElement(v,j({},p,{className:h}),i):_.createElement(v,j({},p,{className:h}),n)}Fp.handledProps=["as","attached","children","className","content","fluid","items","ordered","size","stackable","unstackable","vertical","widths"],Fp.propTypes={};var Pp=Fp,Mp=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).computeElementType=function(){if(t.props.onClick)return"a"},t.handleClick=function(e){t.props.disabled||di(t.props,"onClick",e,t.props)},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.completed,o=e.content,u=e.description,s=e.disabled,c=e.href,l=e.icon,f=e.link,d=e.title,h=pi(gi(n,"active"),gi(a,"completed"),gi(s,"disabled"),gi(f,"link"),"step",i),p=Ei(t,this.props),v=Oi(t,this.props,this.computeElementType);return Di(r)?Di(o)?_.createElement(v,j({},p,{className:h,href:c,onClick:this.handleClick}),po.create(l,{autoGenerateKey:!1}),Tp.create({description:u,title:d},{autoGenerateKey:!1})):_.createElement(v,j({},p,{className:h,href:c,onClick:this.handleClick}),o):_.createElement(v,j({},p,{className:h,href:c,onClick:this.handleClick}),r)},t}(_.Component);Mp.handledProps=["active","as","children","className","completed","content","description","disabled","href","icon","link","onClick","ordered","title"],Mp.propTypes={},Mp.Content=Tp,Mp.Description=Ap,Mp.Group=Pp,Mp.Title=Dp,Mp.create=ra(Mp,(function(e){return{content:e}}));var Np=Mp,Rp=n(5586);function Ip(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(e)}function zp(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Xwe){return!1}}function Lp(e){return Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(e)}function Up(e,t){if(t&&("object"===Lp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ji(e)}function qp(e){var t=zp();return function(){var n,r=Bp(e);if(t){var i=Bp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Up(this,n)}}function Wp(e,t,n){return Wp=zp()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&we(i,n.prototype),i},Wp.apply(null,arguments)}function Hp(e){var t="function"===typeof Map?new Map:void 0;return Hp=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Wp(e,arguments,Bp(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),we(r,e)},Hp(e)}var $p={}.hasOwnProperty;function Vp(e){return e&&"object"===typeof e?$p.call(e,"position")||$p.call(e,"type")?Yp(e.position):$p.call(e,"start")||$p.call(e,"end")?Yp(e):$p.call(e,"line")||$p.call(e,"column")?Gp(e):"":""}function Gp(e){return Kp(e&&e.line)+":"+Kp(e&&e.column)}function Yp(e){return Gp(e&&e.start)+"-"+Gp(e&&e.end)}function Kp(e){return e&&"number"===typeof e?e:1}var Xp=function(e){Ip(n,e);var t=qp(n);function n(e,r,i){var a;au(this,n);var o,u=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};return a=t.call(this),"string"===typeof r&&(i=r,r=null),"string"===typeof i&&(-1===(o=i.indexOf(":"))?u[1]=i:(u[0]=i.slice(0,o),u[1]=i.slice(o+1))),r&&("type"in r||"position"in r?r.position&&(s=r.position):"start"in r||"end"in r?s=r:("line"in r||"column"in r)&&(s.start=r)),a.name=Vp(r)||"1:1",a.message="object"===typeof e?e.message:e,a.stack="object"===typeof e?e.stack:"",a.reason=a.message,a.fatal,a.line=s.start.line,a.column=s.start.column,a.source=u[0],a.ruleId=u[1],a.position=s,a.actual,a.expected,a.file,a.url,a.note,a}return uu(n)}(Hp(Error));Xp.prototype.file="",Xp.prototype.name="",Xp.prototype.reason="",Xp.prototype.message="",Xp.prototype.stack="",Xp.prototype.fatal=null,Xp.prototype.column=null,Xp.prototype.line=null,Xp.prototype.source=null,Xp.prototype.ruleId=null,Xp.prototype.position=null;var Qp={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Jp(e);var n,r=0,i=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.charCodeAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1);return i<0?"":e.slice(r,i)}if(t===e)return"";var o=-1,u=t.length-1;for(;a--;)if(47===e.charCodeAt(a)){if(n){r=a+1;break}}else o<0&&(n=!0,o=a+1),u>-1&&(e.charCodeAt(a)===t.charCodeAt(u--)?u<0&&(i=a):(u=-1,i=o));r===i?i=o:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(Jp(e),0===e.length)return".";var t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){Jp(e);var t,n=e.length,r=-1,i=0,a=-1,o=0;for(;n--;){var u=e.charCodeAt(n);if(47!==u)r<0&&(t=!0,r=n+1),46===u?a<0?a=n:1!==o&&(o=1):a>-1&&(o=-1);else if(t){i=n+1;break}}if(a<0||r<0||0===o||1===o&&a===r-1&&a===i+1)return"";return e.slice(a,r)},join:function(){for(var e,t=-1,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++t<r.length;)Jp(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":Zp(e)},sep:"/"};function Zp(e){Jp(e);var t=47===e.charCodeAt(0),n=function(e,t){var n,r,i="",a=0,o=-1,u=0,s=-1;for(;++s<=e.length;){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===u);else if(o!==s-1&&2===u){if(i.length<2||2!==a||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if((r=i.lastIndexOf("/"))!==i.length-1){r<0?(i="",a=0):a=(i=i.slice(0,r)).length-1-i.lastIndexOf("/"),o=s,u=0;continue}}else if(i.length>0){i="",a=0,o=s,u=0;continue}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(o+1,s):i=e.slice(o+1,s),a=s-o-1;o=s,u=0}else 46===n&&u>-1?u++:u=-1}return i}(e,!t);return 0!==n.length||t||(n="."),n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/"),t?"/"+n:n}function Jp(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var ev={cwd:function(){return"/"}};function tv(e){return null!==e&&"object"===typeof e&&e.href&&e.origin}function nv(e){if("string"===typeof e)e=new URL(e);else if(!tv(e)){var t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){var n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return function(e){if(""!==e.hostname){var t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}var n=e.pathname,r=-1;for(;++r<n.length;)if(37===n.charCodeAt(r)&&50===n.charCodeAt(r+1)){var i=n.charCodeAt(r+2);if(70===i||102===i){var a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(n)}(e)}var rv=["history","path","basename","stem","extname","dirname"],iv=function(){function e(t){var n;au(this,e),n=t?"string"===typeof t||Rp(t)?{value:t}:tv(t)?{path:t}:t:{},this.data={},this.messages=[],this.history=[],this.cwd=ev.cwd(),this.value,this.stored,this.result,this.map;for(var r,i=-1;++i<rv.length;){var a=rv[i];a in n&&void 0!==n[a]&&(this[a]="history"===a?pu(n[a]):n[a])}for(r in n)rv.includes(r)||(this[r]=n[r])}return uu(e,[{key:"path",get:function(){return this.history[this.history.length-1]},set:function(e){tv(e)&&(e=nv(e)),ov(e,"path"),this.path!==e&&this.history.push(e)}},{key:"dirname",get:function(){return"string"===typeof this.path?Qp.dirname(this.path):void 0},set:function(e){uv(this.basename,"dirname"),this.path=Qp.join(e||"",this.basename)}},{key:"basename",get:function(){return"string"===typeof this.path?Qp.basename(this.path):void 0},set:function(e){ov(e,"basename"),av(e,"basename"),this.path=Qp.join(this.dirname||"",e)}},{key:"extname",get:function(){return"string"===typeof this.path?Qp.extname(this.path):void 0},set:function(e){if(av(e,"extname"),uv(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qp.join(this.dirname,this.stem+(e||""))}},{key:"stem",get:function(){return"string"===typeof this.path?Qp.basename(this.path,this.extname):void 0},set:function(e){ov(e,"stem"),av(e,"stem"),this.path=Qp.join(this.dirname||"",e+(this.extname||""))}},{key:"toString",value:function(e){return(this.value||"").toString(e)}},{key:"message",value:function(e,t,n){var r=new Xp(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}},{key:"info",value:function(e,t,n){var r=this.message(e,t,n);return r.fatal=null,r}},{key:"fail",value:function(e,t,n){var r=this.message(e,t,n);throw r.fatal=!0,r}}]),e}();function av(e,t){if(e&&e.includes(Qp.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qp.sep+"`")}function ov(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function uv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function sv(e){return A(e)||hu(e)||O(e)||C()}function cv(e){if(e)throw e}var lv=n(1132);function fv(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function dv(e,t){var n;return function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];var u,s=e.length>a.length;s&&a.push(r);try{u=e.apply(void 0,a)}catch(J_){var c=J_;if(s&&n)throw c;return r(c)}s||(u instanceof Promise?u.then(i,r):u instanceof Error?r(u):i(u))};function r(e){if(!n){n=!0;for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.apply(void 0,[e].concat(i))}}function i(e){r(null,e)}}var hv=function e(){var t,n=function(){var e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=-1,a=n.pop();if("function"!==typeof a)throw new TypeError("Expected function as last argument, not "+a);function o(t){var r=e[++i],u=-1;if(t)a(t);else{for(var s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];for(;++u<n.length;)null!==c[u]&&void 0!==c[u]||(c[u]=n[u]);n=c,r?dv(r,o).apply(void 0,c):a.apply(void 0,[null].concat(c))}}o.apply(void 0,[null].concat(pu(n)))},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}(),r=[],i={},a=-1;return o.data=function(e,n){if("string"===typeof e)return 2===arguments.length?(yv("data",t),i[e]=n,o):pv.call(i,e)&&i[e]||null;if(e)return yv("data",t),i=e,o;return i},o.Parser=void 0,o.Compiler=void 0,o.freeze=function(){if(t)return o;for(;++a<r.length;){var e=sv(r[a]),i=e[0],u=e.slice(1);if(!1!==u[0]){!0===u[0]&&(u[1]=void 0);var s=i.call.apply(i,[o].concat(pu(u)));"function"===typeof s&&n.use(s)}}return t=!0,a=Number.POSITIVE_INFINITY,o},o.attachers=r,o.use=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];var s;if(yv("use",t),null===e||void 0===e);else if("function"===typeof e)d.apply(void 0,[e].concat(a));else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?f(e):l(e)}s&&(i.settings=Object.assign(i.settings||{},s));return o;function c(e){if("function"===typeof e)d(e);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){var t=sv(e),n=t[0],r=t.slice(1);d.apply(void 0,[n].concat(pu(r)))}else l(e)}}function l(e){f(e.plugins),e.settings&&(s=Object.assign(s||{},e.settings))}function f(e){var t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){c(e[t])}}}function d(e,t){for(var n,i=-1;++i<r.length;)if(r[i][0]===e){n=r[i];break}n?(fv(n[1])&&fv(t)&&(t=lv(!0,n[1],t)),n[1]=t):r.push(Array.prototype.slice.call(arguments))}},o.parse=function(e){o.freeze();var t=wv(e),n=o.Parser;if(mv("parse",n),vv(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},o.stringify=function(e,t){o.freeze();var n=wv(t),r=o.Compiler;if(gv("stringify",r),bv(e),vv(r,"compile"))return new r(e,n).compile();return r(e,n)},o.run=function(e,t,r){bv(e),o.freeze(),r||"function"!==typeof t||(r=t,t=void 0);if(!r)return new Promise(i);function i(i,a){function o(t,n,o){n=n||e,t?a(t):i?i(n):r(null,n,o)}n.run(e,wv(t),o)}i(null,r)},o.runSync=function(e,t){var n,r;return o.run(e,t,i),xv("runSync","run",r),n;function i(e,t){cv(e),n=t,r=!0}},o.process=function(e,t){if(o.freeze(),mv("process",o.Parser),gv("process",o.Compiler),!t)return new Promise(n);function n(n,r){var i=wv(e);function a(e,i){e||!i?r(e):n?n(i):t(null,i)}o.run(o.parse(i),i,(function(e,t,n){if(!e&&t&&n){var r=o.stringify(t,n);void 0===r||null===r||(!function(e){return"string"===typeof e||Rp(e)}(r)?n.result=r:n.value=r),a(e,n)}else a(e)}))}n(null,t)},o.processSync=function(e){var t;o.freeze(),mv("processSync",o.Parser),gv("processSync",o.Compiler);var n=wv(e);return o.process(n,r),xv("processSync","process",t),n;function r(e){t=!0,cv(e)}},o;function o(){for(var t=e(),n=-1;++n<r.length;)t.use.apply(t,pu(r[n]));return t.data(lv(!0,{},i)),t}}().freeze(),pv={}.hasOwnProperty;function vv(e,t){return"function"===typeof e&&e.prototype&&(function(e){var t;for(t in e)if(pv.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function mv(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function gv(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function yv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function bv(e){if(!fv(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function xv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function wv(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new iv(e)}function _v(e,t){var n=(t||{}).includeImageAlt;return kv(e,void 0===n||n)}function kv(e,t){return e&&"object"===typeof e&&(e.value||(t?e.alt:"")||"children"in e&&Ev(e.children,t)||Array.isArray(e)&&Ev(e,t))||""}function Ev(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=kv(e[r],t);return n.join("")}function Ov(e,t,n,r){var i,a=e.length,o=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)(i=Array.from(r)).unshift(t,n),[].splice.apply(e,i);else for(n&&[].splice.apply(e,[t,n]);o<r.length;)(i=r.slice(o,o+1e4)).unshift(t,0),[].splice.apply(e,i),o+=1e4,t+=1e4}function Sv(e,t){return e.length>0?(Ov(e,e.length,0,t),e):t}var Av={}.hasOwnProperty;function Cv(e){for(var t={},n=-1;++n<e.length;)Dv(t,e[n]);return t}function Dv(e,t){var n;for(n in t){var r=(Av.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n],a=void 0;for(a in i){Av.call(r,a)||(r[a]=[]);var o=i[a];jv(r[a],Array.isArray(o)?o:o?[o]:[])}}}function jv(e,t){for(var n=-1,r=[];++n<t.length;)("after"===t[n].add?e:r).push(t[n]);Ov(e,0,0,r)}var Tv=Wv(/[A-Za-z]/),Fv=Wv(/\d/),Pv=Wv(/[\dA-Fa-f]/),Mv=Wv(/[\dA-Za-z]/),Nv=Wv(/[!-/:-@[-`{-~]/),Rv=Wv(/[#-'*+\--9=?A-Z^-~]/);function Iv(e){return null!==e&&(e<32||127===e)}function Bv(e){return null!==e&&(e<0||32===e)}function zv(e){return null!==e&&e<-2}function Lv(e){return-2===e||-1===e||32===e}var Uv=Wv(/\s/),qv=Wv(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function Wv(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function Hv(e,t,n,r){var i=r?r-1:Number.POSITIVE_INFINITY,a=0;return function(r){if(Lv(r))return e.enter(n),o(r);return t(r)};function o(r){return Lv(r)&&a++<i?(e.consume(r),o):(e.exit(n),t(r))}}var $v={tokenize:function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,(function(t){if(null===t)return void e.consume(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Hv(e,n,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));return n;function r(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,i(n)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):zv(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};var Vv={tokenize:function(e){var t,n,r,i=this,a=[],o=0;return u;function u(t){if(o<a.length){var n=a[o];return i.containerState=n[1],e.attempt(n[0].continuation,s,c)(t)}return c(t)}function s(e){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,t&&y();for(var n,r=i.events.length,a=r;a--;)if("exit"===i.events[a][0]&&"chunkFlow"===i.events[a][1].type){n=i.events[a][1].end;break}g(o);for(var s=r;s<i.events.length;)i.events[s][1].end=Object.assign({},n),s++;return Ov(i.events,a+1,0,i.events.slice(r)),i.events.length=s,c(e)}return u(e)}function c(n){if(o===a.length){if(!t)return d(n);if(t.currentConstruct&&t.currentConstruct.concrete)return p(n);i.interrupt=Boolean(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(Gv,l,f)(n)}function l(e){return t&&y(),g(o),d(e)}function f(e){return i.parser.lazy[i.now().line]=o!==a.length,r=i.now().offset,p(e)}function d(t){return i.containerState={},e.attempt(Gv,h,p)(t)}function h(e){return o++,a.push([i.currentConstruct,i.containerState]),d(e)}function p(r){return null===r?(t&&y(),g(0),void e.consume(r)):(t=t||i.parser.flow(i.now()),e.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:t}),v(r))}function v(t){return null===t?(m(e.exit("chunkFlow"),!0),g(0),void e.consume(t)):zv(t)?(e.consume(t),m(e.exit("chunkFlow")),o=0,i.interrupt=void 0,u):(e.consume(t),v)}function m(e,a){var u=i.sliceStream(e);if(a&&u.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(u),i.parser.lazy[e.start.line]){for(var s=t.events.length;s--;)if(t.events[s][1].start.offset<r&&(!t.events[s][1].end||t.events[s][1].end.offset>r))return;for(var c,l,f=i.events.length,d=f;d--;)if("exit"===i.events[d][0]&&"chunkFlow"===i.events[d][1].type){if(c){l=i.events[d][1].end;break}c=!0}for(g(o),s=f;s<i.events.length;)i.events[s][1].end=Object.assign({},l),s++;Ov(i.events,d+1,0,i.events.slice(f)),i.events.length=s}}function g(t){for(var n=a.length;n-- >t;){var r=a[n];i.containerState=r[1],r[0].exit.call(i,e)}a.length=t}function y(){t.write([null]),n=void 0,t=void 0,i.containerState._closeFlow=void 0}}},Gv={tokenize:function(e,t,n){return Hv(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};var Yv={tokenize:function(e,t,n){return Hv(e,(function(e){return null===e||zv(e)?t(e):n(e)}),"linePrefix")},partial:!0};function Kv(e){for(var t,n,r,i,a,o,u,s={},c=-1;++c<e.length;){for(;c in s;)c=s[c];if(t=e[c],c&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[c-1][1].type&&((r=0)<(o=t[1]._tokenizer.events).length&&"lineEndingBlank"===o[r][1].type&&(r+=2),r<o.length&&"content"===o[r][1].type))for(;++r<o.length&&"content"!==o[r][1].type;)"chunkText"===o[r][1].type&&(o[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===t[0])t[1].contentType&&(Object.assign(s,Xv(e,c)),c=s[c],u=!0);else if(t[1]._container){for(r=c,n=void 0;r--&&("lineEnding"===(i=e[r])[1].type||"lineEndingBlank"===i[1].type);)"enter"===i[0]&&(n&&(e[n][1].type="lineEndingBlank"),i[1].type="lineEnding",n=r);n&&(t[1].end=Object.assign({},e[n][1].start),(a=e.slice(n,c)).unshift(t),Ov(e,n,c-n+1,a))}}return!u}function Xv(e,t){for(var n,r,i=e[t][1],a=e[t][2],o=t-1,u=[],s=i._tokenizer||a.parser[i.contentType](i.start),c=s.events,l=[],f={},d=-1,h=i,p=0,v=0,m=[v];h;){for(;e[++o][1]!==h;);u.push(o),h._tokenizer||(n=a.sliceStream(h),h.next||n.push(null),r&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(n),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),r=h,h=h.next}for(h=i;++d<c.length;)"exit"===c[d][0]&&"enter"===c[d-1][0]&&c[d][1].type===c[d-1][1].type&&c[d][1].start.line!==c[d][1].end.line&&(v=d+1,m.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):m.pop(),d=m.length;d--;){var g=c.slice(m[d],m[d+1]),y=u.pop();l.unshift([y,y+g.length-1]),Ov(e,y,2,g)}for(d=-1;++d<l.length;)f[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return f}var Qv={tokenize:function(e,t){var n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):zv(t)?e.check(Zv,a,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return Kv(e),e}},Zv={tokenize:function(e,t,n){var r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Hv(e,i,"linePrefix")};function i(i){if(null===i||zv(i))return n(i);var a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};var Jv={tokenize:function(e){var t=this,n=e.attempt(Yv,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,Hv(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Qv,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};var em={resolveAll:im()},tm=rm("string"),nm=rm("text");function rm(e){return{tokenize:function(t){var n=this,r=this.parser.constructs[e],i=t.attempt(r,a,o);return a;function a(e){return s(e)?i(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),u;t.consume(e)}function u(e){return s(e)?(t.exit("data"),i(e)):(t.consume(e),u)}function s(e){if(null===e)return!0;var t=r[e],i=-1;if(t)for(;++i<t.length;){var a=t[i];if(!a.previous||a.previous.call(n,n.previous))return!0}return!1}},resolveAll:im("text"===e?am:void 0)}}function im(e){return function(t,n){var r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function am(e,t){for(var n=0;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){for(var r=e[n-1][1],i=t.sliceStream(r),a=i.length,o=-1,u=0,s=void 0;a--;){var c=i[a];if("string"===typeof c){for(o=c.length;32===c.charCodeAt(o-1);)u++,o--;if(o)break;o=-1}else if(-2===c)s=!0,u++;else if(-1!==c){a++;break}}if(u){var l={type:n===e.length||s||u<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-u,offset:r.end.offset-u,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function om(e,t,n){for(var r=[],i=-1;++i<e.length;){var a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}function um(e,t,n){var r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},a=[],o=[],u=[],s={consume:function(e){zv(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,y()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,!0},enter:function(e,t){var n=t||{};return n.type=e,n.start=d(),c.events.push(["enter",n,c]),u.push(n),n},exit:function(e){var t=u.pop();return t.end=d(),c.events.push(["exit",t,c]),t},attempt:m((function(e,t){g(e,t.from)})),check:m(v),interrupt:m(v,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:function(e,t){return function(e,t){var n,r=-1,i=[];for(;++r<e.length;){var a=e[r],o=void 0;if("string"===typeof a)o=a;else switch(a){case-5:o="\r";break;case-4:o="\n";break;case-3:o="\r\n";break;case-2:o=t?" ":"\t";break;case-1:if(!t&&n)continue;o=" ";break;default:o=String.fromCharCode(a)}n=-2===a,i.push(o)}return i.join("")}(f(e),t)},now:d,defineSkip:function(e){i[e.line]=e.column,y()},write:function(e){if(o=Sv(o,e),h(),null!==o[o.length-1])return[];return g(t,0),c.events=om(a,c.events,c),c.events}},l=t.tokenize.call(c,s);return t.resolveAll&&a.push(t),c;function f(e){return function(e,t){var n,r=t.start._index,i=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;r===a?n=[e[r].slice(i,o)]:(n=e.slice(r,a),i>-1&&(n[0]=n[0].slice(i)),o>0&&n.push(e[a].slice(0,o)));return n}(o,e)}function d(){return Object.assign({},r)}function h(){for(var e;r._index<o.length;){var t=o[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)p(t.charCodeAt(r._bufferIndex));else p(t)}}function p(e){void 0,e,l=l(e)}function v(e,t){t.restore()}function m(e,t){return function(n,i,a){var o,l,f,h;return Array.isArray(n)?p(n):"tokenize"in n?p([n]):function(e){return t;function t(t){var n=null!==t&&e[t],r=null!==t&&e.null;return p([].concat(pu(Array.isArray(n)?n:n?[n]:[]),pu(Array.isArray(r)?r:r?[r]:[])))(t)}}(n);function p(e){return o=e,l=0,0===e.length?a:v(e[l])}function v(e){return function(n){h=function(){var e=d(),t=c.previous,n=c.currentConstruct,i=c.events.length,a=Array.from(u);return{restore:o,from:i};function o(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=i,u=a,y()}}(),f=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return g(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,s,m,g)(n)}}function m(t){return!0,e(f,h),i}function g(e){return!0,h.restore(),++l<o.length?v(o[l]):a}}}function g(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&Ov(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}var sm={name:"thematicBreak",tokenize:function(e,t,n){var r,i=0;return function(t){return e.enter("thematicBreak"),r=t,a(t)};function a(u){return u===r?(e.enter("thematicBreakSequence"),o(u)):Lv(u)?Hv(e,a,"whitespace")(u):i<3||null!==u&&!zv(u)?n(u):(e.exit("thematicBreak"),t(u))}function o(t){return t===r?(e.consume(t),i++,o):(e.exit("thematicBreakSequence"),a(t))}}};var cm={name:"list",tokenize:function(e,t,n){var r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,o=0;return function(t){var i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:Fv(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(sm,n,s)(t):s(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(t)}return n(t)};function u(t){return Fv(t)&&++o<10?(e.consume(t),u):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),s(t)):n(t)}function s(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Yv,r.interrupt?n:c,e.attempt(lm,f,l))}function c(e){return r.containerState.initialBlankLine=!0,a++,f(e)}function l(t){return Lv(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),f):n(t)}function f(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){var r=this;return r.containerState._closeFlow=void 0,e.check(Yv,i,a);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Hv(e,t,"listItemIndent",r.containerState.size+1)(n)}function a(n){return r.containerState.furtherBlankLines||!Lv(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(fm,t,o)(n))}function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,Hv(e,e.attempt(cm,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},lm={tokenize:function(e,t,n){var r=this;return Hv(e,(function(e){var i=r.events[r.events.length-1];return!Lv(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},fm={tokenize:function(e,t,n){var r=this;return Hv(e,(function(e){var i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};var dm={name:"blockQuote",tokenize:function(e,t,n){var r=this;return function(t){if(62===t){var a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return Lv(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return Hv(e,e.attempt(dm,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}};function hm(e,t,n,r,i,a,o,u,s){var c=s||Number.POSITIVE_INFINITY,l=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),f;if(null===t||41===t||Iv(t))return n(t);return e.enter(r),e.enter(o),e.enter(u),e.enter("chunkString",{contentType:"string"}),p(t)};function f(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(u),f(t)):null===t||60===t||zv(t)?n(t):(e.consume(t),92===t?h:d)}function h(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function p(i){return 40===i?++l>c?n(i):(e.consume(i),p):41===i?l--?(e.consume(i),p):(e.exit("chunkString"),e.exit(u),e.exit(o),e.exit(r),t(i)):null===i||Bv(i)?l?n(i):(e.exit("chunkString"),e.exit(u),e.exit(o),e.exit(r),t(i)):Iv(i)?n(i):(e.consume(i),92===i?v:p)}function v(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function pm(e,t,n,r,i,a){var o,u=this,s=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),c};function c(f){return null===f||91===f||93===f&&!o||94===f&&!s&&"_hiddenFootnoteSupport"in u.parser.constructs||s>999?n(f):93===f?(e.exit(a),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):zv(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),l(f))}function l(t){return null===t||91===t||93===t||zv(t)||s++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o=o||!Lv(t),92===t?f:l)}function f(t){return 91===t||92===t||93===t?(e.consume(t),s++,l):l(t)}}function vm(e,t,n,r,i,a){var o;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),o=40===t?41:t,u};function u(n){return n===o?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),s(n))}function s(t){return t===o?(e.exit(a),u(o)):null===t?n(t):zv(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Hv(e,s,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===o||null===t||zv(t)?(e.exit("chunkString"),s(t)):(e.consume(t),92===t?l:c)}function l(t){return t===o||92===t?(e.consume(t),c):c(t)}}function mm(e,t){var n;return function r(i){if(zv(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(Lv(i))return Hv(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}function gm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var ym={name:"definition",tokenize:function(e,t,n){var r,i=this;return function(t){return e.enter("definition"),pm.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function a(t){return r=gm(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),mm(e,hm(e,e.attempt(bm,Hv(e,o,"whitespace"),Hv(e,o,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function o(a){return null===a||zv(a)?(e.exit("definition"),i.parser.defined.includes(r)||i.parser.defined.push(r),t(a)):n(a)}}},bm={tokenize:function(e,t,n){return function(t){return Bv(t)?mm(e,r)(t):n(t)};function r(t){return 34===t||39===t||40===t?vm(e,Hv(e,i,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function i(e){return null===e||zv(e)?t(e):n(e)}},partial:!0};var xm={name:"codeIndented",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("codeIndented"),Hv(e,i,"linePrefix",5)(t)};function i(e){var t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?u(t):zv(t)?e.attempt(wm,a,u)(t):(e.enter("codeFlowValue"),o(t))}function o(t){return null===t||zv(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),o)}function u(n){return e.exit("codeIndented"),t(n)}}},wm={tokenize:function(e,t,n){var r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):zv(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):Hv(e,a,"linePrefix",5)(t)}function a(e){var a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):zv(e)?i(e):n(e)}},partial:!0};var _m={name:"headingAtx",tokenize:function(e,t,n){var r=this,i=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),a(t)};function a(u){return 35===u&&i++<6?(e.consume(u),a):null===u||Bv(u)?(e.exit("atxHeadingSequence"),r.interrupt?t(u):o(u)):n(u)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),u(n)):null===n||zv(n)?(e.exit("atxHeading"),t(n)):Lv(n)?Hv(e,o,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function u(t){return 35===t?(e.consume(t),u):(e.exit("atxHeadingSequence"),o(t))}function s(t){return null===t||35===t||Bv(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),s)}},resolve:function(e,t){var n,r,i=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);i-2>a&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4);i>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},r={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},Ov(e,a,i-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};var km={name:"setextUnderline",tokenize:function(e,t,n){var r,i,a=this,o=a.events.length;for(;o--;)if("lineEnding"!==a.events[o][1].type&&"linePrefix"!==a.events[o][1].type&&"content"!==a.events[o][1].type){i="paragraph"===a.events[o][1].type;break}return function(t){if(!a.parser.lazy[a.now().line]&&(a.interrupt||i))return e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),r=t,u(t);return n(t)};function u(t){return t===r?(e.consume(t),u):(e.exit("setextHeadingLineSequence"),Hv(e,s,"lineSuffix")(t))}function s(r){return null===r||zv(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){var n,r,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),i||"definition"!==e[a][1].type||(i=a);var o={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",o,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=o;return e.push(["exit",o,t]),e}};var Em=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Om=["pre","script","style","textarea"],Sm={name:"htmlFlow",tokenize:function(e,t,n){var r,i,a,o,u,s=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c};function c(o){return 33===o?(e.consume(o),l):47===o?(e.consume(o),h):63===o?(e.consume(o),r=3,s.interrupt?t:M):Tv(o)?(e.consume(o),a=String.fromCharCode(o),i=!0,p):n(o)}function l(i){return 45===i?(e.consume(i),r=2,f):91===i?(e.consume(i),r=5,a="CDATA[",o=0,d):Tv(i)?(e.consume(i),r=4,s.interrupt?t:M):n(i)}function f(r){return 45===r?(e.consume(r),s.interrupt?t:M):n(r)}function d(r){return r===a.charCodeAt(o++)?(e.consume(r),o===a.length?s.interrupt?t:S:d):n(r)}function h(t){return Tv(t)?(e.consume(t),a=String.fromCharCode(t),p):n(t)}function p(o){return null===o||47===o||62===o||Bv(o)?47!==o&&i&&Om.includes(a.toLowerCase())?(r=1,s.interrupt?t(o):S(o)):Em.includes(a.toLowerCase())?(r=6,47===o?(e.consume(o),v):s.interrupt?t(o):S(o)):(r=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(o):i?g(o):m(o)):45===o||Mv(o)?(e.consume(o),a+=String.fromCharCode(o),p):n(o)}function v(r){return 62===r?(e.consume(r),s.interrupt?t:S):n(r)}function m(t){return Lv(t)?(e.consume(t),m):E(t)}function g(t){return 47===t?(e.consume(t),E):58===t||95===t||Tv(t)?(e.consume(t),y):Lv(t)?(e.consume(t),g):E(t)}function y(t){return 45===t||46===t||58===t||95===t||Mv(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),x):Lv(t)?(e.consume(t),b):g(t)}function x(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),u=t,w):Lv(t)?(e.consume(t),x):(u=null,_(t))}function w(t){return null===t||zv(t)?n(t):t===u?(e.consume(t),k):(e.consume(t),w)}function _(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||Bv(t)?b(t):(e.consume(t),_)}function k(e){return 47===e||62===e||Lv(e)?g(e):n(e)}function E(t){return 62===t?(e.consume(t),O):n(t)}function O(t){return Lv(t)?(e.consume(t),O):null===t||zv(t)?S(t):n(t)}function S(t){return 45===t&&2===r?(e.consume(t),j):60===t&&1===r?(e.consume(t),T):62===t&&4===r?(e.consume(t),N):63===t&&3===r?(e.consume(t),M):93===t&&5===r?(e.consume(t),P):!zv(t)||6!==r&&7!==r?null===t||zv(t)?A(t):(e.consume(t),S):e.check(Am,N,A)(t)}function A(t){return e.exit("htmlFlowData"),C(t)}function C(t){return null===t?R(t):zv(t)?e.attempt({tokenize:D,partial:!0},C,R)(t):(e.enter("htmlFlowData"),S(t))}function D(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return s.parser.lazy[s.now().line]?n(e):t(e)}}function j(t){return 45===t?(e.consume(t),M):S(t)}function T(t){return 47===t?(e.consume(t),a="",F):S(t)}function F(t){return 62===t&&Om.includes(a.toLowerCase())?(e.consume(t),N):Tv(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),F):S(t)}function P(t){return 93===t?(e.consume(t),M):S(t)}function M(t){return 62===t?(e.consume(t),N):45===t&&2===r?(e.consume(t),M):S(t)}function N(t){return null===t||zv(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),N)}function R(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){var t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},Am={tokenize:function(e,t,n){return function(r){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),e.attempt(Yv,t,n)}},partial:!0};var Cm={name:"codeFenced",tokenize:function(e,t,n){var r,i=this,a={tokenize:function(e,t,n){var i=0;return Hv(e,a,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function a(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),o(t)}function o(t){return t===r?(e.consume(t),i++,o):i<c?n(t):(e.exit("codeFencedFenceSequence"),Hv(e,u,"whitespace")(t))}function u(r){return null===r||zv(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0},o={tokenize:function(e,t,n){var r=this;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a}function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},u=this.events[this.events.length-1],s=u&&"linePrefix"===u[1].type?u[2].sliceSerialize(u[1],!0).length:0,c=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),r=t,l(t)};function l(t){return t===r?(e.consume(t),c++,l):(e.exit("codeFencedFenceSequence"),c<3?n(t):Hv(e,f,"whitespace")(t))}function f(t){return null===t||zv(t)?v(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||Bv(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Hv(e,h,"whitespace")(t)):96===t&&t===r?n(t):(e.consume(t),d)}function h(t){return null===t||zv(t)?v(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||zv(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(t)):96===t&&t===r?n(t):(e.consume(t),p)}function v(n){return e.exit("codeFencedFence"),i.interrupt?t(n):m(n)}function m(t){return null===t?y(t):zv(t)?e.attempt(o,e.attempt(a,y,s?Hv(e,m,"linePrefix",s+1):m),y)(t):(e.enter("codeFlowValue"),g(t))}function g(t){return null===t||zv(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),g)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};var Dm=document.createElement("i");function jm(e){var t="&"+e+";";Dm.innerHTML=t;var n=Dm.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}var Tm={name:"characterReference",tokenize:function(e,t,n){var r,i,a=this,o=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),u};function u(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),s):(e.enter("characterReferenceValue"),r=31,i=Mv,c(t))}function s(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,i=Pv,c):(e.enter("characterReferenceValue"),r=7,i=Fv,c(t))}function c(u){var s;return 59===u&&o?(s=e.exit("characterReferenceValue"),i!==Mv||jm(a.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)):i(u)&&o++<r?(e.consume(u),c):n(u)}}};var Fm={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Nv(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};var Pm={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Hv(e,t,"linePrefix")}}};var Mm={name:"labelEnd",tokenize:function(e,t,n){var r,i,a=this,o=a.events.length;for(;o--;)if(("labelImage"===a.events[o][1].type||"labelLink"===a.events[o][1].type)&&!a.events[o][1]._balanced){r=a.events[o][1];break}return function(t){if(!r)return n(t);return r._inactive?s(t):(i=a.parser.defined.includes(gm(a.sliceSerialize({start:r.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),u)};function u(n){return 40===n?e.attempt(Nm,t,i?t:s)(n):91===n?e.attempt(Rm,t,i?e.attempt(Im,t,s):s)(n):i?t(n):s(n)}function s(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){var n,r,i,a,o=e.length,u=0;for(;o--;)if(n=e[o][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[o][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[o][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=o,"labelLink"!==n.type)){u=2;break}}else"labelEnd"===n.type&&(i=o);var s={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},l={type:"labelText",start:Object.assign({},e[r+u+2][1].end),end:Object.assign({},e[i-2][1].start)};return a=Sv(a=[["enter",s,t],["enter",c,t]],e.slice(r+1,r+u+3)),a=Sv(a,[["enter",l,t]]),a=Sv(a,om(t.parser.constructs.insideSpan.null,e.slice(r+u+4,i-3),t)),a=Sv(a,[["exit",l,t],e[i-2],e[i-1],["exit",c,t]]),a=Sv(a,e.slice(i+1)),a=Sv(a,[["exit",s,t]]),Ov(e,r,e.length,a),e},resolveAll:function(e){var t,n=-1;for(;++n<e.length;)"labelImage"!==(t=e[n][1]).type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},Nm={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),mm(e,r)};function r(t){return 41===t?o(t):hm(e,i,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return Bv(t)?mm(e,a)(t):o(t)}function a(t){return 34===t||39===t||40===t?vm(e,mm(e,o),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):o(t)}function o(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Rm={tokenize:function(e,t,n){var r=this;return function(t){return pm.call(r,e,i,n,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(gm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}}},Im={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};var Bm={name:"labelStartImage",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:Mm.resolveAll};function zm(e){return null===e||Bv(e)||Uv(e)?1:qv(e)?2:void 0}var Lm={name:"attention",tokenize:function(e,t){var n,r=this.parser.constructs.attentionMarkers.null,i=this.previous,a=zm(i);return function(t){return e.enter("attentionSequence"),n=t,o(t)};function o(u){if(u===n)return e.consume(u),o;var s=e.exit("attentionSequence"),c=zm(u),l=!c||2===c&&a||r.includes(u),f=!a||2===a&&c||r.includes(i);return s._open=Boolean(42===n?l:l&&(a||!f)),s._close=Boolean(42===n?f:f&&(c||!l)),t(u)}},resolveAll:function(e,t){var n,r,i,a,o,u,s,c,l=-1;for(;++l<e.length;)if("enter"===e[l][0]&&"attentionSequence"===e[l][1].type&&e[l][1]._close)for(n=l;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[l][1]).charCodeAt(0)){if((e[n][1]._close||e[l][1]._open)&&(e[l][1].end.offset-e[l][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[l][1].end.offset-e[l][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[l][1].end.offset-e[l][1].start.offset>1?2:1;var f=Object.assign({},e[n][1].end),d=Object.assign({},e[l][1].start);Um(f,-u),Um(d,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[n][1].end)},o={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[l][1].start),end:d},i={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[l][1].start)},r={type:u>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},o.end)},e[n][1].end=Object.assign({},a.start),e[l][1].start=Object.assign({},o.end),s=[],e[n][1].end.offset-e[n][1].start.offset&&(s=Sv(s,[["enter",e[n][1],t],["exit",e[n][1],t]])),s=Sv(s,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",i,t]]),s=Sv(s,om(t.parser.constructs.insideSpan.null,e.slice(n+1,l),t)),s=Sv(s,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[l][1].end.offset-e[l][1].start.offset?(c=2,s=Sv(s,[["enter",e[l][1],t],["exit",e[l][1],t]])):c=0,Ov(e,n-1,l-n+3,s),l=n+s.length-c-2;break}l=-1;for(;++l<e.length;)"attentionSequence"===e[l][1].type&&(e[l][1].type="data");return e}};function Um(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var qm={name:"autolink",tokenize:function(e,t,n){var r=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return Tv(t)?(e.consume(t),a):Rv(t)?s(t):n(t)}function a(e){return 43===e||45===e||46===e||Mv(e)?o(e):s(e)}function o(t){return 58===t?(e.consume(t),u):(43===t||45===t||46===t||Mv(t))&&r++<32?(e.consume(t),o):s(t)}function u(t){return 62===t?(e.exit("autolinkProtocol"),d(t)):null===t||32===t||60===t||Iv(t)?n(t):(e.consume(t),u)}function s(t){return 64===t?(e.consume(t),r=0,c):Rv(t)?(e.consume(t),s):n(t)}function c(e){return Mv(e)?l(e):n(e)}function l(t){return 46===t?(e.consume(t),r=0,c):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",d(t)):f(t)}function f(t){return(45===t||Mv(t))&&r++<63?(e.consume(t),45===t?f:l):n(t)}function d(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}};var Wm={name:"htmlText",tokenize:function(e,t,n){var r,i,a,o,u=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),_):63===t?(e.consume(t),x):Tv(t)?(e.consume(t),O):n(t)}function c(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),i="CDATA[",a=0,v):Tv(t)?(e.consume(t),b):n(t)}function l(t){return 45===t?(e.consume(t),f):n(t)}function f(t){return null===t||62===t?n(t):45===t?(e.consume(t),d):h(t)}function d(e){return null===e||62===e?n(e):h(e)}function h(t){return null===t?n(t):45===t?(e.consume(t),p):zv(t)?(o=h,P(t)):(e.consume(t),h)}function p(t){return 45===t?(e.consume(t),N):h(t)}function v(t){return t===i.charCodeAt(a++)?(e.consume(t),a===i.length?m:v):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),g):zv(t)?(o=m,P(t)):(e.consume(t),m)}function g(t){return 93===t?(e.consume(t),y):m(t)}function y(t){return 62===t?N(t):93===t?(e.consume(t),y):m(t)}function b(t){return null===t||62===t?N(t):zv(t)?(o=b,P(t)):(e.consume(t),b)}function x(t){return null===t?n(t):63===t?(e.consume(t),w):zv(t)?(o=x,P(t)):(e.consume(t),x)}function w(e){return 62===e?N(e):x(e)}function _(t){return Tv(t)?(e.consume(t),k):n(t)}function k(t){return 45===t||Mv(t)?(e.consume(t),k):E(t)}function E(t){return zv(t)?(o=E,P(t)):Lv(t)?(e.consume(t),E):N(t)}function O(t){return 45===t||Mv(t)?(e.consume(t),O):47===t||62===t||Bv(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),N):58===t||95===t||Tv(t)?(e.consume(t),A):zv(t)?(o=S,P(t)):Lv(t)?(e.consume(t),S):N(t)}function A(t){return 45===t||46===t||58===t||95===t||Mv(t)?(e.consume(t),A):C(t)}function C(t){return 61===t?(e.consume(t),D):zv(t)?(o=C,P(t)):Lv(t)?(e.consume(t),C):S(t)}function D(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,j):zv(t)?(o=D,P(t)):Lv(t)?(e.consume(t),D):(e.consume(t),r=void 0,F)}function j(t){return t===r?(e.consume(t),T):null===t?n(t):zv(t)?(o=j,P(t)):(e.consume(t),j)}function T(e){return 62===e||47===e||Bv(e)?S(e):n(e)}function F(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||Bv(t)?S(t):(e.consume(t),F)}function P(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Hv(e,M,"linePrefix",u.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function M(t){return e.enter("htmlTextData"),o(t)}function N(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}}};var Hm={name:"labelStartLink",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:Mm.resolveAll};var $m={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),r};function r(r){return zv(r)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(r)):n(r)}}};var Vm,Gm,Ym,Km,Xm,Qm={name:"codeText",tokenize:function(e,t,n){var r,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),o(t)};function o(t){return 96===t?(e.consume(t),a++,o):(e.exit("codeTextSequence"),u(t))}function u(t){return null===t?n(t):96===t?(i=e.enter("codeTextSequence"),r=0,c(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),u):zv(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),u):(e.enter("codeTextData"),s(t))}function s(t){return null===t||32===t||96===t||zv(t)?(e.exit("codeTextData"),u(t)):(e.consume(t),s)}function c(n){return 96===n?(e.consume(n),r++,c):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",s(n))}},resolve:function(e){var t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};var Zm=(du(Vm={},42,cm),du(Vm,43,cm),du(Vm,45,cm),du(Vm,48,cm),du(Vm,49,cm),du(Vm,50,cm),du(Vm,51,cm),du(Vm,52,cm),du(Vm,53,cm),du(Vm,54,cm),du(Vm,55,cm),du(Vm,56,cm),du(Vm,57,cm),du(Vm,62,dm),Vm),Jm=du({},91,ym),eg=(du(Gm={},-2,xm),du(Gm,-1,xm),du(Gm,32,xm),Gm),tg=(du(Ym={},35,_m),du(Ym,42,sm),du(Ym,45,[km,sm]),du(Ym,60,Sm),du(Ym,61,km),du(Ym,95,sm),du(Ym,96,Cm),du(Ym,126,Cm),Ym),ng=(du(Km={},38,Tm),du(Km,92,Fm),Km),rg=(du(Xm={},-5,Pm),du(Xm,-4,Pm),du(Xm,-3,Pm),du(Xm,33,Bm),du(Xm,38,Tm),du(Xm,42,Lm),du(Xm,60,[qm,Wm]),du(Xm,91,Hm),du(Xm,92,[$m,Fm]),du(Xm,93,Mm),du(Xm,95,Lm),du(Xm,96,Qm),Xm),ig={null:[Lm,em]},ag={null:[42,95]},og={null:[]};var ug=/[\0\t\n\r]/g;function sg(e,t){var n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCharCode(n)}var cg=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lg(e){return e.replace(cg,fg)}function fg(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){var r=n.charCodeAt(1),i=120===r||88===r;return sg(n.slice(i?2:1),i?16:10)}return jm(n)||e}var dg={}.hasOwnProperty,hg=function(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=pg({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(re),autolinkProtocol:C,autolinkEmail:C,atxHeading:s(J),blockQuote:s(Y),characterEscape:C,characterReference:C,codeFenced:s(K),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(K,c),codeText:s(X,c),codeTextData:C,data:C,codeFlowValue:C,definition:s(Q),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(Z),hardBreakEscape:s(ee),hardBreakTrailing:s(ee),htmlFlow:s(te,c),htmlFlowData:C,htmlText:s(te,c),htmlTextData:C,image:s(ne),label:c,link:s(re),listItem:s(ae),listItemValue:v,listOrdered:s(ie,p),listUnordered:s(ie),paragraph:s(oe),reference:q,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(J),strong:s(ue),thematicBreak:s(ce)},exit:{atxHeading:f(),atxHeadingSequence:E,autolink:f(),autolinkEmail:G,autolinkProtocol:V,blockQuote:f(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:$,codeFenced:f(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:D,codeIndented:f(x),codeText:f(M),codeTextData:D,data:D,definition:f(),definitionDestinationString:k,definitionLabelString:w,definitionTitleString:_,emphasis:f(),hardBreakEscape:f(T),hardBreakTrailing:f(T),htmlFlow:f(F),htmlFlowData:D,htmlText:f(P),htmlTextData:D,image:f(R),label:B,labelText:I,lineEnding:j,link:f(N),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:W,resourceDestinationString:z,resourceTitleString:L,resource:U,setextHeading:f(A),setextHeadingLineSequence:S,setextHeadingText:O,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(e){for(var n={type:"root",children:[]},r=[],s=[],f={stack:[n],tokenStack:r,config:t,enter:l,exit:d,buffer:c,resume:h,setData:a,getData:o},p=-1;++p<e.length;){if("listOrdered"===e[p][1].type||"listUnordered"===e[p][1].type)if("enter"===e[p][0])s.push(p);else p=i(e,s.pop(),p)}for(p=-1;++p<e.length;){var v=t[e[p][0]];dg.call(v,e[p][1].type)&&v[e[p][1].type].call(Object.assign({sliceSerialize:e[p][2].sliceSerialize},f),e[p][1])}if(r.length>0){var m=r[r.length-1];(m[1]||mg).call(f,void 0,m[0])}for(n.position={start:u(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:u(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},p=-1;++p<t.transforms.length;)n=t.transforms[p](n)||n;return n}function i(e,t,n){for(var r,i,a,o,u=t-1,s=-1,c=!1;++u<=n;){var l=e[u];if("listUnordered"===l[1].type||"listOrdered"===l[1].type||"blockQuote"===l[1].type?("enter"===l[0]?s++:s--,o=void 0):"lineEndingBlank"===l[1].type?"enter"===l[0]&&(!r||o||s||a||(a=u),o=void 0):"linePrefix"===l[1].type||"listItemValue"===l[1].type||"listItemMarker"===l[1].type||"listItemPrefix"===l[1].type||"listItemPrefixWhitespace"===l[1].type||(o=void 0),!s&&"enter"===l[0]&&"listItemPrefix"===l[1].type||-1===s&&"exit"===l[0]&&("listUnordered"===l[1].type||"listOrdered"===l[1].type)){if(r){var f=u;for(i=void 0;f--;){var d=e[f];if("lineEnding"===d[1].type||"lineEndingBlank"===d[1].type){if("exit"===d[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),d[1].type="lineEnding",i=f}else if("linePrefix"!==d[1].type&&"blockQuotePrefix"!==d[1].type&&"blockQuotePrefixWhitespace"!==d[1].type&&"blockQuoteMarker"!==d[1].type&&"listItemIndent"!==d[1].type)break}a&&(!i||a<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:l[1].end),e.splice(i||u,0,["exit",r,l[2]]),u++,n++}"listItemPrefix"===l[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},l[1].start)},e.splice(u,0,["enter",r,l[2]]),u++,n++,a=void 0,o=!0)}}return e[t][1]._spread=c,n}function a(e,t){n[e]=t}function o(e){return n[e]}function u(e){return{line:e.line,column:e.column,offset:e.offset}}function s(e,t){return n;function n(n){l.call(this,e(n),n),t&&t.call(this,n)}}function c(){this.stack.push({type:"fragment",children:[]})}function l(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:u(t.start)},e}function f(e){return t;function t(t){e&&e.call(this,t),d.call(this,t)}}function d(e,t){var n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Vp({start:e.start,end:e.end})+"): it\u2019s not open");return r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||mg).call(this,e,r[0])),n.position.end=u(e.end),n}function h(){return _v(this.stack.pop())}function p(){a("expectingFirstListItemValue",!0)}function v(e){o("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),a("expectingFirstListItemValue"))}function m(){var e=this.resume();this.stack[this.stack.length-1].lang=e}function g(){var e=this.resume();this.stack[this.stack.length-1].meta=e}function y(){o("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function b(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function x(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=gm(this.sliceSerialize(e)).toLowerCase()}function _(){var e=this.resume();this.stack[this.stack.length-1].title=e}function k(){var e=this.resume();this.stack[this.stack.length-1].url=e}function E(e){var t=this.stack[this.stack.length-1];if(!t.depth){var n=this.sliceSerialize(e).length;t.depth=n}}function O(){a("setextHeadingSlurpLineEnding",!0)}function S(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function A(){a("setextHeadingSlurpLineEnding")}function C(e){var t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type||((n=se()).position={start:u(e.start)},t.children.push(n)),this.stack.push(n)}function D(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=u(e.end)}function j(e){var n=this.stack[this.stack.length-1];if(o("atHardBreak"))return n.children[n.children.length-1].position.end=u(e.end),void a("atHardBreak");!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(C.call(this,e),D.call(this,e))}function T(){a("atHardBreak",!0)}function F(){var e=this.resume();this.stack[this.stack.length-1].value=e}function P(){var e=this.resume();this.stack[this.stack.length-1].value=e}function M(){var e=this.resume();this.stack[this.stack.length-1].value=e}function N(){var e=this.stack[this.stack.length-1];o("inReference")?(e.type+="Reference",e.referenceType=o("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label),a("referenceType")}function R(){var e=this.stack[this.stack.length-1];o("inReference")?(e.type+="Reference",e.referenceType=o("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label),a("referenceType")}function I(e){var t=this.stack[this.stack.length-2],n=this.sliceSerialize(e);t.label=lg(n),t.identifier=gm(n).toLowerCase()}function B(){var e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];a("inReference",!0),"link"===n.type?n.children=e.children:n.alt=t}function z(){var e=this.resume();this.stack[this.stack.length-1].url=e}function L(){var e=this.resume();this.stack[this.stack.length-1].title=e}function U(){a("inReference")}function q(){a("referenceType","collapsed")}function W(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=gm(this.sliceSerialize(e)).toLowerCase(),a("referenceType","full")}function H(e){a("characterReferenceType",e.type)}function $(e){var t,n=this.sliceSerialize(e),r=o("characterReferenceType");r?(t=sg(n,"characterReferenceMarkerNumeric"===r?10:16),a("characterReferenceType")):t=jm(n);var i=this.stack.pop();i.value+=t,i.position.end=u(e.end)}function V(e){D.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function G(e){D.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function Y(){return{type:"blockquote",children:[]}}function K(){return{type:"code",lang:null,meta:null,value:""}}function X(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Z(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:void 0,children:[]}}function ee(){return{type:"break"}}function te(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function re(){return{type:"link",title:null,url:"",children:[]}}function ie(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ae(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function oe(){return{type:"paragraph",children:[]}}function ue(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function ce(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Kv(e););return e}(function(){var e={defined:[],lazy:{},constructs:Cv([r].concat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).extensions||[])),content:t($v),document:t(Vv),flow:t(Jv),string:t(tm),text:t(nm)};return e;function t(t){return function(n){return um(e,t,n)}}}(n).document().write(function(){var e,t=1,n="",r=!0;return function(i,a,o){var u,s,c,l,f,d=[];for(i=n+i.toString(a),c=0,n="",r&&(65279===i.charCodeAt(0)&&c++,r=void 0);c<i.length;){if(ug.lastIndex=c,l=(u=ug.exec(i))&&void 0!==u.index?u.index:i.length,f=i.charCodeAt(l),!u){n=i.slice(c);break}if(10===f&&c===l&&e)d.push(-3),e=void 0;else switch(e&&(d.push(-5),e=void 0),c<l&&(d.push(i.slice(c,l)),t+=l-c),f){case 0:d.push(65533),t++;break;case 9:for(s=4*Math.ceil(t/4),d.push(-2);t++<s;)d.push(-1);break;case 10:d.push(-4),t=1;break;default:e=!0,t=1}c=l+1}return o&&(e&&d.push(-5),n&&d.push(n),d.push(null)),d}}()(e,t,!0))))};function pg(e,t){for(var n=-1;++n<t.length;){var r=t[n];Array.isArray(r)?pg(e,r):vg(e,r)}return e}function vg(e,t){var n;for(n in t)if(dg.call(t,n)){var r="canContainEols"===n||"transforms"===n,i=(dg.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),a=t[n];a&&(r?e[n]=[].concat(pu(i),pu(a)):Object.assign(i,a))}}function mg(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Vp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Vp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Vp({start:t.start,end:t.end})+") is still open")}var gg=function(e){var t=this;Object.assign(this,{Parser:function(n){var r=t.data("settings");return hg(n,Object.assign({},r,e,{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}})},yg=function(e,t,n){var r={type:String(e)};return void 0!==n&&null!==n||"string"!==typeof t&&!Array.isArray(t)?Object.assign(r,t):n=t,Array.isArray(n)?r.children=n:void 0!==n&&null!==n&&(r.value=String(n)),r},bg=function(e){if(void 0===e||null===e)return _g;if("string"===typeof e)return function(e){return wg(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?xg(e):function(e){return wg(t);function t(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return wg(e);throw new Error("Expected function, string, or object as test")};function xg(e){for(var t=[],n=-1;++n<e.length;)t[n]=bg(e[n]);return wg((function(){for(var e=-1,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++e<t.length;){var a;if((a=t[e]).call.apply(a,[this].concat(r)))return!0}return!1}))}function wg(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Boolean(e.call.apply(e,[this].concat(n)))}}function _g(){return!0}var kg=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);var i=bg(t),a=r?-1:1;!function e(o,u,s){var c,l="object"===typeof o&&null!==o?o:{};"string"===typeof l.type&&(c="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0,Object.defineProperty(f,"name",{value:"node ("+l.type+(c?"<"+c+">":"")+")"}));return f;function f(){var c,l,f,d=[];if((!t||i(o,u,s[s.length-1]||null))&&(d=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[true,e];return[e]}(n(o,s)),false===d[0]))return d;if(o.children&&"skip"!==d[0])for(l=(r?o.children.length:-1)+a,f=s.concat(o);l>-1&&l<o.children.length;){if(c=e(o.children[l],l,f)(),false===c[0])return c;l="number"===typeof c[1]?c[1]:l+a}return d}}(e,null,[])()};var Eg=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),kg(e,t,(function(e,t){var r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)},Og=Ag("start"),Sg=Ag("end");function Ag(e){return function(t){var n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}var Cg=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);var i=bg(t),a=r?-1:1;!function e(o,u,s){var c,l="object"===typeof o&&null!==o?o:{};"string"===typeof l.type&&(c="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0,Object.defineProperty(f,"name",{value:"node ("+l.type+(c?"<"+c+">":"")+")"}));return f;function f(){var c,l,f,d=[];if((!t||i(o,u,s[s.length-1]||null))&&(d=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[true,e];return[e]}(n(o,s)),false===d[0]))return d;if(o.children&&"skip"!==d[0])for(l=(r?o.children.length:-1)+a,f=s.concat(o);l>-1&&l<o.children.length;){if(c=e(o.children[l],l,f)(),false===c[0])return c;l="number"===typeof c[1]?c[1]:l+a}return d}}(e,null,[])()};var Dg={}.hasOwnProperty;function jg(e){var t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),Cg(e,t,(function(e,t){var r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)}(e,"definition",(function(e){var n=Tg(e.identifier);n&&!Dg.call(t,n)&&(t[n]=e)})),function(e){var n=Tg(e);return n&&Dg.call(t,n)?t[n]:null}}function Tg(e){return String(e||"").toUpperCase()}var Fg={}.hasOwnProperty;function Pg(e,t){var n=t.data||{};return"value"in t&&!(Fg.call(n,"hName")||Fg.call(n,"hProperties")||Fg.call(n,"hChildren"))?e.augment(t,yg("text",t.value)):e(t,"div",Rg(e,t))}function Mg(e,t,n){var r,i=t&&t.type;if(!i)throw new Error("Expected node, got `"+t+"`");return("function"===typeof(r=Fg.call(e.handlers,i)?e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?Ng:e.unknownHandler)?r:Pg)(e,t,n)}function Ng(e,t){return"children"in t?mu(mu({},t),{},{children:Rg(e,t)}):t}function Rg(e,t){var n=[];if("children"in t)for(var r=t.children,i=-1;++i<r.length;){var a=Mg(e,r[i],t);if(a){if(i&&"break"===r[i-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&"element"===a.type)){var o=a.children[0];o&&"text"===o.type&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(a)?n.push.apply(n,pu(a)):n.push(a)}}return n}var Ig={'"':"quot","&":"amp","<":"lt",">":"gt"};function Bg(e,t){var n=function(e){return e.replace(/["&<>]/g,(function(e){return"&"+Ig[e]+";"}))}(function(e){var t=[],n=-1,r=0,i=0;for(;++n<e.length;){var a=e.charCodeAt(n),o="";if(37===a&&Mv(e.charCodeAt(n+1))&&Mv(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){var u=e.charCodeAt(n+1);a<56320&&u>56319&&u<57344?(o=String.fromCharCode(a,u),i=1):o="\ufffd"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}(e||""));if(!t)return n;var r=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),o=n.indexOf("/");return r<0||o>-1&&r>o||i>-1&&r>i||a>-1&&r>a||t.test(n.slice(0,r))?n:""}function zg(e,t){var n=[],r=-1;for(t&&n.push(yg("text","\n"));++r<e.length;)r&&n.push(yg("text","\n")),n.push(e[r]);return t&&e.length>0&&n.push(yg("text","\n")),n}function Lg(e,t){var n,r=String(t.identifier),i=Bg(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);-1===a?(e.footnoteOrder.push(r),e.footnoteCounts[r]=1,n=e.footnoteOrder.length):(e.footnoteCounts[r]++,n=a+1);var o=e.footnoteCounts[r];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[yg("text",String(n))])])}var Ug=n(2366);function qg(e,t){var n=t.referenceType,r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return yg("text","!["+t.alt+r);var i=Rg(e,t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift(yg("text","["));var o=i[i.length-1];return o&&"text"===o.type?o.value+=r:i.push(yg("text",r)),i}function Wg(e){var t=e.spread;return void 0===t||null===t?e.children.length>1:t}var Hg={blockquote:function(e,t){return e(t,"blockquote",zg(Rg(e,t),!0))},break:function(e,t){return[e(t,"br"),yg("text","\n")]},code:function(e,t){var n=t.value?t.value+"\n":"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);var a=e(t,"code",i,[yg("text",n)]);return t.meta&&(a.data={meta:t.meta}),e(t.position,"pre",[a])},delete:function(e,t){return e(t,"del",Rg(e,t))},emphasis:function(e,t){return e(t,"em",Rg(e,t))},footnoteReference:Lg,footnote:function(e,t){for(var n=e.footnoteById,r=1;r in n;)r++;var i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Lg(e,{type:"footnoteReference",identifier:i,position:t.position})},heading:function(e,t){return e(t,"h"+t.depth,Rg(e,t))},html:function(e,t){return e.dangerous?e.augment(t,yg("raw",t.value)):null},imageReference:function(e,t){var n=e.definition(t.identifier);if(!n)return qg(e,t);var r={src:Ug(n.url||""),alt:t.alt};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"img",r)},image:function(e,t){var n={src:Ug(t.url),alt:t.alt};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"img",n)},inlineCode:function(e,t){return e(t,"code",[yg("text",t.value.replace(/\r?\n|\r/g," "))])},linkReference:function(e,t){var n=e.definition(t.identifier);if(!n)return qg(e,t);var r={href:Ug(n.url||"")};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"a",r,Rg(e,t))},link:function(e,t){var n={href:Ug(t.url)};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"a",n,Rg(e,t))},listItem:function(e,t,n){var r,i=Rg(e,t),a=n?function(e){var t=e.spread,n=e.children,r=-1;for(;!t&&++r<n.length;)t=Wg(n[r]);return Boolean(t)}(n):Wg(t),o={},u=[];"boolean"===typeof t.checked&&(i[0]&&"element"===i[0].type&&"p"===i[0].tagName?r=i[0]:(r=e(null,"p",[]),i.unshift(r)),r.children.length>0&&r.children.unshift(yg("text"," ")),r.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),o.className=["task-list-item"]);for(var s=-1;++s<i.length;){var c=i[s];(a||0!==s||"element"!==c.type||"p"!==c.tagName)&&u.push(yg("text","\n")),"element"!==c.type||"p"!==c.tagName||a?u.push(c):u.push.apply(u,pu(c.children))}var l=i[i.length-1];return!l||!a&&"tagName"in l&&"p"===l.tagName||u.push(yg("text","\n")),e(t,"li",o,u)},list:function(e,t){var n={},r=t.ordered?"ol":"ul",i=Rg(e,t),a=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++a<i.length;){var o=i[a];if("element"===o.type&&"li"===o.tagName&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,zg(i,!0))},paragraph:function(e,t){return e(t,"p",Rg(e,t))},root:function(e,t){return e.augment(t,yg("root",zg(Rg(e,t))))},strong:function(e,t){return e(t,"strong",Rg(e,t))},table:function(e,t){for(var n=t.children,r=-1,i=t.align||[],a=[];++r<n.length;){for(var o=n[r].children,u=0===r?"th":"td",s=[],c=-1,l=t.align?i.length:o.length;++c<l;){var f=o[c];s.push(e(f,u,{align:i[c]},f?Rg(e,f):[]))}a[r]=e(n[r],"tr",zg(s,!0))}return e(t,"table",zg([e(a[0].position,"thead",zg([a[0]],!0))].concat(a[1]?e({start:Og(a[1]),end:Sg(a[a.length-1])},"tbody",zg(a.slice(1),!0)):[]),!0))},text:function(e,t){return e.augment(t,yg("text",String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))},thematicBreak:function(e,t){return e(t,"hr")},toml:$g,yaml:$g,definition:$g,footnoteDefinition:$g};function $g(){return null}var Vg={}.hasOwnProperty;function Gg(e,t){var n=function(e,t){var n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=void 0===n.clobberPrefix||null===n.clobberPrefix?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=jg(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=a,o.handlers=mu(mu({},Hg),n.handlers),o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,Eg(e,"footnoteDefinition",(function(e){var t=String(e.identifier).toUpperCase();Vg.call(i,t)||(i[t]=e)})),o;function a(e,t){if(e&&"data"in e&&e.data){var n=e.data;n.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties=mu(mu({},t.properties),n.hProperties)),"children"in t&&t.children&&n.hChildren&&(t.children=n.hChildren)}if(e){var r="type"in e?e:{position:e};(i=r)&&i.position&&i.position.start&&i.position.start.line&&i.position.start.column&&i.position.end&&i.position.end.line&&i.position.end.column&&(t.position={start:Og(r),end:Sg(r)})}var i;return t}function o(e,t,n,r){return Array.isArray(n)&&(r=n,n={}),a(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}(e,t),r=Mg(n,e,null),i=function(e){for(var t=-1,n=[];++t<e.footnoteOrder.length;){var r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(r){for(var i=Rg(e,r),a=String(r.identifier),o=Bg(a.toLowerCase()),u=0,s=[];++u<=e.footnoteCounts[a];){var c={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(u>1?"-"+u:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"\u21a9"}]};u>1&&c.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(u)}]}),s.length>0&&s.push({type:"text",value:" "}),s.push(c)}var l=i[i.length-1];if(l&&"element"===l.type&&"p"===l.tagName){var f,d=l.children[l.children.length-1];d&&"text"===d.type?d.value+=" ":l.children.push({type:"text",value:" "}),(f=l.children).push.apply(f,s)}else i.push.apply(i,s);var h={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:zg(i,!0)};r.position&&(h.position=r.position),n.push(h)}}return 0===n.length?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:"h2",properties:{id:"footnote-label",className:["sr-only"]},children:[yg("text",e.footnoteLabel)]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:zg(n,!0)},{type:"text",value:"\n"}]}}(n);return i&&r.children.push(yg("text","\n"),i),Array.isArray(r)?{type:"root",children:r}:r}var Yg=function(e,t){return e&&"run"in e?function(e,t){return function(n,r,i){e.run(Gg(n,t),r,(function(e){i(e)}))}}(e,t):function(e){return function(t){return Gg(t,e)}}(e||t)};var Kg=n(2007),Xg=n.n(Kg),Qg=uu((function e(t,n,r){au(this,e),this.property=t,this.normal=n,r&&(this.space=r)}));function Zg(e,t){for(var n={},r={},i=-1;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Qg(n,r,t)}function Jg(e){return e.toLowerCase()}Qg.prototype.property={},Qg.prototype.normal={},Qg.prototype.space=null;var ey=uu((function e(t,n){au(this,e),this.property=t,this.attribute=n}));ey.prototype.space=null,ey.prototype.boolean=!1,ey.prototype.booleanish=!1,ey.prototype.overloadedBoolean=!1,ey.prototype.number=!1,ey.prototype.commaSeparated=!1,ey.prototype.spaceSeparated=!1,ey.prototype.commaOrSpaceSeparated=!1,ey.prototype.mustUseProperty=!1,ey.prototype.defined=!1;var ty=0,ny=cy(),ry=cy(),iy=cy(),ay=cy(),oy=cy(),uy=cy(),sy=cy();function cy(){return Math.pow(2,++ty)}var ly=Object.keys(i),fy=function(e){Ip(n,e);var t=qp(n);function n(e,r,a,o){var u;au(this,n);var s=-1;if(dy(ji(u=t.call(this,e,r)),"space",o),"number"===typeof a)for(;++s<ly.length;){var c=ly[s];dy(ji(u),ly[s],(a&i[c])===i[c])}return u}return uu(n)}(ey);function dy(e,t,n){n&&(e[t]=n)}fy.prototype.defined=!0;var hy={}.hasOwnProperty;function py(e){var t,n={},r={};for(t in e.properties)if(hy.call(e.properties,t)){var i=e.properties[t],a=new fy(t,e.transform(e.attributes||{},t),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(t)&&(a.mustUseProperty=!0),n[t]=a,r[Jg(t)]=t,r[Jg(a.attribute)]=t}return new Qg(n,r,e.space)}var vy=py({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),my=py({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function gy(e,t){return t in e?e[t]:t}function yy(e,t){return gy(e,t.toLowerCase())}var by=py({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:yy,properties:{xmlns:null,xmlnsXLink:null}}),xy=py({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ry,ariaAutoComplete:null,ariaBusy:ry,ariaChecked:ry,ariaColCount:ay,ariaColIndex:ay,ariaColSpan:ay,ariaControls:oy,ariaCurrent:null,ariaDescribedBy:oy,ariaDetails:null,ariaDisabled:ry,ariaDropEffect:oy,ariaErrorMessage:null,ariaExpanded:ry,ariaFlowTo:oy,ariaGrabbed:ry,ariaHasPopup:null,ariaHidden:ry,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:oy,ariaLevel:ay,ariaLive:null,ariaModal:ry,ariaMultiLine:ry,ariaMultiSelectable:ry,ariaOrientation:null,ariaOwns:oy,ariaPlaceholder:null,ariaPosInSet:ay,ariaPressed:ry,ariaReadOnly:ry,ariaRelevant:null,ariaRequired:ry,ariaRoleDescription:oy,ariaRowCount:ay,ariaRowIndex:ay,ariaRowSpan:ay,ariaSelected:ry,ariaSetSize:ay,ariaSort:null,ariaValueMax:ay,ariaValueMin:ay,ariaValueNow:ay,ariaValueText:null,role:null}}),wy=py({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:yy,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:uy,acceptCharset:oy,accessKey:oy,action:null,allow:null,allowFullScreen:ny,allowPaymentRequest:ny,allowUserMedia:ny,alt:null,as:null,async:ny,autoCapitalize:null,autoComplete:oy,autoFocus:ny,autoPlay:ny,capture:ny,charSet:null,checked:ny,cite:null,className:oy,cols:ay,colSpan:null,content:null,contentEditable:ry,controls:ny,controlsList:oy,coords:ay|uy,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ny,defer:ny,dir:null,dirName:null,disabled:ny,download:iy,draggable:ry,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ny,formTarget:null,headers:oy,height:ay,hidden:ny,high:ay,href:null,hrefLang:null,htmlFor:oy,httpEquiv:oy,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:ny,itemId:null,itemProp:oy,itemRef:oy,itemScope:ny,itemType:oy,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ny,low:ay,manifest:null,max:null,maxLength:ay,media:null,method:null,min:null,minLength:ay,multiple:ny,muted:ny,name:null,nonce:null,noModule:ny,noValidate:ny,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ny,optimum:ay,pattern:null,ping:oy,placeholder:null,playsInline:ny,poster:null,preload:null,readOnly:ny,referrerPolicy:null,rel:oy,required:ny,reversed:ny,rows:ay,rowSpan:ay,sandbox:oy,scope:null,scoped:ny,seamless:ny,selected:ny,shape:null,size:ay,sizes:null,slot:null,span:ay,spellCheck:ry,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ay,step:null,style:null,tabIndex:ay,target:null,title:null,translate:null,type:null,typeMustMatch:ny,useMap:null,value:ry,width:ay,wrap:null,align:null,aLink:null,archive:oy,axis:null,background:null,bgColor:null,border:ay,borderColor:null,bottomMargin:ay,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ny,declare:ny,event:null,face:null,frame:null,frameBorder:null,hSpace:ay,leftMargin:ay,link:null,longDesc:null,lowSrc:null,marginHeight:ay,marginWidth:ay,noResize:ny,noHref:ny,noShade:ny,noWrap:ny,object:null,profile:null,prompt:null,rev:null,rightMargin:ay,rules:null,scheme:null,scrolling:ry,standby:null,summary:null,text:null,topMargin:ay,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ay,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ny,disableRemotePlayback:ny,prefix:null,property:null,results:ay,security:null,unselectable:null}}),_y=py({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:gy,properties:{about:sy,accentHeight:ay,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ay,amplitude:ay,arabicForm:null,ascent:ay,attributeName:null,attributeType:null,azimuth:ay,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ay,by:null,calcMode:null,capHeight:ay,className:oy,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ay,diffuseConstant:ay,direction:null,display:null,dur:null,divisor:ay,dominantBaseline:null,download:ny,dx:null,dy:null,edgeMode:null,editable:null,elevation:ay,enableBackground:null,end:null,event:null,exponent:ay,externalResourcesRequired:null,fill:null,fillOpacity:ay,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:uy,g2:uy,glyphName:uy,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ay,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ay,horizOriginX:ay,horizOriginY:ay,id:null,ideographic:ay,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ay,k:ay,k1:ay,k2:ay,k3:ay,k4:ay,kernelMatrix:sy,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ay,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ay,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ay,overlineThickness:ay,paintOrder:null,panose1:null,path:null,pathLength:ay,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:oy,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ay,pointsAtY:ay,pointsAtZ:ay,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:sy,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:sy,rev:sy,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:sy,requiredFeatures:sy,requiredFonts:sy,requiredFormats:sy,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ay,specularExponent:ay,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ay,strikethroughThickness:ay,string:null,stroke:null,strokeDashArray:sy,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ay,strokeOpacity:ay,strokeWidth:null,style:null,surfaceScale:ay,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:sy,tabIndex:ay,tableValues:null,target:null,targetX:ay,targetY:ay,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:sy,to:null,transform:null,u1:null,u2:null,underlinePosition:ay,underlineThickness:ay,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ay,values:null,vAlphabetic:ay,vMathematical:ay,vectorEffect:null,vHanging:ay,vIdeographic:ay,version:null,vertAdvY:ay,vertOriginX:ay,vertOriginY:ay,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ay,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ky=Zg([my,vy,by,xy,wy],"html"),Ey=Zg([my,vy,by,xy,_y],"svg");function Oy(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return function(t){Eg(t,"element",(function(t,n,r){var i,a=r;if(e.allowedElements?i=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(i=e.disallowedElements.includes(t.tagName)),!i&&e.allowElement&&"number"===typeof n&&(i=!e.allowElement(t,n,a)),i&&"number"===typeof n){var o;if(e.unwrapDisallowed&&t.children)(o=a.children).splice.apply(o,[n,1].concat(pu(t.children)));else a.children.splice(n,1);return n}}))}}var Sy=["http","https","mailto","tel"];function Ay(e){var t=e&&"object"===typeof e&&"text"===e.type?e.value||"":e;return"string"===typeof t&&""===t.replace(/[ \t\n\f\r]/g,"")}var Cy=/^data[-\w.:]+$/i,Dy=/-[a-z]/g,jy=/[A-Z]/g;function Ty(e){return"-"+e.toLowerCase()}function Fy(e){return e.charAt(1).toUpperCase()}var Py={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var My=n(6426),Ny={}.hasOwnProperty,Ry=new Set(["table","thead","tbody","tfoot","tr"]);function Iy(e,t){for(var n,r=[],i=-1;++i<t.children.length;)"element"===(n=t.children[i]).type?r.push(By(e,n,i,t)):"text"===n.type?"element"===t.type&&Ry.has(t.tagName)&&Ay(n)||r.push(n.value):"raw"!==n.type||e.options.skipHtml||r.push(n.value);return r}function By(e,t,n,r){var i,a=e.options,o=e.schema,u=t.tagName,s={},c=o;if("html"===o.space&&"svg"===u&&(c=Ey,e.schema=c),t.properties)for(i in t.properties)Ny.call(t.properties,i)&&Ly(s,i,t.properties[i],e);"ol"!==u&&"ul"!==u||e.listDepth++;var l=Iy(e,t);"ol"!==u&&"ul"!==u||e.listDepth--,e.schema=o;var f,d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=a.components&&Ny.call(a.components,u)?a.components[u]:u,p="string"===typeof h||h===_.Fragment;if(!Vd.isValidElementType(h))throw new TypeError("Component for name `".concat(u,"` not defined or is not renderable"));if(s.key=[u,d.start.line,d.start.column,n].join("-"),"a"===u&&a.linkTarget&&(s.target="function"===typeof a.linkTarget?a.linkTarget(String(s.href||""),t.children,"string"===typeof s.title?s.title:null):a.linkTarget),"a"===u&&a.transformLinkUri&&(s.href=a.transformLinkUri(String(s.href||""),t.children,"string"===typeof s.title?s.title:null)),p||"code"!==u||"element"!==r.type||"pre"===r.tagName||(s.inline=!0),p||"h1"!==u&&"h2"!==u&&"h3"!==u&&"h4"!==u&&"h5"!==u&&"h6"!==u||(s.level=Number.parseInt(u.charAt(1),10)),"img"===u&&a.transformImageUri&&(s.src=a.transformImageUri(String(s.src||""),String(s.alt||""),"string"===typeof s.title?s.title:null)),!p&&"li"===u&&"element"===r.type){var v=function(e){var t=-1;for(;++t<e.children.length;){var n=e.children[t];if("element"===n.type&&"input"===n.tagName)return n}return null}(t);s.checked=v&&v.properties?Boolean(v.properties.checked):null,s.index=zy(r,t),s.ordered="ol"===r.tagName}return p||"ol"!==u&&"ul"!==u||(s.ordered="ol"===u,s.depth=e.listDepth),"td"!==u&&"th"!==u||(s.align&&(s.style||(s.style={}),s.style.textAlign=s.align,delete s.align),p||(s.isHeader="th"===u)),p||"tr"!==u||"element"!==r.type||(s.isHeader=Boolean("thead"===r.tagName)),a.sourcePos&&(s["data-sourcepos"]=[(f=d).start.line,":",f.start.column,"-",f.end.line,":",f.end.column].map((function(e){return String(e)})).join("")),!p&&a.rawSourcePos&&(s.sourcePosition=t.position),!p&&a.includeElementIndex&&(s.index=zy(r,t),s.siblingCount=zy(r)),p||(s.node=t),l.length>0?_.createElement(h,s,l):_.createElement(h,s)}function zy(e,t){for(var n=-1,r=0;++n<e.children.length&&e.children[n]!==t;)"element"===e.children[n].type&&r++;return r}function Ly(e,t,n,r){var i=function(e,t){var n=Jg(t),r=t,i=ey;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Cy.test(t)){if("-"===t.charAt(4)){var a=t.slice(5).replace(Dy,Fy);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{var o=t.slice(4);if(!Dy.test(o)){var u=o.replace(jy,Ty);"-"!==u.charAt(0)&&(u="-"+u),t="data"+u}}i=fy}return new i(r,t)}(r.schema,t),a=n;null!==a&&void 0!==a&&a===a&&(Array.isArray(a)&&(a=i.commaSeparated?function(e,t){var n=t||{};return""===e[e.length-1]&&(e=e.concat("")),e.join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(a):function(e){return e.join(" ").trim()}(a)),"style"===i.property&&"string"===typeof a&&(a=function(e){var t={};try{My(e,n)}catch(r){}return t;function n(e,n){var r="-ms-"===e.slice(0,4)?"ms-".concat(e.slice(4)):e;t[r.replace(/-([a-z])/g,Uy)]=n}}(a)),i.space&&i.property?e[Ny.call(Py,i.property)?Py[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function Uy(e,t){return t.toUpperCase()}var qy={}.hasOwnProperty,Wy={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Hy(e){for(var t in Wy)if(qy.call(Wy,t)&&qy.call(e,t)){var n=Wy[t];console.warn("[react-markdown] Warning: please ".concat(n.to?"use `".concat(n.to,"` instead of"):"remove"," `").concat(t,"` (see <").concat("https://github.com/remarkjs/react-markdown/blob/main/changelog.md","#").concat(n.id,"> for more info)")),delete Wy[t]}var r=hv().use(gg).use(e.remarkPlugins||[]).use(Yg,mu(mu({},e.remarkRehypeOptions),{},{allowDangerousHtml:!0})).use(e.rehypePlugins||[]).use(Oy,e),i=new iv;"string"===typeof e.children?i.value=e.children:void 0!==e.children&&null!==e.children&&console.warn("[react-markdown] Warning: please pass a string as `children` (not: `".concat(e.children,"`)"));var a=r.runSync(r.parse(i),i);if("root"!==a.type)throw new TypeError("Expected a `root` node");var o=_.createElement(_.Fragment,{},Iy({options:e,schema:ky,listDepth:0},a));return e.className&&(o=_.createElement("div",{className:e.className},o)),o}Hy.defaultProps={transformLinkUri:function(e){var t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;var r=t.indexOf(":");if(-1===r)return t;for(var i=-1;++i<Sy.length;){var a=Sy[i];if(r===a.length&&t.slice(0,a.length).toLowerCase()===a)return t}return-1!==(i=t.indexOf("?"))&&r>i||-1!==(i=t.indexOf("#"))&&r>i?t:"javascript:void(0)"}},Hy.propTypes={children:Kg.string,className:Kg.string,allowElement:Kg.func,allowedElements:Kg.arrayOf(Kg.string),disallowedElements:Kg.arrayOf(Kg.string),unwrapDisallowed:Kg.bool,remarkPlugins:Kg.arrayOf(Kg.oneOfType([Kg.object,Kg.func,Kg.arrayOf(Kg.oneOfType([Kg.object,Kg.func]))])),rehypePlugins:Kg.arrayOf(Kg.oneOfType([Kg.object,Kg.func,Kg.arrayOf(Kg.oneOfType([Kg.object,Kg.func]))])),sourcePos:Kg.bool,rawSourcePos:Kg.bool,skipHtml:Kg.bool,includeElementIndex:Kg.bool,transformLinkUri:Kg.oneOfType([Kg.func,Kg.bool]),linkTarget:Kg.oneOfType([Kg.func,Kg.string]),transformImageUri:Kg.func,components:Kg.object};var $y={width:"100%",border:"1px solid grey",boxShadow:"0 1px 2px 0 grey",marginBottom:"15px"};function Vy(e){var t=e.instruction,n=D((0,_.useState)(0),2),r=n[0],i=n[1];return(0,Jo.jsxs)(Nf,{style:{height:"100%"},children:[(0,Jo.jsx)(Nf.Row,{children:(0,Jo.jsxs)(Nf.Column,{children:[(0,Jo.jsx)(Dd,{children:t.title}),(0,Jo.jsx)(Hy,{linkTarget:"_blank",children:t.introduction})]})}),(0,Jo.jsxs)(Nf.Row,{style:{height:"100%",overflow:"auto"},children:[(0,Jo.jsx)(Nf.Column,{width:"5",style:{height:"100%"},children:(0,Jo.jsx)(Np.Group,{vertical:!0,children:t.steps.map((function(e,t){return(0,Jo.jsx)(Np,{active:t===r,onClick:function(){return i(t)},children:(0,Jo.jsxs)(Np.Content,{children:[(0,Jo.jsx)(Np.Title,{children:e.title}),(0,Jo.jsx)(Np.Description,{children:e.description})]})},e.title)}))})}),(0,Jo.jsx)(Nf.Column,{width:"11",style:{height:"100%"},children:(0,Jo.jsx)(Uf,{style:{maxHeight:"100%"},children:(0,Jo.jsx)(Mh,{children:t.steps[r].items.map((function(e,t){return(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(Mh.Icon,{name:"play"}),(0,Jo.jsxs)(Mh.Content,{children:[(0,Jo.jsx)(Hy,{linkTarget:"_blank",children:e.text}),e.image?(0,Jo.jsx)("img",{style:mu(mu({},$y),e.image_style),src:e.image,alt:"loading..."}):null]})]},t)}))})})})]})]})}var Gy=n(9275),Yy=n(3953),Ky={title:"Google Takeout",introduction:"If you have a Google account, a lot of things that you do online are automatically\n  documented. Google is legally required to give you access to this data, and they have\n  made it easy for you to download it. Here we will walk you through the steps for\n  collecting a specific selection of this data.",steps:[{title:"Step 1",description:"Go to Google Takeout",items:[{text:"Visit the [Google Takeout website](https://takeout.google.com)"},{text:"Log in if needed"},{text:"Scroll down a little bit to the **CREATE A NEW EXPORT** table",image:Yy}]},{title:"Step 2",description:"Deselect all items",items:[{text:"Click **deselect all** to un-check all the boxes",image:Yy,image_style:{objectFit:"cover",objectPosition:"0 90%",height:"120px"}},{text:"It should now say that 0 items are selected, and all boxes should be un-checked",image:Gy}]},{title:"Step 3",description:"Select Chrome",items:[{text:"Scroll down to Chrome (items are sorted by alphabet) and click on the box to check it",image:n(7346)}]},{title:"Step 4",description:"Select Youtube, and only include History",items:[{text:"Scroll all the way down to Youtube and check the box",image:n(8234)},{text:"Click on **All YouTube data included** to open a popup for selecting what data to include"},{text:"Deselect all data, and then only select **History**",image:n(2579),image_style:{width:"50%",marginLeft:"25%"}}]},{title:"Step 5",description:"Create data export",items:[{text:"Click on the **Next step** button on the bottom right"},{text:"You should now see that **Select data to include** has 2 items selected",image:n(4568)},{text:"In **Choose file type, frequency and destination**, keep the default settings and click on the **Create export** button"},{text:"Do **NOT** close the window. Google will tell you that the export can take a long time, but with only these two items selected **exporting will usually take between a few seconds and a minute**"},{text:"Once ready, Google will take you to the download page (and also send you a link via Email)"}]},{title:"Step 6",description:"Download your data",items:[{text:"Google will automatically open the download page. If you accidentally closed the window, you can also find the download link in your email",image:n(3980)},{text:"Click the download link, and store the file in a location where you can find it. Your browser might also automatically put it in your **Downloads** folder "},{text:"Finally, click the **Import Google Takeout** button below, and select the downloaded Google Takeout file. It should be named **takeout-some numbers.zip**"}]}]},Xy=n(6811),Qy=(0,Xy.p0)([{name:"youtube",file:["watch-history.json","kijkgeschiedenis.json","Wiedergabeverlauf.json"],filetype:"json",rows_selector:"$.",columns:[{name:"title",selector:"title"},{name:"title_url",selector:"titleUrl"},{name:"channel",selector:"subtitles[0].name"},{name:"channel_url",selector:"subtitles[0].url"},{name:"raw_date",selector:"time"}],transformers:[{transformer:"str_to_date",column:"raw_date",new_column:"date",arguments:{}}]},{name:"youtube",file:["watch-history.html","kijkgeschiedenis.html","Wiedergabeverlauf.html"],filetype:"html",rows_selector:".mdl-grid > .outer-cell",columns:[{name:"title",selector:"a"},{name:"title_url",selector:"a @href"},{name:"channel",selector:"a:nth-of-type(2)"},{name:"channel_url",selector:"a:nth-of-type(2) @href"},{name:"raw_date",selector:".content-cell @INNER"}],transformers:[{column:"raw_date",transformer:"replace",arguments:{regex:".*<br>"}},{transformer:"str_to_date",column:"raw_date",new_column:"date",arguments:{}}]},{name:"browsing",file:["BrowserHistory.json","BrausingHist\xf6rie.js\xf6n"],filetype:"json",rows_selector:"Browser History",columns:[{name:"title",selector:"title"},{name:"url",selector:"url"},{name:"time",selector:"time_usec"},{name:"transition",selector:"page_transition"}],transformers:[{transformer:"int_to_date",column:"time",new_column:"date",arguments:{unit:"microsecond"}}]}]),Zy=function(){var e=nu(iu().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=(0,Xy.BI)(Qy,t),i={Search:"failed",Browsing:"failed",Youtube:"failed"},a=0,o=Object.keys(i);a<o.length;a++)u=o[a],n(rh(u,"Google_Takeout","loading"));s=S(r),e.prev=4,s.s();case 6:if((c=s.n()).done){e.next=30;break}return l=c.value,e.next=10,l.cook();case 10:if("success"===(f=e.sent).status){e.next=13;break}return e.abrupt("continue",28);case 13:if("browsing"!==l.recipe.name){e.next=23;break}if(d=Jy(f.data),h=D(d,2),p=h[0],v=h[1],!(p.length>0)){e.next=18;break}return e.next=18,Df.addData(p,"Browsing","Google_Takeout",["url","date"]);case 18:if(!(v.length>0)){e.next=21;break}return e.next=21,Df.addData(v,"Search","Google_Takeout",["query","date"]);case 21:i.Search="finished",i.Browsing="finished";case 23:if("youtube"!==l.recipe.name){e.next=28;break}if(!(f.data.length>0)){e.next=27;break}return e.next=27,Df.addData(f.data,"Youtube","Google_Takeout",["url","date"]);case 27:i.Youtube="finished";case 28:e.next=6;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(4),s.e(e.t0);case 35:return e.prev=35,s.f(),e.finish(35);case 38:for(m=0,g=Object.keys(i);m<g.length;m++)y=g[m],n(rh(y,"Google_Takeout",i[y]));case 39:case"end":return e.stop()}}),e,null,[[4,32,35,38]])})));return function(t,n){return e.apply(this,arguments)}}(),Jy=function(e){var t,n=[],r=[],i=S(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=void 0;try{o=new URL(a.url)}catch(Xwe){console.log("could not parse url");continue}if(o.hostname+o.pathname!=="www.google.com/search"){var u=o.hostname;u=(u=u.replace(/www[0-9]*\./,"")).replace(/^m\./,""),n.push({url:a.url,title:a.title,domain:u,browser:"Chrome",date:a.date,page_transition:a.page_transition})}else{var s=a.title.replace("- Google Search","").trim(),c=Op(s);r.push({query:s,word:c,date:a.date,browser:"Chrome"})}}}catch(l){i.e(l)}finally{i.f()}return[n,r]},eb=function(e){var t=e.children,n=e.setLoading,r=Qd(),i=D((0,_.useState)(!1),2),a=i[0],o=i[1],u=D((0,_.useState)([]),2),s=u[0],c=u[1];return(0,_.useEffect)((function(){0!==s.length&&(n("loading"),o(!1),Zy(s,r).finally((function(){return n("idle")})))}),[s,n,r]),(0,Jo.jsxs)(kp,{onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:a,trigger:t,style:{overflow:"auto"},closeIcon:!0,children:[(0,Jo.jsx)(kp.Content,{style:{minHeight:"700px"},children:(0,Jo.jsx)(kp.Description,{children:(0,Jo.jsx)(Vy,{instruction:Ky})})}),(0,Jo.jsxs)(kp.Actions,{style:{textAlign:"center"},children:[(0,Jo.jsx)(Dd,{as:"h2",children:"Final step"}),(0,Jo.jsxs)(Mh,{children:[(0,Jo.jsxs)(Mh.Item,{children:["Open your ",(0,Jo.jsx)("b",{children:"downloads folder"})]}),(0,Jo.jsxs)(Mh.Item,{children:["Find the ",(0,Jo.jsx)("b",{children:"Google Takeout folder or zip file"})]}),(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)("b",{children:"Click and hold"})," the folder/file, and ",(0,Jo.jsx)("b",{children:"drag"})," it into the blue field below"]})]}),(0,Jo.jsx)(Xy.rE,{allowedFiles:Qy.files,setAcceptedFiles:c})]})]})},tb=function(){var e=D((0,_.useState)("idle"),2),t=e[0],n=e[1];return(0,Jo.jsx)(eb,{setLoading:n,children:(0,Jo.jsx)(zh,{source:"Google_Takeout",subname:"takeout.google.com",produces:["Browsing","Search","Youtube"],icon:"google",loading:t})})},nb=function(){return(0,Jo.jsx)(tb,{})},rb=function(e){var t=e.date;if(!t)return"Data not yet gathered";var n=t.toISOString(),r=(new Date).toISOString(),i=n.slice(0,10)===r.slice(0,10)?"today":"on ".concat(n.slice(0,10));return(0,Jo.jsx)(Mh.Item,{children:(0,Jo.jsxs)(Mh.Content,{children:["Gathered ",i," from ",(0,Jo.jsx)("b",{children:e.source.replace("_"," ")})]})},e.source)},ib=function(e){var t=e.name,n=e.subname,r=e.icon,i=Q(),a=th((function(e){return e.dataStatus.filter((function(e){return e.name===t&&e.date}))}));if(!a||0===a.length)return null;return(0,Jo.jsx)(Ih,{name:t,subname:n,icon:r,onClick:function(){i("/"+t)},children:(0,Jo.jsx)(Mh,{children:a.map(rb)})})},ab=function(){return(0,Jo.jsx)(ib,{name:"Browsing",subname:"What pages did you visit?",icon:"history"})},ob=function(){return(0,Jo.jsx)(ib,{name:"Search",subname:"What did you search for?",icon:"search"})},ub=function(){return(0,Jo.jsx)(ib,{name:"Youtube",subname:"Channels and videos",icon:"youtube"})},sb=function(){return(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsx)(ab,{}),(0,Jo.jsx)(ob,{}),(0,Jo.jsx)(ub,{})]})},cb=["Browsing","Search","Youtube"],lb=function(){var e=Q();return(0,Jo.jsx)(Ih,{name:"Remove sensitive data",subname:"Use keywords to search and remove any data that you prefer not to share",icon:"user secret",onClick:function(){e("/remove")}})},fb=function(e){var t=e.requestedData,n=th((function(e){return e.dataStatus})),r=!1,i=!0,a=t.map((function(e){var t=n.find((function(t){return t.name===e}));return"finished"===(null===t||void 0===t?void 0:t.status)?r=!0:i=!1,t||{name:e,status:"empty"}})),o=Q();return(0,Jo.jsxs)(Ih,{name:"Go to donation screen",subname:"Here you can learn more about what your data will be used for, and safely donate it",icon:"flag checkered",onClick:function(){o("/donate")},disabled:!r,children:[(0,Jo.jsx)(Mh,{style:{textAlign:"left",paddingTop:"10px"},children:a.map((function(e,t){return db(e,t)}))}),(0,Jo.jsx)("span",{style:{fontSize:"0.9em",color:"#ff7b00"},children:function(e,t){return t?null:e?(0,Jo.jsx)("p",{children:"Some of the data types are not yet (successfully) gathered. You can donate the current data if you are not able to add the rest"}):(0,Jo.jsxs)("p",{children:["Please go to the ",(0,Jo.jsx)("b",{children:"Gather"})," column for instructions on how to gather your digital footprints"]})}(r,i)})]})},db=function(e,t){var n=e.name.replace("_"," ");return"finished"===e.status?(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(Mh.Icon,{name:"check circle outline",color:"green"}),(0,Jo.jsxs)(Mh.Content,{children:[(0,Jo.jsx)("b",{children:n})," data ready"]})]},t):(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(Mh.Icon,{name:"circle outline"}),(0,Jo.jsx)(Mh.Content,{children:(0,Jo.jsx)("b",{children:n})})]},t)},hb=function(){return th((function(e){return e.dataStatus})).find((function(e){return"finished"===e.status}))?(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsx)(lb,{}),(0,Jo.jsx)(fb,{requestedData:cb})]}):null},pb=_.createContext();_.createContext();var vb=function(e,t){if("function"===typeof e)return function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}}(e,t);null!=e&&(e.current=t)},mb=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},gb="undefined"!==typeof window&&window.document&&window.document.createElement?_.useLayoutEffect:_.useEffect;function yb(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function bb(e){return e instanceof yb(e).Element||e instanceof Element}function xb(e){return e instanceof yb(e).HTMLElement||e instanceof HTMLElement}function wb(e){return"undefined"!==typeof ShadowRoot&&(e instanceof yb(e).ShadowRoot||e instanceof ShadowRoot)}var _b=Math.max,kb=Math.min,Eb=Math.round;function Ob(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(xb(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Eb(n.width)/o||1),a>0&&(i=Eb(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Sb(e){var t=yb(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ab(e){return e?(e.nodeName||"").toLowerCase():null}function Cb(e){return((bb(e)?e.ownerDocument:e.document)||window.document).documentElement}function Db(e){return Ob(Cb(e)).left+Sb(e).scrollLeft}function jb(e){return yb(e).getComputedStyle(e)}function Tb(e){var t=jb(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Fb(e,t,n){void 0===n&&(n=!1);var r=xb(t),i=xb(t)&&function(e){var t=e.getBoundingClientRect(),n=Eb(t.width)/e.offsetWidth||1,r=Eb(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Cb(t),o=Ob(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==Ab(t)||Tb(a))&&(u=function(e){return e!==yb(e)&&xb(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Sb(e);var t}(t)),xb(t)?((s=Ob(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=Db(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function Pb(e){var t=Ob(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Mb(e){return"html"===Ab(e)?e:e.assignedSlot||e.parentNode||(wb(e)?e.host:null)||Cb(e)}function Nb(e){return["html","body","#document"].indexOf(Ab(e))>=0?e.ownerDocument.body:xb(e)&&Tb(e)?e:Nb(Mb(e))}function Rb(e,t){var n;void 0===t&&(t=[]);var r=Nb(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=yb(r),o=i?[a].concat(a.visualViewport||[],Tb(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(Rb(Mb(o)))}function Ib(e){return["table","td","th"].indexOf(Ab(e))>=0}function Bb(e){return xb(e)&&"fixed"!==jb(e).position?e.offsetParent:null}function zb(e){for(var t=yb(e),n=Bb(e);n&&Ib(n)&&"static"===jb(n).position;)n=Bb(n);return n&&("html"===Ab(n)||"body"===Ab(n)&&"static"===jb(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&xb(e)&&"fixed"===jb(e).position)return null;for(var n=Mb(e);xb(n)&&["html","body"].indexOf(Ab(n))<0;){var r=jb(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Lb="top",Ub="bottom",qb="right",Wb="left",Hb="auto",$b=[Lb,Ub,qb,Wb],Vb="start",Gb="end",Yb="viewport",Kb="popper",Xb=$b.reduce((function(e,t){return e.concat([t+"-"+Vb,t+"-"+Gb])}),[]),Qb=[].concat($b,[Hb]).reduce((function(e,t){return e.concat([t,t+"-"+Vb,t+"-"+Gb])}),[]),Zb=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Jb(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ex(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var tx={placement:"bottom",modifiers:[],strategy:"absolute"};function nx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function rx(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?tx:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},tx,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:bb(e)?Rb(e):e.contextElement?Rb(e.contextElement):[],popper:Rb(t)};var l=function(e){var t=Jb(e);return Zb.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(nx(t,n)){i.rects={reference:Fb(t,zb(n),"fixed"===i.options.strategy),popper:Pb(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:ex((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!nx(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var ix={passive:!0};var ax={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=yb(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,ix)})),u&&s.addEventListener("resize",n.update,ix),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ix)})),u&&s.removeEventListener("resize",n.update,ix)}},data:{}};function ox(e){return e.split("-")[0]}function ux(e){return e.split("-")[1]}function sx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function cx(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?ox(i):null,o=i?ux(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case Lb:t={x:u,y:n.y-r.height};break;case Ub:t={x:u,y:n.y+n.height};break;case qb:t={x:n.x+n.width,y:s};break;case Wb:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?sx(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Vb:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Gb:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var lx={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=cx({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},fx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dx(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,h=void 0===d?0:d,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Wb,x=Lb,w=window;if(c){var _=zb(n),k="clientHeight",E="clientWidth";if(_===yb(n)&&"static"!==jb(_=Cb(n)).position&&"absolute"===u&&(k="scrollHeight",E="scrollWidth"),_=_,i===Lb||(i===Wb||i===qb)&&a===Gb)x=Ub,v-=(f&&w.visualViewport?w.visualViewport.height:_[k])-r.height,v*=s?1:-1;if(i===Wb||(i===Lb||i===Ub)&&a===Gb)b=qb,h-=(f&&w.visualViewport?w.visualViewport.width:_[E])-r.width,h*=s?1:-1}var O,S=Object.assign({position:u},c&&fx),A=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Eb(t*r)/r||0,y:Eb(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=A.x,v=A.y,s?Object.assign({},S,((O={})[x]=y?"0":"",O[b]=g?"0":"",O.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",O)):Object.assign({},S,((t={})[x]=y?v+"px":"",t[b]=g?h+"px":"",t.transform="",t))}var hx={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];xb(i)&&Ab(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});xb(r)&&Ab(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var px={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Qb.reduce((function(e,n){return e[n]=function(e,t,n){var r=ox(e),i=[Wb,Lb].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[Wb,qb].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},vx={left:"right",right:"left",bottom:"top",top:"bottom"};function mx(e){return e.replace(/left|right|bottom|top/g,(function(e){return vx[e]}))}var gx={start:"end",end:"start"};function yx(e){return e.replace(/start|end/g,(function(e){return gx[e]}))}function bx(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&wb(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function wx(e,t){return t===Yb?xx(function(e){var t=yb(e),n=Cb(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+Db(e),y:u}}(e)):bb(t)?function(e){var t=Ob(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):xx(function(e){var t,n=Cb(e),r=Sb(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=_b(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=_b(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Db(e),s=-r.scrollTop;return"rtl"===jb(i||n).direction&&(u+=_b(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(Cb(e)))}function _x(e,t,n){var r="clippingParents"===t?function(e){var t=Rb(Mb(e)),n=["absolute","fixed"].indexOf(jb(e).position)>=0&&xb(e)?zb(e):e;return bb(n)?t.filter((function(e){return bb(e)&&bx(e,n)&&"body"!==Ab(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=wx(e,n);return t.top=_b(r.top,t.top),t.right=kb(r.right,t.right),t.bottom=kb(r.bottom,t.bottom),t.left=_b(r.left,t.left),t}),wx(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function kx(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ex(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Ox(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,u=n.rootBoundary,s=void 0===u?Yb:u,c=n.elementContext,l=void 0===c?Kb:c,f=n.altBoundary,d=void 0!==f&&f,h=n.padding,p=void 0===h?0:h,v=kx("number"!==typeof p?p:Ex(p,$b)),m=l===Kb?"reference":Kb,g=e.rects.popper,y=e.elements[d?m:l],b=_x(bb(y)?y:y.contextElement||Cb(e.elements.popper),o,s),x=Ob(e.elements.reference),w=cx({reference:x,element:g,strategy:"absolute",placement:i}),_=xx(Object.assign({},g,w)),k=l===Kb?_:x,E={top:b.top-k.top+v.top,bottom:k.bottom-b.bottom+v.bottom,left:b.left-k.left+v.left,right:k.right-b.right+v.right},O=e.modifiersData.offset;if(l===Kb&&O){var S=O[i];Object.keys(E).forEach((function(e){var t=[qb,Ub].indexOf(e)>=0?1:-1,n=[Lb,Ub].indexOf(e)>=0?"y":"x";E[e]+=S[n]*t}))}return E}var Sx={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,g=ox(m),y=s||(g===m||!p?[mx(m)]:function(e){if(ox(e)===Hb)return[];var t=mx(e);return[yx(e),t,yx(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(ox(n)===Hb?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?Qb:s,l=ux(r),f=l?u?Xb:Xb.filter((function(e){return ux(e)===l})):$b,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=Ox(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[ox(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),x=t.rects.reference,w=t.rects.popper,_=new Map,k=!0,E=b[0],O=0;O<b.length;O++){var S=b[O],A=ox(S),C=ux(S)===Vb,D=[Lb,Ub].indexOf(A)>=0,j=D?"width":"height",T=Ox(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),F=D?C?qb:Wb:C?Ub:Lb;x[j]>w[j]&&(F=mx(F));var P=mx(F),M=[];if(a&&M.push(T[A]<=0),u&&M.push(T[F]<=0,T[P]<=0),M.every((function(e){return e}))){E=S,k=!1;break}_.set(S,M)}if(k)for(var N=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},R=p?3:1;R>0;R--){if("break"===N(R))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ax(e,t,n){return _b(e,kb(t,n))}var Cx={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=Ox(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),g=ox(t.placement),y=ux(t.placement),b=!y,x=sx(g),w="x"===x?"y":"x",_=t.modifiersData.popperOffsets,k=t.rects.reference,E=t.rects.popper,O="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(_){if(a){var D,j="y"===x?Lb:Wb,T="y"===x?Ub:qb,F="y"===x?"height":"width",P=_[x],M=P+m[j],N=P-m[T],R=h?-E[F]/2:0,I=y===Vb?k[F]:E[F],B=y===Vb?-E[F]:-k[F],z=t.elements.arrow,L=h&&z?Pb(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=U[j],W=U[T],H=Ax(0,k[F],L[F]),$=b?k[F]/2-R-H-q-S.mainAxis:I-H-q-S.mainAxis,V=b?-k[F]/2+R+H+W+S.mainAxis:B+H+W+S.mainAxis,G=t.elements.arrow&&zb(t.elements.arrow),Y=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,K=null!=(D=null==A?void 0:A[x])?D:0,X=P+V-K,Q=Ax(h?kb(M,P+$-K-Y):M,P,h?_b(N,X):N);_[x]=Q,C[x]=Q-P}if(u){var Z,J="x"===x?Lb:Wb,ee="x"===x?Ub:qb,te=_[w],ne="y"===w?"height":"width",re=te+m[J],ie=te-m[ee],ae=-1!==[Lb,Wb].indexOf(g),oe=null!=(Z=null==A?void 0:A[w])?Z:0,ue=ae?re:te-k[ne]-E[ne]-oe+S.altAxis,se=ae?te+k[ne]+E[ne]-oe-S.altAxis:ie,ce=h&&ae?function(e,t,n){var r=Ax(e,t,n);return r>n?n:r}(ue,te,se):Ax(h?ue:re,te,h?se:ie);_[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};var Dx={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=ox(n.placement),s=sx(u),c=[Wb,qb].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return kx("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ex(e,$b))}(i.padding,n),f=Pb(a),d="y"===s?Lb:Wb,h="y"===s?Ub:qb,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=zb(a),g=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=l[d],x=g-f[c]-l[h],w=g/2-f[c]/2+y,_=Ax(b,w,x),k=s;n.modifiersData[r]=((t={})[k]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&bx(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jx(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Tx(e){return[Lb,qb,Ub,Wb].some((function(t){return e[t]>=0}))}var Fx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Ox(t,{elementContext:"reference"}),u=Ox(t,{altBoundary:!0}),s=jx(o,r),c=jx(u,i,a),l=Tx(s),f=Tx(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},Px=rx({defaultModifiers:[ax,lx,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:ox(t.placement),variation:ux(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,dx(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,dx(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},hx,px,Sx,Cx,Dx,Fx]}),Mx=n(77),Nx=n.n(Mx),Rx=[],Ix=function(){},Bx=function(){return Promise.resolve(null)},zx=[];function Lx(e){var t=e.placement,n=void 0===t?"bottom":t,r=e.strategy,i=void 0===r?"absolute":r,a=e.modifiers,o=void 0===a?zx:a,u=e.referenceElement,s=e.onFirstUpdate,c=e.innerRef,l=e.children,f=_.useContext(pb),d=_.useState(null),h=d[0],p=d[1],v=_.useState(null),m=v[0],g=v[1];_.useEffect((function(){vb(c,h)}),[c,h]);var y,b=_.useMemo((function(){return{placement:n,strategy:i,onFirstUpdate:s,modifiers:[].concat(o,[{name:"arrow",enabled:null!=m,options:{element:m}}])}}),[n,i,s,o,m]),x=function(e,t,n){void 0===n&&(n={});var r=_.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Rx},a=_.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=a[0],u=a[1],s=_.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);u({styles:mb(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:mb(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),c=_.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[s,{name:"applyStyles",enabled:!1}])};return Nx()(r.current,e)?r.current||e:(r.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,s]),l=_.useRef();return gb((function(){l.current&&l.current.setOptions(c)}),[c]),gb((function(){if(null!=e&&null!=t){var r=(n.createPopper||Px)(e,t,c);return l.current=r,function(){r.destroy(),l.current=null}}}),[e,t,n.createPopper]),{state:l.current?l.current.state:null,styles:o.styles,attributes:o.attributes,update:l.current?l.current.update:null,forceUpdate:l.current?l.current.forceUpdate:null}}(u||f,h,b),w=x.state,k=x.styles,E=x.forceUpdate,O=x.update,S=_.useMemo((function(){return{ref:p,style:k.popper,placement:w?w.placement:n,hasPopperEscaped:w&&w.modifiersData.hide?w.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:w&&w.modifiersData.hide?w.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:k.arrow,ref:g},forceUpdate:E||Ix,update:O||Bx}}),[p,g,n,w,k,O,E]);return(y=l,Array.isArray(y)?y[0]:y)(S)}var Ux=function(e,t,n,r){return Vr(e,(function(e,i,a){t(r,n(e),i,a)})),r};var qx=function(e,t){return function(n,r){return Ux(n,e,t(r),{})}},Wx=Object.prototype.toString,Hx=qx((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Wx.call(t)),e[t]=n}),ii(zr)),$x=Hx,Vx={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"},Gx=(zn(Vx),$x(Vx)),Yx=function(){function e(e){this.ref=e}return e.prototype.getBoundingClientRect=function(){return di(this.ref.current,"getBoundingClientRect")||{}},uu(e,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}}]),e}(),Kx=wr((function(e){return new Yx(Eo(e)?e:{current:e})})),Xx=Kx;function Qx(e){var t=e.children,n=e.className,r=e.content,i=pi("content",n),a=Ei(Qx,e),o=Oi(Qx,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}function Zx(e){var t=e.children,n=e.className,r=e.content,i=pi("header",n),a=Ei(Zx,e),o=Oi(Zx,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}Qx.handledProps=["as","children","className","content"],Qx.propTypes={},Qx.create=ra(Qx,(function(e){return{children:e}})),Zx.handledProps=["as","children","className","content"],Zx.propTypes={},Zx.create=ra(Zx,(function(e){return{children:e}}));var Jx=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).state={},n.open=!1,n.zIndexWasSynced=!1,n.triggerRef=_.createRef(),n.getPortalProps=function(){var e={},t=n.props,r=t.on,i=t.hoverable,a=Xt(r)?r:[r];return i&&(e.closeOnPortalMouseLeave=!0,e.mouseLeaveDelay=300),Vf(a,"hover")&&(e.openOnTriggerClick=!1,e.closeOnTriggerClick=!1,e.openOnTriggerMouseEnter=!0,e.closeOnTriggerMouseLeave=!0,e.mouseLeaveDelay=70,e.mouseEnterDelay=50),Vf(a,"click")&&(e.openOnTriggerClick=!0,e.closeOnTriggerClick=!0,e.closeOnDocumentClick=!0),Vf(a,"focus")&&(e.openOnTriggerFocus=!0,e.closeOnTriggerBlur=!0),e},n.hideOnScroll=function(e){n.setState({closed:!0}),ip.unsub("scroll",n.hideOnScroll,{target:window}),n.timeoutId=setTimeout((function(){n.setState({closed:!1})}),50),n.handleClose(e)},n.handleClose=function(e){di(n.props,"onClose",e,j({},n.props,{open:!1}))},n.handleOpen=function(e){di(n.props,"onOpen",e,j({},n.props,{open:!0}))},n.handlePortalMount=function(e){di(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){n.positionUpdate=null,di(n.props,"onUnmount",e,n.props)},n.renderContent=function(e){var r=e.placement,i=e.ref,a=e.update,o=e.style,u=n.props,s=u.basic,c=u.children,l=u.className,f=u.content,d=u.hideOnScroll,h=u.flowing,p=u.header,v=u.inverted,m=u.popper,g=u.size,y=u.style,b=u.wide,x=n.state.contentRestProps;n.positionUpdate=a;var w=pi("ui",Gx[r],g,bi(b,"wide"),gi(s,"basic"),gi(h,"flowing"),gi(v,"inverted"),"popup transition visible",l),k=Oi(t,n.props),E=j({left:"auto",right:"auto",position:"initial"},y),O=_.createElement(k,j({},x,{className:w,style:E}),Di(c)?_.createElement(_.Fragment,null,Zx.create(p,{autoGenerateKey:!1}),Qx.create(f,{autoGenerateKey:!1})):c,d&&_.createElement(id(),{on:n.hideOnScroll,name:"scroll",target:"window"}));return ia(m||{},{overrideProps:{children:O,ref:i,style:j({display:"flex"},o)}})},n}_e(t,e),t.getDerivedStateFromProps=function(e,n){if(n.closed||n.disabled)return{};var r=Ei(t,e),i=Jh(r,(function(e,t,n){return Vf(ld.handledProps,n)||(e[n]=t),e}),{});return{contentRestProps:i,portalRestProps:Qh(r,ld.handledProps)}};var n=t.prototype;return n.componentDidUpdate=function(e){rp()(this.props.popperDependencies,e.popperDependencies)||this.handleUpdate()},n.componentWillUnmount=function(){clearTimeout(this.timeoutId)},n.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},n.render=function(){var e=this,t=this.props,n=t.context,r=t.disabled,i=t.eventsEnabled,a=t.offset,o=t.pinned,u=t.popper,s=t.popperModifiers,c=t.position,l=t.positionFixed,f=t.trigger,d=this.state,h=d.closed,p=d.portalRestProps;if(h||r)return f;var v=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!i,resize:!!i}},{name:"flip",enabled:!o},{name:"preventOverflow",enabled:!!a},{name:"offset",enabled:!!a,options:{offset:a}}].concat(s,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(t){var n,r=t.state;if(!e.zIndexWasSynced){var i=null==u||null==(n=u.style)?void 0:n.zIndex;Ti(i)&&(r.elements.popper.style.zIndex=window.getComputedStyle(r.elements.popper.firstChild).zIndex),e.zIndexWasSynced=!0}},effect:function(){return function(){e.zIndexWasSynced=!1}}}]),m=Xx(ta(n)?this.triggerRef:n),g=j({},this.getPortalProps(),p);return _.createElement(ld,j({},g,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:f,triggerRef:this.triggerRef}),_.createElement(Lx,{modifiers:v,placement:Vx[c],strategy:l?"fixed":null,referenceElement:m},this.renderContent))},t}(_.Component);Jx.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"],Jx.propTypes={},Jx.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"},Jx.Content=Qx,Jx.Header=Zx;var ew=function(){var e=(0,Jo.jsxs)(Id,{style:{float:"right",background:"#00000000",margin:"10px",color:"white",border:"1px solid white"},children:[(0,Jo.jsx)(po,{name:"trash"}),"Delete all data"]});return(0,Jo.jsxs)(Jx,{on:"click",trigger:e,children:[(0,Jo.jsx)(Jx.Header,{children:"Delete data from browser"}),(0,Jo.jsxs)(Jx.Content,{children:[(0,Jo.jsx)("p",{children:"Do you want to delete all the gathered data from the browser?"}),(0,Jo.jsx)("p",{children:"Note that any data you downloaded will still be on your computer, so you might want to delete that as well."})]}),(0,Jo.jsx)("br",{}),(0,Jo.jsx)(Id,{negative:!0,fluid:!0,onClick:function(){return Df.destroyEverything().then((function(e){"test_user"!==e?window.location.href+="/?id=".concat(e):window.location.reload("/")}))},children:"Delete data"})]})},tw={color:"white",filter:"none",background:"#00000094",paddingBottom:"0.3em",paddingTop:"1em",borderRadius:"10px"},nw={marginBottom:"1em"},rw={marginTop:"2em"},iw=function(e){var t=e.title,n=e.icon,r=e.description;return(0,Jo.jsxs)("div",{style:tw,children:[(0,Jo.jsxs)(Dd,{style:{color:"white",fontSize:"min(max(1.8vw, 1.8em), 2em)"},children:[(0,Jo.jsx)(po,{name:n}),t]}),(0,Jo.jsx)("p",{style:{fontSize:"min(max(1.2vw, 1em),1.3em)"},children:r})]})},aw=function(){var e=Qd();return(0,_.useEffect)((function(){Df.idb.dataStatus.toArray().then((function(t){return e(nh(t))})).catch((function(e){return console.log(e)}))}),[e]),(0,Jo.jsx)("div",{style:{height:"100vh",backgroundImage:"url(".concat(Bd,")"),backgroundSize:"100% 100%",overflow:"auto"},children:(0,Jo.jsxs)(Nf,{stackable:!0,divided:!0,centered:!0,children:[(0,Jo.jsx)(Nf.Row,{style:{height:"60px"},children:(0,Jo.jsx)(Nf.Column,{children:(0,Jo.jsx)(ew,{})})}),(0,Jo.jsxs)(Nf.Row,{children:[(0,Jo.jsxs)(Nf.Column,{textAlign:"center",width:5,style:nw,children:[(0,Jo.jsx)(iw,{title:"Gather",icon:"cloud download",description:"Click a card to gather your data"}),(0,Jo.jsx)(xh.Group,{style:rw,children:(0,Jo.jsx)(nb,{})})]}),(0,Jo.jsxs)(Nf.Column,{textAlign:"center",width:5,style:nw,children:[(0,Jo.jsx)(iw,{title:"Explore",icon:"search",description:"This step is optional, but aren't you curious?"}),(0,Jo.jsx)(xh.Group,{style:rw,children:(0,Jo.jsx)(sb,{})})]}),(0,Jo.jsxs)(Nf.Column,{textAlign:"center",width:5,style:nw,children:[(0,Jo.jsx)(iw,{title:"Donate",icon:"student",description:"Support academic research by sharing your data"}),(0,Jo.jsx)(xh.Group,{style:rw,children:(0,Jo.jsx)(hb,{})})]})]})]})})};function ow(e){var t=e.children,n=e.className,r=e.content,i=e.fluid,a=e.text,o=e.textAlign,u=pi("ui",gi(a,"text"),gi(i,"fluid"),wi(o),"container",n),s=Ei(ow,e),c=Oi(ow,e);return _.createElement(c,j({},s,{className:u}),Di(t)?r:t)}ow.handledProps=["as","children","className","content","fluid","text","textAlign"],ow.propTypes={};var uw=ow;function sw(e){var t=e.children,n=e.className,r=e.content,i=pi("header",n),a=Ei(sw,e),o=Oi(sw,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}sw.handledProps=["as","children","className","content"],sw.propTypes={},sw.create=ra(sw,(function(e){return{content:e}}));var cw=sw;function lw(e){var t=e.children,n=e.className,r=e.content,i=pi("description",n),a=Ei(lw,e),o=Oi(lw,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}lw.handledProps=["as","children","className","content"],lw.propTypes={},lw.create=ra(lw,(function(e){return{content:e}}));var fw=lw;function dw(e){var t=e.children,n=e.className,r=e.content,i=pi("extra",n),a=Ei(dw,e),o=Oi(dw,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}dw.handledProps=["as","children","className","content"],dw.propTypes={},dw.create=ra(dw,(function(e){return{content:e}}));var hw=dw;function pw(e){var t=e.children,n=e.className,r=e.content,i=pi("meta",n),a=Ei(pw,e),o=Oi(pw,e);return _.createElement(o,j({},a,{className:i}),Di(t)?r:t)}pw.handledProps=["as","children","className","content"],pw.propTypes={},pw.create=ra(pw,(function(e){return{content:e}}));var vw=pw;function mw(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.meta,s=e.verticalAlign,c=pi(_i(s),"content",n),l=Ei(mw,e),f=Oi(mw,e);return Di(t)?_.createElement(f,j({},l,{className:c}),cw.create(o,{autoGenerateKey:!1}),vw.create(u,{autoGenerateKey:!1}),fw.create(i,{autoGenerateKey:!1}),hw.create(a,{autoGenerateKey:!1}),r):_.createElement(f,j({},l,{className:c}),t)}mw.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],mw.propTypes={};var gw=mw;function yw(e){var t=e.children,n=e.className,r=e.content,i=e.divided,a=e.items,o=e.link,u=e.relaxed,s=e.unstackable,c=pi("ui",gi(i,"divided"),gi(o,"link"),gi(s,"unstackable"),bi(u,"relaxed"),"items",n),l=Ei(yw,e),f=Oi(yw,e);if(!Di(t))return _.createElement(f,j({},l,{className:c}),t);if(!Di(r))return _.createElement(f,j({},l,{className:c}),r);var d=Xr(a,(function(e){var t=e.childKey,n=Oo(e,["childKey"]),r=null!=t?t:[n.content,n.description,n.header,n.meta].join("-");return _.createElement(kw,j({},n,{key:r}))}));return _.createElement(f,j({},l,{className:c}),d)}yw.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],yw.propTypes={};var bw=yw;function xw(e){var t=e.size,n=Ei(xw,e);return _.createElement(kd,j({},n,{size:t,ui:!!t,wrapped:!0}))}xw.handledProps=["size"],xw.propTypes={},xw.create=ra(xw,(function(e){return{src:e}}));var ww=xw;function _w(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.image,s=e.meta,c=pi("item",n),l=Ei(_w,e),f=Oi(_w,e);return Di(t)?_.createElement(f,j({},l,{className:c}),ww.create(u,{autoGenerateKey:!1}),_.createElement(gw,{content:r,description:i,extra:a,header:o,meta:s})):_.createElement(f,j({},l,{className:c}),t)}_w.handledProps=["as","children","className","content","description","extra","header","image","meta"],_w.Content=gw,_w.Description=fw,_w.Extra=hw,_w.Group=bw,_w.Header=cw,_w.Image=ww,_w.Meta=vw,_w.propTypes={};var kw=_w,Ew=function(e){var t=e.children,n=e.background,r=e.color;return(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsx)("div",{style:{zIndex:1,top:0,bottom:0,right:0,left:0,background:r,position:"absolute"}}),(0,Jo.jsx)(Nf,{style:{height:"100vh",overflow:"auto",backgroundSize:"100% 100%",backgroundImage:"url(".concat(n,")")},children:(0,Jo.jsx)("div",{style:{zIndex:2},children:t})})]})};var Ow=function(e,t,n,r){var i=-1,a=Bi,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=ke(t,kn(n))),r?(a=zi,o=!1):t.length>=200&&(a=Ut,o=!1,t=new zt(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var d=c;d--;)if(t[d]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s};var Sw=function(e){return on(e)&&Bn(e)},Aw=fi((function(e,t){return Sw(e)?Ow(e,t):[]})),Cw=Aw,Dw=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).calculations={bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1},t.firedCallbacks=[],t.ref=(0,_.createRef)(),t.fire=function(e,n,r){var i=e.callback,a=e.name;void 0===r&&(r=!1);var o=t.props,u=o.continuous,s=o.once,c=t.calculations[n]!==r,l=u||t.calculations[n]!==t.oldCalculations[n];c&&l&&t.execute(i,a),s||(t.firedCallbacks=Cw(t.firedCallbacks,a))},t.handleUpdate=function(){t.ticking||(t.ticking=!0,t.frameId=requestAnimationFrame(t.update))},t.update=function(){if(t.mounted){t.ticking=!1,t.oldCalculations=t.calculations,t.calculations=t.computeCalculations(),t.pageYOffset=t.getPageYOffset();var e=t.props,n=e.onBottomPassed,r=e.onBottomPassedReverse,i=e.onBottomVisible,a=e.onBottomVisibleReverse,o=e.onPassing,u=e.onPassingReverse,s=e.onTopPassed,c=e.onTopPassedReverse,l=e.onTopVisible,f=e.onTopVisibleReverse,d=e.onOffScreen,h=e.onOnScreen,p=e.updateOn,v={bottomPassed:{callback:n,name:"onBottomPassed"},bottomVisible:{callback:i,name:"onBottomVisible"},passing:{callback:o,name:"onPassing"},offScreen:{callback:d,name:"onOffScreen"},onScreen:{callback:h,name:"onOnScreen"},topPassed:{callback:s,name:"onTopPassed"},topVisible:{callback:l,name:"onTopVisible"}},m={bottomPassed:{callback:r,name:"onBottomPassedReverse"},bottomVisible:{callback:a,name:"onBottomVisibleReverse"},passing:{callback:u,name:"onPassingReverse"},topPassed:{callback:c,name:"onTopPassedReverse"},topVisible:{callback:f,name:"onTopVisibleReverse"}};di(t.props,"onUpdate",null,j({},t.props,{calculations:t.calculations})),t.fireOnPassed(),Kf(m,(function(e,n){return t.fire(e,n,!0)})),Kf(v,(function(e,n){return t.fire(e,n)})),"repaint"===p&&t.handleUpdate()}},t}_e(t,e);var n=t.prototype;return n.componentDidMount=function(){if(this.mounted=!0,nd()){var e=this.props,t=e.context,n=e.fireOnMount,r=e.updateOn;this.pageYOffset=this.getPageYOffset(),this.attachHandlers(t,r),n&&this.update()}},n.componentDidUpdate=function(e){(e.continuous!==this.props.continuous||e.once!==this.props.once||e.updateOn!==this.props.updateOn)&&(this.firedCallbacks=[]),e.context===this.props.context&&e.updateOn===this.props.updateOn||(this.unattachHandlers(e.context),this.attachHandlers(this.props.context,this.props.updateOn))},n.componentWillUnmount=function(){var e=this.props.context;this.unattachHandlers(e),this.mounted=!1},n.attachHandlers=function(e,t){"events"!==t?this.handleUpdate():e&&(ip.sub("resize",this.handleUpdate,{target:e}),ip.sub("scroll",this.handleUpdate,{target:e}))},n.unattachHandlers=function(e){e&&(ip.unsub("resize",this.handleUpdate,{target:e}),ip.unsub("scroll",this.handleUpdate,{target:e})),this.frameId&&cancelAnimationFrame(this.frameId)},n.execute=function(e,t){var n=this.props.continuous;e&&(!n&&Vf(this.firedCallbacks,t)||(e(null,j({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(t)))},n.fireOnPassed=function(){var e=this,t=this.calculations,n=t.percentagePassed,r=t.pixelsPassed,i=this.props.onPassed;Kf(i,(function(t,i){var a=Number(i);if(a&&r>=a)e.execute(t,i);else{var o=(""+i).match(/^(\d+)%$/);if(o){var u=Number(o[1])/100;n>=u&&e.execute(t,i)}}}))},n.computeCalculations=function(){var e=this.props.offset,t=this.ref.current.getBoundingClientRect(),n=t.bottom,r=t.height,i=t.top,a=t.width,o=function(e){return"number"===typeof e||"string"===typeof e?[e,e]:e}(e),u=o[0],s=o[1],c=this.getPageYOffset()>this.pageYOffset?"down":"up",l=i<u,f=n<s,d=f?0:Math.max(-1*i,0),h=d/r,p=n>=s&&n<=window.innerHeight,v=i>=u&&i<=window.innerHeight,m=(v||l)&&!f;return{bottomPassed:f,bottomVisible:p,direction:c,fits:v&&p,height:r,passing:l&&!f,percentagePassed:h,pixelsPassed:d,offScreen:!m,onScreen:m,topPassed:l,topVisible:v,width:a}},n.getPageYOffset=function(){var e=this.props.context;return e?e===window?window.pageYOffset:e.scrollTop:0},n.render=function(){var e=this.props.children,n=Oi(t,this.props),r=Ei(t,this.props);return _.createElement(Do,{innerRef:this.ref},_.createElement(n,r,e))},t}(_.Component);function jw(e){var t=e.children,n=pi(e.className),r=Ei(jw,e),i=Oi(jw,e);return _.createElement(i,j({},r,{className:n}),t)}Dw.handledProps=["as","children","context","continuous","fireOnMount","offset","onBottomPassed","onBottomPassedReverse","onBottomVisible","onBottomVisibleReverse","onOffScreen","onOnScreen","onPassed","onPassing","onPassingReverse","onTopPassed","onTopPassedReverse","onTopVisible","onTopVisibleReverse","onUpdate","once","updateOn"],Dw.propTypes={},Dw.defaultProps={context:nd()?window:null,continuous:!1,offset:[0,0],once:!0,updateOn:"events"},jw.handledProps=["as","children","className"],jw.defaultProps={as:"tbody"},jw.propTypes={};var Tw=jw;function Fw(e){var t=e.active,n=e.children,r=e.className,i=e.collapsing,a=e.content,o=e.disabled,u=e.error,s=e.icon,c=e.negative,l=e.positive,f=e.selectable,d=e.singleLine,h=e.textAlign,p=e.verticalAlign,v=e.warning,m=e.width,g=pi(gi(t,"active"),gi(i,"collapsing"),gi(o,"disabled"),gi(u,"error"),gi(c,"negative"),gi(l,"positive"),gi(f,"selectable"),gi(d,"single line"),gi(v,"warning"),wi(h),_i(p),ki(m,"wide"),r),y=Ei(Fw,e),b=Oi(Fw,e);return Di(n)?_.createElement(b,j({},y,{className:g}),po.create(s),a):_.createElement(b,j({},y,{className:g}),n)}Fw.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],Fw.defaultProps={as:"td"},Fw.propTypes={},Fw.create=ra(Fw,(function(e){return{content:e}}));var Pw=Fw;function Mw(e){var t=e.children,n=e.className,r=e.content,i=e.fullWidth,a=pi(gi(i,"full-width"),n),o=Ei(Mw,e),u=Oi(Mw,e);return _.createElement(u,j({},o,{className:a}),Di(t)?r:t)}Mw.handledProps=["as","children","className","content","fullWidth"],Mw.defaultProps={as:"thead"},Mw.propTypes={};var Nw=Mw;function Rw(e){var t=e.as,n=Ei(Rw,e);return _.createElement(Nw,j({},n,{as:t}))}Rw.handledProps=["as"],Rw.propTypes={},Rw.defaultProps={as:"tfoot"};var Iw=Rw;function Bw(e){var t=e.as,n=e.className,r=e.sorted,i=pi(yi(r,"sorted"),n),a=Ei(Bw,e);return _.createElement(Pw,j({},a,{as:t,className:i}))}Bw.handledProps=["as","className","sorted"],Bw.propTypes={},Bw.defaultProps={as:"th"};var zw=Bw;function Lw(e){var t=e.active,n=e.cellAs,r=e.cells,i=e.children,a=e.className,o=e.disabled,u=e.error,s=e.negative,c=e.positive,l=e.textAlign,f=e.verticalAlign,d=e.warning,h=pi(gi(t,"active"),gi(o,"disabled"),gi(u,"error"),gi(s,"negative"),gi(c,"positive"),gi(d,"warning"),wi(l),_i(f),a),p=Ei(Lw,e),v=Oi(Lw,e);return Di(i)?_.createElement(v,j({},p,{className:h}),Xr(r,(function(e){return Pw.create(e,{defaultProps:{as:n}})}))):_.createElement(v,j({},p,{className:h}),i)}Lw.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],Lw.defaultProps={as:"tr",cellAs:"td"},Lw.propTypes={},Lw.create=ra(Lw,(function(e){return{cells:e}}));var Uw=Lw;function qw(e){var t=e.attached,n=e.basic,r=e.celled,i=e.children,a=e.className,o=e.collapsing,u=e.color,s=e.columns,c=e.compact,l=e.definition,f=e.fixed,d=e.footerRow,h=e.headerRow,p=e.headerRows,v=e.inverted,m=e.padded,g=e.renderBodyRow,y=e.selectable,b=e.singleLine,x=e.size,w=e.sortable,k=e.stackable,E=e.striped,O=e.structured,S=e.tableData,A=e.textAlign,C=e.unstackable,D=e.verticalAlign,T=pi("ui",u,x,gi(r,"celled"),gi(o,"collapsing"),gi(l,"definition"),gi(f,"fixed"),gi(v,"inverted"),gi(y,"selectable"),gi(b,"single line"),gi(w,"sortable"),gi(k,"stackable"),gi(E,"striped"),gi(O,"structured"),gi(C,"unstackable"),bi(t,"attached"),bi(n,"basic"),bi(c,"compact"),bi(m,"padded"),wi(A),_i(D),ki(s,"column"),"table",a),F=Ei(qw,e),P=Oi(qw,e);if(!Di(i))return _.createElement(P,j({},F,{className:T}),i);var M={defaultProps:{cellAs:"th"}},N=(h||p)&&_.createElement(Nw,null,Uw.create(h,M),Xr(p,(function(e){return Uw.create(e,M)})));return _.createElement(P,j({},F,{className:T}),N,_.createElement(Tw,null,g&&Xr(S,(function(e,t){return Uw.create(g(e,t))}))),d&&_.createElement(Iw,null,Uw.create(d)))}qw.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],qw.defaultProps={as:"table"},qw.propTypes={},qw.Body=Tw,qw.Cell=Pw,qw.Footer=Iw,qw.Header=Nw,qw.HeaderCell=zw,qw.Row=Uw;var Ww=qw;var Hw=function(e,t,n){return null==e?e:Wh(e,t,n)},$w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=(0,_.createRef)(),t.labelRef=(0,_.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,a=t.state.checked;return!n&&!i&&!(r&&a)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return ta(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,a=r.indeterminate,o=di(t.inputRef.current,"contains",e.target),u=di(t.labelRef.current,"contains",e.target),s=!u&&!o,c=!ta(n);u&&c||di(t.props,"onClick",e,j({},t.props,{checked:!i,indeterminate:!!a})),t.isClickFromMouse&&(t.isClickFromMouse=!1,u&&!c&&t.handleChange(e),s&&t.handleChange(e),u&&c&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(di(t.props,"onChange",e,j({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;di(t.props,"onMouseDown",e,j({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||di(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,di(t.props,"onMouseUp",e,j({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;Hw(t.inputRef,"current.indeterminate",!!e)},t}_e(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,r=e.disabled,i=e.label,a=e.id,o=e.name,u=e.radio,s=e.readOnly,c=e.slider,l=e.toggle,f=e.type,d=e.value,h=this.state,p=h.checked,v=h.indeterminate,m=pi("ui",gi(p,"checked"),gi(r,"disabled"),gi(v,"indeterminate"),gi(ta(i),"fitted"),gi(u,"radio"),gi(s,"read-only"),gi(c,"slider"),gi(l,"toggle"),"checkbox",n),g=Ei(t,this.props),y=Oi(t,this.props),b=Jf(g,{htmlProps:Xf}),x=b[0],w=b[1],k=oa(i,{defaultProps:{htmlFor:a},autoGenerateKey:!1})||_.createElement("label",{htmlFor:a});return _.createElement(y,j({},w,{className:m,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),_.createElement(Do,{innerRef:this.inputRef},_.createElement("input",j({},x,{checked:p,className:"hidden",disabled:r,id:a,name:o,readOnly:!0,tabIndex:this.computeTabIndex(),type:f,value:d}))),_.createElement(Do,{innerRef:this.labelRef},k))},t}(Pi);$w.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],$w.propTypes={},$w.defaultProps={type:"checkbox"},$w.autoControlledProps=["checked","indeterminate"];var Vw=function(e){var t=e.processDelete,n=e.deleteIds,r=e.setDeleteIds,i=D((0,_.useState)(!0),2),a=i[0],o=i[1],u=(0,_.useRef)(!1),s=function(){var e=nu(iu().mark((function e(){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current=!a,e.next=3,t(n);case 3:r([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=(null===n||void 0===n?void 0:n.length)||0;return u.current&&1===c?(s(),null):(0,Jo.jsxs)(kp,{style:{backgroundColor:"#00000054"},open:c>0,onClose:function(){return r([])},children:[(0,Jo.jsxs)(kp.Header,{children:["Delete item",1===c?"":"s"]}),(0,Jo.jsxs)(kp.Content,{children:[(0,Jo.jsxs)("p",{children:["Are you sure you want to delete ",1===c?"this item":"".concat(c," items"),"?"]}),(0,Jo.jsx)("br",{}),(0,Jo.jsxs)(kp.Actions,{children:[(0,Jo.jsxs)(Pd,{centered:"true",children:[(0,Jo.jsx)(Id,{fluid:!0,primary:!0,onClick:function(){return r([])},children:"Cancel"}),(0,Jo.jsx)(Id,{fluid:!0,color:"red",onClick:function(e,t){return s()},children:"Yes"})]}),c>1?null:(0,Jo.jsx)($w,{style:{float:"right"},onChange:function(e,t){return o(!t.checked)},label:"Do not ask again. Next time, delete immediately when clicking the trash icon"})]})]})]})},Gw=_.memo(Vw),Yw=function(e){var t=e.dashData,n=e.columns,r=e.selection,i=D((0,_.useState)(0),2),a=i[0],o=i[1],u=D((0,_.useState)([]),2),s=u[0],c=u[1],l=D((0,_.useState)(0),2),f=l[0],d=l[1],h=D((0,_.useState)([]),2),p=h[0],v=h[1],m=D((0,_.useState)(null),2),g=m[0],y=m[1];(0,_.useEffect)((function(){if(!t)return c([]),null;if(t.is_subset){if(r)throw new Error("cannot use selection if dashData is a subset");d(t.N()),c(t.listData(25)),o(t.deleted.length),y(t.data.map((function(e){return e._INDEX})))}else d(t.N(r)),c(t.listData(25,r)),o(t.N()),y(r)}),[t,r]);var b=function(){var e=nu(iu().mark((function e(){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f!==s.length){e.next=2;break}return e.abrupt("return");case 2:console.log("go"),c(t.listData(s.length+25,r));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=nu(iu().mark((function e(n){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.rmID(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t?(0,Jo.jsxs)(uw,{style:{height:"98%",width:"98%",padding:"0"},children:[(0,Jo.jsx)(Uf,{style:{background:"#00000000",height:"55px",margin:"0"},children:(0,Jo.jsxs)(Dd,{textAlign:"center",as:"h2",style:{color:"white"},children:[g?(0,Jo.jsx)(Id,{onClick:function(){return v(g)},icon:"trash alternate",style:{color:"red",padding:"0",marginBottom:"10px",background:"#ffffff00"}}):null,f===a?a:"".concat(f," / ").concat(a)," items"]})}),(0,Jo.jsx)(uw,{style:{height:"calc(100% - 55px)",width:"100%",overflow:"auto",paddingLeft:"20px"},children:(0,Jo.jsx)(Dw,{continuous:!0,onBottomVisible:b,children:(0,Jo.jsx)(Kw,{data:s,columns:n,processDelete:x})})}),(0,Jo.jsx)(Gw,{processDelete:x,deleteIds:p,setDeleteIds:v})]}):null},Kw=function(e){var t=e.data,n=e.columns,r=e.processDelete,i=D((0,_.useState)([]),2),a=i[0],o=i[1];return null===t||0===t.length?null:(n||(n=Object.keys(t[0]).filter((function(e){return"_INDEX"!==e}))),(0,Jo.jsxs)(Ww,{unstackable:!0,fixed:!0,singleLine:!0,compact:"very",style:{width:"100%",color:"white",background:"#00000099"},children:[function(e){var t=[{name:"delete",width:1}].concat(pu(e)).map((function(e){var t="object"===typeof e?e.name:e;return(0,Jo.jsx)(Ww.HeaderCell,{width:null===e||void 0===e?void 0:e.width,style:{top:"0px",position:"sticky",zIndex:"2"},children:t},e)}));return(0,Jo.jsx)(Ww.Header,{children:(0,Jo.jsx)(Ww.Row,{children:t})})}(n),function(e){var n=t.map((function(t,n){var r=e.map((function(e){var r="object"===typeof e?e.name:e,i=(null===e||void 0===e?void 0:e.f)||null,a=Xw(t,r,i);return(0,Jo.jsx)(Ww.Cell,{title:a,children:a},r+"_"+n)}));return(0,Jo.jsxs)(Ww.Row,{children:[(0,Jo.jsx)(Ww.Cell,{children:(0,Jo.jsx)(Id,{size:"mini",style:{padding:"5px",background:"red",color:"black"},onClick:function(){return o([t._INDEX])},icon:"trash alternate"})},"0"),r]},n)}));return(0,Jo.jsx)(Ww.Body,{children:n})}(n),(0,Jo.jsx)(Gw,{processDelete:r,deleteIds:a,setDeleteIds:o})]}))},Xw=function(e,t,n){var r;return n?r=n(e):(r=e[t])instanceof Date&&(r=r.toISOString().slice(0,19).replace(/T/g," ")),r},Qw=_.memo(Yw),Zw=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).inputRef=(0,_.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return ta(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return ta(r)?t?-1:void 0:r},n.focus=function(){return n.inputRef.current.focus()},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=Mr(e,"target.value");di(n.props,"onChange",e,j({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return j({},t,e.props,{ref:function(t){ko(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,a=n.computeTabIndex(),o=Ei(t,n.props),u=Jf(o),s=u[0],c=u[1];return[j({},s,{disabled:r,type:i,tabIndex:a,onChange:n.handleChange,ref:n.inputRef}),c]},n}return _e(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.action,i=n.actionPosition,a=n.children,o=n.className,u=n.disabled,s=n.error,c=n.fluid,l=n.focus,f=n.icon,d=n.iconPosition,h=n.input,p=n.inverted,v=n.label,m=n.labelPosition,g=n.loading,y=n.size,b=n.transparent,x=n.type,w=pi("ui",y,gi(u,"disabled"),gi(s,"error"),gi(c,"fluid"),gi(l,"focus"),gi(p,"inverted"),gi(g,"loading"),gi(b,"transparent"),yi(i,"action")||gi(r,"action"),yi(d,"icon")||gi(f||g,"icon"),yi(m,"labeled")||gi(v,"labeled"),"input",o),k=Oi(t,this.props),E=this.partitionProps(),O=E[0],S=E[1];if(!Di(a)){var A=Xr(_.Children.toArray(a),(function(t){return"input"!==t.type?t:(0,_.cloneElement)(t,e.handleChildOverrides(t,O))}));return _.createElement(k,j({},S,{className:w}),A)}var C=Id.create(r,{autoGenerateKey:!1}),D=bd.create(v,{defaultProps:{className:pi("label",Vf(m,"corner")&&m)},autoGenerateKey:!1});return _.createElement(k,j({},S,{className:w}),"left"===i&&C,"right"!==m&&D,aa(h||x,{defaultProps:O,autoGenerateKey:!1}),po.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==i&&C,"right"===m&&D)},t}(_.Component);Zw.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Zw.propTypes={},Zw.defaultProps={type:"text"},Zw.create=ra(Zw,(function(e){return{type:e}}));var Jw=Zw,e_=function(e){var t=e.dashData,n=e.searchOn,r=e.setSelection,i=D((0,_.useState)(""),2),a=i[0],o=i[1],u=D((0,_.useState)(!1),2),s=u[0],c=u[1];return(0,_.useEffect)((function(){c(!0);var e=setTimeout((function(){r(t&&a?t.search(a,n):null),c(!1)}),500);return function(){return clearTimeout(e)}}),[t,a,n,c,r]),(0,Jo.jsxs)("div",{style:{display:"flex",margin:"0"},children:[(0,Jo.jsx)("div",{className:"dimmable",style:{width:"50px"},children:(0,Jo.jsx)(po,{size:"big",name:s?"compass":"search",loading:s,style:{paddingTop:"9px",paddingLeft:"13fpx",color:"white"}})}),(0,Jo.jsx)("div",{style:{flex:"1 1 auto"},children:(0,Jo.jsx)(Jw,{fluid:!0,value:a,icon:(0,Jo.jsx)(Id,{compact:!0,icon:"window close",onClick:function(){return o("")},size:"huge",style:{color:"white",height:"1em",background:"#ffffff00"}}),onChange:function(e,t){return o(t.value)}})})]})},t_=_.memo(e_),n_=function(e,t){for(var n=0;n<e.length;n++)if(e[n].length<=t[n])return!0;return!1},r_=function(e,t){for(var n=1;n<e.length;n++)if(e[n][t[n]]!==e[0][t[0]])return!1;return!0},i_=function(e,t){for(var n=e[0][t[0]],r=1;r<e.length;r++)e[r][t[r]]>n&&(n=e[r][t[r]]);return n},a_=function(e){if(e=e.filter((function(e){return null!==e})),0===e.length)return null;if(1===e.length)return e[0];for(var t=new Array(e.length).fill(0),n=[];!n_(e,t);){if(r_(e,t)){n.push(e[0][t[0]]);for(var r=0;r<t.length;r++)t[r]++}for(var i=i_(e,t),a=0;a<t.length;a++)e[a][t[a]]<i&&t[a]++}return n},o_=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];au(this,e),this.name=t,this.data=n,this.setData=r,this.deleted=i||new Array(n.length).fill(!1),this.is_subset=a}return uu(e,[{key:"triggerUpdate",value:function(){this.setData(new e(this.name,this.data,this.setData,this.deleted,this.is_subset))}},{key:"rmID",value:function(){var e=nu(iu().mark((function e(t){var n,r,i,a;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pu(this.deleted),r=S(t);try{for(r.s();!(i=r.n()).done;)a=i.value,n[a]=!0}catch(o){r.e(o)}finally{r.f()}return e.prev=3,e.next=6,Df.setDeleted(this.name,n);case 6:this.deleted=n,this.triggerUpdate(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("could not delete data");case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"subset",value:function(e){var t=this;this.data=e.map((function(e){return t.data[e]})),this.is_subset=!0}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e||0===e.length)return null;var n,r=[],i=Array.isArray(e)?e:[e],a=[],o=S(i);try{for(o.s();!(n=o.n()).done;){var u=n.value;a.push(new RegExp(u.replace(/[-/\\^$*+?.()|[\]{}]/,"\\$&"),"i"))}}catch(b){o.e(b)}finally{o.f()}var s,c=S(this.data);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=l._INDEX;if(!this.deleted[f]){var d,h=t||Object.keys(l),p=S(h);try{e:for(p.s();!(d=p.n()).done;){var v,m=d.value,g=S(a);try{for(g.s();!(v=g.n()).done;){var y=v.value;if(y.test(l[m])){r.push(f);break e}}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}}}}catch(b){c.e(b)}finally{c.f()}return r}},{key:"searchValues",value:function(e,t){if(null===e||0===e.length)return null;var n,r=e.reduce((function(e,t){return e[t]=!0,e}),{}),i=[],a=S(this.data);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o._INDEX;if(!this.deleted[u])if(Array.isArray(o[t])){var s,c=S(o[t]);try{for(c.s();!(s=c.n()).done;){if(r[s.value]){i.push(u);break}}}catch(l){c.e(l)}finally{c.f()}}else r[o[t]]&&i.push(u)}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"count",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&this.is_subset)throw new Error("cannot use selection if dashdata is a subset");for(var r,i={},a=0;a<this.data.length;a++){if(t){if(a>=t.length)break;r=t[a]}else r=a;if(!this.deleted[this.data[r]._INDEX]){var o=this.data[r][e];Array.isArray(o)||(o=[o]),n&&(o=[o.join(n)]);var u,s=S(o);try{for(s.s();!(u=s.n()).done;){var c=u.value;""!==c&&(i[c]||(i[c]=0),i[c]++)}}catch(l){s.e(l)}finally{s.f()}}}return i}},{key:"N",value:function(e){if(e&&this.is_subset)throw new Error("cannot use selection if dashdata is a subset");for(var t,n=0,r=0;r<this.data.length;r++){if(e){if(r>=e.length)break;t=e[r]}else t=r;this.deleted[this.data[t]._INDEX]||n++}return n}},{key:"listData",value:function(e,t){if(t&&this.is_subset)throw new Error("cannot use selection if dashdata is a subset");for(var n,r=[],i=0;i<this.data.length&&r.length!==e;i++){if(t){if(i>=t.length)break;n=t[i]}else n=i;this.deleted[this.data[n]._INDEX]||r.push(this.data[n])}return r}}]),e}();var u_=function(){var e=nu(iu().mark((function e(t,n,r){var i,a;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Df.getData(t,n);case 3:i=e.sent,a=new o_(t,i.data,r),r(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),r(null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),s_=function(){var e=Q();return(0,Jo.jsxs)(Id,{style:{position:"absolute",left:"0",background:"#00000000",color:"white",border:"1px solid white",marginLeft:"20px",marginTop:"20px"},onClick:function(){return e("/datasquare")},children:[(0,Jo.jsx)(po,{name:"backward"}),"Go back"]})},c_=function(e){var t=e.dataName,n=e.searchOn,r=e.columns,i=e.VisComponent,a=e.calcStatistics,o=function(e,t){var n=D((0,_.useState)(null),2),r=n[0],i=n[1];return(0,_.useEffect)((function(){u_(e,t,i)}),[e,t]),r}(t),u=D((0,_.useState)([]),2),s=u[0],c=u[1],l=D((0,_.useState)(null),2),f=l[0],d=l[1],h=D((0,_.useState)(null),2),p=h[0],v=h[1],m=D((0,_.useState)(null),2),g=m[0],y=m[1];return(0,_.useEffect)((function(){y(a_([p,f]))}),[p,f]),(0,_.useEffect)((function(){c(a(o,g))}),[o,g,a]),(0,Jo.jsxs)(Ew,{background:Bd,color:"#000000b0",children:[(0,Jo.jsx)(pd,{active:!o,children:(0,Jo.jsx)(Rh,{})}),(0,Jo.jsxs)(Nf,{stackable:!0,style:{height:"100vh"},children:[(0,Jo.jsxs)(Nf.Row,{style:{minHeight:"500px"},children:[(0,Jo.jsxs)(Nf.Column,{width:4,children:[(0,Jo.jsx)(s_,{}),(0,Jo.jsxs)(uw,{style:{margin:"50px",marginTop:"100px",padding:"20px"},children:[(0,Jo.jsx)("div",{style:{marginBottom:"1em"},children:(0,Jo.jsx)(t_,{dashData:o,searchOn:n,setSelection:v})}),(0,Jo.jsx)(l_,{statistics:s})]})]}),(0,Jo.jsx)(Nf.Column,{width:12,children:(0,Jo.jsx)(i,{dashData:o,inSelection:p,setOutSelection:d})})]}),(0,Jo.jsx)(Nf.Row,{style:{minHeight:"500px",maxHeight:"calc(100vh - 500px)",width:"100%"},children:(0,Jo.jsx)(Qw,{dashData:o,columns:r,selection:g})})]})]})},l_=function(e){var t=e.statistics;return(0,Jo.jsxs)(uw,{style:{height:"98%",padding:"20px",background:"#55555587",borderRadius:"10px"},children:[(0,Jo.jsx)(Dd,{as:"h1",align:"center",style:{color:"white",padding:"0",margin:"0"},children:"Statistics"}),(0,Jo.jsx)(kw.Group,{children:t.map((function(e){return(0,Jo.jsx)(kw,{children:(0,Jo.jsxs)(kw.Content,{children:[(0,Jo.jsx)(kw.Header,{style:{color:"white"},children:e.label.replace("_"," ")}),(0,Jo.jsx)(kw.Description,{style:{color:"white"},children:e.value})]})},e.label)}))})]})},f_=_.memo(c_);function d_(e,t){if(null==e)return{};var n,r,i=Oo(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h_={};function p_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h_,n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every((function(n){return e[n]===t[n]}))}var v_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m_=Object.prototype.hasOwnProperty;function g_(e,t){return m_.call(e,t)}function y_(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var r in e)g_(e,r)&&t.push(r);return t}function b_(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function x_(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function w_(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function __(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function k_(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(k_(e[t]))return!0}else if("object"===typeof e){var r=y_(e),i=r.length;for(t=0;t<i;t++)if(k_(e[r[t]]))return!0}return!1}function E_(e,t){var n=[e];for(var r in t){var i="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof i&&n.push(r+": "+i)}return n.join("\n")}var O_=function(e){function t(t,n,r,i,a){var o=this.constructor,u=e.call(this,E_(t,{name:n,index:r,operation:i,tree:a}))||this;return u.name=n,u.index=r,u.operation=i,u.tree=a,Object.setPrototypeOf(u,o.prototype),u.message=E_(t,{name:n,index:r,operation:i,tree:a}),u}return v_(t,e),t}(Error),S_=O_,A_=b_,C_={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=j_(n,this.path);r&&(r=b_(r));var i=T_(n,{op:"remove",path:this.from}).removed;return T_(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=j_(n,this.from);return T_(n,{op:"add",path:this.path,value:b_(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:R_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},D_={add:function(e,t,n){return x_(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:C_.move,copy:C_.copy,test:C_.test,_get:C_._get};function j_(e,t){if(""==t)return e;var n={op:"_get",path:t};return T_(e,n),n.value}function T_(e,t,n,r,i,a){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===a&&(a=0),n&&("function"==typeof n?n(t,0,e,t.path):M_(t,0)),""===t.path){var o={newDocument:e};if("add"===t.op)return o.newDocument=t.value,o;if("replace"===t.op)return o.newDocument=t.value,o.removed=e,o;if("move"===t.op||"copy"===t.op)return o.newDocument=j_(e,t.from),"move"===t.op&&(o.removed=e),o;if("test"===t.op){if(o.test=R_(e,t.value),!1===o.test)throw new S_("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}if("remove"===t.op)return o.removed=e,o.newDocument=null,o;if("_get"===t.op)return t.value=e,o;if(n)throw new S_("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}r||(e=b_(e));var u=(t.path||"").split("/"),s=e,c=1,l=u.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:M_;;){if((d=u[c])&&-1!=d.indexOf("~")&&(d=__(d)),i&&"__proto__"==d)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===s[d]?f=u.slice(0,c).join("/"):c==l-1&&(f=t.path),void 0!==f&&h(t,0,e,f)),c++,Array.isArray(s)){if("-"===d)d=s.length;else{if(n&&!x_(d))throw new S_("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);x_(d)&&(d=~~d)}if(c>=l){if(n&&"add"===t.op&&d>s.length)throw new S_("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);if(!1===(o=D_[t.op].call(t,s,d,e)).test)throw new S_("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}}else if(c>=l){if(!1===(o=C_[t.op].call(t,s,d,e)).test)throw new S_("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}if(s=s[d],n&&c<l&&(!s||"object"!==typeof s))throw new S_("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}function F_(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new S_("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=b_(e));for(var a=new Array(t.length),o=0,u=t.length;o<u;o++)a[o]=T_(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function P_(e,t,n){var r=T_(e,t);if(!1===r.test)throw new S_("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function M_(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new S_("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!C_[e.op])throw new S_("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new S_("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new S_('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new S_("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new S_("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&k_(e.value))throw new S_("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new S_("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new S_("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var o=N_([{op:"_get",path:e.from,value:void 0}],n);if(o&&"OPERATION_PATH_UNRESOLVABLE"===o.name)throw new S_("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function N_(e,t,n){try{if(!Array.isArray(e))throw new S_("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)F_(b_(t),b_(e),n||!0);else{n=n||M_;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(Xwe){if(Xwe instanceof S_)return Xwe;throw Xwe}}function R_(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,a=Array.isArray(e),o=Array.isArray(t);if(a&&o){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!R_(e[n],t[n]))return!1;return!0}if(a!=o)return!1;var u=Object.keys(e);if((r=u.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(u[n]))return!1;for(n=r;0!==n--;)if(!R_(e[i=u[n]],t[i]))return!1;return!0}return e!==e&&t!==t}var I_=new WeakMap,B_=function(e){this.observers=new Map,this.obj=e},z_=function(e,t){this.callback=e,this.observer=t};function L_(e,t){t.unobserve()}function U_(e,t){var n,r=function(e){return I_.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new B_(e),I_.set(e,r);if(n)return n;if(n={},r.value=b_(e),t){n.callback=t,n.next=null;var a=function(){q_(n)},o=function(){clearTimeout(n.next),n.next=setTimeout(a)};"undefined"!==typeof window&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return n.patches=[],n.object=e,n.unobserve=function(){q_(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},r.observers.set(t,new z_(t,n)),n}function q_(e,t){void 0===t&&(t=!1);var n=I_.get(e.object);W_(n.value,e.object,e.patches,"",t),e.patches.length&&F_(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function W_(e,t,n,r,i){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var a=y_(t),o=y_(e),u=!1,s=o.length-1;s>=0;s--){var c=e[f=o[s]];if(!g_(t,f)||void 0===t[f]&&void 0!==c&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+w_(f),value:b_(c)}),n.push({op:"remove",path:r+"/"+w_(f)}),u=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var l=t[f];"object"==typeof c&&null!=c&&"object"==typeof l&&null!=l&&Array.isArray(c)===Array.isArray(l)?W_(c,l,n,r+"/"+w_(f),i):c!==l&&(!0,i&&n.push({op:"test",path:r+"/"+w_(f),value:b_(c)}),n.push({op:"replace",path:r+"/"+w_(f),value:b_(l)}))}}if(u||a.length!=o.length)for(s=0;s<a.length;s++){var f;g_(e,f=a[s])||void 0===t[f]||n.push({op:"add",path:r+"/"+w_(f),value:b_(t[f])})}}}function H_(e,t,n){void 0===n&&(n=!1);var r=[];return W_(e,t,r,"",n),r}Object.assign({},a,o,{JsonPatchError:O_,deepClone:b_,escapePathComponent:w_,unescapePathComponent:__});var $_=n(6662),V_=n.n($_);function G_(e,t,n){return e.fields=t||[],e.fname=n,e}function Y_(e){return null==e?null:e.fname}function K_(e){return null==e?null:e.fields}function X_(e){return 1===e.length?Q_(e[0]):Z_(e)}var Q_=function(e){return function(t){return t[e]}},Z_=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function J_(e){throw Error(e)}function ek(e){var t,n,r,i=[],a=e.length,o=null,u=0,s="";function c(){i.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<a;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)c(),o=null,u=-1;else{if(o)continue;t===u&&'"'===r||t===u&&"'"===r?(t=n+1,o=r):"."!==r||u?"["===r?(n>t&&c(),u=t=n+1):"]"===r&&(u||J_("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&J_("Access path missing closing bracket: "+e),o&&J_("Access path missing closing quote: "+e),n>t&&(n++,c()),i}function tk(e,t,n){var r=ek(e);return e=1===r.length?r[0]:e,G_((n&&n.get||X_)(r),[e],t||e)}var nk=tk("id"),rk=G_((function(e){return e}),[],"identity"),ik=G_((function(){return 0}),[],"zero"),ak=G_((function(){return 1}),[],"one"),ok=G_((function(){return!0}),[],"true"),uk=G_((function(){return!1}),[],"false");function sk(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var ck=0,lk=1,fk=2,dk=3,hk=4;function pk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sk,r=e||ck;return{level:function(e){return arguments.length?(r=+e,this):r},error:function(){return r>=lk&&n(t||"error","ERROR",arguments),this},warn:function(){return r>=fk&&n(t||"warn","WARN",arguments),this},info:function(){return r>=dk&&n(t||"log","INFO",arguments),this},debug:function(){return r>=hk&&n(t||"log","DEBUG",arguments),this}}}var vk=Array.isArray;function mk(e){return e===Object(e)}var gk=function(e){return"__proto__"!==e};function yk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=xk(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;bk(e,n,t[n],r)}return e}),{})}function bk(e,t,n,r){var i,a;if(gk(t))if(mk(n)&&!vk(n))for(i in a=mk(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?bk(a,i,n[i]):gk(i)&&(a[i]=n[i]);else e[t]=n}function xk(e,t){if(null==e)return t;var n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function wk(e){return e[e.length-1]}function _k(e){return null==e||""===e?null:+e}var kk=function(e){return function(t){return e*Math.exp(t)}},Ek=function(e){return function(t){return Math.log(e*t)}},Ok=function(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}},Sk=function(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}},Ak=function(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}};function Ck(e,t,n,r){var i=n(e[0]),a=n(wk(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function Dk(e,t){return Ck(e,t,_k,rk)}function jk(e,t){var n=Math.sign(e[0]);return Ck(e,t,Ek(n),kk(n))}function Tk(e,t,n){return Ck(e,t,Ak(n),Ak(1/n))}function Fk(e,t,n){return Ck(e,t,Ok(n),Sk(n))}function Pk(e,t,n,r,i){var a=r(e[0]),o=r(wk(e)),u=null!=t?r(t):(a+o)/2;return[i(u+(a-u)*n),i(u+(o-u)*n)]}function Mk(e,t,n){return Pk(e,t,n,_k,rk)}function Nk(e,t,n){var r=Math.sign(e[0]);return Pk(e,t,n,Ek(r),kk(r))}function Rk(e,t,n,r){return Pk(e,t,n,Ak(r),Ak(1/r))}function Ik(e,t,n,r){return Pk(e,t,n,Ok(r),Sk(r))}function Bk(e){return 1+~~(new Date(e).getMonth()/3)}function zk(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Lk(e){return null!=e?vk(e)?e:[e]:[]}function Uk(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]}function qk(e){return"function"===typeof e}function Wk(e,t,n){n=n||{},t=Lk(t)||[];var r=[],i=[],a={},o=n.comparator||$k;return Lk(e).forEach((function(e,o){null!=e&&(r.push("descending"===t[o]?-1:1),i.push(e=qk(e)?e:tk(e,null,n)),(K_(e)||[]).forEach((function(e){return a[e]=1})))})),0===i.length?null:G_(o(i,r),Object.keys(a))}var Hk=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},$k=function(e,t){return 1===e.length?Vk(e[0],t[0]):Gk(e,t,e.length)},Vk=function(e,t){return function(n,r){return Hk(e(n),e(r))*t}},Gk=function(e,t,n){return t.push(0),function(r,i){for(var a,o=0,u=-1;0===o&&++u<n;)a=e[u],o=Hk(a(r),a(i));return o*t[u]}};function Yk(e){return qk(e)?e:function(){return e}}function Kk(e,t){var n;return function(r){n&&clearTimeout(n),n=setTimeout((function(){return t(r),n=null}),e)}}function Xk(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e}function Qk(e,t){var n,r,i,a,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(i=a=r;o<n;++o)null!=(r=e[o])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(i=a=r;o<n;++o)null!=(r=t(e[o]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]}function Zk(e,t){var n,r,i,a,o,u=e.length,s=-1;if(null==t){for(;++s<u;)if(null!=(r=e[s])&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(a=o=s;++s<u;)null!=(r=e[s])&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<u;)if(null!=(r=t(e[s],s,e))&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(a=o=s;++s<u;)null!=(r=t(e[s],s,e))&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]}var Jk=Object.prototype.hasOwnProperty;function eE(e,t){return Jk.call(e,t)}var tE={};function nE(e){var t,n={};function r(e){return eE(n,e)&&n[e]!==tE}var i={size:0,empty:0,object:n,has:r,get:function(e){return r(e)?n[e]:void 0},set:function(e,t){return r(e)||(++i.size,n[e]===tE&&--i.empty),n[e]=t,this},delete:function(e){return r(e)&&(--i.size,++i.empty,n[e]=tE),this},clear:function(){i.size=i.empty=0,i.object=n={}},test:function(e){return arguments.length?(t=e,i):t},clean:function(){var e={},r=0;for(var a in n){var o=n[a];o===tE||t&&t(o)||(e[a]=o,++r)}i.size=r,i.empty=0,i.object=n=e}};return e&&Object.keys(e).forEach((function(t){i.set(t,e[t])})),i}function rE(e,t,n,r,i,a){if(!n&&0!==n)return a;var o,u=+n,s=e[0],c=wk(e);c<s&&(o=s,s=c,c=o),o=Math.abs(t-s);var l=Math.abs(c-t);return o<l&&o<=u?r:l<=u?i:a}function iE(e,t,n){var r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Xk(r,n)}function aE(e,t,n,r){var i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),r=void 0===r||r,((n=void 0===n||n)?a<=e:a<e)&&(r?e<=o:e<o)}function oE(e){return"boolean"===typeof e}function uE(e){return"[object Date]"===Object.prototype.toString.call(e)}function sE(e){return e&&qk(e[Symbol.iterator])}function cE(e){return"number"===typeof e}function lE(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function fE(e){return"string"===typeof e}function dE(e,t,n){e&&(e=t?Lk(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Lk(e));var r,i=e&&e.length,a=n&&n.get||X_,o=function(e){return a(t?[e]:ek(e))};if(i)if(1===i){var u=o(e[0]);r=function(e){return""+u(e)}}else{var s=e.map(o);r=function(e){for(var t=""+s[0](e),n=0;++n<i;)t+="|"+s[n](e);return t}}else r=function(){return""};return G_(r,e,"key")}function hE(e,t){var n=e[0],r=wk(e),i=+t;return i?1===i?r:n+i*(r-n):n}function pE(e){var t,n,r;e=+e||1e4;var i=function(){t={},n={},r=0},a=function(i,a){return++r>e&&(n=t,t={},r=1),t[i]=a};return i(),{clear:i,has:function(e){return eE(t,e)||eE(n,e)},get:function(e){return eE(t,e)?t[e]:eE(n,e)?a(e,n[e]):void 0},set:function(e,n){return eE(t,e)?t[e]=n:a(e,n)}}}function vE(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),u=0,s=0,c=0;u<i&&s<a;++c)o[c]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<i;++u,++c)o[c]=t[u];for(;s<a;++s,++c)o[c]=n[s];return o}function mE(e,t){for(var n="";--t>=0;)n+=e;return n}function gE(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?mE(i,o)+a:"center"===r?mE(i,~~(o/2))+a+mE(i,Math.ceil(o/2)):a+mE(i,o)}function yE(e){return e&&wk(e)-e[0]||0}function bE(e){return vk(e)?"["+e.map(bE)+"]":mk(e)||fE(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function xE(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var wE=function(e){return cE(e)||uE(e)?e:Date.parse(e)};function _E(e,t){return t=t||wE,null==e||""===e?null:t(e)}function kE(e){return null==e||""===e?null:e+""}function EE(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}function OE(e,t,n,r){var i=null!=r?r:"\u2026",a=e+"",o=a.length,u=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-u):"center"===n?a.slice(0,Math.ceil(u/2))+i+a.slice(o-~~(u/2)):a.slice(0,u)+i}function SE(e,t,n){if(e)if(t)for(var r=e.length,i=0;i<r;++i){var a=t(e[i]);a&&n(a,i,e)}else e.forEach(n)}var AE={},CE={};function DE(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function jE(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function TE(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function FE(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+TE(-e,6):e>9999?"+"+TE(e,6):TE(e,4)}(e.getUTCFullYear())+"-"+TE(e.getUTCMonth()+1,2)+"-"+TE(e.getUTCDate(),2)+(i?"T"+TE(t,2)+":"+TE(n,2)+":"+TE(r,2)+"."+TE(i,3)+"Z":r?"T"+TE(t,2)+":"+TE(n,2)+":"+TE(r,2)+"Z":n||t?"T"+TE(t,2)+":"+TE(n,2)+"Z":"")}function PE(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,u=0,s=a<=0,c=!1;function l(){if(s)return CE;if(c)return c=!1,AE;var t,r,i=o;if(34===e.charCodeAt(i)){for(;o++<a&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=a?s=!0:10===(r=e.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(o)&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=e.charCodeAt(t=o++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(o)&&++o;else if(r!==n)continue;return e.slice(i,t)}return s=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=l())!==CE;){for(var f=[];r!==AE&&r!==CE;)f.push(r),r=l();t&&null==(f=t(f,u++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?FE(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=DE(e);return function(r,i){return t(n(r),i,e)}}(e,t):DE(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=jE(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=jE(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}}function ME(e){return e}function NE(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return RE(e,t)}))}:RE(e,t)}function RE(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,a=IE(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function IE(e,t){var n=function(e){if(null==e)return ME;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(e,u){u||(t=n=0);var s=2,c=e.length,l=new Array(c);for(l[0]=(t+=e[0])*r+a,l[1]=(n+=e[1])*i+o;s<c;)l[s]=e[s],++s;return l}}(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],a=0,o=i.length;a<o;++a)t.push(n(i[a],a));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,o)}function a(e){return n(e)}function o(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function u(e){for(var t=o(e);t.length<4;)t.push(t[0]);return t}function s(e){return e.map(u)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=o(t.arcs);break;case"MultiLineString":n=t.arcs.map(o);break;case"Polygon":n=s(t.arcs);break;case"MultiPolygon":n=t.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(t)}function BE(e,t){var n={},r={},i={},a=[],o=-1;function u(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),a.push(i)}}return t.forEach((function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++o],t[o]=n,t[r]=i)})),t.forEach((function(t){var n,a,o=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,i]:[i,n]}(t),u=o[0],s=o[1];if(n=i[u])if(delete i[n.end],n.push(t),n.end=s,a=r[s]){delete r[a.start];var c=a===n?n:n.concat(a);r[c.start=n.start]=i[c.end=a.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(t),n.start=u,a=i[u]){delete i[a.end];var l=a===n?n:a.concat(n);r[l.start=a.start]=i[l.end=n.end]=l}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=u]=i[n.end=s]=n})),u(i,r),u(r,i),t.forEach((function(e){n[e<0?~e:e]||a.push([e])})),a}function zE(e){return IE(e,LE.apply(this,arguments))}function LE(e,t,n){var r,i,a;if(arguments.length>1)r=UE(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:BE(e,r)}}function UE(e,t,n){var r,i=[],a=[];function o(e){var t=e<0?~e:e;(a[t]||(a[t]=[])).push({i:e,g:r})}function u(e){e.forEach(o)}function s(e){e.forEach(u)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":s(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(s)}(t.arcs)}}(t),a.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}var qE=Math.sqrt(50),WE=Math.sqrt(10),HE=Math.sqrt(2);function $E(e,t,n){var r,i,a,o,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=VE(e,t,n))||!isFinite(o))return[];if(o>0){var s=Math.round(e/o),c=Math.round(t/o);for(s*o<e&&++s,c*o>t&&--c,a=new Array(i=c-s+1);++u<i;)a[u]=(s+u)*o}else{o=-o;var l=Math.round(e*o),f=Math.round(t*o);for(l/o<e&&++l,f/o>t&&--f,a=new Array(i=f-l+1);++u<i;)a[u]=(l+u)/o}return r&&a.reverse(),a}function VE(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=qE?10:a>=WE?5:a>=HE?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=qE?10:a>=WE?5:a>=HE?2:1)}function GE(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=qE?i*=10:a>=WE?i*=5:a>=HE&&(i*=2),t<e?-i:i}var YE,KE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function XE(e){if(!(t=KE.exec(e)))throw new Error("invalid format: "+e);var t;return new QE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function QE(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ZE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function JE(e){return(e=ZE(Math.abs(e)))?e[1]:NaN}function eO(e,t){var n=ZE(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}XE.prototype=QE.prototype,QE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var tO={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return eO(100*e,t)},r:eO,s:function(e,t){var n=ZE(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(YE=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ZE(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function nO(e){return e}var rO,iO,aO,oO=Array.prototype.map,uO=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function sO(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?nO:(t=oO.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?nO:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(oO.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=XE(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):tO[y]||(void 0===m&&(m=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?a:/[%p]/.test(y)?s:"",w=tO[y],_=/[defgprs%]/.test(y);function k(e){var i,a,s,d=b,k=x;if("c"===y)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==f&&(E=!1),d=(E?"("===f?f:c:"-"===f||"("===f?"":f)+d,k=("s"===y?uO[8+YE/3]:"")+k+(E&&"("===f?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){k=(46===s?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var O=d.length+e.length+k.length,S=O<p?new Array(p-O+1).join(t):"";switch(v&&h&&(e=r(S+e,S.length?p-k.length:1/0),S=""),n){case"<":e=d+e+k+S;break;case"=":e=d+S+e+k;break;case"^":e=S.slice(0,O=S.length>>1)+d+e+k+S.slice(O);break;default:e=S+d+e+k}return u(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=XE(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(JE(t)/3))),i=Math.pow(10,-r),a=uO[8+r/3];return function(e){return n(i*e)+a}}}}!function(e){rO=sO(e),iO=rO.format,aO=rO.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var cO=new Date,lO=new Date;function fO(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,u=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return u;do{u.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return u},i.filter=function(n){return fO((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return cO.setTime(+t),lO.setTime(+r),e(cO),e(lO),Math.floor(n(cO,lO))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var dO=1e3,hO=6e4,pO=36e5,vO=864e5,mO=6048e5,gO=fO((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hO)/vO}),(function(e){return e.getDate()-1})),yO=gO;gO.range;function bO(e){return fO((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hO)/mO}))}var xO=bO(0),wO=bO(1),_O=bO(2),kO=bO(3),EO=bO(4),OO=bO(5),SO=bO(6),AO=(xO.range,wO.range,_O.range,kO.range,EO.range,OO.range,SO.range,fO((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/vO}),(function(e){return e.getUTCDate()-1}))),CO=AO;AO.range;function DO(e){return fO((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/mO}))}var jO=DO(0),TO=DO(1),FO=DO(2),PO=DO(3),MO=DO(4),NO=DO(5),RO=DO(6),IO=(jO.range,TO.range,FO.range,PO.range,MO.range,NO.range,RO.range,fO((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));IO.every=function(e){return isFinite(e=Math.floor(e))&&e>0?fO((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var BO=IO,zO=(IO.range,fO((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),LO=zO,UO=(zO.range,fO((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*dO-e.getMinutes()*hO)}),(function(e,t){e.setTime(+e+t*pO)}),(function(e,t){return(t-e)/pO}),(function(e){return e.getHours()}))),qO=UO,WO=(UO.range,fO((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*dO)}),(function(e,t){e.setTime(+e+t*hO)}),(function(e,t){return(t-e)/hO}),(function(e){return e.getMinutes()}))),HO=WO,$O=(WO.range,fO((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*dO)}),(function(e,t){return(t-e)/dO}),(function(e){return e.getUTCSeconds()}))),VO=$O,GO=($O.range,fO((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));GO.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?fO((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):GO:null};var YO=GO,KO=(GO.range,fO((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));KO.every=function(e){return isFinite(e=Math.floor(e))&&e>0?fO((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var XO,QO,ZO,JO,eS,tS,nS,rS=KO,iS=(KO.range,fO((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),aS=iS,oS=(iS.range,fO((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*pO)}),(function(e,t){return(t-e)/pO}),(function(e){return e.getUTCHours()}))),uS=oS,sS=(oS.range,fO((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*hO)}),(function(e,t){return(t-e)/hO}),(function(e){return e.getUTCMinutes()}))),cS=sS;sS.range;function lS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fS(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)<0?r=a+1:i=a}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return lS(e(t),n)}}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);var o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)>0?i=a:r=a+1}return r}}}var dS="year",hS="quarter",pS="month",vS="week",mS="date",gS="day",yS="dayofyear",bS="hours",xS="minutes",wS="seconds",_S="milliseconds",kS=[dS,hS,pS,vS,mS,gS,yS,bS,xS,wS,_S],ES=kS.reduce((function(e,t,n){return e[t]=1+n,e}),{});function OS(e){var t=Lk(e).slice(),n={};return t.length||J_("Missing time unit."),t.forEach((function(e){eE(ES,e)?n[e]=1:J_("Invalid time unit: ".concat(e,"."))})),(n[vS]||n[gS]?1:0)+(n[hS]||n[pS]||n[mS]?1:0)+(n[yS]?1:0)>1&&J_("Incompatible time units: ".concat(e)),t.sort((function(e,t){return ES[e]-ES[t]})),t}var SS=(du(XO={},dS,"%Y "),du(XO,hS,"Q%q "),du(XO,pS,"%b "),du(XO,mS,"%d "),du(XO,vS,"W%U "),du(XO,gS,"%a "),du(XO,yS,"%j "),du(XO,bS,"%H:00"),du(XO,xS,"00:%M"),du(XO,wS,":%S"),du(XO,_S,".%L"),du(XO,"".concat(dS,"-").concat(pS),"%Y-%m "),du(XO,"".concat(dS,"-").concat(pS,"-").concat(mS),"%Y-%m-%d "),du(XO,"".concat(bS,"-").concat(xS),"%H:%M"),XO);function AS(e,t){var n,r,i=Xk({},SS,t),a=OS(e),o=a.length,u="",s=0;for(s=0;s<o;)for(n=a.length;n>s;--n)if(null!=i[r=a.slice(s,n).join("-")]){u+=i[r],s=n;break}return u.trim()}var CS=new Date;function DS(e){return CS.setFullYear(e),CS.setMonth(0),CS.setDate(1),CS.setHours(0,0,0,0),CS}function jS(e){return FS(new Date(e))}function TS(e){return PS(new Date(e))}function FS(e){return yO.count(DS(e.getFullYear())-1,e)}function PS(e){return xO.count(DS(e.getFullYear())-1,e)}function MS(e){return DS(e).getDay()}function NS(e,t,n,r,i,a,o){if(0<=e&&e<100){var u=new Date(-1,t,n,r,i,a,o);return u.setFullYear(e),u}return new Date(e,t,n,r,i,a,o)}function RS(e){return BS(new Date(e))}function IS(e){return zS(new Date(e))}function BS(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return CO.count(t-1,e)}function zS(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return jO.count(t-1,e)}function LS(e){return CS.setTime(Date.UTC(e,0,1)),CS.getUTCDay()}function US(e,t,n,r,i,a,o){if(0<=e&&e<100){var u=new Date(Date.UTC(-1,t,n,r,i,a,o));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,r,i,a,o))}function qS(e,t,n,r,i){var a=t||1,o=wk(e),u=function(e,t,i){return function(e,t,n,r){var i=n<=1?e:r?function(t,i){return r+n*Math.floor((e(t,i)-r)/n)}:function(t,r){return n*Math.floor(e(t,r)/n)};return t?function(e,n){return t(i(e,n),n)}:i}(n[i=i||e],r[i],e===o&&a,t)},s=new Date,c=EE(e),l=c[dS]?u(dS):Yk(2012),f=c[pS]?u(pS):c[hS]?u(hS):ik,d=c[vS]&&c[gS]?u(gS,1,vS+gS):c[vS]?u(vS,1):c[gS]?u(gS,1):c[mS]?u(mS,1):c[yS]?u(yS,1):ak,h=c[bS]?u(bS):ik,p=c[xS]?u(xS):ik,v=c[wS]?u(wS):ik,m=c[_S]?u(_S):ik;return function(e){s.setTime(+e);var t=l(s);return i(t,f(s),d(s,t),h(s),p(s),v(s),m(s))}}function WS(e,t,n){return t+7*e-(n+6)%7}var HS=(du(QO={},dS,(function(e){return e.getFullYear()})),du(QO,hS,(function(e){return Math.floor(e.getMonth()/3)})),du(QO,pS,(function(e){return e.getMonth()})),du(QO,mS,(function(e){return e.getDate()})),du(QO,bS,(function(e){return e.getHours()})),du(QO,xS,(function(e){return e.getMinutes()})),du(QO,wS,(function(e){return e.getSeconds()})),du(QO,_S,(function(e){return e.getMilliseconds()})),du(QO,yS,(function(e){return FS(e)})),du(QO,vS,(function(e){return PS(e)})),du(QO,vS+gS,(function(e,t){return WS(PS(e),e.getDay(),MS(t))})),du(QO,gS,(function(e,t){return WS(1,e.getDay(),MS(t))})),QO),$S=(du(ZO={},hS,(function(e){return 3*e})),du(ZO,vS,(function(e,t){return WS(e,0,MS(t))})),ZO);function VS(e,t){return qS(e,t||1,HS,$S,NS)}var GS=(du(JO={},dS,(function(e){return e.getUTCFullYear()})),du(JO,hS,(function(e){return Math.floor(e.getUTCMonth()/3)})),du(JO,pS,(function(e){return e.getUTCMonth()})),du(JO,mS,(function(e){return e.getUTCDate()})),du(JO,bS,(function(e){return e.getUTCHours()})),du(JO,xS,(function(e){return e.getUTCMinutes()})),du(JO,wS,(function(e){return e.getUTCSeconds()})),du(JO,_S,(function(e){return e.getUTCMilliseconds()})),du(JO,yS,(function(e){return BS(e)})),du(JO,vS,(function(e){return zS(e)})),du(JO,gS,(function(e,t){return WS(1,e.getUTCDay(),LS(t))})),du(JO,vS+gS,(function(e,t){return WS(zS(e),e.getUTCDay(),LS(t))})),JO),YS=(du(eS={},hS,(function(e){return 3*e})),du(eS,vS,(function(e,t){return WS(e,0,LS(t))})),eS);function KS(e,t){return qS(e,t||1,GS,YS,US)}var XS=(du(tS={},dS,BO),du(tS,hS,LO.every(3)),du(tS,pS,LO),du(tS,vS,xO),du(tS,mS,yO),du(tS,gS,yO),du(tS,yS,yO),du(tS,bS,qO),du(tS,xS,HO),du(tS,wS,VO),du(tS,_S,YO),tS),QS=(du(nS={},dS,rS),du(nS,hS,aS.every(3)),du(nS,pS,aS),du(nS,vS,jO),du(nS,mS,CO),du(nS,gS,CO),du(nS,yS,CO),du(nS,bS,uS),du(nS,xS,cS),du(nS,wS,VO),du(nS,_S,YO),nS);function ZS(e){return XS[e]}function JS(e){return QS[e]}function eA(e,t,n){return e?e.offset(t,n):void 0}function tA(e,t,n){return eA(ZS(e),t,n)}function nA(e,t,n){return eA(JS(e),t,n)}function rA(e,t,n,r){return e?e.range(t,n,r):void 0}function iA(e,t,n,r){return rA(ZS(e),t,n,r)}function aA(e,t,n,r){return rA(JS(e),t,n,r)}var oA=1e3,uA=6e4,sA=36e5,cA=864e5,lA=2592e6,fA=31536e6,dA=[dS,pS,mS,bS,xS,wS,_S],hA=dA.slice(0,-1),pA=hA.slice(0,-1),vA=pA.slice(0,-1),mA=vA.slice(0,-1),gA=[dS,pS],yA=[dS],bA=[[hA,1,oA],[hA,5,5e3],[hA,15,15e3],[hA,30,3e4],[pA,1,uA],[pA,5,3e5],[pA,15,9e5],[pA,30,18e5],[vA,1,sA],[vA,3,108e5],[vA,6,216e5],[vA,12,432e5],[mA,1,cA],[[dS,vS],1,6048e5],[gA,1,lA],[gA,3,7776e6],[yA,1,fA]];function xA(e){var t,n,r=e.extent,i=e.maxbins||40,a=Math.abs(yE(r))/i,o=fS((function(e){return e[2]})).right(bA,a);return o===bA.length?(t=yA,n=GE(r[0]/fA,r[1]/fA,i)):o?(t=(o=bA[a/bA[o-1][2]<bA[o][2]/a?o-1:o])[0],n=o[1]):(t=dA,n=Math.max(GE(r[0],r[1],i),1)),{units:t,step:n}}var wA=new Date,_A=new Date;function kA(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,u=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return u;do{u.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return u},i.filter=function(n){return kA((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return wA.setTime(+t),_A.setTime(+r),e(wA),e(_A),Math.floor(n(wA,_A))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var EA=864e5,OA=6048e5;function SA(e){return kA((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/OA}))}var AA=SA(0),CA=SA(1),DA=SA(2),jA=SA(3),TA=SA(4),FA=SA(5),PA=SA(6),MA=(AA.range,CA.range,DA.range,jA.range,TA.range,FA.range,PA.range,kA((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/EA}),(function(e){return e.getUTCDate()-1}))),NA=MA;MA.range;function RA(e){return kA((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/OA}))}var IA=RA(0),BA=RA(1),zA=RA(2),LA=RA(3),UA=RA(4),qA=RA(5),WA=RA(6),HA=(IA.range,BA.range,zA.range,LA.range,UA.range,qA.range,WA.range,kA((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/EA}),(function(e){return e.getDate()-1}))),$A=HA,VA=(HA.range,kA((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));VA.every=function(e){return isFinite(e=Math.floor(e))&&e>0?kA((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var GA=VA,YA=(VA.range,kA((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));YA.every=function(e){return isFinite(e=Math.floor(e))&&e>0?kA((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var KA=YA;YA.range;function XA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function QA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ZA(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function JA(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,s=e.shortMonths,c=hC(i),l=pC(i),f=hC(a),d=pC(a),h=hC(o),p=pC(o),v=hC(u),m=pC(u),g=hC(s),y=pC(s),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:NC,e:NC,f:LC,g:QC,G:JC,H:RC,I:IC,j:BC,L:zC,m:UC,M:qC,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:_D,s:kD,S:WC,u:HC,U:$C,V:GC,w:YC,W:KC,x:null,X:null,y:XC,Y:ZC,Z:eD,"%":wD},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:tD,e:tD,f:oD,g:gD,G:bD,H:nD,I:rD,j:iD,L:aD,m:uD,M:sD,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:_D,s:kD,S:cD,u:lD,U:fD,V:hD,w:pD,W:vD,x:null,X:null,y:mD,Y:yD,Z:xD,"%":wD},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:OC,e:OC,f:TC,g:wC,G:xC,H:AC,I:AC,j:SC,L:jC,m:EC,M:CC,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:kC,Q:PC,s:MC,S:DC,u:mC,U:gC,V:yC,w:vC,W:bC,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:wC,Y:xC,Z:_C,"%":FC};function _(e,t){return function(n){var r,i,a,o=[],u=-1,s=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===e.charCodeAt(u)&&(o.push(e.slice(s,u)),null!=(i=uC[r=e.charAt(++u)])?r=e.charAt(++u):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),s=u+1);return o.push(e.slice(s,u)),o.join("")}}function k(e,t){return function(n){var r,i,a=ZA(1900,void 0,1);if(E(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=QA(ZA(a.y,0,1))).getUTCDay(),r=i>4||0===i?CA.ceil(r):CA(r),r=NA.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=XA(ZA(a.y,0,1))).getDay(),r=i>4||0===i?BA.ceil(r):BA(r),r=$A.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?QA(ZA(a.y,0,1)).getUTCDay():XA(ZA(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,QA(a)):XA(a)}}function E(e,t,n,r){for(var i,a,o=0,u=t.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in uC?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}var eC,tC,nC,rC,iC,aC,oC,uC={"-":"",_:" ",0:"0"},sC=/^\s*\d+/,cC=/^%/,lC=/[\\^$*+?|[\]().{}]/g;function fC(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function dC(e){return e.replace(lC,"\\$&")}function hC(e){return new RegExp("^(?:"+e.map(dC).join("|")+")","i")}function pC(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function vC(e,t,n){var r=sC.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function mC(e,t,n){var r=sC.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function yC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xC(e,t,n){var r=sC.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _C(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kC(e,t,n){var r=sC.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function EC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function OC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function SC(e,t,n){var r=sC.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function AC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function CC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function DC(e,t,n){var r=sC.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jC(e,t,n){var r=sC.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function TC(e,t,n){var r=sC.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FC(e,t,n){var r=cC.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function PC(e,t,n){var r=sC.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function MC(e,t,n){var r=sC.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NC(e,t){return fC(e.getDate(),t,2)}function RC(e,t){return fC(e.getHours(),t,2)}function IC(e,t){return fC(e.getHours()%12||12,t,2)}function BC(e,t){return fC(1+$A.count(GA(e),e),t,3)}function zC(e,t){return fC(e.getMilliseconds(),t,3)}function LC(e,t){return zC(e,t)+"000"}function UC(e,t){return fC(e.getMonth()+1,t,2)}function qC(e,t){return fC(e.getMinutes(),t,2)}function WC(e,t){return fC(e.getSeconds(),t,2)}function HC(e){var t=e.getDay();return 0===t?7:t}function $C(e,t){return fC(IA.count(GA(e)-1,e),t,2)}function VC(e){var t=e.getDay();return t>=4||0===t?UA(e):UA.ceil(e)}function GC(e,t){return e=VC(e),fC(UA.count(GA(e),e)+(4===GA(e).getDay()),t,2)}function YC(e){return e.getDay()}function KC(e,t){return fC(BA.count(GA(e)-1,e),t,2)}function XC(e,t){return fC(e.getFullYear()%100,t,2)}function QC(e,t){return fC((e=VC(e)).getFullYear()%100,t,2)}function ZC(e,t){return fC(e.getFullYear()%1e4,t,4)}function JC(e,t){var n=e.getDay();return fC((e=n>=4||0===n?UA(e):UA.ceil(e)).getFullYear()%1e4,t,4)}function eD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fC(t/60|0,"0",2)+fC(t%60,"0",2)}function tD(e,t){return fC(e.getUTCDate(),t,2)}function nD(e,t){return fC(e.getUTCHours(),t,2)}function rD(e,t){return fC(e.getUTCHours()%12||12,t,2)}function iD(e,t){return fC(1+NA.count(KA(e),e),t,3)}function aD(e,t){return fC(e.getUTCMilliseconds(),t,3)}function oD(e,t){return aD(e,t)+"000"}function uD(e,t){return fC(e.getUTCMonth()+1,t,2)}function sD(e,t){return fC(e.getUTCMinutes(),t,2)}function cD(e,t){return fC(e.getUTCSeconds(),t,2)}function lD(e){var t=e.getUTCDay();return 0===t?7:t}function fD(e,t){return fC(AA.count(KA(e)-1,e),t,2)}function dD(e){var t=e.getUTCDay();return t>=4||0===t?TA(e):TA.ceil(e)}function hD(e,t){return e=dD(e),fC(TA.count(KA(e),e)+(4===KA(e).getUTCDay()),t,2)}function pD(e){return e.getUTCDay()}function vD(e,t){return fC(CA.count(KA(e)-1,e),t,2)}function mD(e,t){return fC(e.getUTCFullYear()%100,t,2)}function gD(e,t){return fC((e=dD(e)).getUTCFullYear()%100,t,2)}function yD(e,t){return fC(e.getUTCFullYear()%1e4,t,4)}function bD(e,t){var n=e.getUTCDay();return fC((e=n>=4||0===n?TA(e):TA.ceil(e)).getUTCFullYear()%1e4,t,4)}function xD(){return"+0000"}function wD(){return"%"}function _D(e){return+e}function kD(e){return Math.floor(+e/1e3)}function ED(e){var t={};return function(n){return t[n]||(t[n]=e(n))}}function OD(e){var t=ED(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat:function(e){var n=XE(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return function(e,t){return function(n){var r=e(n),i=r.indexOf(t);if(i<0)return r;for(var a=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(r,i),o=a<r.length?r.slice(a):"";--a>i;)if("0"!==r[a]){++a;break}return r.slice(0,a)+o}}(t(n),t(".1f")(1)[1])}return t(n)},formatSpan:function(e,r,i,a){a=XE(null==a?",f":a);var o,u=GE(e,r,i),s=Math.max(Math.abs(e),Math.abs(r));if(null==a.precision)switch(a.type){case"s":return isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(JE(t)/3)))-JE(Math.abs(e)))}(u,s))||(a.precision=o),n(a,s);case"":case"e":case"g":case"p":case"r":isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,JE(t)-JE(e))+1}(u,s))||(a.precision=o-("e"===a.type));break;case"f":case"%":isNaN(o=function(e){return Math.max(0,-JE(Math.abs(e)))}(u))||(a.precision=o-2*("%"===a.type))}return t(a)}}}function SD(){return aC=OD({format:iO,formatPrefix:aO})}function AD(e){return OD(sO(e))}function CD(e){return arguments.length?aC=AD(e):aC}function DD(e,t,n){mk(n=n||{})||J_("Invalid time multi-format specifier: ".concat(n));var r=t(wS),i=t(xS),a=t(bS),o=t(mS),u=t(vS),s=t(pS),c=t(hS),l=t(dS),f=e(n[_S]||".%L"),d=e(n[wS]||":%S"),h=e(n[xS]||"%I:%M"),p=e(n[bS]||"%I %p"),v=e(n[mS]||n[gS]||"%a %d"),m=e(n[vS]||"%b %d"),g=e(n[pS]||"%B"),y=e(n[hS]||"%B"),b=e(n[dS]||"%Y");return function(e){return(r(e)<e?f:i(e)<e?d:a(e)<e?h:o(e)<e?p:s(e)<e?u(e)<e?v:m:l(e)<e?c(e)<e?g:y:b)(e)}}function jD(e){var t=ED(e.format),n=ED(e.utcFormat);return{timeFormat:function(e){return fE(e)?t(e):DD(t,ZS,e)},utcFormat:function(e){return fE(e)?n(e):DD(n,JS,e)},timeParse:ED(e.parse),utcParse:ED(e.utcParse)}}function TD(){return oC=jD({format:tC,parse:nC,utcFormat:rC,utcParse:iC})}function FD(e){return jD(JA(e))}function PD(e){return arguments.length?oC=FD(e):oC}!function(e){eC=JA(e),tC=eC.format,nC=eC.parse,rC=eC.utcFormat,iC=eC.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),SD(),TD();var MD=function(e,t){return Xk({},e,t)};function ND(e,t){var n=e?AD(e):CD(),r=t?FD(t):PD();return MD(n,r)}function RD(e,t){var n=arguments.length;return n&&2!==n&&J_("defaultLocale expects either zero or two arguments."),n?MD(CD(e),PD(t)):MD(CD(),PD())}function ID(){return SD(),TD(),RD()}var BD=/^(data:|([A-Za-z]+:)?\/\/)/,zD=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,LD=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,UD="file://";function qD(e,t){return WD.apply(this,arguments)}function WD(){return(WD=nu(iu().mark((function e(t,n){var r,i;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,i=r.href,e.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function HD(e,t){return $D.apply(this,arguments)}function $D(){return $D=nu(iu().mark((function e(t,n){var r,i,a,o,u,s,c;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xk({},this.options,n),r=this.fileAccess,i={href:null},s=zD.test(t.replace(LD,"")),null!=t&&"string"===typeof t&&s||J_("Sanitize failure, invalid URI: "+bE(t)),c=BD.test(t),(u=n.baseURL)&&!c&&(t.startsWith("/")||u.endsWith("/")||(t="/"+t),t=u+t),o=(a=t.startsWith(UD))||"file"===n.mode||"http"!==n.mode&&!c&&r,a?t=t.slice(UD.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!o}),i.href=t,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)}))),$D.apply(this,arguments)}function VD(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:GD}function GD(){return YD.apply(this,arguments)}function YD(){return(YD=nu(iu().mark((function e(){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J_("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KD(e){return e?function(){var t=nu(iu().mark((function t(n,r){var i,a,o;return iu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Xk({},this.options.http,r),a=r&&r.response,t.next=4,e(n,i);case 4:return o=t.sent,t.abrupt("return",o.ok?qk(o[a])?o[a]():o.text():J_(o.status+""+o.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():XD}function XD(){return QD.apply(this,arguments)}function QD(){return(QD=nu(iu().mark((function e(){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J_("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ZD=function(e){return!Number.isNaN(+e)&&!(e instanceof Date)},JD={boolean:xE,integer:_k,number:_k,date:_E,string:kE,unknown:rk},ej=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return ZD(e)&&Number.isInteger(+e)},ZD,function(e){return!Number.isNaN(Date.parse(e))}],tj=["boolean","integer","number","date"];function nj(e,t){if(!e||!e.length)return"unknown";for(var n,r,i,a=e.length,o=ej.length,u=ej.map((function(e,t){return t+1})),s=0,c=0;s<a;++s)for(r=t?e[s][t]:e[s],n=0;n<o;++n)if(u[n]&&(null!=(i=r)&&i===i)&&!ej[n](r)&&(u[n]=0,++c===ej.length))return"string";return tj[u.reduce((function(e,t){return 0===e?t:e}),0)-1]}function rj(e,t){return t.reduce((function(t,n){return t[n]=nj(e,n),t}),{})}function ij(e){var t=function(t,n){var r={delimiter:e};return aj(t,n?Xk(n,r):r)};return t.responseType="text",t}function aj(e,t){return t.header&&(e=t.header.map(bE).join(t.delimiter)+"\n"+e),PE(t.delimiter).parse(e+"")}function oj(e,t){var n,r=t&&t.property?tk(t.property):rk;return!mk(e)||(n=e,"function"===typeof Buffer&&qk(Buffer.isBuffer)&&Buffer.isBuffer(n))?r(JSON.parse(e)):function(e,t){!vk(e)&&sE(e)&&(e=pu(e));return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(r(e),t)}aj.responseType="text",oj.responseType="json";var uj={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function sj(e,t){var n,r,i,a;return e=oj(e,t),t&&t.feature?(n=NE,i=t.feature):t&&t.mesh?(n=zE,i=t.mesh,a=uj[t.filter]):J_("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[i])?n(e,r,a):J_("Invalid TopoJSON object: "+i))&&r.features||[r]}sj.responseType="json";var cj={dsv:aj,csv:ij(","),tsv:ij("\t"),json:oj,topojson:sj};function lj(e,t){return arguments.length>1?(cj[e]=t,this):eE(cj,e)?cj[e]:null}function fj(e){var t=lj(e);return t&&t.responseType||"text"}function dj(e,t,n,r){var i=lj((t=t||{}).type||"json");return i||J_("Unknown data format type: "+t.type),e=i(e,t),t.parse&&function(e,t,n,r){if(!e.length)return;var i=PD();n=n||i.timeParse,r=r||i.utcParse;var a,o,u,s,c,l,f=e.columns||Object.keys(e[0]);"auto"===t&&(t=rj(e,f));var d=(f=Object.keys(t)).map((function(e){var i,a,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(a=(i=o.split(/:(.+)?/,2))[1])[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1)),("utc"===i[0]?r:n)(a);if(!JD[o])throw Error("Illegal format pattern: "+e+":"+o);return JD[o]}));for(u=0,c=e.length,l=f.length;u<c;++u)for(a=e[u],s=0;s<l;++s)a[o=f[s]]=d[s](a[o])}(e,t.parse,n,r),eE(e,"columns")&&delete e.columns,e}var hj=function(e,t){return function(n){return{options:n||{},sanitize:HD,load:qD,fileAccess:!!t,file:VD(t),http:KD(e)}}}("undefined"!==typeof fetch&&fetch,null);function pj(e){var t=e||rk,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i=t(e);if(r[i]){r[i]=0;var a=n.indexOf(e);a>=0&&n.splice(a,1)}return n},n}function vj(e,t){return mj.apply(this,arguments)}function mj(){return mj=nu(iu().mark((function e(t,n){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),mj.apply(this,arguments)}var gj=Symbol("vega_id"),yj=1;function bj(e){return!(!e||!xj(e))}function xj(e){return e[gj]}function wj(e,t){return e[gj]=t,e}function _j(e){var t=e===Object(e)?e:{data:e};return xj(t)?t:wj(t,yj++)}function kj(e){return Ej(e,_j({}))}function Ej(e,t){for(var n in e)t[n]=e[n];return t}function Oj(e,t){return wj(t,xj(e))}function Sj(e,t){return e?t?function(n,r){return e(n,r)||xj(t(n))-xj(t(r))}:function(t,n){return e(t,n)||xj(t)-xj(n)}:null}function Aj(e){return e&&e.constructor===Cj}function Cj(){var e=[],t=[],n=[],r=[],i=[],a=null,o=!1;return{constructor:Cj,insert:function(t){for(var n=Lk(t),r=n.length,i=0;i<r;++i)e.push(n[i]);return this},remove:function(e){for(var n=qk(e)?r:t,i=Lk(e),a=i.length,o=0;o<a;++o)n.push(i[o]);return this},modify:function(e,t,r){var a={field:t,value:Yk(r)};return qk(e)?(a.filter=e,i.push(a)):(a.tuple=e,n.push(a)),this},encode:function(e,t){return qk(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean:function(e){return a=e,this},reflow:function(){return o=!0,this},pulse:function(u,s){var c,l,f,d,h,p,v={},m={};for(c=0,l=s.length;c<l;++c)v[xj(s[c])]=1;for(c=0,l=t.length;c<l;++c)v[xj(h=t[c])]=-1;for(c=0,l=r.length;c<l;++c)d=r[c],s.forEach((function(e){d(e)&&(v[xj(e)]=-1)}));for(c=0,l=e.length;c<l;++c)p=xj(h=e[c]),v[p]?v[p]=1:u.add.push(_j(e[c]));for(c=0,l=s.length;c<l;++c)h=s[c],v[xj(h)]<0&&u.rem.push(h);function g(e,t,n){n?e[t]=n(e):u.encode=t,o||(m[xj(e)]=e)}for(c=0,l=n.length;c<l;++c)h=(f=n[c]).tuple,d=f.field,(p=v[xj(h)])>0&&(g(h,d,f.value),u.modifies(d));for(c=0,l=i.length;c<l;++c)f=i[c],d=f.filter,s.forEach((function(e){d(e)&&v[xj(e)]>0&&g(e,f.field,f.value)})),u.modifies(f.field);if(o)u.mod=t.length||r.length?s.filter((function(e){return v[xj(e)]>0})):s.slice();else for(p in m)u.mod.push(m[p]);return(a||null==a&&(t.length||r.length))&&u.clean(!0),u}}}var Dj="_:mod:_";function jj(){Object.defineProperty(this,Dj,{writable:!0,value:{}})}jj.prototype={set:function(e,t,n,r){var i=this,a=i[e],o=i[Dj];return null!=t&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=vk(n)?1+n.length:-1),i},modified:function(e,t){var n=this[Dj];if(!arguments.length){for(var r in n)if(n[r])return!0;return!1}if(vk(e)){for(var i=0;i<e.length;++i)if(n[e[i]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear:function(){return this[Dj]={},this}};var Tj=0,Fj=new jj;function Pj(e,t,n,r){this.id=++Tj,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Mj(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Pj.prototype={targets:function(){return this._targets||(this._targets=pj(nk))},set:function(e){return this.value!==e?(this.value=e,1):0},skip:Mj(1),modified:Mj(2),parameters:function(e,t,n){var r=this;t=!1!==t;var i,a,o,u,s=this._argval=this._argval||new jj,c=this._argops=this._argops||[],l=[],f=function(e,n,i){i instanceof Pj?(i!==r&&(t&&i.targets().add(r),l.push(i)),c.push({op:i,name:e,index:n})):s.set(e,n,i)};for(i in e)if(a=e[i],"pulse"===i)Lk(a).forEach((function(e){e instanceof Pj?e!==r&&(e.targets().add(r),l.push(e)):J_("Pulse parameters must be operator instances.")})),this.source=a;else if(vk(a))for(s.set(i,-1,Array(o=a.length)),u=0;u<o;++u)f(i,u,a[u]);else f(i,-1,a);return this.marshall().clear(),n&&(c.initonly=!0),l},marshall:function(e){var t,n,r,i,a=this._argval||Fj,o=this._argops;if(o){var u=o.length;for(n=0;n<u;++n)i=(r=(t=o[n]).op).modified()&&r.stamp===e,a.set(t.name,t.index,r.value,i);if(o.initonly){for(n=0;n<u;++n)(t=o[n]).op.targets().remove(this);this._argops=null,this._update=null}}return a},detach:function(){var e,t,n,r=this._argops;if(r)for(e=0,t=r.length;e<t;++e)(n=r[e].op)._targets&&n._targets.remove(this);this.pulse=null,this.source=null},evaluate:function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run:function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}};var Nj=0;function Rj(e,t,n){this.id=++Nj,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Ij(e,t,n){return new Rj(e,t,n)}function Bj(){return Bj=nu(iu().mark((function e(t,n){var r,i,a;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:fj(n&&n.type)});case 5:a=e.sent;try{a=r.parse(a,n)}catch(o){i=-2,r.warn("Data ingestion failed",t,o)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:a,status:i});case 14:case"end":return e.stop()}}),e,this,[[2,9]])}))),Bj.apply(this,arguments)}function zj(){return zj=nu(iu().mark((function e(t,n,r){var i,a,o;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(i=this)._pending||Lj(i)).requests+=1,e.next=4,i.request(n,r);case 4:return o=e.sent,i.pulse(t,i.changeset().remove(ok).insert(o.data||[])),a.done(),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),zj.apply(this,arguments)}function Lj(e){var t,n=new Promise((function(e){return t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}Rj.prototype={_filter:ok,_apply:rk,targets:function(){return this._targets||(this._targets=pj(nk))},consume:function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive:function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter:function(e){var t=Ij(e);return this.targets().add(t),t},apply:function(e){var t=Ij(null,e);return this.targets().add(t),t},merge:function(){var e=Ij();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle:function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},debounce:function(e){var t=Ij();return this.targets().add(Ij(null,null,Kk(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between:function(e,t){var n=!1;return e.targets().add(Ij(null,null,(function(){return n=!0}))),t.targets().add(Ij(null,null,(function(){return n=!1}))),this.filter((function(){return n}))},detach:function(){this._filter=ok,this._targets=null}};var Uj={skip:!0};function qj(e,t,n,r,i,a){var o,u,s=Xk({},a,Uj);qk(n)||(n=Yk(n)),void 0===r?o=function(t){return e.touch(n(t))}:qk(r)?(u=new Pj(null,r,i,!1),o=function(t){u.evaluate(t);var r=n(t),i=u.value;Aj(i)?e.pulse(r,i,a):e.update(r,i,s)}):o=function(t){return e.update(n(t),r,s)},t.apply(o)}function Wj(e,t,n,r,i,a){if(void 0===r)t.targets().add(n);else{var o=a||{},u=new Pj(null,function(e,t){return t=qk(t)?t:Yk(t),e?function(n,r){var i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);u.modified(o.force),u.rank=t.rank,t.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),e.connect(n,[u]))}}var Hj={};function $j(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Vj(e,t){var n=[];return SE(e,t,(function(e){return n.push(e)})),n}function Gj(e,t){var n={};return e.visit(t,(function(e){n[xj(e)]=1})),function(e){return n[xj(e)]?null:e}}function Yj(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function Kj(e,t,n,r){var i=this,a=n.length,o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(var u=0;u<a;++u){var s=n[u];if(s.stamp===t){if(s.fields){var c=i.fields||(i.fields={});for(var l in s.fields)c[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}}this.changes=o}function Xj(){return Xj=nu(iu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!(i=this)._pulse){e.next=3;break}return e.abrupt("return",Zj(i));case 3:if(!i._pending){e.next=6;break}return e.next=6,i._pending;case 6:if(!n){e.next=9;break}return e.next=9,vj(i,n);case 9:if(i._touched.length){e.next=12;break}return i.debug("Dataflow invoked, but nothing to do."),e.abrupt("return",i);case 12:o=++i._clock,i._pulse=new $j(i,o,t),i._touched.forEach((function(e){return i._enqueue(e,!0)})),i._touched=pj(nk),u=0,e.prev=17;case 18:if(!(i._heap.size()>0)){e.next=35;break}if((s=i._heap.pop()).rank===s.qrank){e.next=23;break}return i._enqueue(s,!0),e.abrupt("continue",18);case 23:if(!(c=s.run(i._getPulse(s,t))).then){e.next=30;break}return e.next=27,c;case 27:c=e.sent,e.next=31;break;case 30:c.async&&(a.push(c.async),c=Hj);case 31:c!==Hj&&s._targets&&s._targets.forEach((function(e){return i._enqueue(e)})),++u,e.next=18;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(17),i._heap.clear(),l=e.t0;case 41:if(i._input={},i._pulse=null,i.debug("Pulse ".concat(o,": ").concat(u," operators")),l&&(i._postrun=[],i.error(l)),!i._postrun.length){e.next=55;break}f=i._postrun.sort((function(e,t){return t.priority-e.priority})),i._postrun=[],d=0;case 49:if(!(d<f.length)){e.next=55;break}return e.next=52,vj(i,f[d].callback);case 52:++d,e.next=49;break;case 55:if(!r){e.next=58;break}return e.next=58,vj(i,r);case 58:return a.length&&Promise.all(a).then((function(e){return i.runAsync(null,(function(){e.forEach((function(e){try{e(i)}catch(t){i.error(t)}}))}))})),e.abrupt("return",i);case 60:case"end":return e.stop()}}),e,this,[[17,37]])}))),Xj.apply(this,arguments)}function Qj(){return Qj=nu(iu().mark((function e(t,n,r){var i,a=this;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return i=function(){return a._running=null},(this._running=this.evaluate(t,n,r)).then(i,i),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)}))),Qj.apply(this,arguments)}function Zj(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}$j.prototype={StopPropagation:Hj,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(e){return new $j(this.dataflow).init(this,e)},clone:function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll:function(){var e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||((e=new $j(this.dataflow).init(this)).add=e.source,e.rem=[]),e},init:function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter:function(e){this.dataflow.runAfter(e)},changed:function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow:function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Gj(this,1))),this},clean:function(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies:function(e){var t=this.fields||(this.fields={});return vk(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},modified:function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?vk(e)?e.some((function(e){return n[e]})):n[e]:!!n)},filter:function(e,t){var n=this;return 1&e&&(n.addF=Yj(n.addF,t)),2&e&&(n.remF=Yj(n.remF,t)),4&e&&(n.modF=Yj(n.modF,t)),16&e&&(n.srcF=Yj(n.srcF,t)),n},materialize:function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=Vj(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=Vj(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=Vj(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit:function(e,t){var n=this,r=t;if(16&e)return SE(n.source,n.srcF,r),n;1&e&&SE(n.add,n.addF,r),2&e&&SE(n.rem,n.remF,r),4&e&&SE(n.mod,n.modF,r);var i=n.source;if(8&e&&i){var a=n.add.length+n.mod.length;a===i.length||SE(i,a?Gj(n,5):n.srcF,r)}return n}},iE(Kj,$j,{fork:function(e){var t=new $j(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},changed:function(e){return this.changes&e},modified:function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?vk(e)?e.some((function(e){return n[e]})):n[e]:0},filter:function(){J_("MultiPulse does not support filtering.")},materialize:function(){J_("MultiPulse does not support materialization.")},visit:function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});var Jj={skip:!1,force:!1};function eT(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),tT(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,i=t,a=e.length,o=e[t],u=1+(t<<1);for(;u<a;)(r=u+1)<a&&n(e[u],e[r])>=0&&(u=r),e[t]=e[u],u=1+((t=u)<<1);e[t]=o,tT(e,i,t,n)}(t,0,e)):n=r,n}}}function tT(e,t,n,r){for(var i,a,o=e[n];n>t&&r(o,i=e[a=n-1>>1])<0;)e[n]=i,n=a;return e[n]=o}function nT(){this.logger(pk()),this.logLevel(lk),this._clock=0,this._rank=0,this._locale=RD();try{this._loader=hj()}catch(Xwe){}this._touched=pj(nk),this._input={},this._pulse=null,this._heap=eT((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}function rT(e){return function(){return this._log[e].apply(this,arguments)}}function iT(e,t){Pj.call(this,e,null,t)}nT.prototype={stamp:function(){return this._clock},loader:function(e){return arguments.length?(this._loader=e,this):this._loader},locale:function(e){return arguments.length?(this._locale=e,this):this._locale},logger:function(e){return arguments.length?(this._log=e,this):this._log},error:rT("error"),warn:rT("warn"),info:rT("info"),debug:rT("debug"),logLevel:rT("level"),cleanThreshold:1e4,add:function(e,t,n,r){var i,a=1;return e instanceof Pj?i=e:e&&e.prototype instanceof Pj?i=new e:qk(e)?i=new Pj(null,e):(a=0,i=new Pj(e,t)),this.rank(i),a&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},connect:function(e,t){for(var n=e.rank,r=t.length,i=0;i<r;++i)if(n<t[i].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&J_("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||Jj);var r=new $j(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},touch:function(e,t){var n=t||Jj;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){var r=n||Jj;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:Cj,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){var n=this.locale();return dj(e,t,n.timeParse,n.utcParse)},preload:function(e,t,n){return zj.apply(this,arguments)},request:function(e,t){return Bj.apply(this,arguments)},events:function(e,t,n,r){for(var i,a=this,o=Ij(n,r),u=function(e){e.dataflow=a;try{o.receive(e)}catch(J_){a.error(J_)}finally{a.run()}},s=(i="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Lk(e)).length,c=0;c<s;++c)i[c].addEventListener(t,u);return o},on:function(e,t,n,r,i){return(e instanceof Pj?Wj:qj)(this,e,t,n,r,i),this},evaluate:function(e,t,n){return Xj.apply(this,arguments)},run:function(e,t,n){return this._pulse?Zj(this):(this.evaluate(e,t,n),this)},runAsync:function(e,t,n){return Qj.apply(this,arguments)},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},_enqueue:function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){var n=e.source,r=this._clock;return n&&vk(n)?new Kj(this,r,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==Hj&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},iE(iT,Pj,{run:function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},evaluate:function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform:function(){}});var aT={};function oT(e){var t=uT(e);return t&&t.Definition||null}function uT(e){return e=e&&e.toLowerCase(),eE(aT,e)?aT[e]:null}function sT(e,t){var n;if(void 0===t){var r,i=S(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,u=-1,s=S(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function cT(e,t){var n;if(void 0===t){var r,i=S(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,u=-1,s=S(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function lT(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lS;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,u=Math.log(a),s=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*s*(a-s)/a)*(o-a/2<0?-1:1),l=Math.max(n,Math.floor(t-o*s/a+c)),f=Math.min(r,Math.floor(t+(a-o)*s/a+c));lT(e,t,l,f,i)}var d=e[t],h=n,p=r;for(fT(e,n,t),i(e[r],d)>0&&fT(e,n,r);h<p;){for(fT(e,h,p),++h,--p;i(e[h],d)<0;)++h;for(;i(e[p],d)>0;)--p}0===i(e[n],d)?fT(e,n,p):fT(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}return e}function fT(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var dT=iu().mark(pT);function hT(e){return null===e?NaN:+e}function pT(e,t){var n,r,i,a,o,u,s;return iu().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=21;break}n=S(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){c.next=9;break}return c.next=9,i;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:a=-1,o=S(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=32;break}if(s=u.value,!(null!=(s=t(s,++a,e))&&(s=+s)>=s)){c.next=30;break}return c.next=30,s;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),o.e(c.t1);case 37:return c.prev=37,o.f(),c.finish(37);case 40:case"end":return c.stop()}}),dT,null,[[2,13,16,19],[23,34,37,40]])}function vT(e,t,n){if(r=(e=Float64Array.from(pT(e,n))).length){if((t=+t)<=0||r<2)return cT(e);if(t>=1)return sT(e);var r,i=(r-1)*t,a=Math.floor(i),o=sT(lT(e,a).subarray(0,a+1));return o+(cT(e.subarray(a+1))-o)*(i-a)}}function mT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hT;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return o+(u-o)*(i-a)}}function gT(e,t){var n=function(e,t){var n,r=0,i=0,a=0;if(void 0===t){var o,u=S(e);try{for(u.s();!(o=u.n()).done;){var s=o.value;null!=s&&(s=+s)>=s&&(a+=(n=s-i)*(s-(i+=n/++r)))}}catch(h){u.e(h)}finally{u.f()}}else{var c,l=-1,f=S(e);try{for(f.s();!(c=f.n()).done;){var d=c.value;null!=(d=t(d,++l,e))&&(d=+d)>=d&&(a+=(n=d-i)*(d-(i+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return a/(r-1)}(e,t);return n?Math.sqrt(n):n}function yT(e,t){return vT(e,.5,t)}var bT=iu().mark(xT);function xT(e,t){var n,r,i,a,o,u,s;return iu().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=t){c.next=21;break}n=S(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(i=r.value)&&""!==i&&(i=+i)>=i)){c.next=9;break}return c.next=9,i;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=41;break;case 21:a=-1,o=S(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=33;break}if(s=u.value,!(null!=(s=t(s,++a,e))&&""!==s&&(s=+s)>=s)){c.next=31;break}return c.next=31,s;case 31:c.next=25;break;case 33:c.next=38;break;case 35:c.prev=35,c.t1=c.catch(23),o.e(c.t1);case 38:return c.prev=38,o.f(),c.finish(38);case 41:case"end":return c.stop()}}),bT,null,[[2,13,16,19],[23,35,38,41]])}function wT(e,t,n){var r=Float64Array.from(xT(e,n));return r.sort(lS),t.map((function(e){return mT(r,e)}))}function _T(e,t){return wT(e,[.25,.5,.75],t)}function kT(e,t){var n=e.length,r=gT(e,t),i=_T(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function ET(e){var t,n,r,i,a,o,u=e.maxbins||20,s=e.base||10,c=Math.log(s),l=e.divide||[5,2],f=e.extent[0],d=e.extent[1],h=e.span||d-f||Math.abs(f)||1;if(e.step)t=e.step;else if(e.steps){for(i=h/u,a=0,o=e.steps.length;a<o&&e.steps[a]<i;++a);t=e.steps[Math.max(0,a-1)]}else{for(n=Math.ceil(Math.log(u)/c),r=e.minstep||0,t=Math.max(r,Math.pow(s,Math.round(Math.log(h)/c)-n));Math.ceil(h/t)>u;)t*=s;for(a=0,o=l.length;a<o;++a)(i=t/l[a])>=r&&h/i<=u&&(t=i)}var p=(i=Math.log(t))>=0?0:1+~~(-i/c),v=Math.pow(s,-p-1);return(e.nice||void 0===e.nice)&&(f=f<(i=Math.floor(f/t+v)*t)?i-t:i,d=Math.ceil(d/t)*t),{start:f,stop:d===f?f+t:d,step:t}}var OT=Math.random;function ST(e){OT=e}function AT(e,t,n,r){if(!e.length)return[void 0,void 0];var i,a,o,u,s=Float64Array.from(xT(e,r)),c=s.length,l=t;for(o=0,u=Array(l);o<l;++o){for(i=0,a=0;a<c;++a)i+=s[~~(OT()*c)];u[o]=i/c}return u.sort(lS),[vT(u,n/2),vT(u,1-n/2)]}function CT(e,t,n,r){r=r||function(e){return e};for(var i,a=e.length,o=new Float64Array(a),u=0,s=1,c=r(e[0]),l=c,f=c+t;s<a;++s){if((i=r(e[s]))>=f){for(l=(c+l)/2;u<s;++u)o[u]=l;f=i+t,c=i}l=i}for(l=(c+l)/2;u<s;++u)o[u]=l;return n?function(e,t){var n,r,i=e.length,a=0,o=1;for(;e[a]===e[o];)++o;for(;o<i;){for(n=o+1;e[o]===e[n];)++n;if(e[o]-e[o-1]<t){for(r=o+(a+n-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[a]}a=o,o=n}return e}(o,t+t/4):o}function DT(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function jT(e,t){var n,r,i;null==t&&(t=e,e=0);var a={min:function(e){return arguments.length?(i=r-(n=e||0),a):n},max:function(e){return arguments.length?(i=(r=e||0)-n,a):r},sample:function(){return n+Math.floor(i*OT())},pdf:function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},cdf:function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},icdf:function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN}};return a.min(e).max(t)}var TT=Math.sqrt(2*Math.PI),FT=Math.SQRT2,PT=NaN;function MT(e,t){e=e||0,t=null==t?1:t;var n,r,i=0,a=0;if(PT===PT)i=PT,PT=NaN;else{do{n=(i=2*OT()-1)*i+(a=2*OT()-1)*a}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),PT=a*r}return e+i*t}function NT(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*TT)}function RT(e,t,n){var r,i=(e-(t=t||0))/(n=null==n?1:n),a=Math.abs(i);if(a>37)r=0;else{var o=Math.exp(-a*a/2);a<7.07106781186547?(r=o*((((((.0352624965998911*a+.700383064443688)*a+6.37396220353165)*a+33.912866078383)*a+112.079291497871)*a+221.213596169931)*a+220.206867912376),r/=((((((.0883883476483184*a+1.75566716318264)*a+16.064177579207)*a+86.7807322029461)*a+296.564248779674)*a+637.333633378831)*a+793.826512519948)*a+440.413735824752):r=o/(a+1/(a+2/(a+3/(a+4/(a+.65)))))/2.506628274631}return i>0?1-r:r}function IT(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*FT*function(e){var t,n=-Math.log((1-e)*(1+e));t=n<6.25?1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*(n=Math.sqrt(n)-3.25))*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n:Number.isFinite(n)?4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*(n=Math.sqrt(n)-5)-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n:1/0;return t*e}(2*e-1)}function BT(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return MT(n,r)},pdf:function(e){return NT(e,n,r)},cdf:function(e){return RT(e,n,r)},icdf:function(e){return IT(e,n,r)}};return i.mean(e).stdev(t)}function zT(e,t){var n=BT(),r=0,i={data:function(n){return arguments.length?(e=n,r=n?n.length:0,i.bandwidth(t)):e},bandwidth:function(n){return arguments.length?(!(t=n)&&e&&(t=kT(e)),i):t},sample:function(){return e[~~(OT()*r)]+t*n.sample()},pdf:function(i){for(var a=0,o=0;o<r;++o)a+=n.pdf((i-e[o])/t);return a/t/r},cdf:function(i){for(var a=0,o=0;o<r;++o)a+=n.cdf((i-e[o])/t);return a/r},icdf:function(){throw Error("KDE icdf not supported.")}};return i.data(e)}function LT(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+MT()*t)}function UT(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*TT*e)}function qT(e,t,n){return RT(Math.log(e),t,n)}function WT(e,t,n){return Math.exp(IT(e,t,n))}function HT(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return LT(n,r)},pdf:function(e){return UT(e,n,r)},cdf:function(e){return qT(e,n,r)},icdf:function(e){return WT(e,n,r)}};return i.mean(e).stdev(t)}function $T(e,t){var n,r=0;function i(e){var t,n=[],i=0;for(t=0;t<r;++t)i+=n[t]=null==e[t]?1:+e[t];for(t=0;t<r;++t)n[t]/=i;return n}var a={weights:function(e){return arguments.length?(n=i(t=e||[]),a):t},distributions:function(n){return arguments.length?(n?(r=n.length,e=n):(r=0,e=[]),a.weights(t)):e},sample:function(){for(var t=OT(),i=e[r-1],a=n[0],o=0;o<r-1;a+=n[++o])if(t<a){i=e[o];break}return i.sample()},pdf:function(t){for(var i=0,a=0;a<r;++a)i+=n[a]*e[a].pdf(t);return i},cdf:function(t){for(var i=0,a=0;a<r;++a)i+=n[a]*e[a].cdf(t);return i},icdf:function(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function VT(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*OT()}function GT(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function YT(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function KT(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function XT(e,t){var n,r,i={min:function(e){return arguments.length?(n=e||0,i):n},max:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return VT(n,r)},pdf:function(e){return GT(e,n,r)},cdf:function(e){return YT(e,n,r)},icdf:function(e){return KT(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)}function QT(e,t,n,r){var i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function ZT(e,t,n,r){e=e.filter((function(e){var r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort((function(e,n){return t(e)-t(n)}));var i,a,o,u,s=e.length,c=new Float64Array(s),l=new Float64Array(s),f=0,d=0,h=0,p=S(e);try{for(p.s();!(u=p.n()).done;)o=u.value,c[f]=i=+t(o),l[f]=a=+n(o),d+=(i-d)/++f,h+=(a-h)/f}catch(v){p.e(v)}finally{p.f()}for(f=0;f<s;++f)c[f]-=d,l[f]-=h;return[c,l,d,h]}function JT(e,t,n,r){var i,a,o,u=-1,s=S(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;i=t(c),a=n(c),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&r(i,a,++u)}}catch(l){s.e(l)}finally{s.f()}}function eF(e,t,n,r,i){var a=0,o=0;return JT(e,t,n,(function(e,t){var n=t-i(e),u=t-r;a+=n*n,o+=u*u})),1-a/o}function tF(e,t,n){var r=0,i=0,a=0,o=0,u=0;JT(e,t,n,(function(e,t){++u,r+=(e-r)/u,i+=(t-i)/u,a+=(e*t-a)/u,o+=(e*e-o)/u}));var s=QT(r,i,a,o),c=function(e){return s[0]+s[1]*e};return{coef:s,predict:c,rSquared:eF(e,t,n,i,c)}}function nF(e,t,n){var r=0,i=0,a=0,o=0,u=0;JT(e,t,n,(function(e,t){++u,e=Math.log(e),r+=(e-r)/u,i+=(t-i)/u,a+=(e*t-a)/u,o+=(e*e-o)/u}));var s=QT(r,i,a,o),c=function(e){return s[0]+s[1]*Math.log(e)};return{coef:s,predict:c,rSquared:eF(e,t,n,i,c)}}function rF(e,t,n){var r,i,a,o=D(ZT(e,t,n),4),u=o[0],s=(o[1],o[2]),c=o[3],l=0,f=0,d=0,h=0,p=0;JT(e,t,n,(function(e,t){r=u[p++],i=Math.log(t),l+=(t*i-l)/p,f+=((a=r*t)-f)/p,d+=(a*i-d)/p,h+=(r*a-h)/p}));var v=D(QT(f/c,l/c,d/c,h/c),2),m=v[0],g=v[1],y=function(e){return Math.exp(m+g*(e-s))};return{coef:[Math.exp(m-g*s),g],predict:y,rSquared:eF(e,t,n,c,y)}}function iF(e,t,n){var r=0,i=0,a=0,o=0,u=0,s=0;JT(e,t,n,(function(e,t){var n=Math.log(e),c=Math.log(t);++s,r+=(n-r)/s,i+=(c-i)/s,a+=(n*c-a)/s,o+=(n*n-o)/s,u+=(t-u)/s}));var c=QT(r,i,a,o),l=function(e){return c[0]*Math.pow(e,c[1])};return c[0]=Math.exp(c[0]),{coef:c,predict:l,rSquared:eF(e,t,n,u,l)}}function aF(e,t,n){var r,i,a,o,u=D(ZT(e,t,n),4),s=u[0],c=u[1],l=u[2],f=u[3],d=s.length,h=0,p=0,v=0,m=0,g=0;for(r=0;r<d;)i=s[r],a=c[r++],h+=((o=i*i)-h)/r,p+=(o*i-p)/r,v+=(o*o-v)/r,m+=(i*a-m)/r,g+=(o*a-g)/r;var y=v-h*h,b=h*y-p*p,x=(g*h-m*p)/b,w=(m*y-g*p)/b,_=-x*h,k=function(e){return x*(e-=l)*e+w*e+_+f};return{coef:[_-w*l+x*l*l+f,w-2*x*l,x],predict:k,rSquared:eF(e,t,n,f,k)}}function oF(e,t,n,r){if(1===r)return tF(e,t,n);if(2===r)return aF(e,t,n);var i,a,o,u,s,c=D(ZT(e,t,n),4),l=c[0],f=c[1],d=c[2],h=c[3],p=l.length,v=[],m=[],g=r+1;for(i=0;i<g;++i){for(o=0,u=0;o<p;++o)u+=Math.pow(l[o],i)*f[o];for(v.push(u),s=new Float64Array(g),a=0;a<g;++a){for(o=0,u=0;o<p;++o)u+=Math.pow(l[o],i+a);s[a]=u}m.push(s)}m.push(v);var y=function(e){var t,n,r,i,a,o=e.length-1,u=[];for(t=0;t<o;++t){for(i=t,n=t+1;n<o;++n)Math.abs(e[t][n])>Math.abs(e[t][i])&&(i=n);for(r=t;r<o+1;++r)a=e[r][t],e[r][t]=e[r][i],e[r][i]=a;for(n=t+1;n<o;++n)for(r=o;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=o-1;n>=0;--n){for(a=0,r=n+1;r<o;++r)a+=e[r][n]*u[r];u[n]=(e[o][n]-a)/e[n][n]}return u}(m),b=function(e){e-=d;var t=h+y[0]+y[1]*e+y[2]*e*e;for(i=3;i<g;++i)t+=y[i]*Math.pow(e,i);return t};return{coef:uF(g,y,-d,h),predict:b,rSquared:eF(e,t,n,h,b)}}function uF(e,t,n,r){var i,a,o,u,s=Array(e);for(i=0;i<e;++i)s[i]=0;for(i=e-1;i>=0;--i)for(o=t[i],u=1,s[i]+=o,a=1;a<=i;++a)u*=(i+1-a)/a,s[i-a]+=o*Math.pow(n,a)*u;return s[0]+=r,s}function sF(e,t,n,r){for(var i=D(ZT(e,t,n,!0),4),a=i[0],o=i[1],u=i[2],s=i[3],c=a.length,l=Math.max(2,~~(r*c)),f=new Float64Array(c),d=new Float64Array(c),h=new Float64Array(c).fill(1),p=-1;++p<=2;){for(var v=[0,l-1],m=0;m<c;++m){for(var g=a[m],y=v[0],b=v[1],x=g-a[y]>a[b]-g?y:b,w=0,_=0,k=0,E=0,O=0,S=1/Math.abs(a[x]-g||1),A=y;A<=b;++A){var C=a[A],j=o[A],T=cF(Math.abs(g-C)*S)*h[A],F=C*T;w+=T,_+=F,k+=j*T,E+=j*F,O+=C*F}var P=D(QT(_/w,k/w,E/w,O/w),2),M=P[0],N=P[1];f[m]=M+N*g,d[m]=Math.abs(o[m]-f[m]),lF(a,m+1,v)}if(2===p)break;var R=yT(d);if(Math.abs(R)<1e-12)break;for(var I,B,z=0;z<c;++z)I=d[z]/(6*R),h[z]=I>=1?1e-12:(B=1-I*I)*B}return function(e,t,n,r){for(var i,a=e.length,o=[],u=0,s=0,c=[];u<a;++u)i=e[u]+n,c[0]===i?c[1]+=(t[u]-c[1])/++s:(s=0,c[1]+=r,c=[i,t[u]],o.push(c));return c[1]+=r,o}(a,f,u,s)}function cF(e){return(e=1-e*e*e)*e*e}function lF(e,t,n){var r=e[t],i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}var fF=.5*Math.PI/180;function dF(e,t,n,r){n=n||25,r=Math.max(n,r||200);var i=function(t){return[t,e(t)]},a=t[0],o=t[1],u=o-a,s=u/r,c=[i(a)],l=[];if(n===r){for(var f=1;f<r;++f)c.push(i(a+f/n*u));return c.push(i(o)),c}l.push(i(o));for(var d=n;--d>0;)l.push(i(a+d/n*u));for(var h=c[0],p=l[l.length-1],v=1/u,m=function(e,t){for(var n=e,r=e,i=t.length,a=0;a<i;++a){var o=t[a][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}(h[1],l);p;){var g=i((h[0]+p[0])/2);g[0]-h[0]>=s&&hF(h,g,p,v,m)>fF?l.push(g):(h=p,c.push(p),l.pop()),p=l[l.length-1]}return c}function hF(e,t,n,r,i){var a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-o)}function pF(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function vF(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function mF(e,t,n){return n||e+(t?"_"+t:"")}var gF=function(){},yF={init:gF,add:gF,rem:gF,idx:0},bF={values:{init:function(e){return e.cell.store=!0},value:function(e){return e.cell.data.values()},idx:-1},count:{value:function(e){return e.cell.num}},__count__:{value:function(e){return e.missing+e.valid}},missing:{value:function(e){return e.missing}},valid:{value:function(e){return e.valid}},sum:{init:function(e){return e.sum=0},value:function(e){return e.sum},add:function(e,t){return e.sum+=+t},rem:function(e,t){return e.sum-=t}},product:{init:function(e){return e.product=1},value:function(e){return e.valid?e.product:void 0},add:function(e,t){return e.product*=t},rem:function(e,t){return e.product/=t}},mean:{init:function(e){return e.mean=0},value:function(e){return e.valid?e.mean:void 0},add:function(e,t){return e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:function(e,t){return e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}},average:{value:function(e){return e.valid?e.mean:void 0},req:["mean"],idx:1},variance:{init:function(e){return e.dev=0},value:function(e){return e.valid>1?e.dev/(e.valid-1):void 0},add:function(e,t){return e.dev+=e.mean_d*(t-e.mean)},rem:function(e,t){return e.dev-=e.mean_d*(t-e.mean)},req:["mean"],idx:1},variancep:{value:function(e){return e.valid>1?e.dev/e.valid:void 0},req:["variance"],idx:2},stdev:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(e){return e.valid>1?Math.sqrt(e.dev/e.valid):void 0},req:["variance"],idx:2},stderr:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(e){return e.cell.data.distinct(e.get)},req:["values"],idx:3},ci0:{value:function(e){return e.cell.data.ci0(e.get)},req:["values"],idx:3},ci1:{value:function(e){return e.cell.data.ci1(e.get)},req:["values"],idx:3},median:{value:function(e){return e.cell.data.q2(e.get)},req:["values"],idx:3},q1:{value:function(e){return e.cell.data.q1(e.get)},req:["values"],idx:3},q3:{value:function(e){return e.cell.data.q3(e.get)},req:["values"],idx:3},min:{init:function(e){return e.min=void 0},value:function(e){return e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min},add:function(e,t){(t<e.min||void 0===e.min)&&(e.min=t)},rem:function(e,t){t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:function(e){return e.max=void 0},value:function(e){return e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max},add:function(e,t){(t>e.max||void 0===e.max)&&(e.max=t)},rem:function(e,t){t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:function(e){return e.argmin=void 0},value:function(e){return e.argmin||e.cell.data.argmin(e.get)},add:function(e,t,n){t<e.min&&(e.argmin=n)},rem:function(e,t){t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(e){return e.argmax=void 0},value:function(e){return e.argmax||e.cell.data.argmax(e.get)},add:function(e,t,n){t>e.max&&(e.argmax=n)},rem:function(e,t){t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},xF=Object.keys(bF);function wF(e,t){return bF[e](t)}function _F(e,t){return e.idx-t.idx}function kF(){var e=this;this.valid=0,this.missing=0,this._ops.forEach((function(t){return t.init(e)}))}function EF(e,t){var n=this;null!=e&&""!==e?e===e&&(++this.valid,this._ops.forEach((function(r){return r.add(n,e,t)}))):++this.missing}function OF(e,t){var n=this;null!=e&&""!==e?e===e&&(--this.valid,this._ops.forEach((function(r){return r.rem(n,e,t)}))):--this.missing}function SF(e){var t=this;return this._out.forEach((function(n){return e[n.out]=n.value(t)})),e}function AF(e,t){var n=t||rk,r=function(e){var t={};return e.forEach((function(e){return t[e.name]=e})),e.forEach((function e(n){n.req&&n.req.forEach((function(n){t[n]||e(t[n]=bF[n]())}))})),Object.values(t).sort(_F)}(e),i=e.slice().sort(_F);function a(e){this._ops=r,this._out=i,this.cell=e,this.init()}return a.prototype.init=kF,a.prototype.add=EF,a.prototype.rem=OF,a.prototype.set=SF,a.prototype.get=n,a.fields=e.map((function(e){return e.out})),a}function CF(e){this._key=e?tk(e):xj,this.reset()}xF.forEach((function(e){bF[e]=function(e,t){return function(n){return Xk({name:e,out:n||e},yF,t)}}(e,bF[e])}));var DF=CF.prototype;function jF(e){iT.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}DF.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},DF.add=function(e){this._add.push(e)},DF.rem=function(e){this._rem.push(e)},DF.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,u=i.length,s=Array(o-u),c={};for(e=0;e<u;++e)c[a(i[e])]=1;for(e=0,t=0;e<o;++e)c[a(n=r[e])]?c[a(n)]=0:s[t++]=n;return this._rem=[],this._add=s},DF.distinct=function(e){for(var t,n=this.values(),r={},i=n.length,a=0;--i>=0;)eE(r,t=e(n[i])+"")||(r[t]=1,++a);return a},DF.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Zk(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},DF.argmin=function(e){return this.extent(e)[0]||{}},DF.argmax=function(e){return this.extent(e)[1]||{}},DF.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},DF.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},DF.quartile=function(e){return this._get===e&&this._q||(this._q=_T(this.values(),e),this._get=e),this._q},DF.q1=function(e){return this.quartile(e)[0]},DF.q2=function(e){return this.quartile(e)[1]},DF.q3=function(e){return this.quartile(e)[2]},DF.ci=function(e){return this._get===e&&this._ci||(this._ci=AT(this.values(),1e3,.05,e),this._get=e),this._ci},DF.ci0=function(e){return this.ci(e)[0]},DF.ci1=function(e){return this.ci(e)[1]},jF.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:xF},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},iE(jF,iT,{transform:function(e,t){var n=this,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=e.modified();return r.stamp=i.stamp,r.value&&(a||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=a?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(r.value=r.value||r.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),i.modifies(r._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&i.clean(!0).runAfter((function(){return n.clean()})),r.changes(i)},cross:function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function a(e){var t,a,o,u;for(t in e)for(o=e[t].tuple,a=0;a<i;++a)r[a][u=o[n[a]]]=u}a(e._prev),a(t),function a(o,u,s){var c=n[s],l=r[s++];for(var f in l){var d=o?o+"|"+f:f;u[c]=l[f],s<i?a(d,u,s):t[d]||e.cell(d,u)}}("",{},0)},init:function(e){var t=this._inputs=[],n=this._outputs=[],r={};function i(e){for(var n,i=Lk(K_(e)),a=i.length,o=0;o<a;++o)r[n=i[o]]||(r[n]=1,t.push(n))}this._dims=Lk(e.groupby),this._dnames=this._dims.map((function(e){var t=Y_(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:vF(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var a,o,u,s,c,l,f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,v={};for(p!==d.length&&J_("Unmatched number of fields and aggregate ops."),l=0;l<p;++l)a=f[l],o=d[l],null==a&&"count"!==o&&J_("Null aggregate field specified."),c=mF(o,s=Y_(a),h[l]),n.push(c),"count"!==o?((u=v[s])||(i(a),(u=v[s]=[]).field=a,this._measures.push(u)),"count"!==o&&(this._countOnly=!1),u.push(wF(o,c))):this._counts.push(c);return this._measures=this._measures.map((function(e){return AF(e,e.field)})),{}},cellkey:vF(),cell:function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell:function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r=this._measures,i=r.length;n.agg=Array(i);for(var a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new CF),n},newtuple:function(e,t){for(var n=this._dnames,r=this._dims,i=r.length,a={},o=0;o<i;++o)a[n[o]]=r[o](e);return t?Oj(t.tuple,a):_j(a)},clean:function(){var e=this.value;for(var t in e)0===e[t].num&&delete e[t]},add:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,!this._countOnly){n.store&&n.data.add(e);for(var r=n.agg,i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)}},rem:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,!this._countOnly){n.store&&n.data.rem(e);for(var r=n.agg,i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)}},celltuple:function(e){var t=e.tuple,n=this._counts;e.store&&e.data.values();for(var r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly)for(var a=e.agg,o=0,u=a.length;o<u;++o)a[o].set(t);return t},changes:function(e){var t,n,r,i,a=this._adds,o=this._mods,u=this._prev,s=this._drop,c=e.add,l=e.rem,f=e.mod;if(u)for(n in u)t=u[n],s&&!t.num||l.push(t.tuple);for(r=0,i=this._alen;r<i;++r)c.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=o[r]).num&&s?l:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e}});function TF(e){iT.call(this,null,e)}function FF(e,t,n){var r=e,i=t||[],a=n||[],o={},u=0;return{add:function(e){return a.push(e)},remove:function(e){return o[r(e)]=++u},size:function(){return i.length},data:function(e,t){return u&&(i=i.filter((function(e){return!o[r(e)]})),o={},u=0),t&&e&&i.sort(e),a.length&&(i=e?vE(e,i,a.sort(e)):i.concat(a),a=[]),i}}}function PF(e){iT.call(this,[],e)}function MF(e){Pj.call(this,null,NF,e)}function NF(e){return this.value&&!e.modified()?this.value:Wk(e.fields,e.orders)}function RF(e){iT.call(this,null,e)}function IF(e){iT.call(this,null,e)}TF.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},iE(TF,iT,{transform:function(e,t){var n,r=!1!==e.interval,i=this._bins(e),a=i.start,o=i.step,u=e.as||["bin0","bin1"],s=u[0],c=u[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(K_(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[s]=t,e[c]=null==t?null:a+o*(1+(t-a)/o)}:function(e){return e[s]=i(e)}),t.modifies(r?u:s)},_bins:function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,i=ET(e),a=i.step,o=i.start,u=o+Math.ceil((i.stop-o)/a)*a;null!=(t=e.anchor)&&(n=t-(o+a*Math.floor((t-o)/a)),o+=n,u+=n);var s=function(e){var t=_k(r(e));return null==t?null:t<o?-1/0:t>u?1/0:(t=Math.max(o,Math.min(t,u-a)),o+a*Math.floor(1e-14+(t-o)/a))};return s.start=o,s.stop=i.stop,s.step=a,this.value=G_(s,K_(r),e.name||"bin_"+Y_(r))}}),PF.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},iE(PF,iT,{transform:function(e,t){var n=t.fork(t.ALL),r=FF(xj,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(Sj(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),iE(MF,Pj),RF.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},iE(RF,iT,{transform:function(e,t){var n=function(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(u(n),e.case,a)||[],s=0,c=i.length;s<c;++s)o.test(r=i[s])||t(r)}},r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,u=e.field,s=e.as||["text","count"],c=n((function(e){return i[e]=1+(i[e]||0)})),l=n((function(e){return i[e]-=1}));return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,l)),this._finish(t,s)},_parameterCheck:function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish:function(e,t){var n,r,i,a=this._counts,o=this._tuples||(this._tuples={}),u=t[0],s=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in a)r=o[n],i=a[n]||0,!r&&i?(o[n]=r=_j({}),r[u]=n,r[s]=i,c.add.push(r)):0===i?(r&&c.rem.push(r),a[n]=null,o[n]=null):r[s]!==i&&(r[s]=i,c.mod.push(r));return c.modifies(t)}}),IF.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},iE(IF,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter"),u=this.value;return o?(u&&(n.rem=u),u=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,a,o=[],u={},s=e.length,c=0;c<s;++c)for(u[t]=a=e[c],i=0;i<s;++i)u[n]=e[i],r(u)&&(o.push(_j(u)),(u={})[t]=a);return o}(u,i,a,e.filter||ok)):n.mod=u,n.source=this.value,n.modifies(r)}});var BF={kde:zT,mixture:$T,normal:BT,lognormal:HT,uniform:XT},zF="function";function LF(e,t){var n=e.function;eE(BF,n)||J_("Unknown distribution function: "+n);var r=BF[n]();for(var i in e)"field"===i?r.data((e.from||t()).map(e[i])):"distributions"===i?r[i](e[i].map((function(e){return LF(e,t)}))):typeof r[i]===zF&&r[i](e[i]);return r}function UF(e){iT.call(this,null,e)}var qF=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],WF={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:qF},{name:"weights",type:"number",array:!0}]};function HF(e,t){return e?e.map((function(e,n){return t[n]||Y_(e)})):null}function $F(e,t,n){var r,i,a,o,u,s,c=[],l=function(e){return e(o)};if(null==t)c.push(e.map(n));else for(r={},i=0,a=e.length;i<a;++i)o=e[i],(s=r[u=t.map(l)])||(r[u]=s=[],s.dims=u,c.push(s)),s.push(n(o));return c}UF.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:qF.concat(WF)},{name:"as",type:"string",array:!0,default:["value","density"]}]},iE(UF,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=LF(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200,o=e.method||"pdf";"pdf"!==o&&"cdf"!==o&&J_("Invalid density method: "+o),e.extent||r.data||J_("Missing density extent parameter."),o=r[o];var u=e.as||["value","density"],s=dF(o,e.extent||Qk(r.data()),i,a).map((function(e){var t={};return t[u[0]]=e[0],t[u[1]]=e[1],_j(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});function VF(e){iT.call(this,null,e)}VF.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function GF(e){Pj.call(this,null,YF,e),this.modified(!0)}function YF(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:G_((function(n){return t(n,e)}),K_(t),Y_(t))}function KF(e){iT.call(this,[void 0,void 0],e)}function XF(e,t){Pj.call(this,e),this.parent=t,this.count=0}function QF(e){iT.call(this,{},e),this._keys=nE();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function ZF(e){Pj.call(this,null,JF,e)}function JF(e){return this.value&&!e.modified()?this.value:vk(e.name)?Lk(e.name).map((function(e){return tk(e)})):tk(e.name,e.as)}function eP(e){iT.call(this,nE(),e)}function tP(e){iT.call(this,[],e)}function nP(e){iT.call(this,[],e)}function rP(e){iT.call(this,null,e)}function iP(e){iT.call(this,[],e)}iE(VF,iT,{transform:function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,i=$F(t.source,e.groupby,rk),a=e.smooth||!1,o=e.field,u=e.step||function(e,t){return yE(Qk(e,t))/30}(r,o),s=Sj((function(e,t){return o(e)-o(t)})),c=e.as||"bin",l=i.length,f=1/0,d=-1/0,h=0;h<l;++h){var p=i[h].sort(s);n=-1;var v,m=S(CT(p,u,a,o));try{for(m.s();!(v=m.n()).done;){var g=v.value;g<f&&(f=g),g>d&&(d=g),p[++n][c]=g}}catch(y){m.e(y)}finally{m.f()}}return this.value={start:f,stop:d,step:u},t.reflow(!0).modifies(c)}}),iE(GF,Pj),KF.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},iE(KF,iT,{transform:function(e,t){var n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field"),a=n[0],o=n[1];if((i||null==a)&&(a=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,(function(e){var t=_k(r(e));null!=t&&(t<a&&(a=t),t>o&&(o=t))})),!Number.isFinite(a)||!Number.isFinite(o)){var u=Y_(r);u&&(u=' for field "'.concat(u,'"')),t.dataflow.warn("Infinite extent".concat(u,": [").concat(a,", ").concat(o,"]")),a=o=void 0}this.value=[a,o]}}),iE(XF,Pj,{connect:function(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add:function(e){this.count+=1,this.value.add.push(e)},rem:function(e){this.count-=1,this.value.rem.push(e)},mod:function(e){this.value.mod.push(e)},init:function(e){this.value.init(e,e.NO_SOURCE)},evaluate:function(){return this.value}}),iE(QF,iT,{activate:function(e){this._targets[this._targets.active++]=e},subflow:function(e,t,n,r){var i,a,o=this.value,u=eE(o,e)&&o[e];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(a=r||(a=this._group[e])&&a.tuple,i=n.dataflow,u=new XF(n.fork(n.NO_SOURCE),this),i.add(u).connect(t(i,e,a)),o[e]=u,this.activate(u)),u},clean:function(){var e=this.value,t=0;for(var n in e)if(0===e[n].count){var r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){var i=this._targets.filter((function(e){return e&&e.count>0}));this.initTargets(i)}},initTargets:function(e){for(var t=this._targets,n=t.length,r=e?e.length:0,i=0;i<r;++i)t[i]=e[i];for(;i<n&&null!=t[i];++i)t[i]=null;t.active=r},transform:function(e,t){var n=this,r=t.dataflow,i=e.key,a=e.subflow,o=this._keys,u=e.modified("key"),s=function(e){return n.subflow(e,a,t)};return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(function(e){var t=xj(e),n=o.get(t);void 0!==n&&(o.delete(t),s(n).rem(e))})),t.visit(t.ADD,(function(e){var t=i(e);o.set(xj(e),t),s(t).add(e)})),u||t.modified(i.fields)?t.visit(t.MOD,(function(e){var t=xj(e),n=o.get(t),r=i(e);n===r?s(r).mod(e):(o.set(t,r),s(n).rem(e),s(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){s(o.get(xj(e))).mod(e)})),u&&t.visit(t.REFLOW,(function(e){var t=xj(e),n=o.get(t),r=i(e);n!==r&&(o.set(t,r),s(n).rem(e),s(r).add(e))})),t.clean()?r.runAfter((function(){n.clean(),o.clean()})):o.empty>r.cleanThreshold&&r.runAfter(o.clean),t}}),iE(ZF,Pj),eP.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},iE(eP,iT,{transform:function(e,t){var n=t.dataflow,r=this.value,i=t.fork(),a=i.add,o=i.rem,u=i.mod,s=e.expr,c=!0;function l(t){var n=xj(t),i=s(t,e),l=r.get(n);i&&l?(r.delete(n),a.push(t)):i||l?c&&i&&!l&&u.push(t):(r.set(n,1),o.push(t))}return t.visit(t.REM,(function(e){var t=xj(e);r.has(t)?r.delete(t):o.push(e)})),t.visit(t.ADD,(function(t){s(t,e)?a.push(t):r.set(xj(t),1)})),t.visit(t.MOD,l),e.modified()&&(c=!1,t.visit(t.REFLOW,l)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),tP.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},iE(tP,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=HF(r,e.as||[]),a=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,u,s,c=r.map((function(t){return t(e)})),l=c.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<l;++f){for(u=kj(e),t=0;t<o;++t)u[i[t]]=null==(s=c[t][f])?null:s;a&&(u[a]=f),n.add.push(u)}})),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}}),nP.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},iE(nP,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Y_),a=e.as||["key","value"],o=a[0],u=a[1],s=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,a=0;a<s;++a)(t=kj(e))[o]=i[a],t[u]=r[a](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(a)}}),rP.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},iE(rP,iT,{transform:function(e,t){var n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,(function(t){return t[r]=n(t,e)}))}}),iE(iP,iT,{transform:function(e,t){var n,r,i,a=t.fork(t.ALL),o=e.generator,u=this.value,s=e.size-u.length;if(s>0){for(n=[];--s>=0;)n.push(i=_j(o(e))),u.push(i);a.add=a.add.length?a.materialize(a.ADD).add.concat(n):n}else r=u.slice(0,-s),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(r):r,u=u.slice(-s);return a.source=this.value=u,a}});var aP={value:"value",median:yT,mean:function(e,t){var n=0,r=0;if(void 0===t){var i,a=S(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,c=S(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;null!=(l=t(l,++s,e))&&(l=+l)>=l&&(++n,r+=l)}}catch(f){c.e(f)}finally{c.f()}}if(n)return r/n},min:cT,max:sT},oP=[];function uP(e){iT.call(this,[],e)}function sP(e){jF.call(this,e)}function cP(e){iT.call(this,null,e)}function lP(e){Pj.call(this,null,fP,e)}function fP(e){return this.value&&!e.modified()?this.value:dE(e.fields,e.flat)}function dP(e){iT.call(this,[],e),this._pending=null}function hP(e,t,n){n.forEach(_j);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function pP(e){iT.call(this,{},e)}function vP(e){Pj.call(this,null,mP,e)}function mP(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.extents,i=r.length,a=1/0,o=-1/0;for(t=0;t<i;++t)(n=r[t])[0]<a&&(a=n[0]),n[1]>o&&(o=n[1]);return[a,o]}function gP(e){Pj.call(this,null,yP,e)}function yP(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function bP(e){iT.call(this,null,e)}function xP(e){jF.call(this,e)}function wP(e){QF.call(this,e)}function _P(e){iT.call(this,null,e)}function kP(e){iT.call(this,null,e)}function EP(e){iT.call(this,null,e)}uP.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},iE(uP,iT,{transform:function(e,t){var n,r,i,a,o,u,s,c,l,f,d=t.fork(t.ALL),h=function(e){var t,n=e.method||aP.value;if(null!=aP[n])return n===aP.value?(t=void 0!==e.value?e.value:0,function(){return t}):aP[n];J_("Unrecognized imputation method: "+n)}(e),p=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),v=Y_(e.field),m=Y_(e.key),g=(e.groupby||[]).map(Y_),y=function(e,t,n,r){var i,a,o,u,s,c,l,f,d=function(e){return e(f)},h=[],p=r?r.slice():[],v={},m={};for(p.forEach((function(e,t){return v[e]=t+1})),u=0,l=e.length;u<l;++u)c=n(f=e[u]),s=v[c]||(v[c]=p.push(c)),(o=m[a=(i=t?t.map(d):oP)+""])||(o=m[a]=[],h.push(o),o.values=i),o[s-1]=f;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),b=[],x=this.value,w=y.domain.length;for(o=0,c=y.length;o<c;++o)for(i=(n=y[o]).values,r=NaN,s=0;s<w;++s)if(null==n[s]){for(a=y.domain[s],f={_impute:!0},u=0,l=i.length;u<l;++u)f[g[u]]=i[u];f[m]=a,f[v]=Number.isNaN(r)?r=h(n,p):r,b.push(_j(f))}return b.length&&(d.add=d.materialize(d.ADD).add.concat(b)),x.length&&(d.rem=d.materialize(d.REM).rem.concat(x)),this.value=b,d}}),sP.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:xF},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},iE(sP,jF,{transform:function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Xk(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},changes:function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}}),cP.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},iE(cP,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=$F(r,e.groupby,e.field),a=(e.groupby||[]).map(Y_),o=e.bandwidth,u=e.cumulative?"cdf":"pdf",s=e.as||["value","density"],c=[],l=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==u&&"cdf"!==u&&J_("Invalid density method: "+u),"shared"===e.resolve&&(l||(l=Qk(r,e.field)),f=d=e.steps||d),i.forEach((function(t){var n=zT(t,o)[u],r=e.counts?t.length:1;dF(n,l||Qk(t),f,d).forEach((function(e){for(var n={},i=0;i<a.length;++i)n[a[i]]=t.dims[i];n[s[0]]=e[0],n[s[1]]=e[1]*r,c.push(_j(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}}),iE(lP,Pj),iE(dP,iT,{transform:function(e,t){var n=this,r=t.dataflow;if(this._pending)return hP(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return hP(this,t,r.parse(e.values,e.format));if(e.async){var i=r.request(e.url,e.format).then((function(e){return n._pending=Lk(e.data),function(e){return e.touch(n)}}));return{async:i}}return r.request(e.url,e.format).then((function(e){return hP(n,t,Lk(e.data))}))}}),pP.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},iE(pP,iT,{transform:function(e,t){var n,r,i,a=e.fields,o=e.index,u=e.values,s=null==e.default?null:e.default,c=e.modified(),l=a.length,f=c?t.SOURCE:t.ADD,d=t,h=e.as;return u?(r=u.length,l>1&&!h&&J_('Multi-field lookup requires explicit "as" parameter.'),h&&h.length!==l*r&&J_('The "as" parameter has too few output field names.'),h=h||u.map(Y_),n=function(e){for(var t,n,i=0,c=0;i<l;++i)if(null==(n=o.get(a[i](e))))for(t=0;t<r;++t,++c)e[h[c]]=s;else for(t=0;t<r;++t,++c)e[h[c]]=u[t](n)}):(h||J_("Missing output field names."),n=function(e){for(var t,n=0;n<l;++n)t=o.get(a[n](e)),e[h[n]]=null==t?s:t}),c?d=t.reflow(!0):(i=a.some((function(e){return t.modified(e.fields)})),f|=i?t.MOD:0),t.visit(f,n),d.modifies(h)}}),iE(vP,Pj),iE(gP,Pj),iE(bP,iT,{transform:function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),xP.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:xF,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},iE(xP,jF,{_transform:jF.prototype.transform,transform:function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",a=K_(n).concat(K_(r)),o=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort(Hk),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:o.map((function(){return i})),fields:o.map((function(e){return function(e,t,n,r){return G_((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,a)})),as:o.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}}),iE(wP,QF,{transform:function(e,t){var n=this,r=e.subflow,i=e.field,a=function(e){return n.subflow(xj(e),r,t,e)};return(e.modified("field")||i&&t.modified(K_(i)))&&J_("PreFacet does not support field modification."),this.initTargets(),i?(t.visit(t.MOD,(function(e){var t=a(e);i(e).forEach((function(e){return t.mod(e)}))})),t.visit(t.ADD,(function(e){var t=a(e);i(e).forEach((function(e){return t.add(_j(e))}))})),t.visit(t.REM,(function(e){var t=a(e);i(e).forEach((function(e){return t.rem(e)}))}))):(t.visit(t.MOD,(function(e){return a(e).mod(e)})),t.visit(t.ADD,(function(e){return a(e).add(e)})),t.visit(t.REM,(function(e){return a(e).rem(e)}))),t.clean()&&t.runAfter((function(){return n.clean()})),t}}),_P.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},iE(_P,iT,{transform:function(e,t){var n,r=t.fork(t.NO_SOURCE),i=e.fields,a=HF(e.fields,e.as||[]),o=i?function(e,t){return function(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}(e,t,i,a)}:Ej;return this.value?n=this.value:(t=t.addAll(),n=this.value={}),t.visit(t.REM,(function(e){var t=xj(e);r.rem.push(n[t]),n[t]=null})),t.visit(t.ADD,(function(e){var t=o(e,_j({}));n[xj(e)]=t,r.add.push(t)})),t.visit(t.MOD,(function(e){r.mod.push(o(e,n[xj(e)]))})),r}}),iE(kP,iT,{transform:function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),EP.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function OP(e){iT.call(this,null,e)}function SP(e){iT.call(this,[],e),this.count=0}function AP(e){iT.call(this,null,e)}function CP(e){iT.call(this,null,e),this.modified(!0)}function DP(e){iT.call(this,null,e)}iE(EP,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var i=$F(t.materialize(t.SOURCE).source,e.groupby,e.field),a=(e.groupby||[]).map(Y_),o=[],u=e.step||.01,s=e.probs||pF(u/2,1-1e-14,u),c=s.length;return i.forEach((function(e){for(var t=wT(e,s),n=0;n<c;++n){for(var i={},u=0;u<a.length;++u)i[a[u]]=e.dims[u];i[r[0]]=s[n],i[r[1]]=t[n],o.push(_j(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}}),iE(OP,iT,{transform:function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=xj(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=kj(e);r[xj(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t=r[xj(e)];for(var i in e)t[i]=e[i],n.modifies(i);n.mod.push(t)}))),n}}),SP.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},iE(SP,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((function(e,t){return e[xj(t)]=1,e}),{}),o=this.value,u=this.count,s=0;function c(e){var t,r;o.length<i?o.push(e):(r=~~((u+1)*OT()))<o.length&&r>=s&&(t=o[r],a[xj(t)]&&n.rem.push(t),o[r]=e),++u}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=xj(e);a[t]&&(a[t]=-1,n.rem.push(e)),--u})),o=o.filter((function(e){return-1!==a[xj(e)]}))),(t.rem.length||r)&&o.length<i&&t.source&&(s=u=o.length,t.visit(t.SOURCE,(function(e){a[xj(e)]||c(e)})),s=-1),r&&o.length>i){for(var l=o.length-i,f=0;f<l;++f)a[xj(o[f])]=-1,n.rem.push(o[f]);o=o.slice(l)}return t.mod.length&&t.visit(t.MOD,(function(e){a[xj(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||s<0)&&(n.add=o.filter((function(e){return!a[xj(e)]}))),this.count=u,this.value=n.source=o,n}}),AP.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},iE(AP,iT,{transform:function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=pF(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,_j(t)})),n.add=t.add.concat(this.value),n}}}),iE(CP,iT,{transform:function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});var jP=["unit0","unit1"];function TP(e){iT.call(this,nE(),e)}function FP(e){iT.call(this,null,e)}DP.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:kS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:jP}]},iE(DP,iT,{transform:function(e,t){var n=e.field,r=!1!==e.interval,i="utc"===e.timezone,a=this._floor(e,t),o=(i?JS:ZS)(a.unit).offset,u=e.as||jP,s=u[0],c=u[1],l=a.step,f=a.start||1/0,d=a.stop||-1/0,h=t.ADD;return(e.modified()||t.modified(K_(n)))&&(h=(t=t.reflow(!0)).SOURCE,f=1/0,d=-1/0),t.visit(h,(function(e){var t,i,u=n(e);null==u?(e[s]=null,r&&(e[c]=null)):(e[s]=t=i=a(u),r&&(e[c]=i=o(t,l)),t<f&&(f=t),i>d&&(d=i))})),a.start=f,a.stop=d,t.modifies(r?u:s)},_floor:function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:xA({extent:e.extent||Qk(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),i=r.units,a=r.step,o=OS(i),u=this.value||{},s=(n?KS:VS)(o,a);return s.unit=wk(o),s.units=o,s.step=a,s.start=u.start,s.stop=u.stop,this.value=s}}),iE(TP,iT,{transform:function(e,t){var n=t.dataflow,r=e.field,i=this.value,a=function(e){return i.set(r(e),e)},o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,(function(e){return i.delete(r(e))})),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}}),iE(FP,iT,{transform:function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Sj(e.sort)):t.source).map(e.field))}});var PP={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=PP.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.data,r=t.compare,i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||J_("ntile num must be greater than zero.");var n=PP.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||J_("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var i=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var MP=Object.keys(PP);function NP(e){var t=Lk(e.ops),n=Lk(e.fields),r=Lk(e.params),i=Lk(e.as),a=this.outputs=[],o=this.windows=[],u={},s={},c=[],l=[],f=!0;function d(e){Lk(K_(e)).forEach((function(e){return u[e]=1}))}d(e.sort),t.forEach((function(e,t){var u=n[t],h=Y_(u),p=mF(e,h,i[t]);if(d(u),a.push(p),eE(PP,e))o.push(function(e,t,n,r){var i=PP[e](t,n);return{init:i.init||ik,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],p));else{if(null==u&&"count"!==e&&J_("Null aggregate field specified."),"count"===e)return void c.push(p);f=!1;var v=s[h];v||((v=s[h]=[]).field=u,l.push(v)),v.push(wF(e,p))}})),(c.length||l.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return AF(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var u=r.data=new CF;return r.add=function(e){if(r.num+=1,!n){u&&u.add(e);for(var t=0;t<i;++t)a[t].add(a[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){u&&u.rem(e);for(var t=0;t<i;++t)a[t].rem(a[t].get(e),e)}},r.set=function(e){var i,o;for(u&&u.values(),i=0,o=t.length;i<o;++i)e[t[i]]=r.num;if(!n)for(i=0,o=a.length;i<o;++i)a[i].set(e)},r.init=function(){r.num=0,u&&u.reset();for(var e=0;e<i;++e)a[e].init()},r}(l,c,f)),this.inputs=Object.keys(u)}var RP=NP.prototype;function IP(e){iT.call(this,{},e),this._mlen=0,this._mods=[]}function BP(e,t,n,r){var i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],u=e.data(n),s=u.length,c=a?fS(i):null,l={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:i||Yk(-1)};t.init();for(var f=0;f<s;++f)zP(l,o,f,s),a&&LP(l,c),t.update(l,u[f])}function zP(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function LP(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}function UP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qP(e){this._context=e}function WP(){}function HP(e){this._context=e}function $P(e){this._context=e}function VP(e,t){this._basis=new qP(e),this._beta=t}RP.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},RP.update=function(e,t){var n,r=this.cell,i=this.windows,a=e.data,o=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(a[n]);for(n=e.p1;n<e.i1;++n)r.add(a[n]);r.set(t)}for(n=0;n<o;++n)i[n].update(e,t)},IP.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:MP.concat(xF)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},iE(IP,iT,{transform:function(e,t){var n=this;this.stamp=t.stamp;var r=e.modified(),i=Sj(e.sort),a=vF(e.groupby),o=function(e){return n.group(a(e))},u=this.state;u&&!r||(u=this.state=new NP(e)),r||t.modified(u.inputs)?(this.value={},t.visit(t.SOURCE,(function(e){return o(e).add(e)}))):(t.visit(t.REM,(function(e){return o(e).remove(e)})),t.visit(t.ADD,(function(e){return o(e).add(e)})));for(var s=0,c=this._mlen;s<c;++s)BP(this._mods[s],u,i,e);return this._mlen=0,this._mods=[],t.reflow(r).modifies(u.outputs)},group:function(e){var t=this.value[e];return t||(t=this.value[e]=FF(xj),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),qP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:UP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:UP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},HP.prototype={areaStart:WP,areaEnd:WP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:UP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},$P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:UP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},VP.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,u=t[n]-a,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+r*o),this._beta*t[s]+(1-this._beta)*(a+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var GP=function e(t){function n(e){return 1===t?new qP(e):new VP(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function YP(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function KP(e,t){this._context=e,this._k=(1-t)/6}KP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:YP(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:YP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var XP=function e(t){function n(e){return new KP(e,t)}return n.tension=function(t){return e(+t)},n}(0);function QP(e,t){this._context=e,this._k=(1-t)/6}QP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:YP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ZP=function e(t){function n(e){return new QP(e,t)}return n.tension=function(t){return e(+t)},n}(0);function JP(e,t){this._context=e,this._k=(1-t)/6}JP.prototype={areaStart:WP,areaEnd:WP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:YP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var eM=function e(t){function n(e){return new JP(e,t)}return n.tension=function(t){return e(+t)},n}(0),tM=Math.abs,nM=Math.atan2,rM=Math.cos,iM=Math.max,aM=Math.min,oM=Math.sin,uM=Math.sqrt,sM=1e-12,cM=Math.PI,lM=cM/2,fM=2*cM;function dM(e){return e>1?0:e<-1?cM:Math.acos(e)}function hM(e){return e>=1?lM:e<=-1?-lM:Math.asin(e)}function pM(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>sM){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>sM){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function vM(e,t){this._context=e,this._alpha=t}vM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:pM(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var mM=function e(t){function n(e){return t?new vM(e,t):new KP(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function gM(e,t){this._context=e,this._alpha=t}gM.prototype={areaStart:WP,areaEnd:WP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:pM(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var yM=function e(t){function n(e){return t?new gM(e,t):new JP(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function bM(e,t){this._context=e,this._alpha=t}bM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pM(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var xM=function e(t){function n(e){return t?new bM(e,t):new QP(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function wM(e){this._context=e}function _M(e){return new wM(e)}function kM(e){this._context=e}function EM(e){return e<0?-1:1}function OM(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(EM(a)+EM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function SM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function AM(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function CM(e){this._context=e}function DM(e){this._context=new jM(e)}function jM(e){this._context=e}function TM(e){this._context=e}function FM(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function PM(e,t){this._context=e,this._t=t}wM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},kM.prototype={areaStart:WP,areaEnd:WP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},CM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AM(this,this._t0,SM(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AM(this,SM(this,n=OM(this,e,t)),n);break;default:AM(this,this._t0,n=OM(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(DM.prototype=Object.create(CM.prototype)).point=function(e,t){CM.prototype.point.call(this,t,e)},jM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},TM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=FM(e),i=FM(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},PM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var MM=Math.PI,NM=2*MM,RM=1e-6,IM=NM-RM;function BM(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zM(){return new BM}BM.prototype=zM.prototype={constructor:BM,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,u=n-e,s=r-t,c=a-e,l=o-t,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>RM)if(Math.abs(l*u-s*c)>RM&&i){var d=n-a,h=r-o,p=u*u+s*s,v=d*d+h*h,m=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((MM-Math.acos((p+f-v)/(2*m*g)))/2),b=y/g,x=y/m;Math.abs(b-1)>RM&&(this._+="L"+(e+b*c)+","+(t+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+x*u)+","+(this._y1=t+x*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,a=!!a;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=e+o,c=t+u,l=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>RM||Math.abs(this._y1-c)>RM)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%NM+NM),f>IM?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>RM&&(this._+="A"+n+","+n+",0,"+ +(f>=MM)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var LM=zM;function UM(e){return function(){return e}}function qM(e){return e.innerRadius}function WM(e){return e.outerRadius}function HM(e){return e.startAngle}function $M(e){return e.endAngle}function VM(e){return e&&e.padAngle}function GM(e,t,n,r,i,a,o,u){var s=n-e,c=r-t,l=o-i,f=u-a,d=f*s-l*c;if(!(d*d<sM))return[e+(d=(l*(t-a)-f*(e-i))/d)*s,t+d*c]}function YM(e,t,n,r,i,a,o){var u=e-n,s=t-r,c=(o?a:-a)/uM(u*u+s*s),l=c*s,f=-c*u,d=e+l,h=t+f,p=n+l,v=r+f,m=(d+p)/2,g=(h+v)/2,y=p-d,b=v-h,x=y*y+b*b,w=i-a,_=d*v-p*h,k=(b<0?-1:1)*uM(iM(0,w*w*x-_*_)),E=(_*b-y*k)/x,O=(-_*y-b*k)/x,S=(_*b+y*k)/x,A=(-_*y+b*k)/x,C=E-m,D=O-g,j=S-m,T=A-g;return C*C+D*D>j*j+T*T&&(E=S,O=A),{cx:E,cy:O,x01:-l,y01:-f,x11:E*(i/w-1),y11:O*(i/w-1)}}Array.prototype.slice;function KM(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function XM(e){return e[0]}function QM(e){return e[1]}function ZM(e,t){var n=UM(!0),r=null,i=_M,a=null;function o(o){var u,s,c,l=(o=KM(o)).length,f=!1;for(null==r&&(a=i(c=LM())),u=0;u<=l;++u)!(u<l&&n(s=o[u],u,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(s,u,o),+t(s,u,o));if(c)return a=null,c+""||null}return e="function"===typeof e?e:void 0===e?XM:UM(e),t="function"===typeof t?t:void 0===t?QM:UM(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:UM(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:UM(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:UM(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function JM(e,t,n){var r=null,i=UM(!0),a=null,o=_M,u=null;function s(s){var c,l,f,d,h,p=(s=KM(s)).length,v=!1,m=new Array(p),g=new Array(p);for(null==a&&(u=o(h=LM())),c=0;c<=p;++c){if(!(c<p&&i(d=s[c],c,s))===v)if(v=!v)l=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=l;--f)u.point(m[f],g[f]);u.lineEnd(),u.areaEnd()}v&&(m[c]=+e(d,c,s),g[c]=+t(d,c,s),u.point(r?+r(d,c,s):m[c],n?+n(d,c,s):g[c]))}if(h)return u=null,h+""||null}function c(){return ZM().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?XM:UM(+e),t="function"===typeof t?t:UM(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?QM:UM(+n),s.x=function(t){return arguments.length?(e="function"===typeof t?t:UM(+t),r=null,s):e},s.x0=function(t){return arguments.length?(e="function"===typeof t?t:UM(+t),s):e},s.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:UM(+e),s):r},s.y=function(e){return arguments.length?(t="function"===typeof e?e:UM(+e),n=null,s):t},s.y0=function(e){return arguments.length?(t="function"===typeof e?e:UM(+e),s):t},s.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:UM(+e),s):n},s.lineX0=s.lineY0=function(){return c().x(e).y(t)},s.lineY1=function(){return c().x(e).y(n)},s.lineX1=function(){return c().x(r).y(t)},s.defined=function(e){return arguments.length?(i="function"===typeof e?e:UM(!!e),s):i},s.curve=function(e){return arguments.length?(o=e,null!=a&&(u=o(a)),s):o},s.context=function(e){return arguments.length?(null==e?a=u=null:u=o(a=e),s):a},s}var eN={draw:function(e,t){var n=Math.sqrt(t/cM);e.moveTo(n,0),e.arc(0,0,n,0,fM)}},tN=(Math.sqrt(1/3),Math.sin(cM/10)/Math.sin(7*cM/10));Math.sin(fM/10),Math.cos(fM/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function nN(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}var rN=function(){return"undefined"!==typeof Image?Image:null},iN=fS(lS),aN=iN.right,oN=iN.left,uN=(fS(hT).center,aN);function sN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function cN(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var lN=Symbol("implicit");function fN(){var e=new Map,t=[],n=[],r=lN;function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==lN)return r;e.set(a,o=t.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,a=S(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o+"";e.has(u)||e.set(u,t.push(o))}}catch(s){a.e(s)}finally{a.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return fN(t,n).unknown(r)},sN.apply(i,arguments),i}var dN,hN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pN(e){if(!(t=hN.exec(e)))throw new Error("invalid format: "+e);var t;return new vN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function vN(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function mN(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gN(e){return(e=mN(Math.abs(e)))?e[1]:NaN}function yN(e,t){var n=mN(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}pN.prototype=vN.prototype,vN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var bN={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return yN(100*e,t)},r:yN,s:function(e,t){var n=mN(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(dN=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+mN(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function xN(e){return e}var wN,_N,kN,EN=Array.prototype.map,ON=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function SN(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?xN:(t=EN.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?xN:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(EN.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=pN(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):bN[y]||(void 0===m&&(m=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?a:/[%p]/.test(y)?s:"",w=bN[y],_=/[defgprs%]/.test(y);function k(e){var i,a,s,d=b,k=x;if("c"===y)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==f&&(E=!1),d=(E?"("===f?f:c:"-"===f||"("===f?"":f)+d,k=("s"===y?ON[8+dN/3]:"")+k+(E&&"("===f?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){k=(46===s?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var O=d.length+e.length+k.length,S=O<p?new Array(p-O+1).join(t):"";switch(v&&h&&(e=r(S+e,S.length?p-k.length:1/0),S=""),n){case"<":e=d+e+k+S;break;case"=":e=d+S+e+k;break;case"^":e=S.slice(0,O=S.length>>1)+d+e+k+S.slice(O);break;default:e=S+d+e+k}return u(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=pN(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(gN(t)/3))),i=Math.pow(10,-r),a=ON[8+r/3];return function(e){return n(i*e)+a}}}}function AN(e,t,n,r){var i,a=GE(e,t,n);switch((r=pN(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gN(t)/3)))-gN(Math.abs(e)))}(a,o))||(r.precision=i),kN(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gN(t)-gN(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-gN(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return _N(r)}function CN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function DN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function jN(){}!function(e){wN=SN(e),_N=wN.format,kN=wN.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var TN=.7,FN=1/TN,PN="\\s*([+-]?\\d+)\\s*",MN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",NN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RN=/^#([0-9a-f]{3,8})$/,IN=new RegExp("^rgb\\("+[PN,PN,PN]+"\\)$"),BN=new RegExp("^rgb\\("+[NN,NN,NN]+"\\)$"),zN=new RegExp("^rgba\\("+[PN,PN,PN,MN]+"\\)$"),LN=new RegExp("^rgba\\("+[NN,NN,NN,MN]+"\\)$"),UN=new RegExp("^hsl\\("+[MN,NN,NN]+"\\)$"),qN=new RegExp("^hsla\\("+[MN,NN,NN,MN]+"\\)$"),WN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function HN(){return this.rgb().formatHex()}function $N(){return this.rgb().formatRgb()}function VN(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?GN(t):3===n?new QN(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?YN(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?YN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=IN.exec(e))?new QN(t[1],t[2],t[3],1):(t=BN.exec(e))?new QN(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=zN.exec(e))?YN(t[1],t[2],t[3],t[4]):(t=LN.exec(e))?YN(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=UN.exec(e))?tR(t[1],t[2]/100,t[3]/100,1):(t=qN.exec(e))?tR(t[1],t[2]/100,t[3]/100,t[4]):WN.hasOwnProperty(e)?GN(WN[e]):"transparent"===e?new QN(NaN,NaN,NaN,0):null}function GN(e){return new QN(e>>16&255,e>>8&255,255&e,1)}function YN(e,t,n,r){return r<=0&&(e=t=n=NaN),new QN(e,t,n,r)}function KN(e){return e instanceof jN||(e=VN(e)),e?new QN((e=e.rgb()).r,e.g,e.b,e.opacity):new QN}function XN(e,t,n,r){return 1===arguments.length?KN(e):new QN(e,t,n,null==r?1:r)}function QN(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ZN(){return"#"+eR(this.r)+eR(this.g)+eR(this.b)}function JN(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function eR(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function tR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new iR(e,t,n,r)}function nR(e){if(e instanceof iR)return new iR(e.h,e.s,e.l,e.opacity);if(e instanceof jN||(e=VN(e)),!e)return new iR;if(e instanceof iR)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new iR(o,u,s,e.opacity)}function rR(e,t,n,r){return 1===arguments.length?nR(e):new iR(e,t,n,null==r?1:r)}function iR(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function aR(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function oR(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function uR(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return oR((n-r/t)*t,o,i,a,u)}}function sR(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return oR((n-r/t)*t,i,a,o,u)}}CN(jN,VN,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:HN,formatHex:HN,formatHsl:function(){return nR(this).formatHsl()},formatRgb:$N,toString:$N}),CN(QN,XN,DN(jN,{brighter:function(e){return e=null==e?FN:Math.pow(FN,e),new QN(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?TN:Math.pow(TN,e),new QN(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZN,formatHex:ZN,formatRgb:JN,toString:JN})),CN(iR,rR,DN(jN,{brighter:function(e){return e=null==e?FN:Math.pow(FN,e),new iR(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?TN:Math.pow(TN,e),new iR(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new QN(aR(e>=240?e-240:e+120,i,r),aR(e,i,r),aR(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var cR=function(e){return function(){return e}};function lR(e,t){return function(n){return e+n*t}}function fR(e,t){var n=t-e;return n?lR(e,n>180||n<-180?n-360*Math.round(n/360):n):cR(isNaN(e)?t:e)}function dR(e){return 1===(e=+e)?hR:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):cR(isNaN(t)?n:t)}}function hR(e,t){var n=t-e;return n?lR(e,n):cR(isNaN(e)?t:e)}var pR=function e(t){var n=dR(t);function r(e,t){var r=n((e=XN(e)).r,(t=XN(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=hR(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function vR(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=XN(t[n]),a[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return a=e(a),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=u(e),r+""}}}var mR=vR(uR),gR=vR(sR);function yR(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function bR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xR(e,t){return(bR(t)?yR:wR)(e,t)}function wR(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=CR(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function _R(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function kR(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ER(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=CR(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var OR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SR=new RegExp(OR.source,"g");function AR(e,t){var n,r,i,a=OR.lastIndex=SR.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=OR.exec(e))&&(r=SR.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:kR(n,r)})),a=SR.lastIndex;return a<t.length&&(i=t.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}function CR(e,t){var n,r=typeof t;return null==t||"boolean"===r?cR(t):("number"===r?kR:"string"===r?(n=VN(t))?(t=n,pR):AR:t instanceof VN?pR:t instanceof Date?_R:bR(t)?yR:Array.isArray(t)?wR:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?ER:kR)(e,t)}function DR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function jR(e){return+e}var TR=[0,1];function FR(e){return e}function PR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function MR(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=PR(i,r),a=n(o,a)):(r=PR(r,i),a=n(a,o)),function(e){return a(r(e))}}function NR(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=PR(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=uN(e,t,1,r)-1;return a[n](i[n](t))}}function RR(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function IR(){var e,t,n,r,i,a,o=TR,u=TR,s=CR,c=FR;function l(){var e=Math.min(o.length,u.length);return c!==FR&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?NR:MR,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),u,s)))(e(c(t)))}return f.invert=function(n){return c(t((a||(a=r(u,o.map(e),kR)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,jR),l()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),l()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),s=DR,l()},f.clamp=function(e){return arguments.length?(c=!!e||FR,l()):c!==FR},f.interpolate=function(e){return arguments.length?(s=e,l()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function BR(){return IR()(FR,FR)}function zR(e){var t=e.domain;return e.ticks=function(e){var n=t();return $E(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return AN(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,u=a.length-1,s=a[o],c=a[u],l=10;for(c<s&&(i=s,s=c,c=i,i=o,o=u,u=i);l-- >0;){if((i=VE(s,c,n))===r)return a[o]=s,a[u]=c,t(a);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function LR(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function UR(e){return Math.log(e)}function qR(e){return Math.exp(e)}function WR(e){return-Math.log(-e)}function HR(e){return-Math.exp(-e)}function $R(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VR(e){return function(t){return-e(-t)}}function GR(e){var t,n,r=e(UR,qR),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?$R:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=VR(t),n=VR(n),e(WR,HR)):e(UR,qR),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r,o=i(),u=o[0],s=o[o.length-1];(r=s<u)&&(d=u,u=s,s=d);var c,l,f,d=t(u),h=t(s),p=null==e?10:+e,v=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(l=1,c=n(d);l<a;++l)if(!((f=c*l)<u)){if(f>s)break;v.push(f)}}else for(;d<=h;++d)for(l=a-1,c=n(d);l>=1;--l)if(!((f=c*l)<u)){if(f>s)break;v.push(f)}2*v.length<p&&(v=$E(u,s,p))}else v=$E(d,h,Math.min(h-d,p)).map(n);return r?v.reverse():v},r.tickFormat=function(e,i){if(null==i&&(i=10===a?".0e":","),"function"!==typeof i&&(i=_N(i)),e===1/0)return i;null==e&&(e=10);var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(LR(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function YR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function KR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function XR(e){return e<0?-e*e:e*e}function QR(e){var t=e(FR,FR),n=1;function r(){return 1===n?e(FR,FR):.5===n?e(KR,XR):e(YR(n),YR(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},zR(t)}function ZR(){var e=QR(IR());return e.copy=function(){return RR(e,ZR()).exponent(e.exponent())},sN.apply(e,arguments),e}function JR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tI(e){var t=1,n=e(JR(t),eI(t));return n.constant=function(n){return arguments.length?e(JR(t=+n),eI(t)):t},zR(n)}var nI=1e3,rI=6e4,iI=36e5,aI=864e5,oI=6048e5,uI=2592e6,sI=31536e6,cI=new Date,lI=new Date;function fI(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,u=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return u;do{u.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return u},i.filter=function(n){return fI((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return cI.setTime(+t),lI.setTime(+r),e(cI),e(lI),Math.floor(n(cI,lI))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var dI=fI((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));dI.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?fI((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):dI:null};var hI=dI,pI=(dI.range,fI((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*nI)}),(function(e,t){return(t-e)/nI}),(function(e){return e.getUTCSeconds()}))),vI=pI,mI=(pI.range,fI((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*nI)}),(function(e,t){e.setTime(+e+t*rI)}),(function(e,t){return(t-e)/rI}),(function(e){return e.getMinutes()}))),gI=mI,yI=(mI.range,fI((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*nI-e.getMinutes()*rI)}),(function(e,t){e.setTime(+e+t*iI)}),(function(e,t){return(t-e)/iI}),(function(e){return e.getHours()}))),bI=yI,xI=(yI.range,fI((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rI)/aI}),(function(e){return e.getDate()-1}))),wI=xI;xI.range;function _I(e){return fI((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rI)/oI}))}var kI=_I(0),EI=_I(1),OI=_I(2),SI=_I(3),AI=_I(4),CI=_I(5),DI=_I(6),jI=(kI.range,EI.range,OI.range,SI.range,AI.range,CI.range,DI.range,fI((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),TI=jI,FI=(jI.range,fI((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));FI.every=function(e){return isFinite(e=Math.floor(e))&&e>0?fI((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var PI=FI,MI=(FI.range,fI((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*rI)}),(function(e,t){return(t-e)/rI}),(function(e){return e.getUTCMinutes()}))),NI=MI,RI=(MI.range,fI((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*iI)}),(function(e,t){return(t-e)/iI}),(function(e){return e.getUTCHours()}))),II=RI,BI=(RI.range,fI((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/aI}),(function(e){return e.getUTCDate()-1}))),zI=BI;BI.range;function LI(e){return fI((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/oI}))}var UI=LI(0),qI=LI(1),WI=LI(2),HI=LI(3),$I=LI(4),VI=LI(5),GI=LI(6),YI=(UI.range,qI.range,WI.range,HI.range,$I.range,VI.range,GI.range,fI((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),KI=YI,XI=(YI.range,fI((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));XI.every=function(e){return isFinite(e=Math.floor(e))&&e>0?fI((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var QI=XI;XI.range;function ZI(e,t,n,r,i,a){var o=[[vI,1,nI],[vI,5,5e3],[vI,15,15e3],[vI,30,3e4],[a,1,rI],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,iI],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,aI],[r,2,1728e5],[n,1,oI],[t,1,uI],[t,3,7776e6],[e,1,sI]];function u(t,n,r){var i=Math.abs(n-t)/r,a=fS((function(e){return D(e,3)[2]})).right(o,i);if(a===o.length)return e.every(GE(t/sI,n/sI,r));if(0===a)return hI.every(Math.max(GE(t,n,r),1));var u=D(o[i/o[a-1][2]<o[a][2]/i?a-1:a],2),s=u[0],c=u[1];return s.every(c)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var a=n&&"function"===typeof n.range?n:u(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},u]}var JI=D(ZI(QI,KI,UI,zI,II,NI),2),eB=JI[0],tB=JI[1],nB=D(ZI(PI,TI,kI,wI,bI,gI),2),rB=nB[0],iB=nB[1];function aB(e){return new Date(e)}function oB(e){return e instanceof Date?+e:+new Date(+e)}function uB(e,t,n,r,i,a,o,u,s,c){var l=BR(),f=l.invert,d=l.domain,h=c(".%L"),p=c(":%S"),v=c("%I:%M"),m=c("%I %p"),g=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(s(e)<e?h:u(e)<e?p:o(e)<e?v:a(e)<e?m:r(e)<e?i(e)<e?g:y:n(e)<e?b:x)(e)}return l.invert=function(e){return new Date(f(e))},l.domain=function(e){return arguments.length?d(Array.from(e,oB)):d().map(aB)},l.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?w:c(t)},l.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(LR(n,e)):l},l.copy=function(){return RR(l,uB(e,t,n,r,i,a,o,u,s,c))},l}function sB(){var e,t,n,r,i,a=0,o=1,u=FR,s=!1;function c(t){return null==t||isNaN(t=+t)?i:u(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,i;return arguments.length?(r=(n=D(t,2))[0],i=n[1],u=e(r,i),c):[u(0),u(1)]}}return c.domain=function(i){var u;return arguments.length?(u=D(i,2),a=u[0],o=u[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(u=e,c):u},c.range=l(CR),c.rangeRound=l(DR),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function cB(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lB(){var e=zR(sB()(FR));return e.copy=function(){return cB(e,lB())},cN.apply(e,arguments)}function fB(){var e=QR(sB());return e.copy=function(){return cB(e,fB()).exponent(e.exponent())},cN.apply(e,arguments)}function dB(e,t){void 0===t&&(t=e,e=CR);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function hB(){var e,t,n,r,i,a,o,u=0,s=.5,c=1,l=1,f=FR,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(l*e<l*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i,a;return arguments.length?(r=(n=D(t,3))[0],i=n[1],a=n[2],f=dB(e,[r,i,a]),h):[f(0),f(.5),f(1)]}}return h.domain=function(o){var f;return arguments.length?(f=D(o,3),u=f[0],s=f[1],c=f[2],e=a(u=+u),t=a(s=+s),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h):[u,s,c]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(CR),h.rangeRound=p(DR),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(u),t=o(s),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h}}function pB(){var e=QR(hB());return e.copy=function(){return cB(e,pB()).exponent(e.exponent())},cN.apply(e,arguments)}function vB(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function mB(e,t){var n=fR(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}var gB,yB=180/Math.PI,bB={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xB(e,t,n,r,i,a){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*yB,skewX:Math.atan(s)*yB,scaleX:o,scaleY:u}}function wB(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var u=[],s=[];return a=e(a),o=e(o),function(e,r,i,a,o,u){if(e!==i||r!==a){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:kR(e,i)},{i:s-2,x:kR(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:kR(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,u,s),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:kR(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,u,s),function(e,t,n,r,a,o){if(e!==n||t!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:kR(e,n)},{i:u-2,x:kR(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var _B=wB((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bB:xB(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),kB=wB((function(e){return null==e?bB:(gB||(gB=document.createElementNS("http://www.w3.org/2000/svg","g")),gB.setAttribute("transform",e),(e=gB.transform.baseVal.consolidate())?xB((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):bB)}),", ",")",")");function EB(e){return((e=Math.exp(e))+1/e)/2}var OB=function e(t,n,r){function i(e,i){var a,o,u=e[0],s=e[1],c=e[2],l=i[0],f=i[1],d=i[2],h=l-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/c)/t,a=function(e){return[u+e*h,s+e*p,c*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),g=(d*d-c*c+r*v)/(2*c*n*m),y=(d*d-c*c-r*v)/(2*d*n*m),b=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(y*y+1)-y);o=(x-b)/t,a=function(e){var r=e*o,i=EB(b),a=c/(n*m)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[u+a*h,s+a*p,c*i/EB(t*r+b)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function SB(e){return function(t,n){var r=e((t=rR(t)).h,(n=rR(n)).h),i=hR(t.s,n.s),a=hR(t.l,n.l),o=hR(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+""}}}var AB=SB(fR),CB=SB(hR),DB=Math.PI/180,jB=180/Math.PI,TB=.96422,FB=.82521,PB=4/29,MB=6/29,NB=3*MB*MB;function RB(e){if(e instanceof BB)return new BB(e.l,e.a,e.b,e.opacity);if(e instanceof $B)return VB(e);e instanceof QN||(e=KN(e));var t,n,r=qB(e.r),i=qB(e.g),a=qB(e.b),o=zB((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?t=n=o:(t=zB((.4360747*r+.3850649*i+.1430804*a)/TB),n=zB((.0139322*r+.0971045*i+.7141733*a)/FB)),new BB(116*o-16,500*(t-o),200*(o-n),e.opacity)}function IB(e,t,n,r){return 1===arguments.length?RB(e):new BB(e,t,n,null==r?1:r)}function BB(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function zB(e){return e>.008856451679035631?Math.pow(e,1/3):e/NB+PB}function LB(e){return e>MB?e*e*e:NB*(e-PB)}function UB(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qB(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function WB(e){if(e instanceof $B)return new $B(e.h,e.c,e.l,e.opacity);if(e instanceof BB||(e=RB(e)),0===e.a&&0===e.b)return new $B(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*jB;return new $B(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function HB(e,t,n,r){return 1===arguments.length?WB(e):new $B(e,t,n,null==r?1:r)}function $B(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function VB(e){if(isNaN(e.h))return new BB(e.l,0,0,e.opacity);var t=e.h*DB;return new BB(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function GB(e,t){var n=hR((e=IB(e)).l,(t=IB(t)).l),r=hR(e.a,t.a),i=hR(e.b,t.b),a=hR(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function YB(e){return function(t,n){var r=e((t=HB(t)).h,(n=HB(n)).h),i=hR(t.c,n.c),a=hR(t.l,n.l),o=hR(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}CN(BB,IB,DN(jN,{brighter:function(e){return new BB(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new BB(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new QN(UB(3.1338561*(t=TB*LB(t))-1.6168667*(e=1*LB(e))-.4906146*(n=FB*LB(n))),UB(-.9787684*t+1.9161415*e+.033454*n),UB(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),CN($B,HB,DN(jN,{brighter:function(e){return new $B(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new $B(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return VB(this).rgb()}}));var KB=YB(fR),XB=YB(hR),QB=-.14861,ZB=1.78277,JB=-.29227,ez=-.90649,tz=1.97294,nz=-1.7884503806,rz=3.5172982438,iz=-.6557636667999999;function az(e){if(e instanceof uz)return new uz(e.h,e.s,e.l,e.opacity);e instanceof QN||(e=KN(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(iz*r+nz*t-rz*n)/(iz+nz-rz),a=r-i,o=(tz*(n-i)-JB*a)/ez,u=Math.sqrt(o*o+a*a)/(tz*i*(1-i)),s=u?Math.atan2(o,a)*jB-120:NaN;return new uz(s<0?s+360:s,u,i,e.opacity)}function oz(e,t,n,r){return 1===arguments.length?az(e):new uz(e,t,n,null==r?1:r)}function uz(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function sz(e){return function t(n){function r(t,r){var i=e((t=oz(t)).h,(r=oz(r)).h),a=hR(t.s,r.s),o=hR(t.l,r.l),u=hR(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}CN(uz,oz,DN(jN,{brighter:function(e){return e=null==e?FN:Math.pow(FN,e),new uz(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?TN:Math.pow(TN,e),new uz(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*DB,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new QN(255*(t+n*(QB*r+ZB*i)),255*(t+n*(JB*r+ez*i)),255*(t+n*(tz*r)),this.opacity)}}));var cz,lz,fz=sz(fR),dz=sz(hR);function hz(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function pz(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}var vz="linear",mz="log",gz="pow",yz="sqrt",bz="symlog",xz="time",wz="utc",_z="sequential",kz="diverging",Ez="quantile",Oz="quantize",Sz="threshold",Az="ordinal",Cz="point",Dz="band",jz="bin-ordinal",Tz="continuous",Fz="discrete",Pz="discretizing",Mz="interpolating",Nz="temporal";function Rz(){var e,t,n=fN().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,u=0,s=0,c=.5;function l(){var n=r().length,l=a[1]<a[0],f=a[1-l],d=pz(n,u,s),h=a[l-0];e=(f-h)/(d||1),o&&(e=Math.floor(e)),h+=(f-h-e*(n-u))*c,t=e*(1-u),o&&(h=Math.round(h),t=Math.round(t));var p=pF(n).map((function(t){return h+e*t}));return i(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],l()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u=s,l()):u},n.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,o,u,s=a[1]<a[0],c=s?i().reverse():i(),l=c.length-1,f=+e[0],d=+e[1];if(f===f&&d===d&&(d<f&&(u=f,f=d,d=u),!(d<c[0]||f>a[1-s])))return n=Math.max(0,aN(c,f)-1),o=f===d?n:aN(c,d)-1,f-c[n]>t+1e-10&&++n,s&&(u=n,n=l-o,o=l-u),n>o?void 0:r().slice(n,o+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Rz().domain(r()).range(a).round(o).paddingInner(u).paddingOuter(s).align(c)},l()}function Iz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Iz(t())},e}var Bz=Array.prototype.map;function zz(e){return Bz.call(e,_k)}var Lz=Array.prototype.slice;var Uz={};function qz(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(n):n.invertExtent?function(e){return function(t){var n,r,i,a,o=e.range(),u=t[0],s=t[1],c=-1;for(s<u&&(r=u,u=s,s=r),i=0,a=o.length;i<a;++i)o[i]>=u&&o[i]<=s&&(c<0&&(c=i),n=i);if(!(c<0))return u=e.invertExtent(o[c]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=e,n};return r.metadata=EE(Lk(n)),r}function Wz(e,t,n){return arguments.length>1?(Uz[e]=qz(e,t,n),this):Hz(e)?Uz[e]:void 0}function Hz(e){return eE(Uz,e)}function $z(e,t){var n=Uz[e];return n&&n.metadata[t]}function Vz(e){return $z(e,Tz)}function Gz(e){return $z(e,Fz)}function Yz(e){return $z(e,Pz)}function Kz(e){return $z(e,mz)}function Xz(e){return $z(e,Mz)}function Qz(e){return $z(e,Ez)}Wz("identity",(function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,jR),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,jR):[0,1],zR(r)})),Wz(vz,(function e(){var t=BR();return t.copy=function(){return RR(t,e())},sN.apply(t,arguments),zR(t)}),Tz),Wz(mz,(function e(){var t=GR(IR()).domain([1,10]);return t.copy=function(){return RR(t,e()).base(t.base())},sN.apply(t,arguments),t}),[Tz,mz]),Wz(gz,ZR,Tz),Wz(yz,(function(){return ZR.apply(null,arguments).exponent(.5)}),Tz),Wz(bz,(function e(){var t=tI(IR());return t.copy=function(){return RR(t,e()).constant(t.constant())},sN.apply(t,arguments)}),Tz),Wz(xz,(function(){return sN.apply(uB(rB,iB,PI,TI,kI,wI,bI,gI,vI,tC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[Tz,Nz]),Wz(wz,(function(){return sN.apply(uB(eB,tB,QI,KI,UI,zI,II,NI,vI,rC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[Tz,Nz]),Wz(_z,lB,[Tz,Mz]),Wz("".concat(_z,"-").concat(vz),lB,[Tz,Mz]),Wz("".concat(_z,"-").concat(mz),(function e(){var t=GR(sB()).domain([1,10]);return t.copy=function(){return cB(t,e()).base(t.base())},cN.apply(t,arguments)}),[Tz,Mz,mz]),Wz("".concat(_z,"-").concat(gz),fB,[Tz,Mz]),Wz("".concat(_z,"-").concat(yz),(function(){return fB.apply(null,arguments).exponent(.5)}),[Tz,Mz]),Wz("".concat(_z,"-").concat(bz),(function e(){var t=tI(sB());return t.copy=function(){return cB(t,e()).constant(t.constant())},cN.apply(t,arguments)}),[Tz,Mz]),Wz("".concat(kz,"-").concat(vz),(function e(){var t=zR(hB()(FR));return t.copy=function(){return cB(t,e())},cN.apply(t,arguments)}),[Tz,Mz]),Wz("".concat(kz,"-").concat(mz),(function e(){var t=GR(hB()).domain([.1,1,10]);return t.copy=function(){return cB(t,e()).base(t.base())},cN.apply(t,arguments)}),[Tz,Mz,mz]),Wz("".concat(kz,"-").concat(gz),pB,[Tz,Mz]),Wz("".concat(kz,"-").concat(yz),(function(){return pB.apply(null,arguments).exponent(.5)}),[Tz,Mz]),Wz("".concat(kz,"-").concat(bz),(function e(){var t=tI(hB());return t.copy=function(){return cB(t,e()).constant(t.constant())},cN.apply(t,arguments)}),[Tz,Mz]),Wz(Ez,(function e(){var t,n=[],r=[],i=[];function a(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=mT(n,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:r[uN(i,e)]}return o.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,r=S(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;null==i||isNaN(i=+i)||n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n.sort(lS),a()},o.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return e().domain(n).range(r).unknown(t)},sN.apply(o,arguments)}),[Pz,Ez]),Wz(Oz,(function e(){var t,n=0,r=1,i=1,a=[.5],o=[0,1];function u(e){return null!=e&&e<=e?o[uN(a,e,0,i)]:t}function s(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*r-(e-i)*n)/(i+1);return u}return u.domain=function(e){var t;return arguments.length?(t=D(e,2),n=t[0],r=t[1],n=+n,r=+r,s()):[n,r]},u.range=function(e){return arguments.length?(i=(o=Array.from(e)).length-1,s()):o.slice()},u.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},u.unknown=function(e){return arguments.length?(t=e,u):u},u.thresholds=function(){return a.slice()},u.copy=function(){return e().domain([n,r]).range(o).unknown(t)},sN.apply(zR(u),arguments)}),Pz),Wz(Sz,(function e(){var t,n=[.5],r=[0,1],i=1;function a(e){return null!=e&&e<=e?r[uN(n,e,0,i)]:t}return a.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(n).range(r).unknown(t)},sN.apply(a,arguments)}),Pz),Wz(jz,(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(uN(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=zz(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Lz.call(e),r):n.slice()},r.tickFormat=function(e,n){return AN(t[0],wk(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[Fz,Pz]),Wz(Az,fN,Fz),Wz(Dz,Rz,Fz),Wz(Cz,(function(){return Iz(Rz().paddingInner(1))}),Fz);var Zz=["clamp","base","constant","exponent"];function Jz(e,t){var n=t[0],r=wk(t)-n;return function(t){return e(n+t*r)}}function eL(e,t,n){return dB(rL(t||"rgb",n),e)}function tL(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function nL(e,t,n){var r,i,a,o=n-t;return o&&Number.isFinite(o)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),a=Wz(i)().domain([t,n]).range([0,1]),Zz.forEach((function(t){return e[t]?a[t](e[t]()):0})),a):Yk(.5)}function rL(e,t){var n=s[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function iL(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function aL(e,t){for(var n in e)uL(n,t(e[n]))}var oL={};function uL(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(oL[e]=t,this):oL[e]}aL({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},iL),aL({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return eL(iL(e))}));var sL="symbol",cL=function(e){return vk(e)?e.map((function(e){return String(e)})):String(e)},lL=function(e,t){return e[1]-t[1]},fL=function(e,t){return t[1]-e[1]};function dL(e,t,n){var r;return cE(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(yE(e.domain())/n||1)))),mk(t)&&(r=t.step,t=t.interval),fE(t)&&(t=e.type===xz?ZS(t):e.type==wz?JS(t):J_("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function hL(e,t,n){var r=e.range(),i=r[0],a=wk(r),o=lL;if(i>a&&(r=a,a=i,i=r,o=fL),i=Math.floor(i),a=Math.ceil(a),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return i<=e[1]&&e[1]<=a})).sort(o).map((function(e){return e[0]})),n>0&&t.length>1){for(var u=[t[0],wk(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=u)}return t}function pL(e,t){return e.bins?hL(e,e.bins):e.ticks?e.ticks(t):e.domain()}function vL(e,t,n,r,i,a){var o=t.type,u=cL;if(o===xz||i===xz)u=e.timeFormat(r);else if(o===wz||i===wz)u=e.utcFormat(r);else if(Kz(o)){var s=e.formatFloat(r);if(a||t.bins)u=s;else{var c=mL(t,n,!1);u=function(e){return c(e)?s(e):""}}}else if(t.tickFormat){var l=t.domain();u=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(u=e.format(r));return u}function mL(e,t,n){var r=pL(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/r.length),u=function(e){var t=e/Math.pow(i,Math.round(Math.log(e)/a));return t*i<i-.5&&(t*=i),t<=o};return n?r.filter(u):u}var gL=(du(cz={},Ez,"quantiles"),du(cz,Oz,"thresholds"),du(cz,Sz,"domain"),cz),yL=(du(lz={},Ez,"quantiles"),du(lz,Oz,"domain"),lz);function bL(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=wk(e),t}(e.bins):e.type===mz?mL(e,t,!0):gL[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[gL[e.type]]()):pL(e,t)}function xL(e,t,n,r,i,a,o){var u=yL[t.type]&&a!==xz&&a!==wz?function(e,t,n){var r,i=t[yL[t.type]](),a=i.length,o=a>1?i[1]-i[0]:i[0];for(r=1;r<a;++r)o=Math.min(o,i[r]-i[r-1]);return e.formatSpan(0,o,30,n)}(e,t,i):vL(e,t,n,i,a,o);return r===sL&&function(e){return gL[e.type]||e.bins}(t)?wL(u):"discrete"===r?kL(u):EL(u)}var wL=function(e){return function(t,n,r){var i=_L(r[n+1],_L(r.max,1/0)),a=OL(t,e),o=OL(i,e);return a&&o?a+" \u2013 "+o:o?"< "+o:"\u2265 "+a}},_L=function(e,t){return null!=e?e:t},kL=function(e){return function(t,n){return n?e(t):null}},EL=function(e){return function(t){return e(t)}},OL=function(e,t){return Number.isFinite(e)?t(e):null};function SL(e,t,n,r){var i=r||t.type;return fE(n)&&function(e){return $z(e,Nz)}(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==xz?n||i!==wz?xL(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function AL(e,t,n){n=n||{};var r=Math.max(3,n.maxlen||7),i=SL(e,t,n.format,n.formatType);if(Yz(t.type)){var a=bL(t).slice(1).map(i),o=a.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(a.join(", "))}if(Gz(t.type)){var u=t.domain(),s=u.length,c=s>r?u.slice(0,r-2).map(i).join(", ")+", ending with "+u.slice(-1).map(i):u.map(i).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(c)}var l=t.domain();return"values from ".concat(i(l[0])," to ").concat(i(wk(l)))}var CL=0;var DL="p_";function jL(e){return e&&e.gradient}function TL(e,t,n){var r=e.gradient,i=e.id,a="radial"===r?DL:"";return i||(i=e.id="gradient_"+CL++,"radial"===r?(e.x1=FL(e.x1,.5),e.y1=FL(e.y1,.5),e.r1=FL(e.r1,0),e.x2=FL(e.x2,.5),e.y2=FL(e.y2,.5),e.r2=FL(e.r2,.5),a=DL):(e.x1=FL(e.x1,0),e.y1=FL(e.y1,0),e.x2=FL(e.x2,1),e.y2=FL(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function FL(e,t){return null!=e?e:t}function PL(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}var ML={basis:{curve:function(e){return new qP(e)}},"basis-closed":{curve:function(e){return new HP(e)}},"basis-open":{curve:function(e){return new $P(e)}},bundle:{curve:GP,tension:"beta",value:.85},cardinal:{curve:XP,tension:"tension",value:0},"cardinal-open":{curve:ZP,tension:"tension",value:0},"cardinal-closed":{curve:eM,tension:"tension",value:0},"catmull-rom":{curve:mM,tension:"alpha",value:.5},"catmull-rom-closed":{curve:yM,tension:"alpha",value:.5},"catmull-rom-open":{curve:xM,tension:"alpha",value:.5},linear:{curve:_M},"linear-closed":{curve:function(e){return new kM(e)}},monotone:{horizontal:function(e){return new DM(e)},vertical:function(e){return new CM(e)}},natural:{curve:function(e){return new TM(e)}},step:{curve:function(e){return new PM(e,.5)}},"step-after":{curve:function(e){return new PM(e,1)}},"step-before":{curve:function(e){return new PM(e,0)}}};function NL(e,t,n){var r=eE(ML,e)&&ML[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var RL={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},IL=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function BL(e){var t,n,r,i,a,o,u,s,c,l,f=[],d=e.slice().replace(IL[0],"###$1").split(IL[1]).slice(1);for(u=0,c=d.length;u<c;++u){for(n=(t=d[u]).slice(1).trim().replace(IL[2],"$1###$2").replace(IL[3],"$1###$2").split(IL[4]),r=[a=t.charAt(0)],s=0,l=n.length;s<l;++s)(i=+n[s])===i&&r.push(i);if(o=RL[a.toLowerCase()],r.length-1>o){var h=r.length;for(s=1,f.push([a].concat(r.slice(s,s+=o))),a="M"===a?"L":"m"===a?"l":a;s<h;s+=o)f.push([a].concat(r.slice(s,s+o)))}else f.push(r)}return f}var zL=Math.PI/180,LL=Math.PI/2,UL=2*Math.PI,qL=Math.sqrt(3)/2,WL={},HL={},$L=[].join;function VL(e){var t=$L.call(e);if(HL[t])return HL[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=c*o,f=-s*u,d=s*o,h=c*u,p=Math.cos(i),v=Math.sin(i),m=Math.cos(a),g=Math.sin(a),y=.5*(a-i),b=Math.sin(.5*y),x=8/3*b*b/Math.sin(y),w=n+p-x*v,_=r+v+x*p,k=n+m,E=r+g,O=k+x*g,S=E-x*m;return HL[t]=[l*w+f*_,d*w+h*_,l*O+f*S,d*O+h*S,l*k+f*E,d*k+h*E]}var GL=["l",0,0,0,0,0,0,0];function YL(e,t,n){var r=GL[0]=e[0];if("a"===r||"A"===r)GL[1]=t*e[1],GL[2]=n*e[2],GL[3]=e[3],GL[4]=e[4],GL[5]=e[5],GL[6]=t*e[6],GL[7]=n*e[7];else if("h"===r||"H"===r)GL[1]=t*e[1];else if("v"===r||"V"===r)GL[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)GL[i]=(i%2==1?t:n)*e[i];return GL}function KL(e,t,n,r,i,a){var o,u,s,c,l,f=null,d=0,h=0,p=0,v=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==a&&(a=i),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(o=t[m],1===i&&1===a||(o=YL(o,i,a)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+r);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+r);break;case"h":d+=o[1],e.lineTo(d+n,h+r);break;case"H":d=o[1],e.lineTo(d+n,h+r);break;case"v":h+=o[1],e.lineTo(d+n,h+r);break;case"V":h=o[1],e.lineTo(d+n,h+r);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+r);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+r);break;case"c":u=d+o[5],s=h+o[6],p=d+o[3],v=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+r,p+n,v+r,u+n,s+r),d=u,h=s;break;case"C":d=o[5],h=o[6],p=o[3],v=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,p+n,v+r,d+n,h+r);break;case"s":u=d+o[3],s=h+o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,d+o[1]+n,h+o[2]+r,u+n,s+r),p=d+o[1],v=h+o[2],d=u,h=s;break;case"S":u=o[3],s=o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"q":u=d+o[3],s=h+o[4],p=d+o[1],v=h+o[2],e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"Q":u=o[3],s=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"t":u=d+o[1],s=h+o[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-c,v=2*h-l):"q"===f[0]&&(p=2*d-p,v=2*h-v),c=p,l=v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),h=s,p=(d=u)+o[1],v=h+o[2];break;case"T":u=o[1],s=o[2],p=2*d-p,v=2*h-v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"a":XL(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+r]),d+=o[6],h+=o[7];break;case"A":XL(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}f=o}}function XL(e,t,n,r){for(var i=function(e,t,n,r,i,a,o,u,s){var c=$L.call(arguments);if(WL[c])return WL[c];var l=o*zL,f=Math.sin(l),d=Math.cos(l),h=d*(u-e)*.5+f*(s-t)*.5,p=d*(s-t)*.5-f*(u-e)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var m=d/n,g=f/n,y=-f/r,b=d/r,x=m*u+g*s,w=y*u+b*s,_=m*e+g*t,k=y*e+b*t,E=1/((_-x)*(_-x)+(k-w)*(k-w))-.25;E<0&&(E=0);var O=Math.sqrt(E);a==i&&(O=-O);var S=.5*(x+_)-O*(k-w),A=.5*(w+k)+O*(_-x),C=Math.atan2(w-A,x-S),D=Math.atan2(k-A,_-S)-C;D<0&&1===a?D+=UL:D>0&&0===a&&(D-=UL);for(var j=Math.ceil(Math.abs(D/(LL+.001))),T=[],F=0;F<j;++F){var P=C+F*D/j,M=C+(F+1)*D/j;T[F]=[S,A,P,M,n,r,f,d]}return WL[c]=T}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),a=0;a<i.length;++a){var o=VL(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var QL=.5773502691896257,ZL={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,UL)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=qL*n,i=r-n*QL,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=qL*n,i=r-n*QL;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=qL*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=qL*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=qL*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=qL*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function JL(e){return eE(ZL,e)?ZL[e]:function(e){if(!eE(eU,e)){var t=BL(e);eU[e]={draw:function(e,n){KL(e,t,0,0,Math.sqrt(n)/2)}}}return eU[e]}(e)}var eU={};var tU=.448084975506;function nU(e){return e.x}function rU(e){return e.y}function iU(e){return e.width}function aU(e){return e.height}function oU(e){return"function"===typeof e?e:function(){return+e}}function uU(e,t,n){return Math.max(t,Math.min(e,n))}function sU(){var e=nU,t=rU,n=iU,r=aU,i=oU(0),a=i,o=i,u=i,s=null;function c(c,l,f){var d,h=null!=l?l:+e.call(this,c),p=null!=f?f:+t.call(this,c),v=+n.call(this,c),m=+r.call(this,c),g=Math.min(v,m)/2,y=uU(+i.call(this,c),0,g),b=uU(+a.call(this,c),0,g),x=uU(+o.call(this,c),0,g),w=uU(+u.call(this,c),0,g);if(s||(s=d=LM()),y<=0&&b<=0&&x<=0&&w<=0)s.rect(h,p,v,m);else{var _=h+v,k=p+m;s.moveTo(h+y,p),s.lineTo(_-b,p),s.bezierCurveTo(_-tU*b,p,_,p+tU*b,_,p+b),s.lineTo(_,k-w),s.bezierCurveTo(_,k-tU*w,_-tU*w,k,_-w,k),s.lineTo(h+x,k),s.bezierCurveTo(h+tU*x,k,h,k-tU*x,h,k-x),s.lineTo(h,p+y),s.bezierCurveTo(h,p+tU*y,h+tU*y,p,h+y,p),s.closePath()}if(d)return s=null,d+""||null}return c.x=function(t){return arguments.length?(e=oU(t),c):e},c.y=function(e){return arguments.length?(t=oU(e),c):t},c.width=function(e){return arguments.length?(n=oU(e),c):n},c.height=function(e){return arguments.length?(r=oU(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(i=oU(e),a=null!=t?oU(t):i,u=null!=n?oU(n):i,o=null!=r?oU(r):a,c):i},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}function cU(){var e,t,n,r,i,a,o,u,s=null;function c(e,t,n){var r=n/2;if(i){var c=o-t,l=e-a;if(c||l){var f=Math.sqrt(c*c+l*l),d=(c/=f)*u,h=(l/=f)*u,p=Math.atan2(l,c);s.moveTo(a-d,o-h),s.lineTo(e-c*r,t-l*r),s.arc(e,t,r,p-Math.PI,p),s.lineTo(a+d,o+h),s.arc(a,o,u,p,p+Math.PI)}else s.arc(e,t,r,0,UL);s.closePath()}else i=1;a=e,o=t,u=r}function l(a){var o,u,l,f=a.length,d=!1;for(null==s&&(s=l=LM()),o=0;o<=f;++o)!(o<f&&r(u=a[o],o,a))===d&&(d=!d)&&(i=0),d&&c(+e(u,o,a),+t(u,o,a),+n(u,o,a));if(l)return s=null,l+""||null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(e){return arguments.length?(t=e,l):t},l.size=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}function lU(e,t){return null!=e?e:t}var fU=function(e){return e.x||0},dU=function(e){return e.y||0},hU=function(e){return!(!1===e.defined)},pU=function(){var e=qM,t=WM,n=UM(0),r=null,i=HM,a=$M,o=VM,u=null;function s(){var s,c,l=+e.apply(this,arguments),f=+t.apply(this,arguments),d=i.apply(this,arguments)-lM,h=a.apply(this,arguments)-lM,p=tM(h-d),v=h>d;if(u||(u=s=LM()),f<l&&(c=f,f=l,l=c),f>sM)if(p>fM-sM)u.moveTo(f*rM(d),f*oM(d)),u.arc(0,0,f,d,h,!v),l>sM&&(u.moveTo(l*rM(h),l*oM(h)),u.arc(0,0,l,h,d,v));else{var m,g,y=d,b=h,x=d,w=h,_=p,k=p,E=o.apply(this,arguments)/2,O=E>sM&&(r?+r.apply(this,arguments):uM(l*l+f*f)),S=aM(tM(f-l)/2,+n.apply(this,arguments)),A=S,C=S;if(O>sM){var D=hM(O/l*oM(E)),j=hM(O/f*oM(E));(_-=2*D)>sM?(x+=D*=v?1:-1,w-=D):(_=0,x=w=(d+h)/2),(k-=2*j)>sM?(y+=j*=v?1:-1,b-=j):(k=0,y=b=(d+h)/2)}var T=f*rM(y),F=f*oM(y),P=l*rM(w),M=l*oM(w);if(S>sM){var N,R=f*rM(b),I=f*oM(b),B=l*rM(x),z=l*oM(x);if(p<cM&&(N=GM(T,F,B,z,R,I,P,M))){var L=T-N[0],U=F-N[1],q=R-N[0],W=I-N[1],H=1/oM(dM((L*q+U*W)/(uM(L*L+U*U)*uM(q*q+W*W)))/2),$=uM(N[0]*N[0]+N[1]*N[1]);A=aM(S,(l-$)/(H-1)),C=aM(S,(f-$)/(H+1))}}k>sM?C>sM?(m=YM(B,z,T,F,f,C,v),g=YM(R,I,P,M,f,C,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),C<S?u.arc(m.cx,m.cy,C,nM(m.y01,m.x01),nM(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,C,nM(m.y01,m.x01),nM(m.y11,m.x11),!v),u.arc(0,0,f,nM(m.cy+m.y11,m.cx+m.x11),nM(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,C,nM(g.y11,g.x11),nM(g.y01,g.x01),!v))):(u.moveTo(T,F),u.arc(0,0,f,y,b,!v)):u.moveTo(T,F),l>sM&&_>sM?A>sM?(m=YM(P,M,R,I,l,-A,v),g=YM(T,F,B,z,l,-A,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),A<S?u.arc(m.cx,m.cy,A,nM(m.y01,m.x01),nM(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,A,nM(m.y01,m.x01),nM(m.y11,m.x11),!v),u.arc(0,0,l,nM(m.cy+m.y11,m.cx+m.x11),nM(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,A,nM(g.y11,g.x11),nM(g.y01,g.x01),!v))):u.arc(0,0,l,w,x,v):u.lineTo(P,M)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-cM/2;return[rM(r)*n,oM(r)*n]},s.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:UM(+t),s):e},s.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:UM(+e),s):t},s.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:UM(+e),s):n},s.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:UM(+e),s):r},s.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:UM(+e),s):i},s.endAngle=function(e){return arguments.length?(a="function"===typeof e?e:UM(+e),s):a},s.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:UM(+e),s):o},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),vU=JM().x(fU).y1(dU).y0((function(e){return(e.y||0)+(e.height||0)})).defined(hU),mU=JM().y(dU).x1(fU).x0((function(e){return(e.x||0)+(e.width||0)})).defined(hU),gU=ZM().x(fU).y(dU).defined(hU),yU=sU().x(fU).y(dU).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return lU(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return lU(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return lU(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return lU(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),bU=function(e,t){var n=null;function r(){var r;if(n||(n=r=LM()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:UM(e||eN),t="function"===typeof t?t:UM(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:UM(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:UM(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return JL(e.shape||"circle")})).size((function(e){return lU(e.size,64)})),xU=cU().x(fU).y(dU).defined(hU).size((function(e){return e.size||1}));function wU(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function _U(e,t,n,r){return yU.context(e)(t,n,r)}var kU=1;function EU(){kU=1}function OU(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+kU++),o=i.clipping[a]||(i.clipping[a]={id:a});return qk(r)?o.path=r(null):wU(n)?o.path=_U(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+a+")"}function SU(e){this.clear(),e&&this.union(e)}function AU(e){this.mark=e,this.bounds=this.bounds||new SU}function CU(e){AU.call(this,e),this.items=this.items||[]}function DU(e){this._pending=0,this._loader=e||hj()}function jU(e){e._pending+=1}function TU(e){e._pending-=1}function FU(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}SU.prototype={clone:function(){return new SU(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set:function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add:function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand:function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate:function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints:function(e,t,n){var r=this.x1,i=this.y1,a=this.x2,o=this.y2,u=Math.cos(e),s=Math.sin(e),c=t-t*u+n*s,l=n-t*s-n*u;return[u*r-s*i+c,s*r+u*i+l,u*r-s*o+c,s*r+u*o+l,u*a-s*i+c,s*a+u*i+l,u*a-s*o+c,s*a+u*o+l]},union:function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect:function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses:function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith:function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects:function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},iE(CU,AU),DU.prototype={pending:function(){return this._pending},sanitizeURL:function(e){var t=this;return jU(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return TU(t),e})).catch((function(){return TU(t),null}))},loadImage:function(e){var t=this,n=rN();return jU(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n,a=eE(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=a&&(i.crossOrigin=a),i.onload=function(){return TU(t)},i.onerror=function(){return TU(t)},i.src=r,i})).catch((function(e){return TU(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},ready:function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}};var PU,MU,NU,RU,IU,BU,zU,LU,UU=UL-1e-8,qU=function(e,t){return PU.add(e,t)},WU=function(e,t){return qU(MU=e,NU=t)},HU=function(e){return qU(e,PU.y1)},$U=function(e){return qU(PU.x1,e)},VU=function(e,t){return IU*e+zU*t},GU=function(e,t){return BU*e+LU*t},YU=function(e,t){return qU(VU(e,t),GU(e,t))},KU=function(e,t){return WU(VU(e,t),GU(e,t))};function XU(e,t){return PU=e,t?(RU=t*zL,IU=LU=Math.cos(RU),BU=Math.sin(RU),zU=-BU):(IU=LU=1,RU=BU=zU=0),QU}var QU={beginPath:function(){},closePath:function(){},moveTo:KU,lineTo:KU,rect:function(e,t,n,r){RU?(YU(e+n,t),YU(e+n,t+r),YU(e,t+r),KU(e,t)):(qU(e+n,t+r),WU(e,t))},quadraticCurveTo:function(e,t,n,r){var i=VU(e,t),a=GU(e,t),o=VU(n,r),u=GU(n,r);ZU(MU,i,o,HU),ZU(NU,a,u,$U),WU(o,u)},bezierCurveTo:function(e,t,n,r,i,a){var o=VU(e,t),u=GU(e,t),s=VU(n,r),c=GU(n,r),l=VU(i,a),f=GU(i,a);JU(MU,o,s,l,HU),JU(NU,u,c,f,$U),WU(l,f)},arc:function(e,t,n,r,i,a){if(r+=RU,i+=RU,MU=n*Math.cos(i)+e,NU=n*Math.sin(i)+t,Math.abs(i-r)>UU)qU(e-n,t-n),qU(e+n,t+n);else{var o,u,s=function(r){return qU(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(s(r),s(i),i!==r)if((r%=UL)<0&&(r+=UL),(i%=UL)<0&&(i+=UL),i<r&&(a=!a,o=r,r=i,i=o),a)for(i-=UL,o=r-r%LL,u=0;u<4&&o>i;++u,o-=LL)s(o);else for(o=r-r%LL+LL,u=0;u<4&&o<i;++u,o+=LL)s(o)}}};function ZU(e,t,n,r){var i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function JU(e,t,n,r,i){var a,o=r-e+3*t-3*n,u=e+n-2*t,s=e-t,c=0,l=0;Math.abs(o)>1e-14?(a=u*u+s*o)>=0&&(c=(-u+(a=Math.sqrt(a)))/o,l=(-u-a)/o):c=.5*s/u,0<c&&c<1&&i(eq(c,e,t,n,r)),0<l&&l<1&&i(eq(l,e,t,n,r))}function eq(e,t,n,r,i){var a=1-e,o=a*a,u=e*e;return o*a*t+3*o*e*n+3*a*u*r+u*e*i}var tq=(tq=nN(1,1))?tq.getContext("2d"):null,nq=new SU;function rq(e){return function(t,n){if(!tq)return!0;e(tq,t),nq.clear().union(t.bounds).intersect(n).round();for(var r=nq.x1,i=nq.y1,a=nq.x2,o=nq.y2,u=i;u<=o;++u)for(var s=r;s<=a;++s)if(tq.isPointInPath(s,u))return!0;return!1}}function iq(e,t){return t.contains(e.x||0,e.y||0)}function aq(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(nq.set(n,r,n+i,r+a))}function oq(e,t){var n=e.x||0,r=e.y||0;return uq(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function uq(e,t,n,r,i){var a,o,u,s,c=e.x1,l=e.y1,f=e.x2,d=e.y2,h=r-t,p=i-n,v=0,m=1;for(s=0;s<4;++s){if(0===s&&(a=-h,o=-(c-t)),1===s&&(a=h,o=f-t),2===s&&(a=-p,o=-(l-n)),3===s&&(a=p,o=d-n),Math.abs(a)<1e-10&&o<0)return!1;if(u=o/a,a<0){if(u>m)return!1;u>v&&(v=u)}else if(a>0){if(u<v)return!1;u<m&&(m=u)}}return!0}function sq(e,t){e.globalCompositeOperation=t.blend||"source-over"}function cq(e,t){return null==e?t:e}function lq(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function fq(e,t,n){return jL(n)?function(e,t,n){var r,i=n.width(),a=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+cq(t.x1,.5)*i,n.y1+cq(t.y1,.5)*a,Math.max(i,a)*cq(t.r1,0),n.x1+cq(t.x2,.5)*i,n.y1+cq(t.y2,.5)*a,Math.max(i,a)*cq(t.r2,.5));else{var o=cq(t.x1,0),u=cq(t.y1,0),s=cq(t.x2,1),c=cq(t.y2,0);if(o!==s&&u!==c&&i!==a){var l=nN(Math.ceil(i),Math.ceil(a)),f=l.getContext("2d");return f.scale(i,a),f.fillStyle=lq(f.createLinearGradient(o,u,s,c),t.stops),f.fillRect(0,0,i,a),e.createPattern(l,"no-repeat")}r=e.createLinearGradient(n.x1+o*i,n.y1+u*a,n.x1+s*i,n.y1+c*a)}return lq(r,t.stops)}(e,n,t.bounds):n}function dq(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=fq(e,t,t.fill),!0)}var hq=[];function pq(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=fq(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||hq),e.lineDashOffset=t.strokeDashOffset||0),!0))}function vq(e,t){return e.zindex-t.zindex||e.index-t.index}function mq(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,a=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(vq)}function gq(e,t){var n,r,i=e.items;if(i&&i.length){var a=mq(e);if(a&&a.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=a}for(n=0,r=i.length;n<r;++n)t(i[n])}}function yq(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var a=mq(e);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===a)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function bq(e){return function(t,n,r){gq(n,(function(n){r&&!r.intersects(n.bounds)||wq(e,t,n,n)}))}}function xq(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||wq(e,t,n.items[0],n.items)}}function wq(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(sq(t,n),n.fill&&dq(t,n,i)&&t.fill(),n.stroke&&pq(t,n,i)&&t.stroke()))}function _q(e){return e=e||ok,function(t,n,r,i,a,o){return r*=t.pixelRatio,i*=t.pixelRatio,yq(n,(function(n){var u=n.bounds;if((!u||u.contains(a,o))&&u)return e(t,n,r,i,a,o)?n:void 0}))}}function kq(e,t){return function(n,r,i,a){var o,u,s=Array.isArray(r)?r[0]:r,c=null==t?s.fill:t,l=s.stroke&&n.isPointInStroke;return l&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(c&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a))}}function Eq(e){return _q(kq(e))}function Oq(e,t){return"translate("+e+","+t+")"}function Sq(e){return"rotate("+e+")"}function Aq(e){return Oq(e.x||0,e.y||0)}function Cq(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,a=n.angle||0;e.translate(r,i),a&&e.rotate(a*=zL),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return Oq(e.x||0,e.y||0)+(e.angle?" "+Sq(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(XU(e,n.angle),n),FU(e,n).translate(n.x||0,n.y||0)},draw:bq(r),pick:Eq(r),isect:n||rq(r)}}var Dq=Cq("arc",(function(e,t){return pU.context(e)(t)}));function jq(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i=kq(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(XU(e),r),FU(e,r[0]))},draw:xq(r),pick:function(e,t,n,r,a,o){var u=t.items,s=t.bounds;return!u||!u.length||s&&!s.contains(a,o)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,u,n,r)?u[0]:null)},isect:iq,tip:n}}var Tq=jq("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?mU:vU).curve(NL(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,u=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][a]-i))<u&&(u=r,n=e[o]);return n}));function Fq(e,t){e.beginPath(),wU(t)?_U(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Pq(e){var t=cq(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Mq(e,t){var n=Pq(t);e("d",_U(null,t,n,n))}function Nq(e,t,n,r){var i=Pq(t);e.beginPath(),_U(e,t,(n||0)+i,(r||0)+i)}var Rq=kq(Nq),Iq=kq(Nq,!1),Bq=kq(Nq,!0);var zq={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Aq(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=n.length,i=0;i<r;++i)e.union(n[i].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),FU(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;gq(t,(function(t){var i=t.x||0,a=t.y||0,o=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(Nq(e,t,i,a),sq(e,t),t.fill&&dq(e,t,u)&&e.fill(),t.stroke&&!o&&pq(e,t,u)&&e.stroke()),e.save(),e.translate(i,a),t.clip&&Fq(e,t),n&&n.translate(-i,-a),gq(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,a),e.restore(),o&&t.stroke&&u&&(Nq(e,t,i,a),sq(e,t),pq(e,t,u)&&e.stroke())}))},pick:function(e,t,n,r,i,a){var o=this;if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;var u=n*e.pixelRatio,s=r*e.pixelRatio;return yq(t,(function(c){var l,f,d,h=c.bounds;if(!h||h.contains(i,a)){f=c.x||0,d=c.y||0;var p=f+(c.width||0),v=d+(c.height||0),m=c.clip;if(!m||!(i<f||i>p||a<d||a>v)){if(e.save(),e.translate(f,d),f=i-f,d=a-d,m&&wU(c)&&!Bq(e,c,u,s))return e.restore(),null;var g=c.strokeForeground,y=!1!==t.interactive;return y&&g&&c.stroke&&Iq(e,c,u,s)?(e.restore(),c):(l=yq(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,d)?o.pick(e,n,r,f,d):null})),!l&&y&&(c.fill||!g&&c.stroke)&&Rq(e,c,u,s)&&(l=c),e.restore(),l||null)}}}))},isect:aq,content:function(e,t,n){e("clip-path",t.clip?OU(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),Mq(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Mq(e,t):e("d","")}},Lq={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Uq(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function qq(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Wq(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function Hq(e,t){return"center"===e?t/2:"right"===e?t:0}function $q(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Vq={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=Uq(t,n),i=qq(t,r),a=Wq(t,r),o=(t.x||0)-Hq(t.align,i),u=(t.y||0)-$q(t.baseline,a);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",Lq["xmlns:xlink"],"xlink:href"),e("transform",Oq(o,u)),e("width",i),e("height",a),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,r=qq(t,n),i=Wq(t,n),a=(t.x||0)-Hq(t.align,r),o=(t.y||0)-$q(t.baseline,i);return e.set(a,o,a+r,o+i)},draw:function(e,t,n){var r=this;gq(t,(function(t){if(!n||n.intersects(t.bounds)){var i=Uq(t,r),a=qq(t,i),o=Wq(t,i);if(0!==a&&0!==o){var u,s,c,l,f=(t.x||0)-Hq(t.align,a),d=(t.y||0)-$q(t.baseline,o);!1!==t.aspect&&(s=i.width/i.height,c=t.width/t.height,s===s&&c===c&&s!==c&&(c<s?(d+=(o-(l=a/s))/2,o=l):(f+=(a-(l=o*s))/2,a=l))),(i.complete||i.toDataURL)&&(sq(e,t),e.globalAlpha=null!=(u=t.opacity)?u:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(i,f,d,a,o))}}}))},pick:_q(),isect:ok,get:Uq,xOffset:Hq,yOffset:$q},Gq=jq("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return gU.curve(NL(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<i)return e[a];return null}));function Yq(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,o=t.scaleY||1,u=(t.angle||0)*zL,s=t.pathCache;s&&s.path===n||((t.pathCache=s=BL(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(u),KL(e,s,0,0,a,o),e.rotate(-u),e.translate(-r,-i)):KL(e,s,r,i,a,o)}var Kq={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return Oq(e.x||0,e.y||0)+(e.angle?" "+Sq(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function(e,t){return Yq(XU(e,t.angle),t)?e.set(0,0,0,0):FU(e,t,!0)},draw:bq(Yq),pick:Eq(Yq),isect:rq(Yq)};function Xq(e,t){e.beginPath(),_U(e,t)}var Qq={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",_U(null,t))},bound:function(e,t){var n,r;return FU(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:bq(Xq),pick:Eq(Xq),isect:aq};function Zq(e,t,n){var r,i,a,o;return!(!t.stroke||!pq(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0)}var Jq={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Aq(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return FU(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){gq(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&Zq(e,t,r)&&(sq(e,t),e.stroke())}}))},pick:_q((function(e,t,n,r){return!!e.isPointInStroke&&(Zq(e,t,1)&&e.isPointInStroke(n,r))})),isect:oq},eW=Cq("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),tW=Cq("symbol",(function(e,t){return bU.context(e)(t)}),iq),nW=pE(),rW={height:cW,measureWidth:uW,estimateWidth:aW,width:aW,canvas:iW};function iW(e){rW.width=e&&tq?uW:aW}function aW(e,t){return oW(hW(e,t),cW(e))}function oW(e,t){return~~(.8*e.length*t)}function uW(e,t){return cW(e)<=0||!(t=hW(e,t))?0:sW(t,vW(e))}function sW(e,t){var n="(".concat(t,") ").concat(e),r=nW.get(n);return void 0===r&&(tq.font=t,r=tq.measureText(e).width,nW.set(n,r)),r}function cW(e){return null!=e.fontSize?+e.fontSize||0:11}function lW(e){return null!=e.lineHeight?e.lineHeight:cW(e)+2}function fW(e){return t=e.lineBreak&&e.text&&!vk(e.text)?e.text.split(e.lineBreak):e.text,vk(t)?t.length>1?t:t[0]:t;var t}function dW(e){var t=fW(e);return(vk(t)?t.length-1:0)*lW(e)}function hW(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(rW.width===uW){var t=vW(e);return function(e){return sW(e,t)}}var n=cW(e);return function(e){return oW(e,n)}}(e);if(r(t)<n)return t;var i,a=e.ellipsis||"\u2026",o="rtl"===e.dir,u=0,s=t.length;if(n-=r(a),o){for(;u<s;)i=u+s>>>1,r(t.slice(i))>n?u=i+1:s=i;return a+t.slice(u)}for(;u<s;)i=1+(u+s>>>1),r(t.slice(0,i))<n?u=i:s=i-1;return t.slice(0,u)+a}(e,n):n}function pW(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function vW(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+cW(e)+"px "+pW(e,t)}function mW(e){var t=e.baseline,n=cW(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*lW(e):"line-bottom"===t?.29*n-.5*lW(e):0)}iW(!0);var gW={left:"start",center:"middle",right:"end"},yW=new SU;function bW(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-LL,n+=i*Math.cos(t),r+=i*Math.sin(t)),yW.x1=n,yW.y1=r,yW}function xW(e,t,n){var r,i=rW.height(t),a=t.align,o=bW(t),u=o.x1,s=o.y1,c=t.dx||0,l=(t.dy||0)+mW(t)-Math.round(.8*i),f=fW(t);if(vk(f)?(i+=lW(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,rW.width(t,n))}),0)):r=rW.width(t,f),"center"===a?c-=r/2:"right"===a&&(c-=r),e.set(c+=u,l+=s,c+r,l+i),t.angle&&!n)e.rotate(t.angle*zL,u,s);else if(2===n)return e.rotatedPoints(t.angle*zL,u,s);return e}var wW={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+mW(t),a=bW(t),o=a.x1,u=a.y1,s=t.angle||0;e("text-anchor",gW[t.align]||"start"),s?(n=Oq(o,u)+" "+Sq(s),(r||i)&&(n+=" "+Oq(r,i))):n=Oq(o+r,u+i),e("transform",n)},bound:xW,draw:function(e,t,n){gq(t,(function(t){var r,i,a,o,u,s,c,l=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===l||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=vW(t),e.textAlign=t.align||"left",i=(r=bW(t)).x1,a=r.y1,t.angle&&(e.save(),e.translate(i,a),e.rotate(t.angle*zL),i=a=0),i+=t.dx||0,a+=(t.dy||0)+mW(t),s=fW(t),sq(e,t),vk(s))for(u=lW(t),o=0;o<s.length;++o)c=hW(t,s[o]),t.fill&&dq(e,t,l)&&e.fillText(c,i,a),t.stroke&&pq(e,t,l)&&e.strokeText(c,i,a),a+=u;else c=hW(t,s),t.fill&&dq(e,t,l)&&e.fillText(c,i,a),t.stroke&&pq(e,t,l)&&e.strokeText(c,i,a);t.angle&&e.restore()}}))},pick:_q((function(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=bW(t),u=o.x1,s=o.y1,c=xW(yW,t,1),l=-t.angle*zL,f=Math.cos(l),d=Math.sin(l),h=f*i-d*a+(u-f*u+d*s),p=d*i+f*a+(s-d*u-f*s);return c.contains(h,p)})),isect:function(e,t){var n=xW(yW,e,2);return uq(t,n[0],n[1],n[2],n[3])||uq(t,n[0],n[1],n[4],n[5])||uq(t,n[4],n[5],n[6],n[7])||uq(t,n[2],n[3],n[6],n[7])}},_W=jq("trail",(function(e,t){return xU.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null})),kW={arc:Dq,area:Tq,group:zq,image:Vq,line:Gq,path:Kq,rect:Qq,rule:Jq,shape:eW,symbol:tW,text:wW,trail:_W};function EW(e,t,n){var r=kW[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new SU),e,n)}var OW={mark:null};function SW(e,t,n){var r,i,a,o,u=kW[e.marktype],s=u.bound,c=e.items,l=c&&c.length;if(u.nested)return l?a=c[0]:(OW.mark=e,a=OW),o=EW(a,s,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new SU,l)for(r=0,i=c.length;r<i;++r)t.union(EW(c[r],s,n));return e.bounds=t}var AW=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function CW(e,t){return JSON.stringify(e,AW,t)}function DW(e){return jW("string"===typeof e?JSON.parse(e):e)}function jW(e){var t,n,r,i=e.marktype,a=e.items;if(a)for(n=0,r=a.length;n<r;++n)t=i?"mark":"group",a[n][t]=e,a[n].zindex&&(a[n][t].zdirty=!0),"group"===(i||t)&&jW(a[n]);return i&&SW(e),e}function TW(e){arguments.length?this.root=DW(e):(this.root=FW({marktype:"group",name:"root",role:"frame"}),this.root.items=[new CU(this.root)])}function FW(e,t){var n={bounds:new SU,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function PW(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function MW(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function NW(e,t,n,r){var i,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(i=a||null,a=PW(e.ownerDocument,n,r),e.insertBefore(a,i)),a}function RW(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function IW(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function BW(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function zW(e,t){this._active=null,this._handlers={},this._loader=e||hj(),this._tooltip=t||LW}function LW(e,t,n,r){e.element().setAttribute("title",r||"")}function UW(e){this._el=null,this._bgcolor=null,this._loader=new DU(e)}TW.prototype={toJSON:function(e){return CW(this.root,e||0)},mark:function(e,t,n){var r=FW(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},zW.prototype={initialize:function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene:function(e){return arguments.length?(this._scene=e,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers:function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,pu(t[this.eventName(e)]));else for(var r in t)n.push.apply(n,pu(t[r]));return n},eventName:function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref:function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=PW(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,a,o=e&&e.mark;if(o&&(i=kW[o.marktype]).tip){for((a=BW(t,n))[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=i.tip(o.items,a)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect:function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.width(),o=i.height(),u=i.x1+r[0]+n.left,s=i.y1+r[1]+n.top;e.mark&&(e=e.mark.group);)u+=e.x||0,s+=e.y||0;return{x:u,y:s,width:a,height:o,left:u,top:s,right:u+a,bottom:s+o}}}},UW.prototype={initialize:function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize:function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty:function(){},render:function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render:function(){},renderAsync:function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},_load:function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},sanitizeURL:function(e){return this._load("sanitizeURL",e)},loadImage:function(e){return this._load("loadImage",e)}};var qW="dragenter",WW="dragleave",HW="dragover",$W="mousedown",VW="mousemove",GW="mouseout",YW="mouseover",KW="click",XW="mousewheel",QW="touchstart",ZW="touchmove",JW="touchend",eH=VW,tH=GW,nH=KW;function rH(e,t){zW.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function iH(e,t){(function(e){return e===QW||e===ZW||e===JW?[QW,ZW,JW]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function aH(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i||(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r)),this.fire(e,r)}}function oH(e){return function(t){this.fire(e,t),this._active=null}}iE(rH,zW,{initialize:function(e,t,n){var r=this;return this._canvas=e&&MW(e,"canvas"),[KW,$W,VW,GW,WW].forEach((function(e){return iH(r,e)})),zW.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",qW,WW,HW,$W,"mouseup",VW,GW,YW,KW,"dblclick","wheel",XW,QW,ZW,JW],DOMMouseScroll:function(e){this.fire(XW,e)},mousemove:aH(VW,YW,GW),dragover:aH(HW,qW,WW),mouseout:oH(GW),dragleave:oH(WW),mousedown:function(e){this._down=this._active,this.fire($W,e)},click:function(e){this._down===this._active&&(this.fire(KW,e),this._down=null)},touchstart:function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(QW,e,!0)},touchmove:function(e){this.fire(ZW,e,!0)},touchend:function(e){this.fire(JW,e,!0),this._touch=null},fire:function(e,t,n){var r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===nH&&r&&r.href?this.handleHref(t,r,r.href):e!==eH&&e!==tH||this.handleTooltip(t,r,e!==tH),i)for(var a=0,o=i.length;a<o;++a)i[a].handler.call(this._obj,t,r)},on:function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(iH(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent:function(e){var t=BW(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick:function(e,t,n,r,i){var a=this.context();return kW[e.marktype].pick.call(this,a,e,t,n,r,i)}});var uH="undefined"!==typeof window&&window.devicePixelRatio||1;function sH(e){UW.call(this,e),this._options={},this._redraw=!1,this._dirty=new SU,this._tempb=new SU}var cH=UW.prototype;function lH(e,t){zW.call(this,e,t);var n=this;n._hrefHandler=fH(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=fH(n,(function(e,t){n.handleTooltip(e,t,e.type!==tH)}))}iE(sH,UW,{initialize:function(e,t,n,r,i,a){return this._options=a||{},this._canvas=this._options.externalContext?null:nN(1,1,this._options.type),e&&this._canvas&&(RW(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),cH.initialize.call(this,e,t,n,r,i)},resize:function(e,t,n,r){if(cH.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,i,a){var o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),s=o?uH:i;for(var c in e.width=t*s,e.height=n*s,a)u[c]=a[c];o&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var i=this._options.externalContext;i||J_("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render:function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty,o=function(e,t,n){return(new SU).set(0,0,t,n).translate(-e[0],-e[1])}(n,r,i);t.save();var u=this._redraw||a.empty()?(this._redraw=!1,o.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,o.intersect(a),n);return this.clear(-n[0],-n[1],r,i),this.draw(t,e,u),t.restore(),a.clear(),this},draw:function(e,t,n){var r=kW[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),qk(n)?(e.beginPath(),n(e),e.clip()):Fq(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear:function(e,t,n,r){var i=this._options,a=this.context();"pdf"===i.type||i.externalContext||a.clearRect(e,t,n,r),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,r))}});var fH=function(e,t){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)}};iE(lH,zW,{initialize:function(e,t,n){var r=this._svg;return r&&(r.removeEventListener(nH,this._hrefHandler),r.removeEventListener(eH,this._tooltipHandler),r.removeEventListener(tH,this._tooltipHandler)),this._svg=r=e&&MW(e,"svg"),r&&(r.addEventListener(nH,this._hrefHandler),r.addEventListener(eH,this._tooltipHandler),r.addEventListener(tH,this._tooltipHandler)),zW.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._svg},on:function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:fH(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});var dH="aria-hidden",hH="aria-label",pH="role",vH="aria-roledescription",mH="graphics-object",gH="graphics-symbol",yH=function(e,t,n){var r;return du(r={},pH,e),du(r,vH,t),du(r,hH,n||void 0),r},bH=EE(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),xH={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,r=t.title?OH(e):null,i=e.context,a=i.scales[t.scale].value,o=i.dataflow.locale(),u=a.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(Gz(u)?"discrete":u," scale")+" with ".concat(AL(o,a,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?OH(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,a=Object.keys(i),o=e.context,u=o.scales[i[a[0]]].value,s=o.dataflow.locale();return function(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(r)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+wk(e)}(a))+" with ".concat(AL(s,u,e))}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(EH(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(EH(e),"'")}}},wH={ariaRole:pH,ariaRoleDescription:vH,description:hH};function _H(e,t){var n=!1===t.aria;if(e(dH,n||void 0),n||null==t.description)for(var r in wH)e(wH[r],void 0);else{var i=t.mark.marktype;e(hH,t.description),e(pH,t.ariaRole||("group"===i?mH:gH)),e(vH,t.ariaRoleDescription||"".concat(i," mark"))}}function kH(e){return!1===e.aria?du({},dH,!0):bH[e.role]?null:xH[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return yH(t.role||gH,t.desc,n.description||r(n))}catch(i){return null}}(e,xH[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return yH(n?mH:gH,"".concat(t," mark container"),e.description)}(e)}function EH(e){return Lk(e.text).join(" ")}function OH(e){try{return Lk(wk(e.items).items[0].text).join(" ")}catch(t){return null}}var SH=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function AH(){var e="",t="",n="",r=[],i=function(){return t=n=""},a=function(a){t&&(e+="".concat(t,">").concat(n),i()),r.push(a)},o=function(e,n){return null!=n&&(t+=" ".concat(e,'="').concat(SH(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),u},u={open:function(e){a(e),t="<"+e;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=0,c=r;s<c.length;s++){var l=c[s];for(var f in l)o(f,l[f])}return u},close:function(){var a=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(a,">"):"/>"):"</".concat(a,">"),i(),u},attr:o,text:function(e){return n+=SH(e),u},toString:function(){return e}};return u}var CH=function(e){return DH(AH(),e)+""};function DH(e,t){if(e.open(t.tagName),t.hasAttributes())for(var n=t.attributes,r=n.length,i=0;i<r;++i)e.attr(n[i].name,n[i].value);if(t.hasChildNodes())for(var a=t.childNodes,o=a.length,u=0;u<o;u++){var s=a[u];3===s.nodeType?e.text(s.nodeValue):DH(e,s)}return e.close()}var jH={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},TH={fill:"none","stroke-miterlimit":10},FH="http://www.w3.org/2000/xmlns/",PH=Lq.xmlns;function MH(e){UW.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var NH=UW.prototype;function RH(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function IH(e,t,n){var r,i,a;if("radial"===t.gradient){var o=NW(e,n++,"pattern",PH);$H(o,{id:DL+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),$H(o=NW(o,0,"rect",PH),{width:1,height:1,fill:"url(".concat(GH(),"#").concat(t.id,")")}),$H(e=NW(e,n++,"radialGradient",PH),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else $H(e=NW(e,n++,"linearGradient",PH),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)(a=NW(e,r,"stop",PH)).setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return RW(e,r),n}function BH(e,t,n){return(e=NW(e,n,"clipPath",PH)).setAttribute("id",t.id),t.path?NW(e,0,"path",PH).setAttribute("d",t.path):$H(NW(e,0,"rect",PH),{x:0,y:0,width:t.width,height:t.height}),RW(e,1),n+1}function zH(e,t,n,r,i){var a,o=e._svg;if(!o&&(o=PW(a=t.ownerDocument,r,PH),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var u=PW(a,"path",PH);o.appendChild(u),u.__data__=e;var s=PW(a,"g",PH);o.appendChild(s),s.__data__=e;var c=PW(a,"path",PH);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}iE(MH,UW,{initialize:function(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=NW(e,0,"svg",PH),this._svg.setAttributeNS(FH,"xmlns",PH),this._svg.setAttributeNS(FH,"xmlns:xlink",Lq["xmlns:xlink"]),this._svg.setAttribute("version",Lq.version),this._svg.setAttribute("class","marks"),RW(e,1),this._root=NW(this._svg,0,"g",PH),$H(this._root,TH),RW(this._svg,1)),this.background(this._bgcolor),NH.initialize.call(this,e,t,n,r,i)},background:function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),NH.background.apply(this,arguments)},resize:function(e,t,n,r){return NH.resize.call(this,e,t,n,r),this._svg&&($H(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var e,t=this._svg,n=this._bgcolor;if(!t)return null;n&&(t.removeAttribute("style"),$H(e=NW(t,0,"rect",PH),{width:this._width,height:this._height,fill:n}));var r=CH(t);return n&&(t.removeChild(e),this._svg.style.setProperty("background-color",n)),r},_render:function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),RW(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty:function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,a,o,u,s=++this._dirtyID;for(a=0,o=e.length;a<o;++a)(n=(t=e[a]).mark).marktype!==r&&(r=n.marktype,i=kW[r]),n.zdirty&&n.dirty!==s&&(this._dirtyAll=!1,RH(t,s),n.items.forEach((function(e){e.dirty=s}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(u=n.items[0])._svg&&this._update(i,u._svg,u):t._svg&&(u=t._svg.parentNode)&&u.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==s&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,RH(t,s)),t._update=s));return!this._dirtyAll},mark:function(e,t,n){var r=this;if(!this.isDirty(t))return t._svg;var i=this._svg,a=kW[t.marktype],o=!1===t.interactive?"none":null,u="g"===a.tag,s=null,c=0,l=zH(t,e,n,"g",i);l.setAttribute("class",IW(t));var f=kH(t);for(var d in f)VH(l,d,f[d]);u||VH(l,"pointer-events",o),VH(l,"clip-path",t.clip?OU(this,t,t.group):null);var h=function(e){var t=r.isDirty(e),n=zH(e,l,s,a.tag,i);t&&(r._update(a,n,e),u&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;gq(n,(function(n){r=e.mark(t,n,r),++i})),RW(t,1+i)}(r,n,e)),s=n,++c};return a.nested?t.items.length&&h(t.items[0]):gq(t,h),RW(l,c),l},_update:function(e,t,n){LH=t,UH=t.__values__,_H(WH,n),e.attr(WH,n,this);var r=qH[e.type];r&&r.call(this,e,t,n),LH&&this.style(LH,n)},style:function(e,t){if(null!=t)for(var n in jH){var r="font"===n?pW(t):t[n];if(r!==UH[n]){var i=jH[n];null==r?e.removeAttribute(i):(jL(r)&&(r=TL(r,this._defs.gradient,GH())),e.setAttribute(i,r+"")),UH[n]=r}}},defs:function(){var e=this._svg,t=this._defs,n=t.el,r=0;for(var i in t.gradient)n||(t.el=n=NW(e,1,"defs",PH)),r=IH(n,t.gradient[i],r);for(var a in t.clipping)n||(t.el=n=NW(e,1,"defs",PH)),r=BH(n,t.clipping[a],r);n&&(0===r?(e.removeChild(n),t.el=null):RW(n,r))},_clearDefs:function(){var e=this._defs;e.gradient={},e.clipping={}}});var LH=null,UH=null,qH={group:function(e,t,n){var r=LH=t.childNodes[2];UH=r.__values__,e.foreground(WH,n,this),UH=t.__values__,LH=t.childNodes[1],e.content(WH,n,this);var i=LH=t.childNodes[0];e.background(WH,n,this);var a=!1===n.mark.interactive?"none":null;if(a!==UH.events&&(VH(r,"pointer-events",a),VH(i,"pointer-events",a),UH.events=a),n.strokeForeground&&n.stroke){var o=n.fill;VH(r,"display",null),this.style(i,n),VH(i,"stroke",null),o&&(n.fill=null),UH=r.__values__,this.style(r,n),o&&(n.fill=o),LH=null}else VH(r,"display","none")},image:function(e,t,n){!1===n.smooth?(HH(t,"image-rendering","optimizeSpeed"),HH(t,"image-rendering","pixelated")):HH(t,"image-rendering",null)},text:function(e,t,n){var r,i,a,o,u=fW(n);vk(u)?(r=(i=u.map((function(e){return hW(n,e)}))).join("\n"))!==UH.text&&(RW(t,0),a=t.ownerDocument,o=lW(n),i.forEach((function(e,r){var i=PW(a,"tspan",PH);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",o)),t.appendChild(i)})),UH.text=r):(i=hW(n,u))!==UH.text&&(t.textContent=i,UH.text=i),VH(t,"font-family",pW(n)),VH(t,"font-size",cW(n)+"px"),VH(t,"font-style",n.fontStyle),VH(t,"font-variant",n.fontVariant),VH(t,"font-weight",n.fontWeight)}};function WH(e,t,n){t!==UH[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(LH,e,t,n):VH(LH,e,t),UH[e]=t)}function HH(e,t,n){n!==UH[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),UH[t]=n)}function $H(e,t){for(var n in t)VH(e,n,t[n])}function VH(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function GH(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function YH(e){UW.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}iE(YH,UW,{svg:function(){return this._text},_render:function(e){var t=AH();t.open("svg",Xk({},Lq,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",TH,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark:function(e,t){var n=this,r=kW[t.marktype],i=r.tag,a=[_H,r.attr];e.open("g",{class:IW(t),"clip-path":t.clip?OU(this,t,t.group):null},kH(t),{"pointer-events":"g"!==i&&!1===t.interactive?"none":null});var o=function(o){var u=n.href(o);if(u&&e.open("a",u),e.open(i,n.attr(t,o,a,"g"!==i?i:null)),"text"===i){var s=fW(o);if(vk(s))for(var c={x:0,dy:lW(o)},l=0;l<s.length;++l)e.open("tspan",l?c:null).text(hW(o,s[l])).close();else e.text(hW(o,s))}else if("g"===i){var f=o.strokeForeground,d=o.fill,h=o.stroke;f&&h&&(o.stroke=null),e.open("path",n.attr(t,o,r.background,"bgrect")).close(),e.open("g",n.attr(t,o,r.content)),gq(o,(function(t){return n.mark(e,t)})),e.close(),f&&h?(d&&(o.fill=null),o.stroke=h,e.open("path",n.attr(t,o,r.foreground,"bgrect")).close(),d&&(o.fill=d)):e.open("path",n.attr(t,o,r.foreground,"bgfore")).close()}e.close(),u&&e.close()};return r.nested?t.items&&t.items.length&&o(t.items[0]):gq(t,o),e.close()},href:function(e){var t,n=this,r=e.href;if(r){if(t=this._hrefs&&this._hrefs[r])return t;this.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},attr:function(e,t,n,r){var i=this,a={},o=function(e,t,n,r){a[r||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(o,t,i)})):n(o,t,this),r&&function(e,t,n,r,i){if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(e["font-family"]=pW(t),e["font-size"]=cW(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(var a in jH){var o=t[a],u=jH[a];("transparent"!==o||"fill"!==u&&"stroke"!==u)&&null!=o&&(jL(o)&&(o=TL(o,i.gradient,"")),e[u]=o)}}(a,t,e,r,this._defs),a},defs:function(e){var t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){for(var r in e.open("defs"),t){var i=t[r],a=i.stops;"radial"===i.gradient?(e.open("pattern",{id:DL+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),e.close(),e.open("radialGradient",{id:r,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):e.open("linearGradient",{id:r,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(var o=0;o<a.length;++o)e.open("stop",{offset:a[o].offset,"stop-color":a[o].color}).close();e.close()}for(var u in n){var s=n[u];e.open("clipPath",{id:u}),s.path?e.open("path",{d:s.path}).close():e.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),e.close()}e.close()}}});var KH="canvas",XH="none",QH={Canvas:KH,PNG:"png",SVG:"svg",None:XH},ZH={};function JH(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(ZH[e]=t,this):ZH[e]}function e$(e,t,n){var r=[],i=(new SU).union(t),a=e.marktype;return a?t$(e,i,n,r):"group"===a?n$(e,i,n,r):J_("Intersect scene must be mark node or group item.")}function t$(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var i=e.items,a=e.marktype,o=i.length,u=0;if("group"===a)for(;u<o;++u)n$(i[u],t,n,r);else for(var s=kW[a].isect;u<o;++u){var c=i[u];r$(c,t,s)&&r.push(c)}}return r}function n$(e,t,n,r){n&&n(e.mark)&&r$(e,t,kW.group.isect)&&r.push(e);var i=e.items,a=i&&i.length;if(a){var o=e.x||0,u=e.y||0;t.translate(-o,-u);for(var s=0;s<a;++s)t$(i[s],t,n,r);t.translate(o,u)}return r}function r$(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}ZH.canvas=ZH.png={renderer:sH,headless:sH,handler:rH},ZH.svg={renderer:MH,headless:YH,handler:lH},ZH.none={};var i$=new SU;function a$(e){var t=e.clip;if(qk(t))t(XU(i$.clear()));else{if(!t)return;i$.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(i$)}function o$(e,t,n){return e===t||("path"===n?u$(e,t):e instanceof Date&&t instanceof Date?+e===+t:cE(e)&&cE(t)?Math.abs(e-t)<=1e-9:e&&t&&(mk(e)||mk(t))?function(e,t){var n,r,i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(!o$(e[n=i[r]],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function u$(e,t){return o$(BL(e),BL(t))}function s$(){EU(),CL=0}var c$="top",l$="left",f$="right",d$="bottom",h$="start",p$="middle",v$="end",m$="group",g$="axis",y$="title",b$="frame",x$="scope",w$="legend",_$="row-header",k$="row-footer",E$="row-title",O$="column-header",S$="column-footer",A$="column-title",C$="padding",D$="fit",j$="fit-x",T$="fit-y",F$="none",P$="all",M$="each",N$="flush",R$="column",I$="row";function B$(e){iT.call(this,null,e)}function z$(e,t,n){return t(e.bounds.clear(),e,n)}iE(B$,iT,{transform:function(e,t){var n,r=t.dataflow,i=e.mark,a=i.marktype,o=kW[a],u=o.bound,s=i.bounds;if(o.nested)i.items.length&&r.dirty(i.items[0]),s=z$(i,u),i.items.forEach((function(e){e.bounds.clear().union(s)}));else if(a===m$||e.modified())switch(t.visit(t.MOD,(function(e){return r.dirty(e)})),s.clear(),i.items.forEach((function(e){return s.union(z$(e,u))})),i.role){case g$:case w$:case y$:t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){s.union(z$(e,u))})),t.visit(t.MOD,(function(e){n=n||s.alignsWith(e.bounds),r.dirty(e),s.union(z$(e,u))})),n&&(s.clear(),i.items.forEach((function(e){return s.union(e.bounds)})));return a$(i),t.modifies("bounds")}});var L$=":vega_identifier:";function U$(e){iT.call(this,0,e)}function q$(e){iT.call(this,null,e)}function W$(e){iT.call(this,null,e)}U$.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},iE(U$,iT,{transform:function(e,t){var n,r=(n=t.dataflow)._signals[L$]||(n._signals[L$]=n.add(0)),i=e.as,a=r.value;return t.visit(t.ADD,(function(e){return e[i]=e[i]||++a})),r.set(this.value=a),t}}),iE(q$,iT,{transform:function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r=n.marktype===m$?CU:AU;return t.visit(t.ADD,(function(e){return r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});var H$={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&$$(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}},$$=function(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)},V$=function(e,t){for(var n,r=1,i=e.length,a=e[0].bounds;r<i;a=n,++r)if($$(a,n=e[r].bounds,t))return!0},G$=function(e){var t=e.bounds;return t.width()>1&&t.height()>1},Y$=function(e){return e.forEach((function(e){return e.opacity=1})),e},K$=function(e,t){return e.reflow(t.modified()).modifies("opacity")};function X$(e){iT.call(this,null,e)}iE(W$,iT,{transform:function(e,t){var n,r,i=H$[e.method]||H$.parity,a=e.separation||0,o=t.materialize(t.SOURCE).source;if(o&&o.length){if(!e.method)return e.modified("method")&&(Y$(o),t=K$(t,e)),t;if((o=o.filter(G$)).length){if(e.sort&&(o=o.slice().sort(e.sort)),n=Y$(o),t=K$(t,e),n.length>=3&&V$(n,a)){do{n=i(n,a)}while(n.length>=3&&V$(n,a));n.length<3&&!wk(o).opacity&&(n.length>1&&(wk(n).opacity=0),wk(o).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),i=new SU;return t===c$||t===d$?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach((function(e){r(e)||(e.opacity=0)})));var u=n[0].mark.bounds.clear();return o.forEach((function(e){e.opacity&&u.union(e.bounds)})),t}}}}),iE(X$,iT,{transform:function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});var Q$=new SU;function Z$(e,t,n){return e[t]===n?0:(e[t]=n,1)}function J$(e){var t=e.items[0].orient;return t===l$||t===f$}function eV(e,t,n,r){var i,a,o=t.items[0],u=o.datum,s=null!=o.translate?o.translate:.5,c=o.orient,l=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(u),f=o.range,d=o.offset,h=o.position,p=o.minExtent,v=o.maxExtent,m=u.title&&o.items[l[2]].items[0],g=o.titlePadding,y=o.bounds,b=m&&dW(m),x=0,w=0;switch(Q$.clear().union(y),y.clear(),(i=l[0])>-1&&y.union(o.items[i].bounds),(i=l[1])>-1&&y.union(o.items[i].bounds),c){case c$:x=h||0,w=-d,a=Math.max(p,Math.min(v,-y.y1)),y.add(0,-a).add(f,0),m&&tV(e,m,a,g,b,0,-1,y);break;case l$:x=-d,w=h||0,a=Math.max(p,Math.min(v,-y.x1)),y.add(-a,0).add(0,f),m&&tV(e,m,a,g,b,1,-1,y);break;case f$:x=n+d,w=h||0,a=Math.max(p,Math.min(v,y.x2)),y.add(0,0).add(a,f),m&&tV(e,m,a,g,b,1,1,y);break;case d$:x=h||0,w=r+d,a=Math.max(p,Math.min(v,y.y2)),y.add(0,0).add(f,a),m&&tV(e,m,a,g,0,0,1,y);break;default:x=o.x,w=o.y}return FU(y.translate(x,w),o),Z$(o,"x",x+s)|Z$(o,"y",w+s)&&(o.bounds=Q$,e.dirty(o),o.bounds=y,e.dirty(o)),o.mark.bounds.clear().union(y)}function tV(e,t,n,r,i,a,o,u){var s=t.bounds;if(t.auto){var c=o*(n+i+r),l=0,f=0;e.dirty(t),a?l=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(s.translate(-l,-f)),e.dirty(t)}u.union(s)}var nV=function(e,t){return Math.floor(Math.min(e,t))},rV=function(e,t){return Math.ceil(Math.max(e,t))};function iV(e){return(new SU).set(0,0,e.width||0,e.height||0)}function aV(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function oV(e,t,n){var r=mk(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function uV(e){return e<0?Math.ceil(-e):0}function sV(e,t,n){var r,i,a,o,u,s,c,l,f,d,h,p=!n.nodirty,v=n.bounds===N$?iV:aV,m=Q$.set(0,0,0,0),g=oV(n.align,R$),y=oV(n.align,I$),b=oV(n.padding,R$),x=oV(n.padding,I$),w=n.columns||t.length,_=w<=0?1:Math.ceil(t.length/w),k=t.length,E=Array(k),O=Array(w),S=0,A=Array(k),C=Array(_),D=0,j=Array(k),T=Array(k),F=Array(k);for(i=0;i<w;++i)O[i]=0;for(i=0;i<_;++i)C[i]=0;for(i=0;i<k;++i)s=t[i],u=F[i]=v(s),s.x=s.x||0,j[i]=0,s.y=s.y||0,T[i]=0,a=i%w,o=~~(i/w),S=Math.max(S,c=Math.ceil(u.x2)),D=Math.max(D,l=Math.ceil(u.y2)),O[a]=Math.max(O[a],c),C[o]=Math.max(C[o],l),E[i]=b+uV(u.x1),A[i]=x+uV(u.y1),p&&e.dirty(t[i]);for(i=0;i<k;++i)i%w===0&&(E[i]=0),i<w&&(A[i]=0);if(g===M$)for(a=1;a<w;++a){for(h=0,i=a;i<k;i+=w)h<E[i]&&(h=E[i]);for(i=a;i<k;i+=w)E[i]=h+O[a-1]}else if(g===P$){for(h=0,i=0;i<k;++i)i%w&&h<E[i]&&(h=E[i]);for(i=0;i<k;++i)i%w&&(E[i]=h+S)}else for(g=!1,a=1;a<w;++a)for(i=a;i<k;i+=w)E[i]+=O[a-1];if(y===M$)for(o=1;o<_;++o){for(h=0,r=(i=o*w)+w;i<r;++i)h<A[i]&&(h=A[i]);for(i=o*w;i<r;++i)A[i]=h+C[o-1]}else if(y===P$){for(h=0,i=w;i<k;++i)h<A[i]&&(h=A[i]);for(i=w;i<k;++i)A[i]=h+D}else for(y=!1,o=1;o<_;++o)for(r=(i=o*w)+w;i<r;++i)A[i]+=C[o-1];for(f=0,i=0;i<k;++i)f=E[i]+(i%w?f:0),j[i]+=f-t[i].x;for(a=0;a<w;++a)for(d=0,i=a;i<k;i+=w)d+=A[i],T[i]+=d-t[i].y;if(g&&oV(n.center,R$)&&_>1)for(i=0;i<k;++i)(f=(u=g===P$?S:O[i%w])-F[i].x2-t[i].x-j[i])>0&&(j[i]+=f/2);if(y&&oV(n.center,I$)&&1!==w)for(i=0;i<k;++i)(d=(u=y===P$?D:C[~~(i/w)])-F[i].y2-t[i].y-T[i])>0&&(T[i]+=d/2);for(i=0;i<k;++i)m.union(F[i].translate(j[i],T[i]));switch(f=oV(n.anchor,"x"),d=oV(n.anchor,"y"),oV(n.anchor,R$)){case v$:f-=m.width();break;case p$:f-=m.width()/2}switch(oV(n.anchor,I$)){case v$:d-=m.height();break;case p$:d-=m.height()/2}for(f=Math.round(f),d=Math.round(d),m.clear(),i=0;i<k;++i)t[i].mark.bounds.clear();for(i=0;i<k;++i)(s=t[i]).x+=j[i]+=f,s.y+=T[i]+=d,m.union(s.mark.bounds.union(s.bounds.translate(j[i],T[i]))),p&&e.dirty(s);return m}function cV(e,t,n){var r,i,a,o,u,s,c,l=function(e){for(var t,n,r,i,a,o,u,s=e.items,c=s.length,l=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};l<c;++l)if(u=(o=s[l]).items,o.marktype===m$)switch(o.role){case g$:case w$:case y$:break;case _$:(t=f.rowheaders).push.apply(t,pu(u));break;case k$:(n=f.rowfooters).push.apply(n,pu(u));break;case O$:(r=f.colheaders).push.apply(r,pu(u));break;case S$:(i=f.colfooters).push.apply(i,pu(u));break;case E$:f.rowtitle=u[0];break;case A$:f.coltitle=u[0];break;default:(a=f.marks).push.apply(a,pu(u))}return f}(t),f=l.marks,d=n.bounds===N$?lV:fV,h=n.offset,p=n.columns||f.length,v=p<=0?1:Math.ceil(f.length/p),m=v*p,g=sV(e,f,n);g.empty()&&g.set(0,0,0,0),l.rowheaders&&(s=oV(n.headerBand,I$,null),r=dV(e,l.rowheaders,f,p,v,-oV(h,"rowHeader"),nV,0,d,"x1",0,p,1,s)),l.colheaders&&(s=oV(n.headerBand,R$,null),i=dV(e,l.colheaders,f,p,p,-oV(h,"columnHeader"),nV,1,d,"y1",0,1,p,s)),l.rowfooters&&(s=oV(n.footerBand,I$,null),a=dV(e,l.rowfooters,f,p,v,oV(h,"rowFooter"),rV,0,d,"x2",p-1,p,1,s)),l.colfooters&&(s=oV(n.footerBand,R$,null),o=dV(e,l.colfooters,f,p,p,oV(h,"columnFooter"),rV,1,d,"y2",m-p,1,p,s)),l.rowtitle&&(u=oV(n.titleAnchor,I$),c=oV(h,"rowTitle"),c=u===v$?a+c:r-c,s=oV(n.titleBand,I$,.5),hV(e,l.rowtitle,c,0,g,s)),l.coltitle&&(u=oV(n.titleAnchor,R$),c=oV(h,"columnTitle"),c=u===v$?o+c:i-c,s=oV(n.titleBand,R$,.5),hV(e,l.coltitle,c,1,g,s))}function lV(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function fV(e,t){return e.bounds[t]}function dV(e,t,n,r,i,a,o,u,s,c,l,f,d,h){var p,v,m,g,y,b,x,w,_,k=n.length,E=0,O=0;if(!k)return E;for(p=l;p<k;p+=f)n[p]&&(E=o(E,s(n[p],c)));if(!t.length)return E;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),E+=a,v=0,g=t.length;v<g;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(p=l,v=0,g=t.length;v<g;++v,p+=f){for(y=(b=t[v]).mark.bounds,m=p;m>=0&&null==(x=n[m]);m-=d);u?(w=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),_=E):(w=E,_=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),_-(b.y||0))),b.x=w,b.y=_,e.dirty(b),O=o(O,y[c])}return O}function hV(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,u=n;r?o=Math.round(i.x1+a*i.width()):u=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=u,e.dirty(t)}}function pV(e,t,n,r,i,a,o){var u=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),s=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,u("offset",0)),c=u("anchor",h$),l=c===v$?1:c===p$?.5:0,f={align:M$,bounds:u("bounds",N$),columns:"vertical"===u("direction")?1:e.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(t){case l$:f.anchor={x:Math.floor(r.x1)-s,column:v$,y:l*(o||r.height()+2*r.y1),row:c};break;case f$:f.anchor={x:Math.ceil(r.x2)+s,y:l*(o||r.height()+2*r.y1),row:c};break;case c$:f.anchor={y:Math.floor(i.y1)-s,row:v$,x:l*(a||i.width()+2*i.x1),column:c};break;case d$:f.anchor={y:Math.ceil(i.y2)+s,x:l*(a||i.width()+2*i.x1),column:c};break;case"top-left":f.anchor={x:s,y:s};break;case"top-right":f.anchor={x:a-s,y:s,column:v$};break;case"bottom-left":f.anchor={x:s,y:o-s,row:v$};break;case"bottom-right":f.anchor={x:a-s,y:o-s,column:v$,row:v$}}return f}function vV(e,t){var n,r,i=t.items[0],a=i.datum,o=i.orient,u=i.bounds,s=i.x,c=i.y;return i._bounds?i._bounds.clear().union(u):i._bounds=u.clone(),u.clear(),function(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(t.datum.title){var o=t.items[1].items[0],u=o.anchor,s=t.titlePadding||0,c=r-o.x,l=r-o.y;switch(o.orient){case l$:i+=Math.ceil(o.bounds.width())+s;break;case f$:case d$:break;default:a+=o.bounds.height()+s}switch((i||a)&&gV(e,n,i,a),o.orient){case l$:l+=mV(t,n,o,u,1,1);break;case f$:c+=mV(t,n,o,v$,0,0)+s,l+=mV(t,n,o,u,1,1);break;case d$:c+=mV(t,n,o,u,0,0),l+=mV(t,n,o,v$,-1,0,1)+s;break;default:c+=mV(t,n,o,u,0,0)}(c||l)&&gV(e,o,c,l),(c=Math.round(o.bounds.x1-r))<0&&(gV(e,n,-c,0),gV(e,o,-c,0))}else(i||a)&&gV(e,n,i,a)}(e,i,i.items[0].items[0]),u=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(i,u),n=2*i.padding,r=2*i.padding,u.empty()||(n=Math.ceil(u.width()+n),r=Math.ceil(u.height()+r)),"symbol"===a.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),o!==F$&&(i.x=s=0,i.y=c=0),i.width=n,i.height=r,FU(u.set(s,c,s+n,c+r),i),i.mark.bounds.clear().union(u),i}function mV(e,t,n,r,i,a,o){var u="symbol"!==e.datum.type,s=n.datum.vgrad,c=(!u||!a&&s||o?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,l=s&&a?c:0,f=s&&a?0:c,d=i<=0?0:dW(n);return Math.round(r===h$?l:r===v$?f-d:.5*(c-d))}function gV(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function yV(e){iT.call(this,null,e)}function bV(e,t){var n=0;if(void 0===t){var r,i=S(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,u=-1,s=S(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;(c=+t(c,++u,e))&&(n+=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function xV(e){iT.call(this,null,e)}function wV(e){iT.call(this,null,e)}function _V(){return _j({})}function kV(e){iT.call(this,null,e)}function EV(e){iT.call(this,[],e)}iE(yV,iT,{transform:function(e,t){var n=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&cV(n,t,e.layout),function(e,t,n){var r,i,a,o,u,s=t.items,c=Math.max(0,t.width||0),l=Math.max(0,t.height||0),f=(new SU).set(0,0,c,l),d=f.clone(),h=f.clone(),p=[];for(o=0,u=s.length;o<u;++o)switch((i=s[o]).role){case g$:(J$(i)?d:h).union(eV(e,i,c,l));break;case y$:r=i;break;case w$:p.push(vV(e,i));break;case b$:case x$:case _$:case k$:case E$:case O$:case S$:case A$:d.union(i.bounds),h.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){var v={};for(var m in p.forEach((function(e){(a=e.orient||f$)!==F$&&(v[a]||(v[a]=[])).push(e)})),v){var g=v[m];sV(e,g,pV(g,m,n.legends,d,h,c,l))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&n.autosize.type===D$)switch(t.orient){case l$:case f$:f.add(r.x1,0).add(r.x2,0);break;case c$:case d$:f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(e,t,n,r,i){var a,o=t.items[0],u=o.frame,s=o.orient,c=o.anchor,l=o.offset,f=o.padding,d=o.items[0].items[0],h=o.items[1]&&o.items[1].items[0],p=s===l$||s===f$?r:n,v=0,m=0,g=0,y=0,b=0;if(u!==m$?s===l$?(v=i.y2,p=i.y1):s===f$?(v=i.y1,p=i.y2):(v=i.x1,p=i.x2):s===l$&&(v=r,p=0),a=c===h$?v:c===v$?p:(v+p)/2,h&&h.text){switch(s){case c$:case d$:b=d.bounds.height()+f;break;case l$:y=d.bounds.width()+f;break;case f$:y=-d.bounds.width()-f}Q$.clear().union(h.bounds),Q$.translate(y-(h.x||0),b-(h.y||0)),Z$(h,"x",y)|Z$(h,"y",b)&&(e.dirty(h),h.bounds.clear().union(Q$),h.mark.bounds.clear().union(Q$),e.dirty(h)),Q$.clear().union(h.bounds)}else Q$.clear();switch(Q$.union(d.bounds),s){case c$:m=a,g=i.y1-Q$.height()-l;break;case l$:m=i.x1-Q$.width()-l,g=a;break;case f$:m=i.x2+Q$.width()+l,g=a;break;case d$:m=a,g=i.y2+l;break;default:m=o.x,g=o.y}return Z$(o,"x",m)|Z$(o,"y",g)&&(Q$.translate(m,g),e.dirty(o),o.bounds.clear().union(Q$),t.bounds.clear().union(Q$),e.dirty(o)),o.bounds}(e,r,c,l,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){var i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;var o=e._width,u=e._height,s=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1)),d=Math.max(0,Math.ceil(n.x2-s)),h=Math.max(0,Math.ceil(n.y2-l));if(i.contains===C$){var p=e.padding();o-=p.left+p.right,u-=p.top+p.bottom}a===F$?(c=0,f=0,s=o,l=u):a===D$?(s=Math.max(0,o-c-d),l=Math.max(0,u-f-h)):a===j$?(s=Math.max(0,o-c-d),u=l+f+h):a===T$?(o=s+c+d,l=Math.max(0,u-f-h)):"pad"===a&&(o=s+c+d,u=l+f+h);e._resizeView(o,u,s,l,[c,f],i.resize)}(e,t,f,n)}(n,t,e)})),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}}),iE(xV,iT,{transform:function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,o=dL(a,null==e.count?e.values?e.values.length:10:e.count,e.minstep),u=e.format||vL(n,a,o,e.formatSpecifier,e.formatType,!!e.values),s=e.values?hL(a,e.values,o):pL(a,o);return i&&(r.rem=i),i=s.map((function(e,t){return _j({index:t/(s.length-1||1),value:e,label:u(e)})})),e.extra&&i.length&&i.push(_j({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),iE(wV,iT,{transform:function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||_V,a=e.key||xj,o=this.value;return vk(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&J_("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=function(e){var t=nE().test((function(e){return e.exit}));return t.lookup=function(n){return t.get(e(n))},t}(a)),t.visit(t.ADD,(function(e){var t=a(e),n=o.get(t);n?n.exit?(o.empty--,r.add.push(n)):r.mod.push(n):(n=i(e),o.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=a(e),n=o.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=a(e),n=o.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++o.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}}),iE(kV,iT,{transform:function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(vk(a)){if(!n.changed()&&!a.every((function(e){return i[e]})))return t.StopPropagation;a=a[0],n.encode=null}var o="enter"===a,u=i.update||uk,s=i.enter||uk,c=i.exit||uk,l=(a&&!o?i[a]:u)||uk;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){s(t,e),u(t,e)})),n.modifies(s.output),n.modifies(u.output),l!==uk&&l!==u&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&c!==uk&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),o||l!==uk){var f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,(function(t){var i=s(t,e)||r;(l(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(s.output)):t.visit(f,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation}}),iE(EV,iT,{transform:function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,a,o,u=t.dataflow.locale(),s=t.fork(t.NO_SOURCE|t.NO_FIELDS),c=this.value,l=e.type||sL,f=e.scale,d=+e.limit,h=dL(f,null==e.count?5:e.count,e.minstep),p=!!e.values||l===sL,v=e.format||xL(u,f,h,l,e.formatSpecifier,e.formatType,p),m=e.values||bL(f,h);return c&&(s.rem=c),l===sL?(d&&m.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),c=m.slice(0,d-1),o=!0):c=m,qk(i=e.size)?(e.values||0!==f(c[0])||(c=c.slice(1)),a=c.reduce((function(t,n){return Math.max(t,i(n,e))}),0)):i=Yk(a=i||8),c=c.map((function(t,n){return _j({index:n,label:v(t,n,c),value:t,offset:a,size:i(t,e)})})),o&&(o=m[c.length],c.push(_j({index:c.length,label:"\u2026".concat(m.length-c.length," entries"),value:o,offset:a,size:i(o,e)})))):"gradient"===l?(n=f.domain(),r=nL(f,n[0],wk(n)),m.length<3&&!e.values&&n[0]!==wk(n)&&(m=[n[0],wk(n)]),c=m.map((function(e,t){return _j({index:t,label:v(e,t,m),value:e,perc:r(e)})}))):(i=m.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+wk(t),a=i-r;if(e.type===Sz){var o=n?a/n:.1;a=(i+=o)-(r-=o)}return function(e){return(e-r)/a}}(f),c=m.map((function(e,t){return _j({index:t,label:v(e,t,m),value:e,perc:t?r(e):0,perc2:t===i?1:r(m[t+1])})}))),s.source=c,s.add=c,this.value=c,s}});var OV=function(e){return e.source.x},SV=function(e){return e.source.y},AV=function(e){return e.target.x},CV=function(e){return e.target.y};function DV(e){iT.call(this,{},e)}DV.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},iE(DV,iT,{transform:function(e,t){var n=e.sourceX||OV,r=e.sourceY||SV,i=e.targetX||AV,a=e.targetY||CV,o=e.as||"path",u=e.orient||"vertical",s=e.shape||"line",c=PV.get(s+"-"+u)||PV.get(s);return c||J_("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[o]=c(n(e),r(e),i(e),a(e))})),t.reflow(e.modified()).modifies(o)}});var jV=function(e,t,n,r){return"M"+e+","+t+"L"+n+","+r},TV=function(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+n+","+r},FV=function(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),u=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(r-o)+" "+n+","+r},PV=nE({line:jV,"line-radial":function(e,t,n,r){return jV(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:TV,"arc-radial":function(e,t,n,r){return TV(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:FV,"curve-radial":function(e,t,n,r){return FV(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n);return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*o+","+t*u+"L"+r*o+","+r*u},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n),s=(t+r)/2;return"M"+t*i+","+t*a+"C"+s*i+","+s*a+" "+s*o+","+s*u+" "+r*o+","+r*u}});function MV(e){iT.call(this,null,e)}MV.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},iE(MV,iT,{transform:function(e,t){var n,r,i,a=e.as||["startAngle","endAngle"],o=a[0],u=a[1],s=e.field||ak,c=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(s),h=d.length,p=c,v=(l-c)/bV(d),m=pF(h);for(e.sort&&m.sort((function(e,t){return d[e]-d[t]})),n=0;n<h;++n)i=d[m[n]],(r=f[m[n]])[o]=p,r[u]=p+=i*v;return this.value=d,t.reflow(e.modified()).modifies(a)}});function NV(e){return Vz(e)&&e!==_z}var RV=EE(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function IV(e){iT.call(this,null,e),this.modified(!0)}function BV(e,t,n){Kz(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+bE(t)));return t}function zV(e,t,n){return qk(e)&&(t||n)?Jz(e,LV(t||[0,1],n)):e}function LV(e,t){return t?e.slice().reverse():e}function UV(e){iT.call(this,null,e)}iE(IV,iT,{transform:function(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";if(n===_z)return"sequential-linear";(function(e){var t=e.type;return Vz(t)&&t!==xz&&t!==wz&&(e.scheme||e.range&&e.range.length&&e.range.every(fE))})(e)&&(r=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?"sequential-":3===t?"diverging-":"");return(r+n||vz).toLowerCase()}(e);for(i in r&&i===r.type||(this.value=r=Wz(i)()),e)if(!RV[i]){if("padding"===i&&NV(r.type))continue;qk(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(null!=t.rangeStep)a=function(e,t,n){e!==Dz&&e!==Cz&&J_("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===Cz?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*pz(n,i,r)]}(r,t,n);else if(t.scheme&&(a=function(e,t,n){var r,i=t.schemeExtent;vk(t.scheme)?r=eL(t.scheme,t.interpolate,t.interpolateGamma):(r=uL(t.scheme.toLowerCase()))||J_("Unrecognized scheme name: ".concat(t.scheme));return n=e===Sz?n+1:e===jz?n-1:e===Ez||e===Oz?+t.schemeCount||5:n,Xz(e)?zV(r,i,t.reverse):qk(r)?tL(zV(r,i),n):e===Az?r:r.slice(0,n)}(r,t,n),qk(a))){if(e.interpolator)return e.interpolator(a);J_("Scale type ".concat(r," does not support interpolating color schemes."))}if(a&&Xz(r))return e.interpolator(eL(LV(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(rL(t.interpolate,t.interpolateGamma)):qk(e.round)?e.round(i):qk(e.rangeRound)&&e.interpolate(i?DR:CR);a&&e.range(LV(a,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!vk(r)){var i=e.domain(),a=i[0],o=wk(i),u=r.step,s=null==r.start?a:r.start,c=null==r.stop?o:r.stop;u||J_("Scale bins parameter missing step property."),s<a&&(s=u*Math.ceil(a/u)),c>o&&(c=u*Math.floor(o/u)),r=pF(s,c+u/2,u)}r?e.bins=r:e.bins&&delete e.bins;e.type===jz&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(BV(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,a,o=t.domain,u=e.type,s=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&(t===vz||t===gz||t===yz)}(e);if(!o)return 0;NV(u)&&t.padding&&o[0]!==wk(o)&&(o=function(e,t,n,r,i,a){var o=Math.abs(wk(n)-n[0]),u=o/(o-2*r),s=e===mz?Nk(t,null,u):e===yz?Rk(t,null,u,.5):e===gz?Rk(t,null,u,i||1):e===bz?Ik(t,null,u,a||1):Mk(t,null,u);return(t=t.slice())[0]=s[0],t[t.length-1]=s[1],t}(u,o,t.range,t.padding,t.exponent,t.constant));if((s||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(o=o.slice()).length-1||1,s&&(o[0]>0&&(o[0]=0),o[i]<0&&(o[i]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[i]=t.domainMax),null!=t.domainMid)){var c=(a=t.domainMid)>o[i]?i+1:a<o[0]?0:i;c!==i&&n.warn("Scale domainMid exceeds domain min or max.",a),o.splice(c,0,a)}e.domain(BV(u,o,n)),u===Az&&e.unknown(t.domainImplicit?lN:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&dL(e,t.nice)||null);return o.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),iE(UV,iT,{transform:function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Sj(e.sort)),this.modified(n),t}});var qV="zero",WV="center",HV="normalize",$V=["y0","y1"];function VV(e){iT.call(this,null,e)}function GV(e,t,n,r,i){for(var a,o=(t-e.sum)/2,u=e.length,s=0;s<u;++s)(a=e[s])[r]=o,a[i]=o+=Math.abs(n(a))}function YV(e,t,n,r,i){for(var a,o=1/e.sum,u=0,s=e.length,c=0,l=0;c<s;++c)(a=e[c])[r]=u,a[i]=u=o*(l+=Math.abs(n(a)))}function KV(e,t,n,r,i){for(var a,o,u=0,s=0,c=e.length,l=0;l<c;++l)(a=+n(o=e[l]))<0?(o[r]=s,o[i]=s+=a):(o[r]=u,o[i]=u+=a)}VV.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:qV,values:[qV,WV,HV]},{name:"as",type:"string",array:!0,length:2,default:$V}]},iE(VV,iT,{transform:function(e,t){var n,r,i,a,o=e.as||$V,u=o[0],s=o[1],c=Sj(e.sort),l=e.field||ak,f=e.offset===WV?GV:e.offset===HV?YV:KV;for(n=function(e,t,n,r){var i,a,o,u,s,c,l,f,d,h=[],p=function(e){return e(s)};if(null==t)h.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)s=e[a],(l=i[c=t.map(p)])||(i[c]=l=[],h.push(l)),l.push(s);for(c=0,d=0,u=h.length;c<u;++c){for(a=0,f=0,o=(l=h[c]).length;a<o;++a)f+=Math.abs(r(l[a]));l.sum=f,f>d&&(d=f),n&&l.sort(n)}return h.max=d,h}(t.source,e.groupby,c,l),r=0,i=n.length,a=n.max;r<i;++r)f(n[r],a,l,u,s);return t.reflow(e.modified()).modifies(o)}});var XV=function(e){return e};function QV(e,t){e&&JV.hasOwnProperty(e.type)&&JV[e.type](e,t)}var ZV={Feature:function(e,t){QV(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)QV(n[r].geometry,t)}},JV={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){eG(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)eG(n[r],t,0)},Polygon:function(e,t){tG(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)tG(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)QV(n[r],t)}};function eG(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function tG(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)eG(e[n],t,1);t.polygonEnd()}function nG(e,t){e&&ZV.hasOwnProperty(e.type)?ZV[e.type](e,t):QV(e,t)}var rG=function(){function e(){au(this,e),this._partials=new Float64Array(32),this._n=0}return uu(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,!(n=(t=r[--i])-((a=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=a+t)-a&&(a=e)}return a}}]),e}();var iG=1e-6,aG=1e-12,oG=Math.PI,uG=oG/2,sG=oG/4,cG=2*oG,lG=180/oG,fG=oG/180,dG=Math.abs,hG=Math.atan,pG=Math.atan2,vG=Math.cos,mG=Math.ceil,gG=Math.exp,yG=(Math.floor,Math.hypot),bG=Math.log,xG=Math.pow,wG=Math.sin,_G=Math.sign||function(e){return e>0?1:e<0?-1:0},kG=Math.sqrt,EG=Math.tan;function OG(e){return e>1?0:e<-1?oG:Math.acos(e)}function SG(e){return e>1?uG:e<-1?-uG:Math.asin(e)}function AG(){}var CG,DG,jG,TG,FG=new rG,PG=new rG,MG={point:AG,lineStart:AG,lineEnd:AG,polygonStart:function(){MG.lineStart=NG,MG.lineEnd=BG},polygonEnd:function(){MG.lineStart=MG.lineEnd=MG.point=AG,FG.add(dG(PG)),PG=new rG},result:function(){var e=FG/2;return FG=new rG,e}};function NG(){MG.point=RG}function RG(e,t){MG.point=IG,CG=jG=e,DG=TG=t}function IG(e,t){PG.add(TG*e-jG*t),jG=e,TG=t}function BG(){IG(CG,DG)}var zG=MG,LG=1/0,UG=LG,qG=-LG,WG=qG,HG={point:function(e,t){e<LG&&(LG=e);e>qG&&(qG=e);t<UG&&(UG=t);t>WG&&(WG=t)},lineStart:AG,lineEnd:AG,polygonStart:AG,polygonEnd:AG,result:function(){var e=[[LG,UG],[qG,WG]];return qG=WG=-(UG=LG=1/0),e}};var $G,VG,GG,YG,KG=HG,XG=0,QG=0,ZG=0,JG=0,eY=0,tY=0,nY=0,rY=0,iY=0,aY={point:oY,lineStart:uY,lineEnd:lY,polygonStart:function(){aY.lineStart=fY,aY.lineEnd=dY},polygonEnd:function(){aY.point=oY,aY.lineStart=uY,aY.lineEnd=lY},result:function(){var e=iY?[nY/iY,rY/iY]:tY?[JG/tY,eY/tY]:ZG?[XG/ZG,QG/ZG]:[NaN,NaN];return XG=QG=ZG=JG=eY=tY=nY=rY=iY=0,e}};function oY(e,t){XG+=e,QG+=t,++ZG}function uY(){aY.point=sY}function sY(e,t){aY.point=cY,oY(GG=e,YG=t)}function cY(e,t){var n=e-GG,r=t-YG,i=kG(n*n+r*r);JG+=i*(GG+e)/2,eY+=i*(YG+t)/2,tY+=i,oY(GG=e,YG=t)}function lY(){aY.point=oY}function fY(){aY.point=hY}function dY(){pY($G,VG)}function hY(e,t){aY.point=pY,oY($G=GG=e,VG=YG=t)}function pY(e,t){var n=e-GG,r=t-YG,i=kG(n*n+r*r);JG+=i*(GG+e)/2,eY+=i*(YG+t)/2,tY+=i,nY+=(i=YG*e-GG*t)*(GG+e),rY+=i*(YG+t),iY+=3*i,oY(GG=e,YG=t)}var vY=aY;function mY(e){this._context=e}mY.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,cG)}},result:AG};var gY,yY,bY,xY,wY,_Y=new rG,kY={point:AG,lineStart:function(){kY.point=EY},lineEnd:function(){gY&&OY(yY,bY),kY.point=AG},polygonStart:function(){gY=!0},polygonEnd:function(){gY=null},result:function(){var e=+_Y;return _Y=new rG,e}};function EY(e,t){kY.point=OY,yY=xY=e,bY=wY=t}function OY(e,t){xY-=e,wY-=t,_Y.add(kG(xY*xY+wY*wY)),xY=e,wY=t}var SY=kY;function AY(){this._string=[]}function CY(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function DY(e,t){var n,r,i=4.5;function a(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),nG(e,n(r))),r.result()}return a.area=function(e){return nG(e,n(zG)),zG.result()},a.measure=function(e){return nG(e,n(SY)),SY.result()},a.bounds=function(e){return nG(e,n(KG)),KG.result()},a.centroid=function(e){return nG(e,n(vY)),vY.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,XV):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new AY):new mY(t=e),"function"!==typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)}function jY(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:AG,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function TY(e,t){return dG(e[0]-t[0])<iG&&dG(e[1]-t[1])<iG}function FY(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function PY(e,t,n,r,i){var a,o,u=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(TY(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}o[0]+=2e-6}u.push(n=new FY(r,e,null,!0)),s.push(n.o=new FY(r,null,n,!1)),u.push(n=new FY(o,e,null,!1)),s.push(n.o=new FY(o,null,n,!0))}})),u.length){for(s.sort(t),MY(u),MY(s),a=0,o=s.length;a<o;++a)s[a].e=n=!n;for(var c,l,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=c.length;a<o;++a)i.point((l=c[a])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((l=c[a])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}}function MY(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function NY(e){return[pG(e[1],e[0]),SG(e[2])]}function RY(e){var t=e[0],n=e[1],r=vG(n);return[r*vG(t),r*wG(t),wG(n)]}function IY(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function BY(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function zY(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function LY(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function UY(e){var t=kG(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function qY(e){return dG(e[0])<=oG?e[0]:_G(e[0])*((dG(e[0])+oG)%cG-oG)}AY.prototype={_radius:4.5,_circle:CY(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=CY(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var WY=iu().mark(HY);function HY(e){var t,n,r;return iu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=S(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),WY,null,[[1,10,13,16]])}function $Y(e){return Array.from(HY(e))}function VY(e,t,n,r){return function(i){var a,o,u,s=t(i),c=jY(),l=t(c),f=!1,d={point:h,lineStart:v,lineEnd:m,polygonStart:function(){d.point=g,d.lineStart=y,d.lineEnd=b,o=[],a=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=m,o=$Y(o);var e=function(e,t){var n=qY(t),r=t[1],i=wG(r),a=[wG(n),-vG(n),0],o=0,u=0,s=new rG;1===i?r=uG+iG:-1===i&&(r=-uG-iG);for(var c=0,l=e.length;c<l;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],p=qY(h),v=h[1]/2+sG,m=wG(v),g=vG(v),y=0;y<d;++y,p=x,m=_,g=k,h=b){var b=f[y],x=qY(b),w=b[1]/2+sG,_=wG(w),k=vG(w),E=x-p,O=E>=0?1:-1,S=O*E,A=S>oG,C=m*_;if(s.add(pG(C*O*wG(S),g*k+C*vG(S))),o+=A?E+O*cG:E,A^p>=n^x>=n){var D=BY(RY(h),RY(b));UY(D);var j=BY(a,D);UY(j);var T=(A^E>=0?-1:1)*SG(j[2]);(r>T||r===T&&(D[0]||D[1]))&&(u+=A^E>=0?1:-1)}}return(o<-1e-6||o<iG&&s<-1e-12)^1&u}(a,r);o.length?(f||(i.polygonStart(),f=!0),PY(o,YY,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){s.point(e,t)}function v(){d.point=p,s.lineStart()}function m(){d.point=h,s.lineEnd()}function g(e,t){u.push([e,t]),l.point(e,t)}function y(){l.lineStart(),u=[]}function b(){g(u[0][0],u[0][1]),l.lineEnd();var e,t,n,r,s=l.clean(),d=c.result(),h=d.length;if(u.pop(),a.push(u),u=null,h)if(1&s){if((t=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&s&&d.push(d.pop().concat(d.shift())),o.push(d.filter(GY))}return d}}function GY(e){return e.length>1}function YY(e,t){return((e=e.x)[0]<0?e[1]-uG-iG:uG-e[1])-((t=t.x)[0]<0?t[1]-uG-iG:uG-t[1])}var KY=VY((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var u=a>0?oG:-oG,s=dG(a-n);dG(s-oG)<iG?(e.point(n,r=(r+o)/2>0?uG:-uG),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(a,r),t=0):i!==u&&s>=oG&&(dG(n-i)<iG&&(n-=i*iG),dG(a-u)<iG&&(a-=u*iG),r=function(e,t,n,r){var i,a,o=wG(e-n);return dG(o)>iG?hG((wG(t)*(a=vG(r))*wG(n)-wG(r)*(i=vG(t))*wG(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=a,r=o),i=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*uG,r.point(-oG,i),r.point(0,i),r.point(oG,i),r.point(oG,0),r.point(oG,-i),r.point(0,-i),r.point(-oG,-i),r.point(-oG,0),r.point(-oG,i);else if(dG(e[0]-t[0])>iG){var a=e[0]<t[0]?oG:-oG;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-oG,-uG]);function XY(e,t,n,r,i,a){if(n){var o=vG(t),u=wG(t),s=r*n;null==i?(i=t+r*cG,a=t-s/2):(i=QY(o,i),a=QY(o,a),(r>0?i<a:i>a)&&(i+=r*cG));for(var c,l=i;r>0?l>a:l<a;l-=s)c=NY([o,-u*vG(l),-u*wG(l)]),e.point(c[0],c[1])}}function QY(e,t){(t=RY(t))[0]-=e,UY(t);var n=OG(-t[1]);return((-t[2]<0?-n:n)+cG-iG)%cG}function ZY(e){var t=vG(e),n=6*fG,r=t>0,i=dG(t)>iG;function a(e,n){return vG(e)*vG(n)>t}function o(e,n,r){var i=[1,0,0],a=BY(RY(e),RY(n)),o=IY(a,a),u=a[0],s=o-u*u;if(!s)return!r&&e;var c=t*o/s,l=-t*u/s,f=BY(i,a),d=LY(i,c);zY(d,LY(a,l));var h=f,p=IY(d,h),v=IY(h,h),m=p*p-v*(IY(d,d)-1);if(!(m<0)){var g=kG(m),y=LY(h,(-p-g)/v);if(zY(y,d),y=NY(y),!r)return y;var b,x=e[0],w=n[0],_=e[1],k=n[1];w<x&&(b=x,x=w,w=b);var E=w-x,O=dG(E-oG)<iG;if(!O&&k<_&&(b=_,_=k,k=b),O||E<iG?O?_+k>0^y[1]<(dG(y[0]-x)<iG?_:k):_<=y[1]&&y[1]<=k:E>oG^(x<=y[0]&&y[0]<=w)){var S=LY(h,(-p+g)/v);return zY(S,d),[y,NY(S)]}}}function u(t,n){var i=r?e:oG-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return VY(a,(function(e){var t,n,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,d){var h,p=[f,d],v=a(f,d),m=r?v?0:u(f,d):v?u(f+(f<0?oG:-oG),d):0;if(!t&&(c=s=v)&&e.lineStart(),v!==s&&(!(h=o(t,p))||TY(t,h)||TY(p,h))&&(p[2]=1),v!==s)l=0,v?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(i&&t&&r^v){var g;m&n||!(g=o(p,t,!0))||(l=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!v||t&&TY(t,p)||e.point(p[0],p[1]),t=p,s=v,n=m},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return l|(c&&s)<<1}}}),(function(t,r,i,a){XY(a,e,n,i,t,r)}),r?[0,-e]:[-oG,e-oG])}var JY=1e9,eK=-JY;function tK(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,u,c){var l=0,f=0;if(null==i||(l=o(i,u))!==(f=o(a,u))||s(i,a)<0^u>0)do{c.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+u+4)%4)!==f);else c.point(a[0],a[1])}function o(r,i){return dG(r[0]-e)<iG?i>0?0:3:dG(r[0]-n)<iG?i>0?2:1:dG(r[1]-t)<iG?i>0?1:0:i>0?3:2}function u(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var s,c,l,f,d,h,p,v,m,g,y,b=o,x=jY(),w={point:_,lineStart:function(){w.point=k,c&&c.push(l=[]);g=!0,m=!1,p=v=NaN},lineEnd:function(){s&&(k(f,d),h&&m&&x.rejoin(),s.push(x.result()));w.point=_,m&&b.lineEnd()},polygonStart:function(){b=x,s=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var a,o,u=c[n],s=1,l=u.length,f=u[0],d=f[0],h=f[1];s<l;++s)a=d,o=h,d=(f=u[s])[0],h=f[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(e-a)&&++t:h<=r&&(d-a)*(r-o)<(h-o)*(e-a)&&--t;return t}(),n=y&&t,i=(s=$Y(s)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&PY(s,u,t,a,o),o.polygonEnd());b=o,s=c=l=null}};function _(e,t){i(e,t)&&b.point(e,t)}function k(a,o){var u=i(a,o);if(c&&l.push([a,o]),g)f=a,d=o,h=u,g=!1,u&&(b.lineStart(),b.point(a,o));else if(u&&m)b.point(a,o);else{var s=[p=Math.max(eK,Math.min(JY,p)),v=Math.max(eK,Math.min(JY,v))],x=[a=Math.max(eK,Math.min(JY,a)),o=Math.max(eK,Math.min(JY,o))];!function(e,t,n,r,i,a){var o,u=e[0],s=e[1],c=0,l=1,f=t[0]-u,d=t[1]-s;if(o=n-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>c&&(c=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<l&&(l=o)}if(o=r-s,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>c&&(c=o)}if(o=a-s,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<l&&(l=o)}return c>0&&(e[0]=u+c*f,e[1]=s+c*d),l<1&&(t[0]=u+l*f,t[1]=s+l*d),!0}}}}}(s,x,e,t,n,r)?u&&(b.lineStart(),b.point(a,o),y=!1):(m||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),u||b.lineEnd(),y=!1)}p=a,v=o,m=u}return w}}function nK(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function rK(e,t){return[dG(e)>oG?e+Math.round(-e/cG)*cG:e,t]}function iK(e,t,n){return(e%=cG)?t||n?nK(oK(e),uK(t,n)):oK(e):t||n?uK(t,n):rK}function aK(e){return function(t,n){return[(t+=e)>oG?t-cG:t<-oG?t+cG:t,n]}}function oK(e){var t=aK(e);return t.invert=aK(-e),t}function uK(e,t){var n=vG(e),r=wG(e),i=vG(t),a=wG(t);function o(e,t){var o=vG(t),u=vG(e)*o,s=wG(e)*o,c=wG(t),l=c*n+u*r;return[pG(s*i-l*a,u*n-c*r),SG(l*i+s*a)]}return o.invert=function(e,t){var o=vG(t),u=vG(e)*o,s=wG(e)*o,c=wG(t),l=c*i-s*a;return[pG(s*i+c*a,u*n+l*r),SG(l*n-u*r)]},o}function sK(e){return function(t){var n=new cK;for(var r in e)n[r]=e[r];return n.stream=t,n}}function cK(){}function lK(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),nG(n,e.stream(KG)),t(KG.result()),null!=r&&e.clipExtent(r),e}function fK(e,t,n){return lK(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,u])}),n)}function dK(e,t,n){return fK(e,[[0,0],t],n)}function hK(e,t,n){return lK(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}function pK(e,t,n){return lK(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}rK.invert=rK,cK.prototype={constructor:cK,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var vK=vG(30*fG);function mK(e,t){return+t?function(e,t){function n(r,i,a,o,u,s,c,l,f,d,h,p,v,m){var g=c-r,y=l-i,b=g*g+y*y;if(b>4*t&&v--){var x=o+d,w=u+h,_=s+p,k=kG(x*x+w*w+_*_),E=SG(_/=k),O=dG(dG(_)-1)<iG||dG(a-f)<iG?(a+f)/2:pG(w,x),S=e(O,E),A=S[0],C=S[1],D=A-r,j=C-i,T=y*D-g*j;(T*T/b>t||dG((g*D+y*j)/b-.5)>.3||o*d+u*h+s*p<vK)&&(n(r,i,a,o,u,s,A,C,O,x/=k,w/=k,_,v,m),m.point(A,C),n(A,C,O,x,w,_,c,l,f,d,h,p,v,m))}}return function(t){var r,i,a,o,u,s,c,l,f,d,h,p,v={point:m,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),v.lineStart=x},polygonEnd:function(){t.polygonEnd(),v.lineStart=g}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){l=NaN,v.point=y,t.lineStart()}function y(r,i){var a=RY([r,i]),o=e(r,i);n(l,f,c,d,h,p,l=o[0],f=o[1],c=r,d=a[0],h=a[1],p=a[2],16,t),t.point(l,f)}function b(){v.point=m,t.lineEnd()}function x(){g(),v.point=w,v.lineEnd=_}function w(e,t){y(r=e,t),i=l,a=f,o=d,u=h,s=p,v.point=y}function _(){n(l,f,c,d,h,p,i,a,r,o,u,s,16,t),v.lineEnd=b,b()}return v}}(e,t):function(e){return sK({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var gK=sK({point:function(e,t){this.stream.point(e*fG,t*fG)}});function yK(e,t,n,r,i,a){if(!a)return function(e,t,n,r,i){function a(a,o){return[t+e*(a*=r),n-e*(o*=i)]}return a.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},a}(e,t,n,r,i);var o=vG(a),u=wG(a),s=o*e,c=u*e,l=o/e,f=u/e,d=(u*n-o*t)/e,h=(u*t+o*n)/e;function p(e,a){return[s*(e*=r)-c*(a*=i)+t,n-c*e-s*a]}return p.invert=function(e,t){return[r*(l*e-f*t+d),i*(h-f*e-l*t)]},p}function bK(e){return xK((function(){return e}))()}function xK(e){var t,n,r,i,a,o,u,s,c,l,f=150,d=480,h=250,p=0,v=0,m=0,g=0,y=0,b=0,x=1,w=1,_=null,k=KY,E=null,O=XV,S=.5;function A(e){return s(e[0]*fG,e[1]*fG)}function C(e){return(e=s.invert(e[0],e[1]))&&[e[0]*lG,e[1]*lG]}function D(){var e=yK(f,0,0,x,w,b).apply(null,t(p,v)),r=yK(f,d-e[0],h-e[1],x,w,b);return n=iK(m,g,y),u=nK(t,r),s=nK(n,u),o=mK(u,S),j()}function j(){return c=l=null,A}return A.stream=function(e){return c&&l===e?c:c=gK(function(e){return sK({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(k(o(O(l=e)))))},A.preclip=function(e){return arguments.length?(k=e,_=void 0,j()):k},A.postclip=function(e){return arguments.length?(O=e,E=r=i=a=null,j()):O},A.clipAngle=function(e){return arguments.length?(k=+e?ZY(_=e*fG):(_=null,KY),j()):_*lG},A.clipExtent=function(e){return arguments.length?(O=null==e?(E=r=i=a=null,XV):tK(E=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),j()):null==E?null:[[E,r],[i,a]]},A.scale=function(e){return arguments.length?(f=+e,D()):f},A.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],D()):[d,h]},A.center=function(e){return arguments.length?(p=e[0]%360*fG,v=e[1]%360*fG,D()):[p*lG,v*lG]},A.rotate=function(e){return arguments.length?(m=e[0]%360*fG,g=e[1]%360*fG,y=e.length>2?e[2]%360*fG:0,D()):[m*lG,g*lG,y*lG]},A.angle=function(e){return arguments.length?(b=e%360*fG,D()):b*lG},A.reflectX=function(e){return arguments.length?(x=e?-1:1,D()):x<0},A.reflectY=function(e){return arguments.length?(w=e?-1:1,D()):w<0},A.precision=function(e){return arguments.length?(o=mK(u,S=e*e),j()):kG(S)},A.fitExtent=function(e,t){return fK(A,e,t)},A.fitSize=function(e,t){return dK(A,e,t)},A.fitWidth=function(e,t){return hK(A,e,t)},A.fitHeight=function(e,t){return pK(A,e,t)},function(){return t=e.apply(this,arguments),A.invert=t.invert&&C,D()}}function wK(e){var t=0,n=oG/3,r=xK(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*fG,n=e[1]*fG):[t*lG,n*lG]},i}function _K(e,t){var n=wG(e),r=(n+wG(t))/2;if(dG(r)<iG)return function(e){var t=vG(e);function n(e,n){return[e*t,wG(n)/t]}return n.invert=function(e,n){return[e/t,SG(n*t)]},n}(e);var i=1+n*(2*r-n),a=kG(i)/r;function o(e,t){var n=kG(i-2*r*wG(t))/r;return[n*wG(e*=r),a-n*vG(e)]}return o.invert=function(e,t){var n=a-t,o=pG(e,dG(n))*_G(n);return n*r<0&&(o-=oG*_G(e)*_G(n)),[o/r,SG((i-(e*e+n*n)*r*r)/(2*r))]},o}function kK(){return wK(_K).scale(155.424).center([0,33.6442])}function EK(){return kK().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function OK(e){return function(t,n){var r=vG(t),i=vG(n),a=e(r*i);return a===1/0?[2,0]:[a*i*wG(t),a*wG(n)]}}function SK(e){return function(t,n){var r=kG(t*t+n*n),i=e(r),a=wG(i),o=vG(i);return[pG(t*a,r*o),SG(r&&n*a/r)]}}var AK=OK((function(e){return kG(2/(1+e))}));AK.invert=SK((function(e){return 2*SG(e/2)}));var CK=OK((function(e){return(e=OG(e))&&e/wG(e)}));function DK(e,t){return[e,bG(EG((uG+t)/2))]}function jK(e){var t,n,r,i=bK(e),a=i.center,o=i.scale,u=i.translate,s=i.clipExtent,c=null;function l(){var a=oG*o(),u=i(function(e){function t(t){return(t=e(t[0]*fG,t[1]*fG))[0]*=lG,t[1]*=lG,t}return e=iK(e[0]*fG,e[1]*fG,e.length>2?e[2]*fG:0),t.invert=function(t){return(t=e.invert(t[0]*fG,t[1]*fG))[0]*=lG,t[1]*=lG,t},t}(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]:e===DK?[[Math.max(u[0]-a,c),t],[Math.min(u[0]+a,n),r]]:[[c,Math.max(u[1]-a,t)],[n,Math.min(u[1]+a,r)]])}return i.scale=function(e){return arguments.length?(o(e),l()):o()},i.translate=function(e){return arguments.length?(u(e),l()):u()},i.center=function(e){return arguments.length?(a(e),l()):a()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==c?null:[[c,t],[n,r]]},l()}function TK(e){return EG((uG+e)/2)}function FK(e,t){var n=vG(e),r=e===t?wG(e):bG(n/vG(t))/bG(TK(t)/TK(e)),i=n*xG(TK(e),r)/r;if(!r)return DK;function a(e,t){i>0?t<-uG+iG&&(t=-uG+iG):t>uG-iG&&(t=uG-iG);var n=i/xG(TK(t),r);return[n*wG(r*e),i-n*vG(r*e)]}return a.invert=function(e,t){var n=i-t,a=_G(r)*kG(e*e+n*n),o=pG(e,dG(n))*_G(n);return n*r<0&&(o-=oG*_G(e)*_G(n)),[o/r,2*hG(xG(i/a,1/r))-uG]},a}function PK(e,t){return[e,t]}function MK(e,t){var n=vG(e),r=e===t?wG(e):(n-vG(t))/(t-e),i=n/r+e;if(dG(r)<iG)return PK;function a(e,t){var n=i-t,a=r*e;return[n*wG(a),i-n*vG(a)]}return a.invert=function(e,t){var n=i-t,a=pG(e,dG(n))*_G(n);return n*r<0&&(a-=oG*_G(e)*_G(n)),[a/r,i-_G(r)*kG(e*e+n*n)]},a}CK.invert=SK((function(e){return e})),DK.invert=function(e,t){return[e,2*hG(gG(t))-uG]},PK.invert=PK;var NK=1.340264,RK=-.081106,IK=893e-6,BK=.003796,zK=kG(3)/2;function LK(e,t){var n=SG(zK*wG(t)),r=n*n,i=r*r*r;return[e*vG(n)/(zK*(NK+3*RK*r+i*(7*IK+9*BK*r))),n*(NK+RK*r+i*(IK+BK*r))]}function UK(e,t){var n=vG(t),r=vG(e)*n;return[n*wG(e)/r,wG(t)/r]}function qK(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function WK(e,t){return[vG(t)*wG(e),wG(t)]}function HK(e,t){var n=vG(t),r=1+vG(e)*n;return[n*wG(e)/r,wG(t)/r]}function $K(e,t){return[bG(EG((uG+t)/2)),-e]}LK.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(NK+RK*i+a*(IK+BK*i))-t)/(NK+3*RK*i+a*(7*IK+9*BK*i)))*r)*i*i,!(dG(n)<aG));++o);return[zK*e*(NK+3*RK*i+a*(7*IK+9*BK*i))/vG(r),SG(wG(r)/zK)]},UK.invert=SK(hG),qK.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(dG(n)>iG&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},WK.invert=SK(SG),HK.invert=SK((function(e){return 2*hG(e)})),$K.invert=function(e,t){return[-t,2*hG(gG(e))-uG]};var VK=Math.abs,GK=(Math.atan,Math.atan2,Math.ceil,Math.cos),YK=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),KK=(Math.tan,Math.PI),XK=KK/2,QK=(Math.SQRT1_2,JK(2));JK(KK);function ZK(e){return e>1?XK:e<-1?-XK:Math.asin(e)}function JK(e){return e>0?Math.sqrt(e):0}function eX(e,t){var n,r=e*YK(t),i=30;do{t-=n=(t+YK(t)-r)/(1+GK(t))}while(VK(n)>1e-6&&--i>0);return t/2}var tX=function(e,t,n){function r(r,i){return[e*r*GK(i=eX(n,i)),t*YK(i)]}return r.invert=function(r,i){return i=ZK(i/t),[r/(e*GK(i)),ZK((2*i+YK(2*i))/n)]},r}(QK/XK,QK,KK);var nX=DY(),rX=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function iX(e,t){return function n(){var r=t();return r.type=e,r.path=DY().projection(r),r.copy=r.copy||function(){var e=n();return rX.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function aX(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(uX[e]=iX(e,t),this):uX[e]||null}function oX(e){return e&&e.path||nX}var uX={albers:EK,albersusa:function(){var e,t,n,r,i,a,o=EK(),u=kK().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=kK().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){a=[e,t]}};function l(e){var t=e[0],o=e[1];return a=null,n.point(t,o),a||(r.point(t,o),a)||(i.point(t,o),a)}function f(){return e=t=null,l}return l.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(e)},l.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([o.stream(t=n),u.stream(n),s.stream(n)])},l.precision=function(e){return arguments.length?(o.precision(e),u.precision(e),s.precision(e),f()):o.precision()},l.scale=function(e){return arguments.length?(o.scale(e),u.scale(.35*e),s.scale(e),l.translate(o.translate())):o.scale()},l.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),a=+e[0],l=+e[1];return n=o.translate(e).clipExtent([[a-.455*t,l-.238*t],[a+.455*t,l+.238*t]]).stream(c),r=u.translate([a-.307*t,l+.201*t]).clipExtent([[a-.425*t+iG,l+.12*t+iG],[a-.214*t-iG,l+.234*t-iG]]).stream(c),i=s.translate([a-.205*t,l+.212*t]).clipExtent([[a-.214*t+iG,l+.166*t+iG],[a-.115*t-iG,l+.234*t-iG]]).stream(c),f()},l.fitExtent=function(e,t){return fK(l,e,t)},l.fitSize=function(e,t){return dK(l,e,t)},l.fitWidth=function(e,t){return hK(l,e,t)},l.fitHeight=function(e,t){return pK(l,e,t)},l.scale(1070)},azimuthalequalarea:function(){return bK(AK).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return bK(CK).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return wK(FK).scale(109.5).parallels([30,30])},conicequalarea:kK,conicequidistant:function(){return wK(MK).scale(131.154).center([0,13.9389])},equalEarth:function(){return bK(LK).scale(177.158)},equirectangular:function(){return bK(PK).scale(152.63)},gnomonic:function(){return bK(UK).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,a,o,u=1,s=0,c=0,l=1,f=1,d=0,h=null,p=1,v=1,m=sK({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),g=XV;function y(){return p=u*l,v=u*f,a=o=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(d){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+s,i+c]}return b.invert=function(n){var r=n[0]-s,i=n[1]-c;if(d){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/p,i/v]},b.stream=function(e){return a&&o===e?a:a=m(g(o=e))},b.postclip=function(e){return arguments.length?(g=e,h=n=r=i=null,y()):g},b.clipExtent=function(e){return arguments.length?(g=null==e?(h=n=r=i=null,XV):tK(h=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==h?null:[[h,n],[r,i]]},b.scale=function(e){return arguments.length?(u=+e,y()):u},b.translate=function(e){return arguments.length?(s=+e[0],c=+e[1],y()):[s,c]},b.angle=function(n){return arguments.length?(t=wG(d=n%360*fG),e=vG(d),y()):d*lG},b.reflectX=function(e){return arguments.length?(l=e?-1:1,y()):l<0},b.reflectY=function(e){return arguments.length?(f=e?-1:1,y()):f<0},b.fitExtent=function(e,t){return fK(b,e,t)},b.fitSize=function(e,t){return dK(b,e,t)},b.fitWidth=function(e,t){return hK(b,e,t)},b.fitHeight=function(e,t){return pK(b,e,t)},b},mercator:function(){return jK(DK).scale(961/cG)},mollweide:function(){return bK(tX).scale(169.529)},naturalEarth1:function(){return bK(qK).scale(175.295)},orthographic:function(){return bK(WK).scale(249.5).clipAngle(90.000001)},stereographic:function(){return bK(HK).scale(250).clipAngle(142)},transversemercator:function(){var e=jK($K),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var sX in uX)aX(sX,uX[sX]);function cX(e,t,n){var r=pF(e,t-iG,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function lX(e,t,n){var r=pF(e,t-iG,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function fX(){var e,t,n,r,i,a,o,u,s,c,l,f,d=10,h=d,p=90,v=360,m=2.5;function g(){return{type:"MultiLineString",coordinates:y()}}function y(){return pF(mG(r/p)*p,n,p).map(l).concat(pF(mG(u/v)*v,o,v).map(f)).concat(pF(mG(t/d)*d,e,d).filter((function(e){return dG(e%p)>iG})).map(s)).concat(pF(mG(a/h)*h,i,h).filter((function(e){return dG(e%v)>iG})).map(c))}return g.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(n).reverse().slice(1),f(u).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],u=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),u>o&&(e=u,u=o,o=e),g.precision(m)):[[r,u],[n,o]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),g.precision(m)):[[t,a],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],v=+e[1],g):[p,v]},g.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],g):[d,h]},g.precision=function(d){return arguments.length?(m=+d,s=cX(a,i,90),c=lX(t,e,m),l=cX(u,o,90),f=lX(r,n,m),g):m},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function dX(){}var hX=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function pX(){var e=1,t=1,n=o;function r(e,t){return t.map((function(t){return i(e,t)}))}function i(r,i){var o=[],u=[];return function(n,r,i){var o,u,s,c,l,f,d=new Array,h=new Array;o=u=-1,c=n[0]>=r,hX[c<<1].forEach(p);for(;++o<e-1;)s=c,c=n[o+1]>=r,hX[s|c<<1].forEach(p);hX[c<<0].forEach(p);for(;++u<t-1;){for(o=-1,c=n[u*e+e]>=r,l=n[u*e]>=r,hX[c<<1|l<<2].forEach(p);++o<e-1;)s=c,c=n[u*e+e+o+1]>=r,f=l,l=n[u*e+o+1]>=r,hX[s|c<<1|l<<2|f<<3].forEach(p);hX[c|l<<3].forEach(p)}o=-1,l=n[u*e]>=r,hX[l<<2].forEach(p);for(;++o<e-1;)f=l,l=n[u*e+o+1]>=r,hX[l<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+u],s=[e[1][0]+o,e[1][1]+u],c=a(r),l=a(s);(t=h[c])?(n=d[l])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(s),i(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(s),h[t.end=l]=t):(t=d[l])?(n=h[c])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(s),i(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=c]=t):d[c]=h[l]={start:c,end:l,ring:[r,s]}}hX[l<<3].forEach(p)}(r,i,(function(e){n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):u.push(e)})),u.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==vX((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,i){n.forEach((function(n){var a,o=n[0],u=n[1],s=0|o,c=0|u,l=r[c*e+s];o>0&&o<e&&s===o&&(a=r[c*e+s-1],n[0]=o+(i-a)/(l-a)-.5),u>0&&u<t&&c===u&&(a=r[(c-1)*e+s],n[1]=u+(i-a)/(l-a)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.floor(n[0]),a=Math.floor(n[1]);return i>=0&&a>=0||J_("invalid size"),e=i,t=a,r},r.smooth=function(e){return arguments.length?(n=e?o:dX,r):n===o},r}function vX(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=mX(e,t[r]))return n;return 0}function mX(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,u=o-1;a<o;u=a++){var s=e[a],c=s[0],l=s[1],f=e[u],d=f[0],h=f[1];if(gX(s,f,t))return 0;l>r!==h>r&&n<(d-c)*(r-l)/(h-l)+c&&(i=-i)}return i}function gX(e,t,n){var r;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[r=+(e[0]===t[0])],n[r],t[r])}function yX(e,t,n){return function(r){var i=Qk(r),a=n?Math.min(i[0],0):i[0],o=i[1],u=o-a,s=t?GE(a,o,e):u/(e+1);return pF(a+s,o,s)}}function bX(e){iT.call(this,null,e)}function xX(e,t,n,r,i){var a=e.x1||0,o=e.y1||0,u=t*n<0;function s(e){e.forEach(c)}function c(e){u&&e.reverse(),e.forEach(l)}function l(e){e[0]=(e[0]-a)*t+r,e[1]=(e[1]-o)*n+i}return function(e){return e.coordinates.forEach(s),e}}function wX(e,t,n){var r=e>=0?e:kT(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function _X(e){return qk(e)?e:Yk(+e)}function kX(){var e=function(e){return e[0]},t=function(e){return e[1]},n=ak,r=[-1,-1],i=960,a=500,o=2;function u(u,s){var c=wX(r[0],u,e)>>o,l=wX(r[1],u,t)>>o,f=c?c+2:0,d=l?l+2:0,h=2*f+(i>>o),p=2*d+(a>>o),v=new Float32Array(h*p),m=new Float32Array(h*p),g=v;u.forEach((function(r){var i=f+(+e(r)>>o),a=d+(+t(r)>>o);i>=0&&i<h&&a>=0&&a<p&&(v[i+a*h]+=+n(r))})),c>0&&l>0?(EX(h,p,v,m,c),OX(h,p,m,v,l),EX(h,p,v,m,c),OX(h,p,m,v,l),EX(h,p,v,m,c),OX(h,p,m,v,l)):c>0?(EX(h,p,v,m,c),EX(h,p,m,v,c),EX(h,p,v,m,c),g=m):l>0&&(OX(h,p,v,m,l),OX(h,p,m,v,l),OX(h,p,v,m,l),g=m);for(var y=s?Math.pow(2,-2*o):1/bV(g),b=0,x=h*p;b<x;++b)g[b]*=y;return{values:g,scale:1<<o,width:h,height:p,x1:f,y1:d,x2:f+(i>>o),y2:d+(a>>o)}}return u.x=function(t){return arguments.length?(e=_X(t),u):e},u.y=function(e){return arguments.length?(t=_X(e),u):t},u.weight=function(e){return arguments.length?(n=_X(e),u):n},u.size=function(e){if(!arguments.length)return[i,a];var t=+e[0],n=+e[1];return t>=0&&n>=0||J_("invalid size"),i=t,a=n,u},u.cellSize=function(e){return arguments.length?((e=+e)>=1||J_("invalid cell size"),o=Math.floor(Math.log(e)/Math.LN2),u):1<<o},u.bandwidth=function(e){return arguments.length?(1===(e=Lk(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&J_("invalid bandwidth"),r=e,u):r},u}function EX(e,t,n,r,i){for(var a=1+(i<<1),o=0;o<t;++o)for(var u=0,s=0;u<e+i;++u)u<e&&(s+=n[u+o*e]),u>=i&&(u>=a&&(s-=n[u-a+o*e]),r[u-i+o*e]=s/Math.min(u+1,e-1+a-u,a))}function OX(e,t,n,r,i){for(var a=1+(i<<1),o=0;o<e;++o)for(var u=0,s=0;u<t+i;++u)u<t&&(s+=n[o+u*e]),u>=i&&(u>=a&&(s-=n[o+(u-a)*e]),r[o+(u-i)*e]=s/Math.min(u+1,t-1+a-u,a))}function SX(e){iT.call(this,null,e)}bX.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},iE(bX,iT,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||rk,a=pX().smooth(!1!==e.smooth),o=e.thresholds||function(e,t,n){var r=yX(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return sT(t(e).values)})))}(r,i,e),u=null===e.as?null:e.as||"contour",s=[];return r.forEach((function(t){var n=i(t),r=a.size([n.width,n.height])(n.values,vk(o)?o:o(n.values));!function(e,t,n,r){var i=r.scale||t.scale,a=r.translate||t.translate;qk(i)&&(i=i(n,r));qk(a)&&(a=a(n,r));if((1===i||null==i)&&!a)return;var o=(cE(i)?i:i[0])||1,u=(cE(i)?i:i[1])||1,s=a&&a[0]||0,c=a&&a[1]||0;e.forEach(xX(t,o,u,s,c))}(r,n,t,e),r.forEach((function(e){s.push(Ej(t,_j(null!=u?du({},u,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=s,n}}),SX.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var AX=["x","y","weight","size","cellSize","bandwidth"];function CX(e,t){return AX.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function DX(e){iT.call(this,null,e)}iE(SX,iT,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,a,o,u,s=[],c=function(e){return e(a)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(u=n[o=t.map(c)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(a);return s}(t.materialize(t.SOURCE).source,e.groupby),a=(e.groupby||[]).map(Y_),o=CX(kX(),e),u=e.as||"grid";return n=i.map((function(t){return _j(function(e,t){for(var n=0;n<a.length;++n)e[a[n]]=t[n];return e}(du({},u,o(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),DX.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},iE(DX,iT,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=pX().smooth(!1!==e.smooth),o=e.values,u=e.thresholds||yX(e.count||10,e.nice,!!o),s=e.size;return o||(o=t.materialize(t.SOURCE).source,r=xX(n=CX(kX(),e)(o,!0),n.scale||1,n.scale||1,0,0),s=[n.width,n.height],o=n.values),u=vk(u)?u:u(o),o=a.size(s)(o,u),r&&o.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(o||[]).map(_j),i}});var jX="Feature",TX="FeatureCollection";function FX(e){iT.call(this,null,e)}function PX(e){iT.call(this,null,e)}function MX(e){iT.call(this,null,e)}function NX(e){iT.call(this,null,e)}function RX(e){iT.call(this,[],e),this.generator=fX()}function IX(e){iT.call(this,null,e)}function BX(e){if(!qk(e))return!1;var t=EE(K_(e));return t.$x||t.$y||t.$value||t.$max}function zX(e){iT.call(this,null,e),this.modified(!0)}function LX(e,t,n){qk(e[t])&&e[t](n)}function UX(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,u,s,c,l,f,d,h=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(a=(v+g)/2))?v=a:g=a,(l=n>=(o=(m+y)/2))?m=o:y=o,i=h,!(h=h[f=l<<1|c]))return i[f]=p,e;if(u=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===u&&n===s)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(a=(v+g)/2))?v=a:g=a,(l=n>=(o=(m+y)/2))?m=o:y=o}while((f=l<<1|c)===(d=(s>=o)<<1|u>=a));return i[d]=h,i[f]=p,e}function qX(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function WX(e){return e[0]}function HX(e){return e[1]}function $X(e,t,n){var r=new VX(null==t?WX:t,null==n?HX:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function VX(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function GX(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}FX.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},iE(FX,iT,{transform:function(e,t){var n,r=this._features,i=this._points,a=e.fields,o=a&&a[0],u=a&&a[1],s=e.geojson||!a&&rk,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(K_(s))||o&&t.modified(K_(o))||u&&t.modified(K_(u)),this.value&&!n||(c=t.SOURCE,this._features=r=[],this._points=i=[]),s&&t.visit(c,(function(e){return r.push(s(e))})),o&&u&&(t.visit(c,(function(e){var t=o(e),n=u(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:jX,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:TX,features:r}}}),PX.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},iE(PX,iT,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||rk,a=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=oX(e.projection),n.materialize().reflow()):o=i===rk||t.modified(i.fields)?n.ADD_MOD:n.ADD;var u=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(o,(function(e){return e[a]=r(i(e))})),r.pointRadius(u),n.modifies(a)}}),MX.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},iE(MX,iT,{transform:function(e,t){var n,r=e.projection,i=e.fields[0],a=e.fields[1],o=e.as||["x","y"],u=o[0],s=o[1];function c(e){var t=r([i(e),a(e)]);t?(e[u]=t[0],e[s]=t[1]):(e[u]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(n=t.modified(i.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,c)),t.modifies(o)}}),NX.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},iE(NX,iT,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),a=e.pointRadius(n)(t(r));return e.pointRadius(i),a};return r.context=function(t){return e.context(t),r},r}(oX(e.projection),e.field||tk("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,(function(e){return e[i]=r})),n.modifies(i)}}),RX.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},iE(RX,iT,{transform:function(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(var a in e)qk(i[a])&&i[a](e[a]);return n=i(),r.length?t.mod.push(Oj(r[0],n)):t.add.push(_j(n)),r[0]=n,t}}),IX.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},iE(IX,iT,{transform:function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||rk,a=function(e,t){var n;qk(e)?(n=function(n){return e(n,t)},n.dep=BX(e)):e?n=Yk(e):(n=function(e){return e.$value/e.$max||0},n.dep=!0);return n}(e.opacity,e),o=function(e,t){var n;qk(e)?(n=function(n){return XN(e(n,t))},n.dep=BX(e)):n=Yk(XN(e||"#888"));return n}(e.color,e),u=e.as||"image",s={$x:0,$y:0,$value:0,$max:r?sT(n.map((function(e){return sT(i(e).values)}))):0};return n.forEach((function(e){var t=i(e),n=Xk({},e,s);r||(n.$max=sT(t.values||[])),e[u]=function(e,t,n,r){for(var i=e.width,a=e.height,o=e.x1||0,u=e.y1||0,s=e.x2||i,c=e.y2||a,l=e.values,f=l?function(e){return l[e]}:ik,d=nN(s-o,c-u),h=d.getContext("2d"),p=h.getImageData(0,0,s-o,c-u),v=p.data,m=u,g=0;m<c;++m){t.$y=m-u;for(var y=o,b=m*i;y<s;++y,g+=4){t.$x=y-o,t.$value=f(y+b);var x=n(t);v[g+0]=x.r,v[g+1]=x.g,v[g+2]=x.b,v[g+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}(t,n,o.dep?o:Yk(o(n)),a.dep?a:Yk(a(n)))})),t.reflow(!0).modifies(u)}}),iE(zX,iT,{transform:function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=aX((e||"mercator").toLowerCase());t||J_("Unrecognized projection type: "+e);return t()}(e.type),rX.forEach((function(t){null!=e[t]&&LX(n,t,e[t])}))):rX.forEach((function(t){e.modified(t)&&LX(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Lk(e)).length?e[0]:{type:TX,features:e.reduce((function(e,t){return e.concat(function(e){return e.type===TX?e.features:Lk(e).filter((function(e){return null!=e})).map((function(e){return e.type===jX?e:{type:jX,geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var YX=$X.prototype=VX.prototype;function KX(e){return function(){return e}}function XX(e){return 1e-6*(e()-.5)}function QX(e){return e.x+e.vx}function ZX(e){return e.y+e.vy}YX.copy=function(){var e,t,n=new VX(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=GX(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=GX(t));return n},YX.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return UX(this.cover(t,n),t,n,e)},YX.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),u=new Array(a),s=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,u[n]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),n=0;n<a;++n)UX(this,o[n],u[n],e[n]);return this},YX.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,u,s=i-n||1,c=this._root;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,(o=new Array(4))[u]=c,c=o,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},YX.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},YX.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},YX.find=function(e,t,n){var r,i,a,o,u,s,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new qX(v,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(i=s.x0)>d||(a=s.y0)>h||(o=s.x1)<l||(u=s.y1)<f))if(v.length){var m=(i+o)/2,g=(a+u)/2;p.push(new qX(v[3],m,g,o,u),new qX(v[2],i,g,m,u),new qX(v[1],m,a,o,g),new qX(v[0],i,a,m,g)),(c=(t>=g)<<1|e>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);l=e-w,f=t-w,d=e+w,h=t+w,r=v.data}}return r},YX.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,u,s,c,l,f,d,h=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((c=a>=(u=(p+m)/2))?p=u:m=u,(l=o>=(s=(v+g)/2))?v=s:g=s,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},YX.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},YX.root=function(){return this._root},YX.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},YX.visit=function(e){var t,n,r,i,a,o,u=[],s=this._root;for(s&&u.push(new qX(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&s.length){var c=(r+a)/2,l=(i+o)/2;(n=s[3])&&u.push(new qX(n,c,l,a,o)),(n=s[2])&&u.push(new qX(n,r,l,c,o)),(n=s[1])&&u.push(new qX(n,c,i,a,l)),(n=s[0])&&u.push(new qX(n,r,i,c,l))}return this},YX.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new qX(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,u=t.y0,s=t.x1,c=t.y1,l=(o+s)/2,f=(u+c)/2;(a=i[0])&&n.push(new qX(a,o,u,l,f)),(a=i[1])&&n.push(new qX(a,l,u,s,f)),(a=i[2])&&n.push(new qX(a,o,f,l,c)),(a=i[3])&&n.push(new qX(a,l,f,s,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},YX.x=function(e){return arguments.length?(this._x=e,this):this._x},YX.y=function(e){return arguments.length?(this._y=e,this):this._y};var JX={value:function(){}};function eQ(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new tQ(r)}function tQ(e){this._=e}function nQ(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function rQ(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function iQ(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=JX,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}tQ.prototype=eQ.prototype={constructor:tQ,on:function(e,t){var n,r=this._,i=nQ(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=iQ(r[n],e.name,t);else if(null==t)for(n in r)r[n]=iQ(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=rQ(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new tQ(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var aQ,oQ,uQ=eQ,sQ=0,cQ=0,lQ=0,fQ=0,dQ=0,hQ=0,pQ="object"===typeof performance&&performance.now?performance:Date,vQ="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mQ(){return dQ||(vQ(gQ),dQ=pQ.now()+hQ)}function gQ(){dQ=0}function yQ(){this._call=this._time=this._next=null}function bQ(e,t,n){var r=new yQ;return r.restart(e,t,n),r}function xQ(){dQ=(fQ=pQ.now())+hQ,sQ=cQ=0;try{!function(){mQ(),++sQ;for(var e,t=aQ;t;)(e=dQ-t._time)>=0&&t._call.call(null,e),t=t._next;--sQ}()}finally{sQ=0,function(){var e,t,n=aQ,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:aQ=t);oQ=e,_Q(r)}(),dQ=0}}function wQ(){var e=pQ.now(),t=e-fQ;t>1e3&&(hQ-=t,fQ=e)}function _Q(e){sQ||(cQ&&(cQ=clearTimeout(cQ)),e-dQ>24?(e<1/0&&(cQ=setTimeout(xQ,e-pQ.now()-hQ)),lQ&&(lQ=clearInterval(lQ))):(lQ||(fQ=pQ.now(),lQ=setInterval(wQ,1e3)),sQ=1,vQ(xQ)))}yQ.prototype=bQ.prototype={constructor:yQ,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?mQ():+n)+(null==t?0:+t),this._next||oQ===this||(oQ?oQ._next=this:aQ=this,oQ=this),this._call=e,this._time=n,_Q()},stop:function(){this._call&&(this._call=null,this._time=1/0,_Q())}};var kQ=4294967296;function EQ(e){return e.x}function OQ(e){return e.y}var SQ=Math.PI*(3-Math.sqrt(5));function AQ(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,u=new Map,s=bQ(f),c=uQ("tick","end"),l=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%kQ)/kQ}}();function f(){d(),c.call("tick",t),n<r&&(s.stop(),c.call("end",t))}function d(r){var s,c,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(a-n)*i,u.forEach((function(e){e(n)})),s=0;s<l;++s)null==(c=e[s]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*SQ;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return s.restart(f),t},stop:function(){return s.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),u.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(l=e,u.forEach(p),t):l},force:function(e,n){return arguments.length>1?(null==n?u.delete(e):u.set(e,p(n)),t):u.get(e)},find:function(t,n,r){var i,a,o,u,s,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(i=t-(u=e[c]).x)*i+(a=n-u.y)*a)<r&&(s=u,r=o);return s},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function CQ(e){return e.index}function DQ(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}var jQ={center:function(e,t){var n,r=1;function i(){var i,a,o=n.length,u=0,s=0;for(i=0;i<o;++i)u+=(a=n[i]).x,s+=a.y;for(u=(u/o-e)*r,s=(s/o-t)*r,i=0;i<o;++i)(a=n[i]).x-=u,a.y-=s}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i},collide:function(e){var t,n,r,i=1,a=1;function o(){for(var e,o,s,c,l,f,d,h=t.length,p=0;p<a;++p)for(o=$X(t,QX,ZX).visitAfter(u),e=0;e<h;++e)s=t[e],f=n[s.index],d=f*f,c=s.x+s.vx,l=s.y+s.vy,o.visit(v);function v(e,t,n,a,o){var u=e.data,h=e.r,p=f+h;if(!u)return t>c+p||a<c-p||n>l+p||o<l-p;if(u.index>s.index){var v=c-u.x-u.vx,m=l-u.y-u.vy,g=v*v+m*m;g<p*p&&(0===v&&(g+=(v=XX(r))*v),0===m&&(g+=(m=XX(r))*m),g=(p-(g=Math.sqrt(g)))/g*i,s.vx+=(v*=g)*(p=(h*=h)/(d+h)),s.vy+=(m*=g)*p,u.vx-=v*(p=1-p),u.vy-=m*p)}}}function u(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=KX(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,s()},o.iterations=function(e){return arguments.length?(a=+e,o):a},o.strength=function(e){return arguments.length?(i=+e,o):i},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:KX(+t),s(),o):e},o},nbody:function(){var e,t,n,r,i,a=KX(-30),o=1,u=1/0,s=.81;function c(n){var i,a=e.length,o=$X(e,EQ,OQ).visitAfter(f);for(r=n,i=0;i<a;++i)t=e[i],o.visit(d)}function l(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function f(e){var t,n,r,a,o,u=0,s=0;if(e.length){for(r=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(u+=t.value,s+=n,r+=n*t.x,a+=n*t.y);e.x=r/s,e.y=a/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=i[t.data.index]}while(t=t.next)}e.value=u}function d(e,a,c,l){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,h=l-a,p=f*f+d*d;if(h*h/s<p)return p<u&&(0===f&&(p+=(f=XX(n))*f),0===d&&(p+=(d=XX(n))*d),p<o&&(p=Math.sqrt(o*p)),t.vx+=f*e.value*r/p,t.vy+=d*e.value*r/p),!0;if(!(e.length||p>=u)){(e.data!==t||e.next)&&(0===f&&(p+=(f=XX(n))*f),0===d&&(p+=(d=XX(n))*d),p<o&&(p=Math.sqrt(o*p)));do{e.data!==t&&(h=i[e.data.index]*r/p,t.vx+=f*h,t.vy+=d*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,l()},c.strength=function(e){return arguments.length?(a="function"===typeof e?e:KX(+e),l(),c):a},c.distanceMin=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.distanceMax=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c},link:function(e){var t,n,r,i,a,o,u=CQ,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=KX(30),l=1;function f(r){for(var i=0,u=e.length;i<l;++i)for(var s,c,f,d,h,p,v,m=0;m<u;++m)c=(s=e[m]).source,d=(f=s.target).x+f.vx-c.x-c.vx||XX(o),h=f.y+f.vy-c.y-c.vy||XX(o),d*=p=((p=Math.sqrt(d*d+h*h))-n[m])/p*r*t[m],h*=p,f.vx-=d*(v=a[m]),f.vy-=h*v,c.vx+=d*(v=1-v),c.vy+=h*v}function d(){if(r){var o,s,c=r.length,l=e.length,f=new Map(r.map((function(e,t){return[u(e,t,r),e]})));for(o=0,i=new Array(c);o<l;++o)(s=e[o]).index=o,"object"!==typeof s.source&&(s.source=DQ(f,s.source)),"object"!==typeof s.target&&(s.target=DQ(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(o=0,a=new Array(l);o<l;++o)s=e[o],a[o]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);t=new Array(l),h(),n=new Array(l),p()}}function h(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,o=t,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(l=+e,f):l},f.strength=function(e){return arguments.length?(s="function"===typeof e?e:KX(+e),h(),f):s},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:KX(+e),p(),f):c},f},x:function(e){var t,n,r,i=KX(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=KX(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:KX(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:KX(+t),o(),a):e},a},y:function(e){var t,n,r,i=KX(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=KX(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:KX(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:KX(+t),o(),a):e},a}},TQ="forces",FQ=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],PQ=["static","iterations"],MQ=["x","y","vx","vy"];function NQ(e){iT.call(this,null,e)}function RQ(e,t,n,r){var i,a,o,u,s=Lk(t.forces);for(i=0,a=FQ.length;i<a;++i)(o=FQ[i])!==TQ&&t.modified(o)&&e[o](t[o]);for(i=0,a=s.length;i<a;++i)u=TQ+i,(o=n||t.modified(TQ,i)?BQ(s[i]):r&&IQ(s[i],r)?e.force(u):null)&&e.force(u,o);for(a=e.numForces||0;i<a;++i)e.force(TQ+i,null);return e.numForces=s.length,e}function IQ(e,t){var n,r;for(n in e)if(qk(r=e[n])&&t.modified(K_(r)))return 1;return 0}function BQ(e){var t,n;for(n in eE(jQ,e.force)||J_("Unrecognized force: "+e.force),t=jQ[e.force](),e)qk(t[n])&&zQ(t[n],e[n],e);return t}function zQ(e,t,n){e(qk(t)?function(e){return t(e,n)}:t)}function LQ(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}NQ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:MQ}]},iE(NQ,iT,{transform:function(e,t){var n,r,i=this.value,a=t.changed(t.ADD_REM),o=e.modified(FQ),u=e.iterations||300;if(i?(a&&(t.modifies("index"),i.nodes(t.source)),(o||t.changed(t.MOD))&&RQ(i,e,0,t)):(this.value=i=function(e,t){var n=AQ(e),r=n.stop,i=n.restart,a=!1;return n.stopped=function(){return a},n.restart=function(){return a=!1,i()},n.stop=function(){return a=!0,r()},RQ(n,t,!0).on("end",(function(){return a=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){return n.touch(r).run()})),e.static||(a=!0,i.tick()),t.modifies("index")),o||a||e.modified(PQ)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/u)),e.static)for(i.stop();--u>=0;)i.tick();else if(i.stopped()&&i.restart(),!a)return t.StopPropagation;return this.finish(e,t)},finish:function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if((n=i[a]).name===TQ&&"link"===n.op._argval.force)for(var u,s=n.op._argops,c=0,l=s.length;c<l;++c)if("links"===s[c].name&&(u=s[c].op.source)){r.pulse(u,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(MQ)}});var UQ=iu().mark(qQ);function qQ(){var e,t,n,r,i,a;return iu().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=[e=this];case 1:t=n.reverse(),n=[];case 2:if(!(e=t.pop())){o.next=8;break}return o.next=5,e;case 5:if(r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);o.next=2;break;case 8:if(n.length){o.next=1;break}case 9:case"end":return o.stop()}}),UQ,this)}function WQ(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=$Q)):void 0===t&&(t=HQ);for(var n,r,i,a,o,u=new YQ(e),s=[u];n=s.pop();)if((i=t(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)s.push(r=i[a]=new YQ(i[a])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(GQ)}function HQ(e){return e.children}function $Q(e){return Array.isArray(e)?e[1]:null}function VQ(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function GQ(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function YQ(e){this.data=e,this.depth=this.height=0,this.parent=null}function KQ(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Array.from(e))).length,a=[];r<i;)t=e[r],n&&ZQ(n,t)?++r:(n=eZ(a=XQ(a,t)),r=0);return n}function XQ(e,t){var n,r;if(JQ(t,e))return[t];for(n=0;n<e.length;++n)if(QQ(t,e[n])&&JQ(tZ(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(QQ(tZ(e[n],e[r]),t)&&QQ(tZ(e[n],t),e[r])&&QQ(tZ(e[r],t),e[n])&&JQ(nZ(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function QQ(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function ZQ(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function JQ(e,t){for(var n=0;n<t.length;++n)if(!ZQ(e,t[n]))return!1;return!0}function eZ(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return tZ(e[0],e[1]);case 3:return nZ(e[0],e[1],e[2])}}function tZ(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,u=t.r,s=a-n,c=o-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(n+a+s/f*l)/2,y:(r+o+c/f*l)/2,r:(f+i+u)/2}}function nZ(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,u=t.y,s=t.r,c=n.x,l=n.y,f=n.r,d=r-o,h=r-c,p=i-u,v=i-l,m=s-a,g=f-a,y=r*r+i*i-a*a,b=y-o*o-u*u+s*s,x=y-c*c-l*l+f*f,w=h*p-d*v,_=(p*x-v*b)/(2*w)-r,k=(v*m-p*g)/w,E=(h*b-d*x)/(2*w)-i,O=(d*g-h*m)/w,S=k*k+O*O-1,A=2*(a+_*k+E*O),C=_*_+E*E-a*a,D=-(S?(A+Math.sqrt(A*A-4*S*C))/(2*S):C/A);return{x:r+_+k*D,y:i+E+O*D,r:D}}function rZ(e,t,n){var r,i,a,o,u=e.x-t.x,s=e.y-t.y,c=u*u+s*s;c?(i=t.r+n.r,i*=i,o=e.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=e.x-r*u-a*s,n.y=e.y-r*s+a*u):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*u-a*s,n.y=t.y+r*s+a*u)):(n.x=t.x+n.r,n.y=t.y)}function iZ(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function aZ(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function oZ(e){this._=e,this.next=null,this.previous=null}function uZ(e){if(!(i=(e=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var t,n,r,i,a,o,u,s,c,l,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;rZ(n,t,r=e[2]),t=new oZ(t),n=new oZ(n),r=new oZ(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(u=3;u<i;++u){rZ(t._,n._,r=e[u]),r=new oZ(r),s=n.next,c=t.previous,l=n._.r,f=t._.r;do{if(l<=f){if(iZ(s._,r._)){n=s,t.next=n,n.previous=t,--u;continue e}l+=s._.r,s=s.next}else{if(iZ(c._,r._)){(t=c).next=n,n.previous=t,--u;continue e}f+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=aZ(t);(r=r.next)!==n;)(o=aZ(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=KQ(t),u=0;u<i;++u)(t=e[u]).x-=r.x,t.y-=r.y;return r.r}function sZ(e){return null==e?null:cZ(e)}function cZ(e){if("function"!==typeof e)throw new Error;return e}function lZ(){return 0}function fZ(e){return function(){return e}}function dZ(e){return Math.sqrt(e.value)}function hZ(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function pZ(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,u=e(n)*t||0;if(u)for(i=0;i<o;++i)r[i].r+=u;if(a=uZ(r),u)for(i=0;i<o;++i)r[i].r-=u;n.r=a+u}}}function vZ(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function mZ(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function gZ(e,t,n,r,i){for(var a,o=e.children,u=-1,s=o.length,c=e.value&&(r-t)/e.value;++u<s;)(a=o[u]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*c}YQ.prototype=WQ.prototype=du({constructor:YQ,count:function(){return this.eachAfter(LQ)},each:function(e,t){var n,r=-1,i=S(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.call(t,a,++r,this)}}catch(o){i.e(o)}finally{i.f()}return this},eachAfter:function(e,t){for(var n,r,i,a=this,o=[a],u=[],s=-1;a=o.pop();)if(u.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=u.pop();)e.call(t,a,++s,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(e.call(t,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){var n,r=-1,i=S(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(e.call(t,a,++r,this))return a}}catch(o){i.e(o)}finally{i.f()}},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return WQ(this).eachBefore(VQ)}},Symbol.iterator,qQ);var yZ={depth:-1},bZ={};function xZ(e){return e.id}function wZ(e){return e.parentId}function _Z(){var e=xZ,t=wZ;function n(n){var r,i,a,o,u,s,c,l=Array.from(n),f=l.length,d=new Map;for(i=0;i<f;++i)r=l[i],u=l[i]=new YQ(r),null!=(s=e(r,i,n))&&(s+="")&&(c=u.id=s,d.set(c,d.has(c)?bZ:u)),null!=(s=t(r,i,n))&&(s+="")&&(u.parent=s);for(i=0;i<f;++i)if(s=(u=l[i]).parent){if(!(o=d.get(s)))throw new Error("missing: "+s);if(o===bZ)throw new Error("ambiguous: "+s);o.children?o.children.push(u):o.children=[u],u.parent=o}else{if(a)throw new Error("multiple roots");a=u}if(!a)throw new Error("no root");if(a.parent=yZ,a.eachBefore((function(e){e.depth=e.parent.depth+1,--f})).eachBefore(GQ),a.parent=null,f>0)throw new Error("cycle");return a}return n.id=function(t){return arguments.length?(e=cZ(t),n):e},n.parentId=function(e){return arguments.length?(t=cZ(e),n):t},n}function kZ(e,t){return e.parent===t.parent?1:2}function EZ(e){var t=e.children;return t?t[0]:e.t}function OZ(e){var t=e.children;return t?t[t.length-1]:e.t}function SZ(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function AZ(e,t,n){return e.a.parent===t.parent?e.a:n}function CZ(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function DZ(e,t){return e.parent===t.parent?1:2}function jZ(e,t){return e+t.x}function TZ(e,t){return Math.max(e,t.y)}function FZ(e,t,n,r,i){for(var a,o=e.children,u=-1,s=o.length,c=e.value&&(i-n)/e.value;++u<s;)(a=o[u]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*c}CZ.prototype=Object.create(YQ.prototype);var PZ=(1+Math.sqrt(5))/2;function MZ(e,t,n,r,i,a){for(var o,u,s,c,l,f,d,h,p,v,m,g=[],y=t.children,b=0,x=0,w=y.length,_=t.value;b<w;){s=i-n,c=a-r;do{l=y[x++].value}while(!l&&x<w);for(f=d=l,m=l*l*(v=Math.max(c/s,s/c)/(_*e)),p=Math.max(d/m,m/f);x<w;++x){if(l+=u=y[x].value,u<f&&(f=u),u>d&&(d=u),m=l*l*v,(h=Math.max(d/m,m/f))>p){l-=u;break}p=h}g.push(o={value:l,dice:s<c,children:y.slice(b,x)}),o.dice?gZ(o,n,r,i,_?r+=c*l/_:a):FZ(o,n,r,_?n+=s*l/_:i,a),_-=l,b=x}return g}var NZ=function e(t){function n(e,n,r,i,a){MZ(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(PZ),RZ=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,u,s,c,l,f=-1,d=o.length,h=e.value;++f<d;){for(s=(u=o[f]).children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?gZ(u,n,r,i,h?r+=(a-r)*u.value/h:a):FZ(u,n,r,h?n+=(i-n)*u.value/h:i,a),h-=u.value}else e._squarify=o=MZ(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(PZ);function IZ(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}function BZ(e){iT.call(this,null,e)}BZ.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var zZ=function(e){return e.values};function LZ(){var e=[],t={entries:function(e){return r(n(e,0),0)},key:function(n){return e.push(n),t}};function n(t,r){if(r>=e.length)return t;for(var i,a,o,u=t.length,s=e[r++],c={},l={},f=-1;++f<u;)(o=c[i=s(a=t[f])+""])?o.push(a):c[i]=[a];for(i in c)l[i]=n(c[i],r);return l}function r(t,n){if(++n>e.length)return t;var i=[];for(var a in t)i.push({key:a,values:r(t[a],n)});return i}return t}function UZ(e){iT.call(this,null,e)}iE(BZ,iT,{transform:function(e,t){t.source||J_("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each((function(e){e.children&&bj(e.data)&&i.rem.push(e.data)})),this.value=a=WQ({values:Lk(e.keys).reduce((function(e,t){return e.key(t),e}),LZ()).entries(i.source)},zZ),n&&a.each((function(e){e.children&&(e=_j(e.data),i.add.push(e),i.source.push(e))})),IZ(a,xj,xj)),i.source.root=a,i}});var qZ=function(e,t){return e.parent===t.parent?1:2};iE(UZ,iT,{transform:function(e,t){t.source&&t.source.root||J_(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Sj(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,i=0,a=t.length;i<a;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?qZ:ak);try{this.value=n(i)}catch(o){J_(o)}return i.each((function(e){return function(e,t,n){for(var r=e.data,i=t.length-1,a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}(e,r,a)})),t.reflow(e.modified()).modifies(a).modifies("leaf")}});var WZ=["x","y","r","depth","children"];function HZ(e){UZ.call(this,e)}HZ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:WZ.length,default:WZ}]},iE(HZ,UZ,{layout:function(){var e=null,t=1,n=1,r=lZ;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(hZ(e)).eachAfter(pZ(r,.5)).eachBefore(vZ(1)):i.eachBefore(hZ(dZ)).eachAfter(pZ(lZ,1)).eachAfter(pZ(r,i.r/Math.min(t,n))).eachBefore(vZ(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=sZ(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:fZ(+e),i):r},i},params:["radius","size","padding"],fields:WZ});var $Z=["x0","y0","x1","y1","depth","children"];function VZ(e){UZ.call(this,e)}function GZ(e){iT.call(this,null,e)}VZ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:$Z.length,default:$Z}]},iE(VZ,UZ,{layout:function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&gZ(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,u=r.y1-n;o<i&&(i=o=(i+o)/2),u<a&&(a=u=(a+u)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=u}}(t,a)),r&&i.eachBefore(mZ),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},params:["size","round","padding"],fields:$Z}),GZ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},iE(GZ,iT,{transform:function(e,t){t.source||J_("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?IZ(_Z().id(e.key).parentId(e.parentKey)(i.source),e.key,ok):IZ(_Z()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});var YZ={tidy:function(){var e=kZ,t=1,n=1,r=null;function i(i){var s=function(e){for(var t,n,r,i,a,o=new CZ(e,0),u=[o];t=u.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)u.push(n=t.children[i]=new CZ(r[i],i)),n.parent=t;return(o.parent=new CZ(null,0)).children=[o],o}(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(u);else{var c=i,l=i,f=i;i.eachBefore((function(e){e.x<c.x&&(c=e),e.x>l.x&&(l=e),e.depth>f.depth&&(f=e)}));var d=c===l?1:e(c,l)/2,h=d-c.x,p=t/(l.x+d+h),v=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*v}))}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,u=n,s=a.parent.children[0],c=a.m,l=o.m,f=u.m,d=s.m;u=OZ(u),a=EZ(a),u&&a;)s=EZ(s),(o=OZ(o)).a=t,(i=u.z+f-a.z-c+e(u._,a._))>0&&(SZ(AZ(u,t,r),t,i),c+=i,l+=i),f+=u.m,c+=a.m,d+=s.m,l+=o.m;u&&!OZ(o)&&(o.t=u,o.m+=f-l),a&&!EZ(s)&&(s.t=a,s.m+=c-d,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=DZ,t=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(jZ,0)/e.length}(n),t.y=function(e){return 1+e.reduce(TZ,0)}(n)):(t.x=a?o+=e(t,a):0,t.y=0,a=t)}));var u=function(e){for(var t;t=e.children;)e=t[0];return e}(i),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=u.x-e(u,s)/2,l=s.x+e(s,u)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(l-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},KZ=["x","y","depth","children"];function XZ(e){UZ.call(this,e)}function QZ(e){iT.call(this,[],e)}XZ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:KZ.length,default:KZ}]},iE(XZ,UZ,{layout:function(e){var t=e||"tidy";if(eE(YZ,t))return YZ[t]();J_("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:KZ}),QZ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},iE(QZ,iT,{transform:function(e,t){var n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||J_("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(function(e){return a[xj(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&a[xj(t)]&&a[xj(n)]&&i.add.push(_j({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){return a[xj(e)]=1})),n.forEach((function(e){(a[xj(e.source)]||a[xj(e.target)])&&i.mod.push(e)}))),i}});var ZZ={binary:function(e,t,n,r,i){var a,o,u=e.children,s=u.length,c=new Array(s+1);for(c[0]=o=a=0;a<s;++a)c[a+1]=o+=u[a].value;!function e(t,n,r,i,a,o,s){if(t>=n-1){var l=u[t];return l.x0=i,l.y0=a,l.x1=o,void(l.y1=s)}var f=c[t],d=r/2+f,h=t+1,p=n-1;for(;h<p;){var v=h+p>>>1;c[v]<d?h=v+1:p=v}d-c[h-1]<c[h]-d&&t+1<h&&--h;var m=c[h]-f,g=r-m;if(o-i>s-a){var y=r?(i*g+o*m)/r:o;e(t,h,m,i,a,y,s),e(h,n,g,y,a,o,s)}else{var b=r?(a*g+s*m)/r:s;e(t,h,m,i,a,o,b),e(h,n,g,i,b,o,s)}}(0,s,e.value,t,n,r,i)},dice:gZ,slice:FZ,slicedice:function(e,t,n,r,i){(1&e.depth?FZ:gZ)(e,t,n,r,i)},squarify:NZ,resquarify:RZ},JZ=["x0","y0","x1","y1","depth","children"];function eJ(e){UZ.call(this,e)}eJ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:JZ.length,default:JZ}]},iE(eJ,UZ,{layout:function(){var e=function(){var e=NZ,t=!1,n=1,r=1,i=[0],a=lZ,o=lZ,u=lZ,s=lZ,c=lZ;function l(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(mZ),e}function f(t){var n=i[t.depth],r=t.x0+n,l=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=a(t)/2,r+=c(t)-n,l+=o(t)-n,(f-=u(t)-n)<r&&(r=f=(r+f)/2),(d-=s(t)-n)<l&&(l=d=(l+d)/2),e(t,r,l,f,d))}return l.round=function(e){return arguments.length?(t=!!e,l):t},l.size=function(e){return arguments.length?(n=+e[0],r=+e[1],l):[n,r]},l.tile=function(t){return arguments.length?(e=cZ(t),l):e},l.padding=function(e){return arguments.length?l.paddingInner(e).paddingOuter(e):l.paddingInner()},l.paddingInner=function(e){return arguments.length?(a="function"===typeof e?e:fZ(+e),l):a},l.paddingOuter=function(e){return arguments.length?l.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):l.paddingTop()},l.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:fZ(+e),l):o},l.paddingRight=function(e){return arguments.length?(u="function"===typeof e?e:fZ(+e),l):u},l.paddingBottom=function(e){return arguments.length?(s="function"===typeof e?e:fZ(+e),l):s},l.paddingLeft=function(e){return arguments.length?(c="function"===typeof e?e:fZ(+e),l):c},l}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){eE(ZZ,t)?e.tile(ZZ[t]):J_("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:JZ});function tJ(e,t,n,r){var i=e.width,a=e.height,o=n||r,u=nN(i,a).getContext("2d");t.forEach((function(e){return nJ(u,e,o)}));var s,c,l,f,d,h=new Uint32Array(u.getImageData(0,0,i,a).data.buffer),p=e.bitmap(),v=o&&e.bitmap();for(c=0;c<a;++c)for(s=0;s<i;++s)(d=4278190080&h[c*i+s])&&(l=e(s),f=e(c),r||p.set(l,f),o&&268435456^d&&v.set(l,f));return[p,v]}function nJ(e,t,n){if(t.length){var r=t[0].mark.marktype;"group"===r?t.forEach((function(t){t.items.forEach((function(t){return nJ(e,t.items,n)}))})):kW[r].draw(e,{items:n?t.map(rJ):t})}}function rJ(e){var t=Ej(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=.0625,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}var iJ=31,aJ=new Uint32Array(33),oJ=new Uint32Array(33);oJ[0]=0,aJ[0]=~oJ[0];for(var uJ=1;uJ<=32;++uJ)oJ[uJ]=oJ[uJ-1]<<1|1,aJ[uJ]=~oJ[uJ];function sJ(e,t,n){var r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),o=function(e){return~~((e+n)/r)};return o.invert=function(e){return e*r-n},o.bitmap=function(){return function(e,t){var n=new Uint32Array(~~((e*t+32)/32));function r(e,t){n[e]|=t}function i(e,t){n[e]&=t}return{array:n,get:function(t,r){var i=r*e+t;return n[i>>>5]&1<<(i&iJ)},set:function(t,n){var i=n*e+t;r(i>>>5,1<<(i&iJ))},clear:function(t,n){var r=n*e+t;i(r>>>5,~(1<<(r&iJ)))},getRange:function(t,r,i,a){for(var o,u,s,c,l=a;l>=r;--l)if((s=(o=l*e+t)>>>5)===(c=(u=l*e+i)>>>5)){if(n[s]&aJ[o&iJ]&oJ[1+(u&iJ)])return!0}else{if(n[s]&aJ[o&iJ])return!0;if(n[c]&oJ[1+(u&iJ)])return!0;for(var f=s+1;f<c;++f)if(n[f])return!0}return!1},setRange:function(t,n,i,a){for(var o,u,s,c,l;n<=a;++n)if((s=(o=n*e+t)>>>5)===(c=(u=n*e+i)>>>5))r(s,aJ[o&iJ]&oJ[1+(u&iJ)]);else for(r(s,aJ[o&iJ]),r(c,oJ[1+(u&iJ)]),l=s+1;l<c;++l)r(l,4294967295)},clearRange:function(t,n,r,a){for(var o,u,s,c,l;n<=a;++n)if((s=(o=n*e+t)>>>5)===(c=(u=n*e+r)>>>5))i(s,oJ[o&iJ]|aJ[1+(u&iJ)]);else for(i(s,oJ[o&iJ]),i(c,aJ[1+(u&iJ)]),l=s+1;l<c;++l)i(l,0)},outOfBounds:function(n,r,i,a){return n<0||r<0||a>=t||i>=e}}}(i,a)},o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function cJ(e,t,n,r,i,a){var o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>a}function lJ(){return!1}function fJ(e,t,n,r,i,a,o,u){var s=i*a/(2*r),c=e(t-s),l=e(t+s),f=e(n-(a/=2)),d=e(n+a);return o.outOfBounds(c,f,l,d)||o.getRange(c,f,l,d)||u&&u.getRange(c,f,l,d)}function dJ(e,t,n,r,i,a,o,u){var s=i*a/(2*r),c=e(t-s),l=e(t+s),f=e(n-(a/=2)),d=e(n+a);return c=c>0?c:0,f=f>0?f:0,l=l<e.width?l:e.width-1,d=d<e.height?d:e.height-1,o.getRange(c,f,l,d)||u&&u.getRange(c,f,l,d)}function hJ(e){return e?[dJ,lJ]:[fJ,cJ]}var pJ=[-1,-1,1,1],vJ=[-1,1,-1,1];var mJ=["right","center","left"],gJ=["bottom","middle","top"];function yJ(e,t,n,r,i,a,o,u,s,c,l,f){return!(i.outOfBounds(e,n,t,r)||(f&&a?a.getRange(e,n,t,r)||!function(e,t,n,r,i){return i[0]<=e&&n<=i[2]&&i[3]<=t&&r<=i[5]}(o,s,u,c,l):i.getRange(e,n,t,r)))}var bJ={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},xJ={naive:function(e,t,n,r){var i=e.width,a=e.height;return function(e){for(var t,n,o,u,s,c,l,f=e.datum.datum.items[r].items,d=f.length,h=e.datum.fontSize,p=rW.width(e.datum,e.datum.text),v=0,m=0;m<d;++m)t=f[m].x,o=f[m].y,s=(t+(n=void 0===f[m].x2?t:f[m].x2))/2,c=(o+(u=void 0===f[m].y2?o:f[m].y2))/2,(l=Math.abs(n-t+u-o))>=v&&(v=l,e.x=s,e.y=c);return s=p/2,c=h/2,t=e.x-s,n=e.x+s,o=e.y-c,u=e.y+c,e.align="center",t<0&&n<=i?e.align="left":0<=t&&i<n&&(e.align="right"),e.baseline="middle",o<0&&u<=a?e.baseline="top":0<=o&&a<u&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,r,i){var a=e.width,o=e.height,u=D(hJ(i),2),s=u[0],c=u[1],l=t[0],f=t[1];function d(t,n,r,i,u){var d,h=e.invert(t),p=e.invert(n),v=r,m=o;if(!c(h,p,i,u,a,o)&&!s(e,h,p,u,i,v,l,f)&&!s(e,h,p,u,i,u,l,null)){for(;m-v>=1;)s(e,h,p,u,i,d=(v+m)/2,l,f)?m=d:v=d;if(v>r)return[h,p,v,!0]}}return function(t){for(var i,u,f,h,p,v,m,g,y,b,x,w,_,k,E,O,S,A=t.datum.datum.items[r].items,C=A.length,j=t.datum.fontSize,T=rW.width(t.datum,t.datum.text),F=n?j:0,P=!1,M=!1,N=0,R=0;R<C;++R){for(i=A[R].x,f=A[R].y,i>(u=void 0===A[R].x2?i:A[R].x2)&&(S=i,i=u,u=S),f>(h=void 0===A[R].y2?f:A[R].y2)&&(S=f,f=h,h=S),b=~~(((y=e(i))+(x=e(u)))/2),_=~~(((w=e(f))+(k=e(h)))/2),m=b;m>=y;--m)for(g=_;g>=w;--g)if(O=d(m,g,F,T,j)){var I=D(O,4);t.x=I[0],t.y=I[1],F=I[2],P=I[3]}for(m=b;m<=x;++m)for(g=_;g<=k;++g)if(O=d(m,g,F,T,j)){var B=D(O,4);t.x=B[0],t.y=B[1],F=B[2],P=B[3]}P||n||(p=(i+u)/2,v=(f+h)/2,(E=Math.abs(u-i+h-f))>=N&&!c(p,v,T,j,a,o)&&!s(e,p,v,j,T,j,l,null)&&(N=E,t.x=p,t.y=v,M=!0))}return!(!P&&!M)&&(p=T/2,v=j/2,l.setRange(e(t.x-p),e(t.y-v),e(t.x+p),e(t.y+v)),t.align="center",t.baseline="middle",!0)}},floodfill:function(e,t,n,r,i){var a=e.width,o=e.height,u=D(hJ(i),2),s=u[0],c=u[1],l=t[0],f=t[1],d=e.bitmap();return function(t){for(var i,u,h,p,v,m,g,y,b,x,w,_,k=t.datum.datum.items[r].items,E=k.length,O=t.datum.fontSize,S=rW.width(t.datum,t.datum.text),A=[],C=n?O:0,j=!1,T=!1,F=0,P=0;P<E;++P){for(i=k[P].x,h=k[P].y,u=void 0===k[P].x2?i:k[P].x2,p=void 0===k[P].y2?h:k[P].y2,A.push([e((i+u)/2),e((h+p)/2)]);A.length;){var M=D(A.pop(),2);if(g=M[0],y=M[1],!(l.get(g,y)||f.get(g,y)||d.get(g,y))){d.set(g,y);for(var N=0;N<4;++N)v=g+pJ[N],m=y+vJ[N],d.outOfBounds(v,m,v,m)||A.push([v,m]);if(v=e.invert(g),m=e.invert(y),b=C,x=o,!c(v,m,S,O,a,o)&&!s(e,v,m,O,S,b,l,f)&&!s(e,v,m,O,S,O,l,null)){for(;x-b>=1;)s(e,v,m,O,S,w=(b+x)/2,l,f)?x=w:b=w;b>C&&(t.x=v,t.y=m,C=b,j=!0)}}}j||n||(v=(i+u)/2,m=(h+p)/2,(_=Math.abs(u-i+p-h))>=F&&!c(v,m,S,O,a,o)&&!s(e,v,m,O,S,O,l,null)&&(F=_,t.x=v,t.y=m,T=!0))}return!(!j&&!T)&&(v=S/2,m=O/2,l.setRange(e(t.x-v),e(t.y-m),e(t.x+v),e(t.y+m)),t.align="center",t.baseline="middle",!0)}}};function wJ(e,t,n,r,i,a,o,u,s,c,l){if(!e.length)return e;var f,d,h=Math.max(r.length,i.length),p=function(e,t){for(var n=new Float64Array(t),r=e.length,i=0;i<r;++i)n[i]=e[i]||0;for(var a=r;a<t;++a)n[a]=n[r-1];return n}(r,h),v=function(e,t){for(var n=new Int8Array(t),r=e.length,i=0;i<r;++i)n[i]|=bJ[e[i]];for(var a=r;a<t;++a)n[a]=n[r-1];return n}(i,h),m=(f=e[0].datum)&&f.mark&&f.mark.marktype,g="group"===m&&e[0].datum.items[s].marktype,y="area"===g,b=function(e,t,n,r){var i=function(e){return[e.x,e.x,e.x,e.y,e.y,e.y]};return e?"line"===e||"area"===e?function(e){return i(e.datum)}:"line"===t?function(e){var t=e.datum.items[r].items;return i(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:function(e){var t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:i}(m,g,u,s),x=null===c||c===1/0,w=sJ(t[0],t[1],x?0:c),_=y&&"naive"===l,k=e.map((function(e){return{datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:b(e)}}));if(!_){n&&k.sort((function(e,t){return n(e.datum,t.datum)}));for(var E=!1,O=0;O<v.length&&!E;++O)E=5===v[O]||p[O]<0;m&&(o||y)&&(a=[e.map((function(e){return e.datum}))].concat(a)),d=a.length?tJ(w,a,E,y):function(e,t){var n=e.bitmap();return(t||[]).forEach((function(t){return n.set(e(t.boundary[0]),e(t.boundary[3]))})),[n,void 0]}(w,o&&k)}var S=y?xJ[l](w,d,o,s,x):function(e,t,n,r,i){var a=e.width,o=e.height,u=t[0],s=t[1],c=r.length;return function(t){var l=t.boundary,f=t.datum.fontSize;if(!i&&(l[2]<0||l[5]<0||l[0]>a||l[3]>o))return!1;for(var d,h,p,v,m,g,y,b,x,w,_,k,E,O,S,A=0,C=0;C<c;++C){if(d=(3&n[C])-1,h=(n[C]>>>2&3)-1,p=0===d&&0===h||r[C]<0,v=d&&h?Math.SQRT1_2:1,m=r[C]<0?-1:1,g=l[1+d]+r[C]*d*v,b=(_=l[4+h]+m*f*h/2+r[C]*h*v)-f/2,x=_+f/2,k=e(g),O=e(b),S=e(x),i&&(k=k<0?0:k,O=O<0?0:O,S=S>=e.height?e.height-1:S),!A){if(!yJ(k,k,O,S,u,s,g,g,b,x,l,p))continue;A=rW.width(t.datum,t.datum.text)}if(y=(w=g+m*A*d/2)+A/2,k=e(g=w-A/2),E=e(y),i&&(k=k<0?0:k,E=E>=e.width?e.width-1:E),yJ(k,E,O,S,u,s,g,y,b,x,l,p))return t.x=d?d*m<0?y:g:w,t.y=h?h*m<0?x:b:_,t.align=mJ[d*m+1],t.baseline=gJ[h*m+1],u.setRange(k,O,E,S),!0}return!1}}(w,d,v,p,x);return k.forEach((function(e){return e.opacity=+S(e)})),k}var _J=["x","y","opacity","align","baseline"],kJ=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function EJ(e){iT.call(this,null,e)}function OJ(e,t){var n,r,i,a,o,u,s=[],c=function(e){return e(a)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(u=n[o=t.map(c)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(a);return s}function SJ(e){iT.call(this,null,e)}EJ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:kJ},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:_J.length,default:_J}]},iE(EJ,iT,{transform:function(e,t){var n=e.modified();if(n||t.changed(t.ADD_REM)||function(n){var r=e[n];return qk(r)&&t.modified(r.fields)}("sort")){e.size&&2===e.size.length||J_("Size parameter should be specified as a [width, height] array.");var r=e.as||_J;return wJ(t.materialize(t.SOURCE).source||[],e.size,e.sort,Lk(null==e.offset?1:e.offset),Lk(e.anchor||kJ),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach((function(e){var t=e.datum;t[r[0]]=e.x,t[r[1]]=e.y,t[r[2]]=e.opacity,t[r[3]]=e.align,t[r[4]]=e.baseline})),t.reflow(n).modifies(r)}}}),SJ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},iE(SJ,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=OJ(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(Y_),a=i.length,o=e.as||[Y_(e.x),Y_(e.y)],u=[];r.forEach((function(t){sF(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<a;++r)n[i[r]]=t.dims[r];n[o[0]]=e[0],n[o[1]]=e[1],u.push(_j(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});var AJ={linear:tF,log:nF,exp:rF,pow:iF,quad:aF,poly:oF};function CJ(e){iT.call(this,null,e)}CJ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(AJ)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},iE(CJ,iT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=OJ(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(Y_),a=e.method||"linear",o=e.order||3,u=function(e,t){return"poly"===e?t:"quad"===e?2:1}(a,o),s=e.as||[Y_(e.x),Y_(e.y)],c=AJ[a],l=[],f=e.extent;eE(AJ,a)||J_("Invalid regression method: "+a),null!=f&&"log"===a&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),r.forEach((function(n){if(n.length<=u)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=c(n,e.x,e.y,o);if(e.params)l.push(_j({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var d=f||Qk(n,e.x),h=function(e){for(var t={},r=0;r<i.length;++r)t[i[r]]=n.dims[r];t[s[0]]=e[0],t[s[1]]=e[1],l.push(_j(t))};"linear"===a?d.forEach((function(e){return h([e,r.predict(e)])})):dF(r.predict,d,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});var DJ=Math.pow(2,-52),jJ=new Uint32Array(512),TJ=function(){function e(t){au(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return uu(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,a=e.length>>1,o=1/0,u=1/0,s=-1/0,c=-1/0,l=0;l<a;l++){var f=e[2*l],d=e[2*l+1];f<o&&(o=f),d<u&&(u=d),f>s&&(s=f),d>c&&(c=d),this._ids[l]=l}for(var h,p,v,m=(o+s)/2,g=(u+c)/2,y=1/0,b=0;b<a;b++){var x=FJ(m,g,e[2*b],e[2*b+1]);x<y&&(h=b,y=x)}var w=e[2*h],_=e[2*h+1];y=1/0;for(var k=0;k<a;k++)if(k!==h){var E=FJ(w,_,e[2*k],e[2*k+1]);E<y&&E>0&&(p=k,y=E)}for(var O=e[2*p],S=e[2*p+1],A=1/0,C=0;C<a;C++)if(C!==h&&C!==p){var D=RJ(w,_,O,S,e[2*C],e[2*C+1]);D<A&&(v=C,A=D)}var j=e[2*v],T=e[2*v+1];if(A===1/0){for(var F=0;F<a;F++)this._dists[F]=e[2*F]-e[0]||e[2*F+1]-e[1];IJ(this._ids,this._dists,0,a-1);for(var P=new Uint32Array(a),M=0,N=0,R=-1/0;N<a;N++){var I=this._ids[N];this._dists[I]>R&&(P[M++]=I,R=this._dists[I])}return this.hull=P.subarray(0,M),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(MJ(w,_,O,S,j,T)){var B=p,z=O,L=S;p=v,O=j,S=T,v=B,j=z,T=L}var U=function(e,t,n,r,i,a){var o=n-e,u=r-t,s=i-e,c=a-t,l=o*o+u*u,f=s*s+c*c,d=.5/(o*c-u*s);return{x:e+(c*l-u*f)*d,y:t+(o*f-s*l)*d}}(w,_,O,S,j,T);this._cx=U.x,this._cy=U.y;for(var q=0;q<a;q++)this._dists[q]=FJ(e[2*q],e[2*q+1],U.x,U.y);IJ(this._ids,this._dists,0,a-1),this._hullStart=h;var W=3;n[h]=t[v]=p,n[p]=t[h]=v,n[v]=t[p]=h,r[h]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(w,_)]=h,i[this._hashKey(O,S)]=p,i[this._hashKey(j,T)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(var H,$,V=0;V<this._ids.length;V++){var G=this._ids[V],Y=e[2*G],K=e[2*G+1];if(!(V>0&&Math.abs(Y-H)<=DJ&&Math.abs(K-$)<=DJ)&&(H=Y,$=K,G!==h&&G!==p&&G!==v)){for(var X=0,Q=0,Z=this._hashKey(Y,K);Q<this._hashSize&&(-1===(X=i[(Z+Q)%this._hashSize])||X===n[X]);Q++);for(var J=X=t[X],ee=void 0;ee=n[J],!MJ(Y,K,e[2*J],e[2*J+1],e[2*ee],e[2*ee+1]);)if((J=ee)===X){J=-1;break}if(-1!==J){var te=this._addTriangle(J,G,n[J],-1,-1,r[J]);r[G]=this._legalize(te+2),r[J]=te,W++;for(var ne=n[J];ee=n[ne],MJ(Y,K,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,G,ee,r[G],-1,r[ne]),r[G]=this._legalize(te+2),n[ne]=ne,W--,ne=ee;if(J===X)for(;MJ(Y,K,e[2*(ee=t[J])],e[2*ee+1],e[2*J],e[2*J+1]);)te=this._addTriangle(ee,G,J,-1,r[J],r[ee]),this._legalize(te+2),r[ee]=te,n[J]=J,W--,J=ee;this._hullStart=t[G]=J,n[J]=t[ne]=G,n[G]=ne,i[this._hashKey(Y,K)]=G,i[this._hashKey(e[2*J],e[2*J+1])]=J}}}this.hull=new Uint32Array(W);for(var re=0,ie=this._hullStart;re<W;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,a=0;;){var o=n[e],u=e-e%3;if(a=u+(e+2)%3,-1!==o){var s=o-o%3,c=u+(e+1)%3,l=s+(o+2)%3,f=t[a],d=t[e],h=t[c],p=t[l];if(NJ(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=f;var v=n[l];if(-1===v){var m=this._hullStart;do{if(this._hullTri[m]===l){this._hullTri[m]=e;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(e,v),this._link(o,n[a]),this._link(a,l);var g=s+(o+1)%3;i<jJ.length&&(jJ[i++]=g)}else{if(0===i)break;e=jJ[--i]}}else{if(0===i)break;e=jJ[--i]}}return a}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,a){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zJ,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LJ,i=t.length,a=new Float64Array(2*i),o=0;o<i;o++){var u=t[o];a[2*o]=n(u),a[2*o+1]=r(u)}return new e(a)}}]),e}();function FJ(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}function PJ(e,t,n,r,i,a){var o=(r-t)*(i-e),u=(n-e)*(a-t);return Math.abs(o-u)>=33306690738754716e-32*Math.abs(o+u)?o-u:0}function MJ(e,t,n,r,i,a){return(PJ(i,a,e,t,n,r)||PJ(e,t,n,r,i,a)||PJ(n,r,i,a,e,t))<0}function NJ(e,t,n,r,i,a,o,u){var s=e-o,c=t-u,l=n-o,f=r-u,d=i-o,h=a-u,p=l*l+f*f,v=d*d+h*h;return s*(f*v-p*h)-c*(l*v-p*d)+(s*s+c*c)*(l*h-f*d)<0}function RJ(e,t,n,r,i,a){var o=n-e,u=r-t,s=i-e,c=a-t,l=o*o+u*u,f=s*s+c*c,d=.5/(o*c-u*s),h=(c*l-u*f)*d,p=(o*f-s*l)*d;return h*h+p*p}function IJ(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var a=e[i],o=t[a],u=i-1;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=a}else{var s=n+1,c=r;BJ(e,n+r>>1,s),t[e[n]]>t[e[r]]&&BJ(e,n,r),t[e[s]]>t[e[r]]&&BJ(e,s,r),t[e[n]]>t[e[s]]&&BJ(e,n,s);for(var l=e[s],f=t[l];;){do{s++}while(t[e[s]]<f);do{c--}while(t[e[c]]>f);if(c<s)break;BJ(e,s,c)}e[n+1]=e[c],e[c]=l,r-s+1>=c-n?(IJ(e,t,s,r),IJ(e,t,n,c-1)):(IJ(e,t,n,c-1),IJ(e,t,s,r))}}function BJ(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function zJ(e){return e[0]}function LJ(e){return e[1]}var UJ=1e-6,qJ=function(){function e(){au(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return uu(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>UJ||Math.abs(this._y1-i)>UJ)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),WJ=function(){function e(){au(this,e),this._=[]}return uu(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),HJ=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=D(n,4),i=r[0],a=r[1],o=r[2],u=r[3];if(au(this,e),!((o=+o)>=(i=+i))||!((u=+u)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=i,this.ymax=u,this.ymin=a,this._init()}return uu(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,a=n.triangles,o=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),s=0,c=0,l=a.length;s<l;s+=3,c+=2){var f=2*a[s],d=2*a[s+1],h=2*a[s+2],p=r[f],v=r[f+1],m=r[d],g=r[d+1],y=r[h],b=r[h+1],x=m-p,w=g-v,_=y-p,k=b-v,E=x*x+w*w,O=_*_+k*k,S=2*(x*k-w*_);if(S)if(Math.abs(S)<1e-8)e=(p+y)/2,t=(v+b)/2;else{var A=1/S;e=p+(k*E-w*O)*A,t=v+(x*O-_*E)*A}else e=(p+y)/2-1e8*k,t=(v+b)/2+1e8*_;u[c]=e,u[c+1]=t}var C,D,j,T=i[i.length-1],F=4*T,P=r[2*T],M=r[2*T+1];o.fill(0);for(var N=0;N<i.length;++N)C=F,D=P,j=M,F=4*(T=i[N]),P=r[2*T],M=r[2*T+1],o[C+2]=o[F]=j-M,o[C+3]=o[F+1]=P-D}},{key:"render",value:function(e){var t=null==e?e=new qJ:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,a=n.hull,o=this.circumcenters,u=this.vectors;if(a.length<=1)return null;for(var s=0,c=r.length;s<c;++s){var l=r[s];if(!(l<s)){var f=2*Math.floor(s/3),d=2*Math.floor(l/3),h=o[f],p=o[f+1],v=o[d],m=o[d+1];this._renderSegment(h,p,v,m,e)}}for(var g,y=a[a.length-1],b=0;b<a.length;++b){g=y,y=a[b];var x=2*Math.floor(i[y]/3),w=o[x],_=o[x+1],k=4*g,E=this._project(w,_,u[k+2],u[k+3]);E&&this._renderSegment(w,_,E[0],E[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new qJ:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new qJ:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:iu().mark((function e(){var t,n,r,i;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(i=this.cellPolygon(n))){e.next=8;break}return i.index=n,e.next=8,i;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new WJ;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var a,o=this._regioncode(e,t),u=this._regioncode(n,r);0===o&&0===u?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,o,u))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:iu().mark((function e(t){var n,r,i,a,o,u,s,c,l;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=S(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(a=i.value,!(o=this._clip(a))){e.next=23;break}u=0,s=n.length;case 10:if(!(u<s)){e.next=23;break}c=0,l=o.length;case 12:if(!(c<l)){e.next=20;break}if(n[u]!=o[c]||n[u+1]!=o[c+1]||n[(u+2)%s]!=o[(c+l-2)%l]||n[(u+3)%s]!=o[(c+l-1)%l]){e.next=17;break}return e.next=16,a;case 16:return e.abrupt("break",23);case 17:c+=2,e.next=12;break;case 20:u+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,a=n.triangles,o=r[e];if(-1===o)return null;var u=[],s=o;do{var c=Math.floor(s/3);if(u.push(t[2*c],t[2*c+1]),a[s=s%3===2?s-2:s+1]!==e)break;s=i[s]}while(s!==o&&-1!==s);return u}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,a,o,u=t.length,s=null,c=t[u-2],l=t[u-1],f=this._regioncode(c,l),d=0;d<u;d+=2)if(n=c,r=l,c=t[d],l=t[d+1],i=f,f=this._regioncode(c,l),0===i&&0===f)a=o,o=0,s?s.push(c,l):s=[c,l];else{var h=void 0,p=void 0,v=void 0,m=void 0,g=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,c,l,i,f)))continue;var y=D(h,4);p=y[0],v=y[1],m=y[2],g=y[3]}else{if(null===(h=this._clipSegment(c,l,n,r,f,i)))continue;var b=D(h,4);m=b[0],g=b[1],p=b[2],v=b[3],a=o,o=this._edgecode(p,v),a&&o&&this._edge(e,a,o,s,s.length),s?s.push(p,v):s=[p,v]}a=o,o=this._edgecode(m,g),a&&o&&this._edge(e,a,o,s,s.length),s?s.push(m,g):s=[m,g]}if(s)a=o,o=this._edgecode(s[0],s[1]),a&&o&&this._edge(e,a,o,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}},{key:"_clipSegment",value:function(e,t,n,r,i,a){for(;;){if(0===i&&0===a)return[e,t,n,r];if(i&a)return null;var o=void 0,u=void 0,s=i||a;8&s?(o=e+(n-e)*(this.ymax-t)/(r-t),u=this.ymax):4&s?(o=e+(n-e)*(this.ymin-t)/(r-t),u=this.ymin):2&s?(u=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(u=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),i?(e=o,t=u,i=this._regioncode(e,t)):(n=o,r=u,a=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,a){var o,u=Array.from(t);if((o=this._project(u[0],u[1],n,r))&&u.unshift(o[0],o[1]),(o=this._project(u[u.length-2],u[u.length-1],i,a))&&u.push(o[0],o[1]),u=this._clipFinite(e,u))for(var s,c=0,l=u.length,f=this._edgecode(u[l-2],u[l-1]);c<l;c+=2)s=f,f=this._edgecode(u[c],u[c+1]),s&&f&&(c=this._edge(e,s,f,u,c),l=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var a=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin}r[i]===a&&r[i+1]===o||!this.contains(e,a,o)||(r.splice(i,0,a,o),i+=2)}if(r.length>4)for(var u=0;u<r.length;u+=2){var s=(u+2)%r.length,c=(u+4)%r.length;(r[u]===r[s]&&r[s]===r[c]||r[u+1]===r[s+1]&&r[s+1]===r[c+1])&&(r.splice(s,2),u-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,a,o,u=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<u&&(o=this.ymin,a=e+(u=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<u&&(o=this.ymax,a=e+(u=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<u&&(a=this.xmax,o=t+(u=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<u&&(a=this.xmin,o=t+(u=i)*r)}return[a,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),$J=iu().mark(JJ),VJ=2*Math.PI,GJ=Math.pow;function YJ(e){return e[0]}function KJ(e){return e[1]}function XJ(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var QJ=function(){function e(t){au(this,e),this._delaunator=new TJ(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return uu(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],a=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),o=0,u=t.length/2;o<u;++o){var s=XJ(t[2*o],t[2*o+1],a);t[2*o]=s[0],t[2*o+1]=s[1]}this._delaunator=new TJ(t)}else delete this.collinear;for(var c=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,v=c.length;p<v;++p){var m=f[p%3===2?p-2:p+1];-1!==c[p]&&-1!==d[m]||(d[m]=p)}for(var g=0,y=l.length;g<y;++g)h[l[g]]=g;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}},{key:"voronoi",value:function(e){return new HJ(this,e)}},{key:"neighbors",value:iu().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,a=this.halfedges,o=this.triangles,!(u=this.collinear)){e.next=10;break}if(!((s=u.indexOf(t))>0)){e.next=6;break}return e.next=6,u[s-1];case 6:if(!(s<u.length-1)){e.next=9;break}return e.next=9,u[s+1];case 9:return e.abrupt("return");case 10:if(-1!==(c=n[t])){e.next=13;break}return e.abrupt("return");case 13:l=c,f=-1;case 14:return e.next=16,f=o[l];case 16:if(o[l=l%3===2?l-2:l+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(l=a[l])){e.next=26;break}if((d=r[(i[t]+1)%r.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(l!==c){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,a=this._hullIndex,o=this.halfedges,u=this.triangles,s=this.points;if(-1===r[e]||!s.length)return(e+1)%(s.length>>1);var c=e,l=GJ(t-s[2*e],2)+GJ(n-s[2*e+1],2),f=r[e],d=f;do{var h=u[d],p=GJ(t-s[2*h],2)+GJ(n-s[2*h+1],2);if(p<l&&(l=p,c=h),u[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=o[d])){if((d=i[(a[e]+1)%i.length])!==h&&GJ(t-s[2*d],2)+GJ(n-s[2*d+1],2)<l)return d;break}}while(d!==f);return c}},{key:"render",value:function(e){for(var t=null==e?e=new qJ:void 0,n=this.points,r=this.halfedges,i=this.triangles,a=0,o=r.length;a<o;++a){var u=r[a];if(!(u<a)){var s=2*i[a],c=2*i[u];e.moveTo(n[s],n[s+1]),e.lineTo(n[c],n[c+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new qJ:void 0,r=this.points,i=0,a=r.length;i<a;i+=2){var o=r[i],u=r[i+1];e.moveTo(o+t,u),e.arc(o,u,t,0,VJ)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new qJ:void 0,n=this.hull,r=this.points,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(var o=1;o<a;++o){var u=2*n[o];e.lineTo(r[u],r[u+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new WJ;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new qJ:void 0,r=this.points,i=this.triangles,a=2*i[e*=3],o=2*i[e+1],u=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[u],r[u+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:iu().mark((function e(){var t,n,r;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new WJ;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YJ,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KJ,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?ZJ(t,n,r,i):Float64Array.from(JJ(t,n,r,i)))}}]),e}();function ZJ(e,t,n,r){for(var i=e.length,a=new Float64Array(2*i),o=0;o<i;++o){var u=e[o];a[2*o]=t.call(r,u,o,e),a[2*o+1]=n.call(r,u,o,e)}return a}function JJ(e,t,n,r){var i,a,o,u;return iu().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=0,a=S(e),s.prev=2,a.s();case 4:if((o=a.n()).done){s.next=13;break}return u=o.value,s.next=8,t.call(r,u,i,e);case 8:return s.next=10,n.call(r,u,i,e);case 10:++i;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),a.e(s.t0);case 18:return s.prev=18,a.f(),s.finish(18);case 21:case"end":return s.stop()}}),$J,null,[[2,15,18,21]])}function e0(e){iT.call(this,null,e)}e0.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var t0=[-1e5,-1e5,1e5,1e5];function n0(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}iE(e0,iT,{transform:function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:t0;for(var a=this.value=QJ.from(r,e.x,e.y).voronoi(i),o=0,u=r.length;o<u;++o){var s=a.cellPolygon(o);r[o][n]=s?n0(s):null}return t.reflow(e.modified()).modifies(n)}});var r0=Math.PI/180,i0=2048;function a0(){var e,t,n,r,i,a,o,u=[256,256],s=l0,c=[],l=Math.random,f={};function d(e,t,n){for(var r,i,a,o=t.x,c=t.y,f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),d=s(u),h=l()<.5?1:-1,p=-h;(r=d(p+=h))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=f));)if(t.x=o+i,t.y=c+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>u[0]||t.y+t.y1>u[1])&&(!n||!u0(t,e,u[0]))&&(!n||c0(t,n))){for(var v,m=t.sprite,g=t.width>>5,y=u[0]>>5,b=t.x-(g<<4),x=127&b,w=32-x,_=t.y1-t.y0,k=(t.y+t.y0)*y+(b>>5),E=0;E<_;E++){v=0;for(var O=0;O<=g;O++)e[k+O]|=v<<w|(O<g?(v=m[E*g+O])>>>x:0);k+=y}return t.sprite=null,!0}return!1}return f.layout=function(){for(var s=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=i0/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(nN()),f=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((u[0]>>5)*u[1]),h=null,p=c.length,v=-1,m=[],g=c.map((function(u){return{text:e(u),font:t(u),style:r(u),weight:i(u),rotate:a(u),size:~~(n(u)+1e-14),padding:o(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}})).sort((function(e,t){return t.size-e.size}));++v<p;){var y=g[v];y.x=u[0]*(l()+.5)>>1,y.y=u[1]*(l()+.5)>>1,o0(s,y,g,v),y.hasText&&d(f,y,h)&&(m.push(y),h?s0(h,y):h=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=u[0]>>1,y.y-=u[1]>>1)}return m},f.words=function(e){return arguments.length?(c=e,f):c},f.size=function(e){return arguments.length?(u=[+e[0],+e[1]],f):u},f.font=function(e){return arguments.length?(t=f0(e),f):t},f.fontStyle=function(e){return arguments.length?(r=f0(e),f):r},f.fontWeight=function(e){return arguments.length?(i=f0(e),f):i},f.rotate=function(e){return arguments.length?(a=f0(e),f):a},f.text=function(t){return arguments.length?(e=f0(t),f):e},f.spiral=function(e){return arguments.length?(s=d0[e]||e,f):s},f.fontSize=function(e){return arguments.length?(n=f0(e),f):n},f.padding=function(e){return arguments.length?(o=f0(e),f):o},f.random=function(e){return arguments.length?(l=e,f):l},f}function o0(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,2048/a,i0/a);var o,u,s,c,l,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=i.measureText(t.text+"m").width*a,s=t.size<<1,t.rotate){var v=Math.sin(t.rotate*r0),m=Math.cos(t.rotate*r0),g=o*m,y=o*v,b=s*m,x=s*v;o=Math.max(Math.abs(g+x),Math.abs(g-x))+31>>5<<5,s=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else o=o+31>>5<<5;if(s>h&&(h=s),f+o>=2048&&(f=0,d+=h,h=0),d+s>=i0)break;i.translate((f+(o>>1))/a,(d+(s>>1))/a),t.rotate&&i.rotate(t.rotate*r0),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=o,t.height=s,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=s>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var w=i.getImageData(0,0,2048/a,i0/a).data,_=[];--r>=0;)if((t=n[r]).hasText){for(u=(o=t.width)>>5,s=t.y1-t.y0,c=0;c<s*u;c++)_[c]=0;if(null==(f=t.xoff))return;d=t.yoff;var k=0,E=-1;for(l=0;l<s;l++){for(c=0;c<o;c++){var O=u*l+(c>>5),S=w[2048*(d+l)+(f+c)<<2]?1<<31-c%32:0;_[O]|=S,k|=S}k?E=l:(t.y0++,s--,l--,d++)}t.y1=t.y0+E,t.sprite=_.slice(0,(t.y1-t.y0)*u)}}}function u0(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),u=127&o,s=32-u,c=e.y1-e.y0,l=(e.y+e.y0)*n+(o>>5),f=0;f<c;f++){r=0;for(var d=0;d<=a;d++)if((r<<s|(d<a?(r=i[f*a+d])>>>u:0))&t[l+d])return!0;l+=n}return!1}function s0(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function c0(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function l0(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function f0(e){return"function"===typeof e?e:function(){return e}}var d0={archimedean:l0,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},h0=["x","y","font","fontSize","fontStyle","fontWeight","angle"],p0=["text","font","rotate","fontSize","fontStyle","fontWeight"];function v0(e){iT.call(this,a0(),e)}v0.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:h0}]},iE(v0,iT,{transform:function(e,t){!e.size||e.size[0]&&e.size[1]||J_("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||p0.some((function(n){var r=e[n];return qk(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,a=this.value,o=e.as||h0,u=e.fontSize||14;if(qk(u)?r=e.fontSizeRange:u=Yk(u),r){var s=u,c=Wz("sqrt")().domain(Qk(i,s)).range(r);u=function(e){return c(s(e))}}i.forEach((function(e){e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0}));for(var l,f,d=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(u).random(OT).layout(),h=a.size(),p=h[0]>>1,v=h[1]>>1,m=d.length,g=0;g<m;++g)(f=(l=d[g]).datum)[o[0]]=l.x+p,f[o[1]]=l.y+v,f[o[2]]=l.font,f[o[3]]=l.size,f[o[4]]=l.style,f[o[5]]=l.weight,f[o[6]]=l.rotate;return t.reflow(n).modifies(o)}}});var m0=function(e){return new Uint8Array(e)},g0=function(e){return new Uint16Array(e)},y0=function(e){return new Uint32Array(e)};function b0(e,t,n){var r=(t<257?m0:t<65537?g0:y0)(e);return n&&r.set(n),r}function x0(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this,a=i.bisect(i.range,e.value),o=e.index,u=a[0],s=a[1],c=o.length;for(n=0;n<u;++n)t[o[n]]|=r;for(n=s;n<c;++n)t[o[n]]|=r;return i}}}function w0(){var e=y0(0),t=[],n=0;return{insert:function(r,i,a){if(!i.length)return[];var o,u,s,c=n,l=i.length,f=y0(l),d=Array(l);for(s=0;s<l;++s)d[s]=r(i[s]),f[s]=s;if(d=function(e,t){return e.sort.call(t,(function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0})),function(e,t){return Array.from(t,(function(t){return e[t]}))}(e,t)}(d,f),c)o=t,u=e,t=Array(c+l),e=y0(c+l),function(e,t,n,r,i,a,o,u,s){var c,l=0,f=0;for(c=0;l<r&&f<o;++c)t[l]<i[f]?(u[c]=t[l],s[c]=n[l++]):(u[c]=i[f],s[c]=a[f++]+e);for(;l<r;++l,++c)u[c]=t[l],s[c]=n[l];for(;f<o;++f,++c)u[c]=i[f],s[c]=a[f]+e}(a,o,u,c,d,f,l,t,e);else{if(a>0)for(s=0;s<l;++s)f[s]+=a;t=d,e=f}return n=c+l,{index:f,value:d}},remove:function(r,i){var a,o,u,s=n;for(o=0;!i[e[o]]&&o<s;++o);for(u=o;o<s;++o)i[a=e[o]]||(e[u]=a,t[u]=t[o],++u);n=s-r},bisect:function(e,r){var i;return r?i=r.length:(r=t,i=n),[oN(r,e[0],0,i),aN(r,e[1],0,i)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function _0(e){iT.call(this,function(){var e=8,t=[],n=y0(0),r=b0(0,e),i=b0(0,e);return{data:function(){return t},seen:function(){return n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var a,o,u,s=t.length,c=Array(s-e),l=t;for(o=0;!n[o]&&o<s;++o)c[o]=t[o],l[o]=o;for(u=o;o<s;++o)a=t[o],n[o]?l[o]=-1:(l[o]=u,r[u]=r[o],i[u]=i[o],c[u]=a,a._index=u++),r[o]=0;return t=c,l},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){return i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=b0(t,e,r),i=b0(t,e))}}}(),e),this._indices=null,this._dims=null}function k0(e){iT.call(this,null,e)}_0.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},iE(_0,iT,{transform:function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init:function(e,t){for(var n,r,i=e.fields,a=e.query,o=this._indices={},u=this._dims=[],s=a.length,c=0;c<s;++c)r=o[n=i[c].fname]||(o[n]=w0()),u.push(x0(r,c,a[c]));return this.eval(e,t)},reinit:function(e,t){var n,r,i,a,o,u,s,c,l,f=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,v=this._dims,m=this.value,g=m.curr(),y=m.prev(),b=m.all(),x=f.rem=f.add,w=f.mod,_=h.length,k={};if(y.set(g),t.rem.length&&(o=this.remove(e,t,f)),t.add.length&&m.add(t.add),t.mod.length)for(u={},s=0,c=(a=t.mod).length;s<c;++s)u[a[s]._index]=1;for(s=0;s<_;++s)l=d[s],(!v[s]||e.modified("fields",s)||t.modified(l.fields))&&((n=k[i=l.fname])||(p[i]=r=w0(),k[i]=n=r.insert(l,t.source,0)),v[s]=x0(r,s,h[s]).onAdd(n,g));for(s=0,c=m.data().length;s<c;++s)o[s]||(y[s]!==g[s]?x.push(s):u[s]&&g[s]!==b&&w.push(s));return m.mask=(1<<_)-1,f},eval:function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert:function(e,t,n){var r,i,a,o=t.add,u=this.value,s=this._dims,c=this._indices,l=e.fields,f={},d=n.add,h=u.size()+o.length,p=s.length,v=u.size();u.resize(h,p),u.add(o);var m=u.curr(),g=u.prev(),y=u.all();for(r=0;r<p;++r)a=f[i=l[r].fname]||(f[i]=c[i].insert(l[r],o,v)),s[r].onAdd(a,m);for(;v<h;++v)g[v]=y,m[v]!==y&&d.push(v)},modify:function(e,t){var n,r,i,a=t.mod,o=this.value,u=o.curr(),s=o.all(),c=e.mod;for(n=0,r=c.length;n<r;++n)u[i=c[n]._index]!==s&&a.push(i)},remove:function(e,t,n){var r,i,a,o,u=this._indices,s=this.value,c=s.curr(),l=s.prev(),f=s.all(),d={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)d[a=p[r]._index]=1,l[a]=o=c[a],c[a]=f,o!==f&&h.push(a);for(a in u)u[a].remove(i,d);return this.reindex(t,i,d),d},reindex:function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)}))},update:function(e,t,n){var r,i,a=this._dims,o=e.query,u=t.stamp,s=a.length,c=0;for(n.filters=0,i=0;i<s;++i)e.modified("query",i)&&(r=i,++c);if(1===c)c=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,c=0;i<s;++i)e.modified("query",i)&&(c|=a[i].one,this.incrementAll(a[i],o[i],u,n.add),n.rem=n.add);return c},incrementAll:function(e,t,n,r){var i,a,o,u=this.value,s=u.seen(),c=u.curr(),l=u.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],v=h[1],m=d[0],g=d[1],y=e.one;if(p<m)for(i=p,a=Math.min(m,v);i<a;++i)s[o=f[i]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=y;else if(p>m)for(i=m,a=Math.min(p,g);i<a;++i)s[o=f[i]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=y;if(v>g)for(i=Math.max(p,g),a=v;i<a;++i)s[o=f[i]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=y;else if(v<g)for(i=Math.max(m,v),a=g;i<a;++i)s[o=f[i]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=y;e.range=t.slice()},incrementOne:function(e,t,n,r){var i,a,o,u=this.value.curr(),s=e.index(),c=e.bisect(e.range),l=e.bisect(t),f=l[0],d=l[1],h=c[0],p=c[1],v=e.one;if(f<h)for(i=f,a=Math.min(h,d);i<a;++i)u[o=s[i]]^=v,n.push(o);else if(f>h)for(i=h,a=Math.min(f,p);i<a;++i)u[o=s[i]]^=v,r.push(o);if(d>p)for(i=Math.max(f,p),a=d;i<a;++i)u[o=s[i]]^=v,n.push(o);else if(d<p)for(i=Math.max(h,d),a=p;i<a;++i)u[o=s[i]]^=v,r.push(o);e.range=t.slice()}}),k0.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},iE(k0,iT,{transform:function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),u=r.curr(),s=r.prev(),c=function(e){return u[e]&n?null:o[e]};return a.filter(a.MOD,c),i&i-1?(a.filter(a.ADD,(function(e){var t=u[e]&n;return!t&&t^s[e]&n?o[e]:null})),a.filter(a.REM,(function(e){var t=u[e]&n;return t&&!(t^t^s[e]&n)?o[e]:null}))):(a.filter(a.ADD,c),a.filter(a.REM,(function(e){return(u[e]&n)===i?o[e]:null}))),a.filter(a.SOURCE,(function(e){return c(e._index)}))}});var E0,O0,S0,A0,C0,D0="Literal",j0="Property",T0="ArrayExpression",F0="BinaryExpression",P0="CallExpression",M0="ConditionalExpression",N0="LogicalExpression",R0="MemberExpression",I0="ObjectExpression",B0="UnaryExpression";function z0(e){this.type=e}z0.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case T0:return e.elements;case F0:case N0:return[e.left,e.right];case P0:return[e.callee].concat(e.arguments);case M0:return[e.test,e.consequent,e.alternate];case R0:return[e.object,e.property];case I0:return e.properties;case j0:return[e.key,e.value];case B0:return[e.argument];default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(E0={})[1]="Boolean",E0[2]="<end>",E0[3]="Identifier",E0[4]="Keyword",E0[5]="Null",E0[6]="Numeric",E0[7]="Punctuator",E0[8]="String",E0[9]="RegularExpression";var L0="Identifier",U0="Unexpected token %0",q0="Invalid regular expression",W0="Invalid regular expression: missing /",H0="Octal literals are not allowed in strict mode.",$0="ILLEGAL",V0="Disabled.",G0=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Y0=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function K0(e,t){if(!e)throw new Error("ASSERT: "+t)}function X0(e){return e>=48&&e<=57}function Q0(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Z0(e){return"01234567".indexOf(e)>=0}function J0(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function e1(e){return 10===e||13===e||8232===e||8233===e}function t1(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&G0.test(String.fromCharCode(e))}function n1(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Y0.test(String.fromCharCode(e))}var r1={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function i1(){for(;S0<A0;){var e=O0.charCodeAt(S0);if(!J0(e)&&!e1(e))break;++S0}}function a1(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)S0<A0&&Q0(O0[S0])?(r=O0[S0++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):w1({},U0,$0);return String.fromCharCode(i)}function o1(){var e,t,n,r;for(t=0,"}"===(e=O0[S0])&&w1({},U0,$0);S0<A0&&Q0(e=O0[S0++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&w1({},U0,$0),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function u1(){var e,t;for(e=O0.charCodeAt(S0++),t=String.fromCharCode(e),92===e&&(117!==O0.charCodeAt(S0)&&w1({},U0,$0),++S0,(e=a1("u"))&&"\\"!==e&&t1(e.charCodeAt(0))||w1({},U0,$0),t=e);S0<A0&&n1(e=O0.charCodeAt(S0));)++S0,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==O0.charCodeAt(S0)&&w1({},U0,$0),++S0,(e=a1("u"))&&"\\"!==e&&n1(e.charCodeAt(0))||w1({},U0,$0),t+=e);return t}function s1(){var e,t;return e=S0,t=92===O0.charCodeAt(S0)?u1():function(){var e,t;for(e=S0++;S0<A0;){if(92===(t=O0.charCodeAt(S0)))return S0=e,u1();if(!n1(t))break;++S0}return O0.slice(e,S0)}(),{type:1===t.length?3:r1.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:S0}}function c1(){var e,t,n,r,i=S0,a=O0.charCodeAt(S0),o=O0[S0];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++S0,{type:7,value:String.fromCharCode(a),start:i,end:S0};default:if(61===(e=O0.charCodeAt(S0+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return S0+=2,{type:7,value:String.fromCharCode(a)+String.fromCharCode(e),start:i,end:S0};case 33:case 61:return S0+=2,61===O0.charCodeAt(S0)&&++S0,{type:7,value:O0.slice(i,S0),start:i,end:S0}}}return">>>="===(r=O0.substr(S0,4))?{type:7,value:r,start:i,end:S0+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:S0+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:i,end:S0+=2}:("//"===t&&w1({},U0,$0),"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:i,end:++S0}:void w1({},U0,$0))}function l1(){var e,t,n;if(K0(X0((n=O0[S0]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=S0,e="","."!==n){if(e=O0[S0++],n=O0[S0],"0"===e){if("x"===n||"X"===n)return++S0,function(e){for(var t="";S0<A0&&Q0(O0[S0]);)t+=O0[S0++];return 0===t.length&&w1({},U0,$0),t1(O0.charCodeAt(S0))&&w1({},U0,$0),{type:6,value:parseInt("0x"+t,16),start:e,end:S0}}(t);if(Z0(n))return function(e){for(var t="0"+O0[S0++];S0<A0&&Z0(O0[S0]);)t+=O0[S0++];return(t1(O0.charCodeAt(S0))||X0(O0.charCodeAt(S0)))&&w1({},U0,$0),{type:6,value:parseInt(t,8),octal:!0,start:e,end:S0}}(t);n&&X0(n.charCodeAt(0))&&w1({},U0,$0)}for(;X0(O0.charCodeAt(S0));)e+=O0[S0++];n=O0[S0]}if("."===n){for(e+=O0[S0++];X0(O0.charCodeAt(S0));)e+=O0[S0++];n=O0[S0]}if("e"===n||"E"===n)if(e+=O0[S0++],"+"!==(n=O0[S0])&&"-"!==n||(e+=O0[S0++]),X0(O0.charCodeAt(S0)))for(;X0(O0.charCodeAt(S0));)e+=O0[S0++];else w1({},U0,$0);return t1(O0.charCodeAt(S0))&&w1({},U0,$0),{type:6,value:parseFloat(e),start:t,end:S0}}function f1(){var e,t,n,r;return C0=null,i1(),e=S0,t=function(){var e,t,n,r;for(K0("/"===(e=O0[S0]),"Regular expression literal must start with a slash"),t=O0[S0++],n=!1,r=!1;S0<A0;)if(t+=e=O0[S0++],"\\"===e)e1((e=O0[S0++]).charCodeAt(0))&&w1({},W0),t+=e;else if(e1(e.charCodeAt(0)))w1({},W0);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||w1({},W0),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";S0<A0&&n1((e=O0[S0]).charCodeAt(0));)++S0,"\\"===e&&S0<A0?w1({},U0,$0):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&w1({},q0,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";w1({},q0)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(Xwe){w1({},q0)}try{return new RegExp(e,t)}catch(r){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:S0}}function d1(){if(i1(),S0>=A0)return{type:2,start:S0,end:S0};var e=O0.charCodeAt(S0);return t1(e)?s1():40===e||41===e||59===e?c1():39===e||34===e?function(){var e,t,n,r,i="",a=!1;for(K0("'"===(e=O0[S0])||'"'===e,"String literal must starts with a quote"),t=S0,++S0;S0<A0;){if((n=O0[S0++])===e){e="";break}if("\\"===n)if((n=O0[S0++])&&e1(n.charCodeAt(0)))"\r"===n&&"\n"===O0[S0]&&++S0;else switch(n){case"u":case"x":"{"===O0[S0]?(++S0,i+=o1()):i+=a1(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Z0(n)?(0!==(r="01234567".indexOf(n))&&(a=!0),S0<A0&&Z0(O0[S0])&&(a=!0,r=8*r+"01234567".indexOf(O0[S0++]),"0123".indexOf(n)>=0&&S0<A0&&Z0(O0[S0])&&(r=8*r+"01234567".indexOf(O0[S0++]))),i+=String.fromCharCode(r)):i+=n}else{if(e1(n.charCodeAt(0)))break;i+=n}}return""!==e&&w1({},U0,$0),{type:8,value:i,octal:a,start:t,end:S0}}():46===e?X0(O0.charCodeAt(S0+1))?l1():c1():X0(e)?l1():c1()}function h1(){var e=C0;return S0=e.end,C0=d1(),S0=e.end,e}function p1(){var e=S0;C0=d1(),S0=e}function v1(e,t,n){var r=new z0("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function m1(e,t){var n=new z0("CallExpression");return n.callee=e,n.arguments=t,n}function g1(e){var t=new z0(L0);return t.name=e,t}function y1(e){var t=new z0("Literal");return t.value=e.value,t.raw=O0.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function b1(e,t,n){var r=new z0("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function x1(e,t,n){var r=new z0("Property");return r.key=t,r.value=n,r.kind=e,r}function w1(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return K0(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=S0,n.description=i,n}function _1(e){2===e.type&&w1(e,"Unexpected end of input"),6===e.type&&w1(e,"Unexpected number"),8===e.type&&w1(e,"Unexpected string"),3===e.type&&w1(e,"Unexpected identifier"),4===e.type&&w1(e,"Unexpected reserved word"),w1(e,U0,e.value)}function k1(e){var t=h1();7===t.type&&t.value===e||_1(t)}function E1(e){return 7===C0.type&&C0.value===e}function O1(e){return 4===C0.type&&C0.value===e}function S1(){var e=[];for(S0=C0.start,k1("[");!E1("]");)E1(",")?(h1(),e.push(null)):(e.push(B1()),E1("]")||k1(","));return h1(),function(e){var t=new z0("ArrayExpression");return t.elements=e,t}(e)}function A1(){S0=C0.start;var e=h1();return 8===e.type||6===e.type?(e.octal&&w1(e,H0),y1(e)):g1(e.value)}function C1(){var e,t,n;return S0=C0.start,3===(e=C0).type?(n=A1(),k1(":"),x1("init",n,B1())):2!==e.type&&7!==e.type?(t=A1(),k1(":"),x1("init",t,B1())):void _1(e)}function D1(){var e,t,n=[],r={},i=String;for(S0=C0.start,k1("{");!E1("}");)t="$"+((e=C1()).key.type===L0?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?w1({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),E1("}")||k1(",");return k1("}"),function(e){var t=new z0("ObjectExpression");return t.properties=e,t}(n)}var j1={if:1};function T1(){var e,t,n;if(E1("("))return function(){k1("(");var e=z1();return k1(")"),e}();if(E1("["))return S1();if(E1("{"))return D1();if(e=C0.type,S0=C0.start,3===e||j1[C0.value])n=g1(h1().value);else if(8===e||6===e)C0.octal&&w1(C0,H0),n=y1(h1());else{if(4===e)throw new Error(V0);1===e?((t=h1()).value="true"===t.value,n=y1(t)):5===e?((t=h1()).value=null,n=y1(t)):E1("/")||E1("/=")?(n=y1(f1()),p1()):_1(h1())}return n}function F1(){var e=[];if(k1("("),!E1(")"))for(;S0<A0&&(e.push(B1()),!E1(")"));)k1(",");return k1(")"),e}function P1(){return k1("."),function(){S0=C0.start;var e=h1();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||_1(e),g1(e.value)}()}function M1(){k1("[");var e=z1();return k1("]"),e}function N1(){var e=function(){var e;for(e=T1();;)if(E1("."))e=b1(".",e,P1());else if(E1("("))e=m1(e,F1());else{if(!E1("["))break;e=b1("[",e,M1())}return e}();if(7===C0.type&&(E1("++")||E1("--")))throw new Error(V0);return e}function R1(){var e,t;if(7!==C0.type&&4!==C0.type)t=N1();else{if(E1("++")||E1("--"))throw new Error(V0);if(E1("+")||E1("-")||E1("~")||E1("!"))e=h1(),t=R1(),t=function(e,t){var n=new z0("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(O1("delete")||O1("void")||O1("typeof"))throw new Error(V0);t=N1()}}return t}function I1(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function B1(){var e,t;return e=function(){var e,t,n,r,i,a,o,u,s,c;if(e=C0,s=R1(),0===(i=I1(r=C0)))return s;for(r.prec=i,h1(),t=[e,C0],a=[s,r,o=R1()];(i=I1(C0))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),u=a.pop().value,s=a.pop(),t.pop(),n=v1(u,s,o),a.push(n);(r=h1()).prec=i,a.push(r),t.push(C0),n=R1(),a.push(n)}for(n=a[c=a.length-1],t.pop();c>1;)t.pop(),n=v1(a[c-1].value,a[c-2],n),c-=2;return n}(),E1("?")&&(h1(),t=B1(),k1(":"),e=function(e,t,n){var r=new z0("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,B1())),e}function z1(){var e=B1();if(E1(","))throw new Error(V0);return e}function L1(e){S0=0,A0=(O0=e).length,C0=null,p1();var t=z1();if(2!==C0.type)throw new Error("Unexpect token after expression.");return t}var U1={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function q1(e){function t(t,n,r){return function(i){return function(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date",r="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&J_("Missing arguments to clamp function."),t.length>3&&J_("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:i,test:t("test",i),if:function(t){t.length<3&&J_("Missing arguments to if function."),t.length>3&&J_("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function W1(e){var t=(e=e||{}).allowed?EE(e.allowed):{},n=e.forbidden?EE(e.forbidden):{},r=e.constants||U1,i=(e.functions||q1)(f),a=e.globalvar,o=e.fieldvar,u=qk(a)?a:function(e){return"".concat(a,'["').concat(e,'"]')},s={},c={},l=0;function f(e){if(fE(e))return e;var t=d[e.type];return null==t&&J_("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var i=e.name;return l>0?i:eE(n,i)?J_("Illegal identifier: "+i):eE(r,i)?r[i]:eE(t,i)?i:(s[i]=1,u(i))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(l+=1);var r=f(e.property);return n===o&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(l-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&J_("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=eE(i,t)&&i[t];return r||J_("Unrecognized function: "+t),qk(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+" "+e.operator+" "+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){l+=1;var t=f(e.key);return l-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(s),fields:Object.keys(c)};return s={},c={},t}return h.functions=i,h.constants=r,h}var H1,$1,V1,G1,Y1,K1,X1,Q1,Z1,J1,e2,t2,n2,r2,i2,a2,o2=new rG,u2=new rG,s2={point:AG,lineStart:AG,lineEnd:AG,polygonStart:function(){o2=new rG,s2.lineStart=c2,s2.lineEnd=l2},polygonEnd:function(){var e=+o2;u2.add(e<0?cG+e:e),this.lineStart=this.lineEnd=this.point=AG},sphere:function(){u2.add(cG)}};function c2(){s2.point=f2}function l2(){d2(H1,$1)}function f2(e,t){s2.point=d2,H1=e,$1=t,V1=e*=fG,G1=vG(t=(t*=fG)/2+sG),Y1=wG(t)}function d2(e,t){var n=(e*=fG)-V1,r=n>=0?1:-1,i=r*n,a=vG(t=(t*=fG)/2+sG),o=wG(t),u=Y1*o,s=G1*a+u*vG(i),c=u*r*wG(i);o2.add(pG(c,s)),V1=e,G1=a,Y1=o}var h2,p2,v2,m2,g2,y2,b2,x2,w2,_2,k2,E2,O2,S2,A2,C2,D2={point:j2,lineStart:F2,lineEnd:P2,polygonStart:function(){D2.point=M2,D2.lineStart=N2,D2.lineEnd=R2,r2=new rG,s2.polygonStart()},polygonEnd:function(){s2.polygonEnd(),D2.point=j2,D2.lineStart=F2,D2.lineEnd=P2,o2<0?(K1=-(Q1=180),X1=-(Z1=90)):r2>iG?Z1=90:r2<-1e-6&&(X1=-90),a2[0]=K1,a2[1]=Q1},sphere:function(){K1=-(Q1=180),X1=-(Z1=90)}};function j2(e,t){i2.push(a2=[K1=e,Q1=e]),t<X1&&(X1=t),t>Z1&&(Z1=t)}function T2(e,t){var n=RY([e*fG,t*fG]);if(n2){var r=BY(n2,n),i=BY([r[1],-r[0],0],r);UY(i),i=NY(i);var a,o=e-J1,u=o>0?1:-1,s=i[0]*lG*u,c=dG(o)>180;c^(u*J1<s&&s<u*e)?(a=i[1]*lG)>Z1&&(Z1=a):c^(u*J1<(s=(s+360)%360-180)&&s<u*e)?(a=-i[1]*lG)<X1&&(X1=a):(t<X1&&(X1=t),t>Z1&&(Z1=t)),c?e<J1?I2(K1,e)>I2(K1,Q1)&&(Q1=e):I2(e,Q1)>I2(K1,Q1)&&(K1=e):Q1>=K1?(e<K1&&(K1=e),e>Q1&&(Q1=e)):e>J1?I2(K1,e)>I2(K1,Q1)&&(Q1=e):I2(e,Q1)>I2(K1,Q1)&&(K1=e)}else i2.push(a2=[K1=e,Q1=e]);t<X1&&(X1=t),t>Z1&&(Z1=t),n2=n,J1=e}function F2(){D2.point=T2}function P2(){a2[0]=K1,a2[1]=Q1,D2.point=j2,n2=null}function M2(e,t){if(n2){var n=e-J1;r2.add(dG(n)>180?n+(n>0?360:-360):n)}else e2=e,t2=t;s2.point(e,t),T2(e,t)}function N2(){s2.lineStart()}function R2(){M2(e2,t2),s2.lineEnd(),dG(r2)>iG&&(K1=-(Q1=180)),a2[0]=K1,a2[1]=Q1,n2=null}function I2(e,t){return(t-=e)<0?t+360:t}function B2(e,t){return e[0]-t[0]}function z2(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var L2={sphere:AG,point:U2,lineStart:W2,lineEnd:V2,polygonStart:function(){L2.lineStart=G2,L2.lineEnd=Y2},polygonEnd:function(){L2.lineStart=W2,L2.lineEnd=V2}};function U2(e,t){e*=fG;var n=vG(t*=fG);q2(n*vG(e),n*wG(e),wG(t))}function q2(e,t,n){++h2,v2+=(e-v2)/h2,m2+=(t-m2)/h2,g2+=(n-g2)/h2}function W2(){L2.point=H2}function H2(e,t){e*=fG;var n=vG(t*=fG);S2=n*vG(e),A2=n*wG(e),C2=wG(t),L2.point=$2,q2(S2,A2,C2)}function $2(e,t){e*=fG;var n=vG(t*=fG),r=n*vG(e),i=n*wG(e),a=wG(t),o=pG(kG((o=A2*a-C2*i)*o+(o=C2*r-S2*a)*o+(o=S2*i-A2*r)*o),S2*r+A2*i+C2*a);p2+=o,y2+=o*(S2+(S2=r)),b2+=o*(A2+(A2=i)),x2+=o*(C2+(C2=a)),q2(S2,A2,C2)}function V2(){L2.point=U2}function G2(){L2.point=K2}function Y2(){X2(E2,O2),L2.point=U2}function K2(e,t){E2=e,O2=t,e*=fG,t*=fG,L2.point=X2;var n=vG(t);S2=n*vG(e),A2=n*wG(e),C2=wG(t),q2(S2,A2,C2)}function X2(e,t){e*=fG;var n=vG(t*=fG),r=n*vG(e),i=n*wG(e),a=wG(t),o=A2*a-C2*i,u=C2*r-S2*a,s=S2*i-A2*r,c=yG(o,u,s),l=SG(c),f=c&&-l/c;w2.add(f*o),_2.add(f*u),k2.add(f*s),p2+=l,y2+=l*(S2+(S2=r)),b2+=l*(A2+(A2=i)),x2+=l*(C2+(C2=a)),q2(S2,A2,C2)}var Q2="intersect",Z2="union",J2="index:unit";function e3(e,t){for(var n,r,i=t.fields,a=t.values,o=i.length,u=0;u<o;++u)if((r=i[u]).getter=tk.getter||tk(r.field),uE(n=r.getter(e))&&(n=_k(n)),uE(a[u])&&(a[u]=_k(a[u])),uE(a[u][0])&&(a[u]=a[u].map(_k)),"E"===r.type){if(vk(a[u])?a[u].indexOf(n)<0:n!==a[u])return!1}else if("R"===r.type){if(!aE(n,a[u]))return!1}else if("R-RE"===r.type){if(!aE(n,a[u],!0,!1))return!1}else if("R-E"===r.type){if(!aE(n,a[u],!1,!1))return!1}else if("R-LE"===r.type&&!aE(n,a[u],!1,!0))return!1;return!0}var t3=tk("_vgsid_"),n3=function(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)<0?r=a+1:i=a}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}(e(t),n)}}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);var o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)>0?i=a:r=a+1}return r}}}(t3),r3=n3.left,i3=n3.right;var a3={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=_k(t[0]),r=_k(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=_k(t[0]),r=_k(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function o3(e,t,n,r){t[0].type!==D0&&J_("First argument to selection functions must be a string literal.");var i=t[0].value,a="unit",o="@unit",u=":"+i;(t.length>=2&&wk(t).value)!==Q2||eE(r,o)||(r["@unit"]=n.getData(i).indataRef(n,a)),eE(r,u)||(r[u]=n.getData(i).tuplesRef())}function u3(e){var t=this.context.data[e];return t?t.values.value:[]}var s3=function(e){return function(t,n){return this.context.dataflow.locale()[e](n)(t)}},c3=s3("format"),l3=s3("timeFormat"),f3=s3("utcFormat"),d3=s3("timeParse"),h3=s3("utcParse"),p3=new Date(2e3,0,1);function v3(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(p3.setYear(2e3),p3.setMonth(e),p3.setDate(t),l3.call(this,p3,n)):""}function m3(e,t,n,r){t[0].type!==D0&&J_("First argument to data functions must be a string literal.");var i=t[0].value,a=":"+i;if(!eE(a,r))try{r[a]=n.getData(i).tuplesRef()}catch(o){}}function g3(e,t,n,r){if(t[0].type===D0)y3(n,r,t[0].value);else for(e in n.scales)y3(n,r,e)}function y3(e,t,n){var r="%"+n;if(!eE(t,r))try{t[r]=e.scaleRef(n)}catch(i){}}function b3(e,t){var n;return qk(e)?e:fE(e)?(n=t.scales[e])&&n.value:void 0}function x3(e,t,n){t.__bandwidth=function(e){return e&&e.bandwidth?e.bandwidth():0},n._bandwidth=g3,n._range=g3,n._scale=g3;var r=function(t){return"_["+(t.type===D0?bE("%"+t.value):bE("%")+"+"+e(t))+"]"};return{_bandwidth:function(e){return"this.__bandwidth(".concat(r(e[0]),")")},_range:function(e){return"".concat(r(e[0]),".range()")},_scale:function(t){return"".concat(r(t[0]),"(").concat(e(t[1]),")")}}}function w3(e,t){return function(n,r,i){if(n){var a=b3(n,(i||this).context);return a&&a.path[e](r)}return t(r)}}var _3=w3("area",(function(e){return u2=new rG,nG(e,s2),2*u2})),k3=w3("bounds",(function(e){var t,n,r,i,a,o,u;if(Z1=Q1=-(K1=X1=1/0),i2=[],nG(e,D2),n=i2.length){for(i2.sort(B2),t=1,a=[r=i2[0]];t<n;++t)z2(r,(i=i2[t])[0])||z2(r,i[1])?(I2(r[0],i[1])>I2(r[0],r[1])&&(r[1]=i[1]),I2(i[0],r[1])>I2(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(u=I2(r[1],i[0]))>o&&(o=u,K1=i[0],Q1=r[1])}return i2=a2=null,K1===1/0||X1===1/0?[[NaN,NaN],[NaN,NaN]]:[[K1,X1],[Q1,Z1]]})),E3=w3("centroid",(function(e){h2=p2=v2=m2=g2=y2=b2=x2=0,w2=new rG,_2=new rG,k2=new rG,nG(e,L2);var t=+w2,n=+_2,r=+k2,i=yG(t,n,r);return i<aG&&(t=y2,n=b2,r=x2,p2<iG&&(t=v2,n=m2,r=g2),(i=yG(t,n,r))<aG)?[NaN,NaN]:[pG(n,t)*lG,SG(r/i)*lG]}));function O3(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function S3(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function A3(e){var t=XN(e);return.2126*S3(t.r)+.7152*S3(t.g)+.0722*S3(t.b)}function C3(e,t){return e===t||e!==e&&t!==t||(vk(e)?!(!vk(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!C3(e[n],t[n]))return!1;return!0}(e,t):!(!mk(e)||!mk(t))&&D3(e,t))}function D3(e,t){for(var n in e)if(!C3(e[n],t[n]))return!1;return!0}function j3(e){return function(t){return D3(e,t)}}var T3={};function F3(e){return vk(e)||ArrayBuffer.isView(e)?e:null}function P3(e){return F3(e)||(fE(e)?e:null)}var M3=function(e){return e.data};function N3(e,t){var n=u3.call(t,e);return n.root&&n.root.lookup||{}}var R3=function(){return"undefined"!==typeof window&&window||null};var I3={random:function(){return OT()},cumulativeNormal:RT,cumulativeLogNormal:qT,cumulativeUniform:YT,densityNormal:NT,densityLogNormal:UT,densityUniform:GT,quantileNormal:IT,quantileLogNormal:WT,quantileUniform:KT,sampleNormal:MT,sampleLogNormal:LT,sampleUniform:VT,isArray:vk,isBoolean:oE,isDate:uE,isDefined:function(e){return void 0!==e},isNumber:cE,isObject:mk,isRegExp:lE,isString:fE,isTuple:bj,isValid:function(e){return null!=e&&e===e},toBoolean:xE,toDate:_E,toNumber:_k,toString:kE,indexof:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=P3(e)).indexOf.apply(t,r)},join:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=F3(e)).join.apply(t,r)},lastindexof:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=P3(e)).lastIndexOf.apply(t,r)},replace:function(e,t,n){return qk(n)&&J_("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return F3(e).slice().reverse()},slice:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=P3(e)).slice.apply(t,r)},flush:rE,lerp:hE,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),Xk.apply(void 0,pu(e))},pad:gE,peek:wk,pluck:function(e,t){var n=T3[t]||(T3[t]=tk(t));return vk(e)?e.map(n):n(e)},span:yE,inrange:aE,truncate:OE,rgb:XN,lab:IB,hcl:HB,hsl:rR,luminance:A3,contrast:function(e,t){var n=A3(e),r=A3(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:pF,format:c3,utcFormat:f3,utcParse:h3,utcOffset:nA,utcSequence:aA,timeFormat:l3,timeParse:d3,timeOffset:tA,timeSequence:iA,timeUnitSpecifier:AS,monthFormat:function(e){return v3.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return v3.call(this,e,1,"%b")},dayFormat:function(e){return v3.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return v3.call(this,0,2+e,"%a")},quarter:Bk,utcquarter:zk,week:TS,utcweek:IS,dayofyear:jS,utcdayofyear:RS,warn:function(){return O3(this.context.dataflow,"warn",arguments)},info:function(){return O3(this.context.dataflow,"info",arguments)},debug:function(){return O3(this.context.dataflow,"debug",arguments)},extent:Qk,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=D(e,2),i=r[0],a=r[1],o=(new SU).set(i[0],i[1],a[0],a[1]);return e$(n||this.context.dataflow.scenegraph().root,o,function(e){var t=null;if(e){var n=Lk(e.marktype),r=Lk(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:Uk,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){var e=R3();return e?e.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){var e=R3();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return pz(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(ok).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?KL(n,t=t||BL(e)):e}},panLinear:Dk,panLog:jk,panPow:Tk,panSymlog:Fk,zoomLinear:Mk,zoomLog:Nk,zoomPow:Rk,zoomSymlog:Ik,encode:function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,a){var o,u,s=this.context.dataflow,c=this.context.data[e],l=c.input,f=s.stamp(),d=c.changes;if(!1===s._trigger||!(l.value.length||t||r))return 0;if((!d||d.stamp<f)&&(c.changes=d=s.changeset(),d.stamp=f,s.runAfter((function(){c.modified=!0,s.pulse(l,d).run()}),!0,1)),n&&(o=!0===n?ok:vk(n)||bj(n)?n:j3(n),d.remove(o)),t&&d.insert(t),r&&(o=j3(r),l.value.some(o)?d.remove(o):d.insert(r)),i)for(u in a)d.modify(i,u,a[u]);return 1}},B3=["view","item","group","xy","x","y"],z3="this.",L3={},U3={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_[".concat(bE("$"+e),"]")},functions:function(e){var t=q1(e);for(var n in B3.forEach((function(e){return t[e]="event.vega."+e})),I3)t[n]=z3+n;return Xk(t,x3(e,I3,L3)),t},constants:U1,visitors:L3},q3=W1(U3);function W3(e,t,n){return 1===arguments.length?I3[e]:(I3[e]=t,n&&(L3[e]=n),q3&&(q3.functions[e]=z3+e),this)}function H3(e,t){var n,r={};try{n=L1(e=fE(e)?e:bE(e)+"")}catch(a){J_("Expression parse error: "+e)}n.visit((function(e){if(e.type===P0){var n=e.callee.name,i=U3.visitors[n];i&&i(n,e.arguments,t,r)}}));var i=q3(n);return i.globals.forEach((function(e){var n="$"+e;!eE(r,n)&&t.getSignal(e)&&(r[n]=t.signalRef(e))})),{$expr:Xk({code:i.code},t.options.ast?{ast:n}:null),$fields:i.fields,$params:r}}W3("bandwidth",(function(e,t){var n=b3(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),g3),W3("copy",(function(e,t){var n=b3(e,(t||this).context);return n?n.copy():void 0}),g3),W3("domain",(function(e,t){var n=b3(e,(t||this).context);return n?n.domain():[]}),g3),W3("range",(function(e,t){var n=b3(e,(t||this).context);return n&&n.range?n.range():[]}),g3),W3("invert",(function(e,t,n){var r=b3(e,(n||this).context);return r?vk(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),g3),W3("scale",(function(e,t,n){var r=b3(e,(n||this).context);return r?r(t):void 0}),g3),W3("gradient",(function(e,t,n,r,i){e=b3(e,(i||this).context);var a=PL(t,n),o=e.domain(),u=o[0],s=wk(o),c=rk;return s-u?c=nL(e,u,s):e=(e.interpolator?Wz("sequential")().interpolator(e.interpolator()):Wz("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,s=1]),e.ticks&&(u!==(o=e.ticks(+r||15))[0]&&o.unshift(u),s!==wk(o)&&o.push(s)),o.forEach((function(t){return a.stop(c(t),e(t))})),a}),g3),W3("geoArea",_3,g3),W3("geoBounds",k3,g3),W3("geoCentroid",E3,g3),W3("geoShape",(function(e,t,n){var r=b3(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),g3),W3("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,r){t[0].type!==D0&&J_("First argument to indata must be a string literal."),t[1].type!==D0&&J_("Second argument to indata must be a string literal.");var i=t[0].value,a=t[1].value,o="@"+a;eE(o,r)||(r[o]=n.getData(i).indataRef(n,a))})),W3("data",u3,m3),W3("treePath",(function(e,t,n){var r=N3(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(M3):void 0}),m3),W3("treeAncestors",(function(e,t){var n=N3(e,this)[t];return n?n.ancestors().map(M3):void 0}),m3),W3("vlSelectionTest",(function(e,t,n){for(var r,i,a,o,u,s=this.context.data[e],c=s?s.values.value:[],l=s?s[J2]&&s[J2].value:void 0,f=n===Q2,d=c.length,h=0;h<d;++h)if(r=c[h],l&&f){if(-1===(a=(i=i||{})[o=r.unit]||0))continue;if(u=e3(t,r),i[o]=u?-1:++a,u&&1===l.size)return!0;if(!u&&a===l.get(o).count)return!1}else if(f^(u=e3(t,r)))return u;return d&&f}),o3),W3("vlSelectionIdTest",(function(e,t,n){var r=this.context.data[e],i=r?r.values.value:[],a=r?r[J2]&&r[J2].value:void 0,o=n===Q2,u=t3(t),s=r3(i,u);if(s===i.length)return!1;if(t3(i[s])!==u)return!1;if(a&&o){if(1===a.size)return!0;if(i3(i,u)-s<a.size)return!1}return!0}),o3),W3("vlSelectionResolve",(function(e,t,n,r){for(var i,a,o,u,s,c,l,f,d,h,p,v=this.context.data[e],m=v?v.values.value:[],g={},y={},b={},x=m.length,w=0;w<x;++w){for(u=(i=m[w]).unit,a=i.fields,o=i.values,h=0,p=a.length;h<p;++h)s=a[h],l=(c=g[s.field]||(g[s.field]={}))[u]||(c[u]=[]),b[s.field]=f=s.type.charAt(0),d=a3[f+"_union"],c[u]=d(l,Lk(o[h]));n&&(l=y[u]||(y[u]=[])).push(Lk(o).reduce((function(e,t,n){return e[a[n].field]=t,e}),{}))}return t=t||Z2,Object.keys(g).forEach((function(e){g[e]=Object.keys(g[e]).map((function(t){return g[e][t]})).reduce((function(n,r){return void 0===n?r:a3[b[e]+"_"+t](n,r)}))})),m=Object.keys(y),n&&m.length&&(g[r?"vlPoint":"vlMulti"]=t===Z2?du({},"or",m.reduce((function(e,t){return e.push.apply(e,pu(y[t])),e}),[])):du({},"and",m.map((function(e){return du({},"or",y[e])})))),g}),o3),W3("vlSelectionTuples",(function(e,t){return e.map((function(e){return Xk({values:t.fields.map((function(t){return(t.getter||(t.getter=tk(t.field)))(e.datum)}))},t)}))}));var $3=EE(["rule"]),V3=EE(["group","image","rect"]);function G3(e){return(e+"").toLowerCase()}function Y3(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(void 0,pu(t.concat(n)));return e&&e.functions?r.bind(e.functions):r}var K3={operator:function(e,t){return Y3(e,["_"],t.code)},parameter:function(e,t){return Y3(e,["datum","_"],t.code)},event:function(e,t){return Y3(e,["event"],t.code)},handler:function(e,t){return Y3(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";"))},encode:function(e,t){var n=t.marktype,r=t.channels,i="var o=item,datum=o.datum,m=0,$;";for(var a in r){var o="o["+bE(a)+"]";i+="$=".concat(r[a].code,";if(").concat(o,"!==$)").concat(o,"=$,m=1;")}return i+=function(e,t){var n="";return $3[t]||(e.x2&&(e.x?(V3[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(V3[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),Y3(e,["item","_"],i+="return m;")},codegen:{get:function(e){var t="[".concat(e.map(bE).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator:function(e,t){var n,r=Function("a","b","var u, v; return "+e.map((function(e,r){var i,a,o=t[r];return e.path?(i="a".concat(e.path),a="b".concat(e.path)):((n=n||{})["f"+r]=e,i="this.f".concat(r,"(a)"),a="this.f".concat(r,"(b)")),function(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(i,a,-o,o)})).join("")+"0;");return n?r.bind(n):r}}};function X3(e,t,n){if(!e||!mk(e))return e;for(var r,i=0,a=Q3.length;i<a;++i)if(eE(e,(r=Q3[i]).key))return r.parse(e,t,n);return e}var Q3=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||J_("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=dE(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);var r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=G_(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=tk(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){var n=e.$encode,r={};for(var i in n){var a=n[i];r[i]=G_(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Lk(e.$compare).map((function(e){return e&&e.$tupleid?xj:e}));return t.fn[n]||(t.fn[n]=Wk(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var a=t.fork().parse(n),o=a.get(n.operators[0].id),u=a.signals.parent;return u&&u.set(i),o.detachSubflow=function(){return t.detach(a)},o}}},{key:"$tupleid",parse:function(){return xj}}];var Z3={skip:!0};function J3(e,t,n,r){return new e5(e,t,n,r)}function e5(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||K3,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function t5(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function n5(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}e5.prototype=t5.prototype={fork:function(){var e=new t5(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach:function(e){this.subcontext=this.subcontext.filter((function(t){return t!==e}));for(var t=Object.keys(e.nodes),n=0,r=t;n<r.length;n++){var i=r[n];e.nodes[i]._targets=null}for(var a=0,o=t;a<o.length;a++){var u=o[a];e.nodes[u].detach()}e.nodes=null},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),function(e){return"collect"===G3(e)}(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){var a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push((function(){a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data){var o=function(r){var i=n.data[r]||(n.data[r]={});e.data[r].forEach((function(e){return i[e]=t}))};for(var u in e.data)o(u)}},resolve:function(){return(this.unresolved||[]).forEach((function(e){return e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[G3(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression:function(e){return this.expr.operator(this,e)},parameterExpression:function(e){return this.expr.parameter(this,e)},eventExpression:function(e){return this.expr.event(this,e)},handlerExpression:function(e){return this.expr.handler(this,e)},encodeExpression:function(e){return this.expr.encode(this,e)},parse:function(e){var t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((function(e){return t.parseOperator(e)})),n.forEach((function(e){return t.parseOperatorParameters(e)})),(e.streams||[]).forEach((function(e){return t.parseStream(e)})),(e.updates||[]).forEach((function(e){return t.parseUpdate(e)})),t.resolve()},parseOperator:function(e){var t=this;!function(e){return"operator"===G3(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){var t=this;if(e.params){var n=t.get(e.id);n||J_("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};var n=this;for(var r in e){var i=e[r];t[r]=vk(i)?i.map((function(e){return X3(e,n,t)})):X3(i,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,i=null!=e.stream?n.get(e.stream):void 0;e.source?i=n.events(e.source,e.type,r):e.merge&&(i=(t=e.merge.map((function(e){return n.get(e)})))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((function(e){return n.get(e)})),i=i.between(t[0],t[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&J_("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),n.stream(e,i)},parseUpdate:function(e){var t,n=this,r=mk(r=e.source)?r.$ref:r,i=n.get(r),a=e.update,o=void 0;i||J_("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),a&&a.$expr&&(a.$params&&(o=n.parseParameters(a.$params)),a=n.handlerExpression(a.$expr)),n.update(e,i,t,a,o)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach((function(e){n.update(t.signals[e],i[e],Z3)})),Object.keys(r||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(ok).insert(r[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}};var r5="default";function i5(e,t){var n=e.globalCursor()?"undefined"!==typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function a5(e,t){var n=e._runtime.data;return eE(n,t)||J_("Unrecognized data set: "+t),n[t]}function o5(e,t){Aj(t)||J_("Second argument to changes must be a changeset.");var n=a5(this,e);return n.modified=!0,this.pulse(n.input,t)}function u5(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function s5(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function c5(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function l5(e){var t=c5(e),n=u5(e),r=s5(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(J_){e.error(J_)}}))}function f5(e,t,n){var r,i,a=e._renderer,o=a&&a.canvas();return o&&(i=c5(e),(r=BW(t.changedTouches?t.changedTouches[0]:t,o))[0]-=i[0],r[1]-=i[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function a(e){if(!e)return n;fE(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Yk(e),item:Yk(t||{}),group:i,xy:a,x:function(e){return a(e)[0]},y:function(e){return a(e)[1]}}}(e,n,r),t}var d5="view",h5={trap:!1};function p5(e,t,n,r){e._eventListeners.push({type:n,sources:Lk(t),handler:r})}function v5(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||mk(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function m5(e){return e.item}function g5(e){return e.item.mark.source}function y5(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function b5(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}function x5(e,t,n,r){var i=n.event||"input",a=function(){return e.update(t.value)};r.signal(n.signal,t.value),t.addEventListener(i,a),p5(r,t,i,a),e.set=function(e){t.value=e,t.dispatchEvent(function(e){return"undefined"!==typeof Event?new Event(e):{type:e}}(i))}}function w5(e,t,n,r){var i=r.signal(n.signal),a=b5("div",{class:"vega-bind"}),o="radio"===n.input?a:a.appendChild(b5("label"));o.appendChild(b5("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(a);var u=_5;switch(n.input){case"checkbox":u=k5;break;case"select":u=E5;break;case"radio":u=O5;break;case"range":u=S5}u(e,o,n,i)}function _5(e,t,n,r){var i=b5("input");for(var a in n)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(function(){return e.update(i.value)})),e.elements=[i],e.set=function(e){return i.value=e}}function k5(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var a=b5("input",i);t.appendChild(a),a.addEventListener("change",(function(){return e.update(a.checked)})),e.elements=[a],e.set=function(e){return a.checked=!!e||null}}function E5(e,t,n,r){var i=b5("select",{name:n.signal}),a=n.labels||[];n.options.forEach((function(e,t){var n={value:e};A5(e,r)&&(n.selected=!0),i.appendChild(b5("option",n,(a[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(function(){e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(A5(n.options[t],e))return void(i.selectedIndex=t)}}function O5(e,t,n,r){var i=b5("span",{class:"vega-bind-radio"}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((function(t,o){var u={type:"radio",name:n.signal,value:t};A5(t,r)&&(u.checked=!0);var s=b5("input",u);s.addEventListener("change",(function(){return e.update(t)}));var c=b5("label",{},(a[o]||t)+"");return c.prepend(s),i.appendChild(c),s})),e.set=function(t){for(var n=e.elements,r=n.length,i=0;i<r;++i)A5(n[i].value,t)&&(n[i].checked=!0)}}function S5(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,o=n.step||GE(a,i,100),u=b5("input",{type:"range",name:n.signal,min:a,max:i,step:o});u.value=r;var s=b5("span",{},+r);t.appendChild(u),t.appendChild(s);var c=function(){s.textContent=u.value,e.update(+u.value)};u.addEventListener("input",c),u.addEventListener("change",c),e.elements=[u],e.set=function(e){u.value=e,s.textContent=e}}function A5(e,t){return e===t||e+""===t+""}function C5(e,t,n,r,i,a){return(t=t||new r(e.loader())).initialize(n,u5(e),s5(e),c5(e),i,a).background(e.background())}function D5(e,t){return t?function(){try{t.apply(this,arguments)}catch(J_){e.error(J_)}}:null}function j5(e,t,n){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.innerHTML=""}catch(Xwe){t=null,e.error(Xwe)}return t}var T5=function(e){return+e||0};function F5(e){return mk(e)?{top:T5(e.top),bottom:T5(e.bottom),left:T5(e.left),right:T5(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(T5(e))}function P5(e,t,n,r){return M5.apply(this,arguments)}function M5(){return M5=nu(iu().mark((function e(t,n,r,i){var a,o;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JH(n),(o=a&&a.headless)||J_("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",C5(t,null,null,o,r,i).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)}))),M5.apply(this,arguments)}function N5(){return N5=nu(iu().mark((function e(t,n){var r;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==QH.Canvas&&t!==QH.SVG&&t!==QH.PNG&&J_("Unrecognized image type: "+t),e.next=3,P5(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===QH.SVG?R5(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)}))),N5.apply(this,arguments)}function R5(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function I5(){return I5=nu(iu().mark((function e(t,n){var r;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P5(this,QH.Canvas,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}}),e,this)}))),I5.apply(this,arguments)}function B5(){return B5=nu(iu().mark((function e(t){var n;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P5(this,QH.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)}))),B5.apply(this,arguments)}var z5="width",L5="height",U5="padding",q5={skip:!0};function W5(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===U5?r.left+r.right:0)}function H5(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===U5?r.top+r.bottom:0)}function $5(e,t){return t.modified&&vk(t.input.value)&&e.indexOf("_:vega:_")}function V5(e,t){return!("parent"===e||t instanceof aT.proxy)}function G5(e,t,n,r){var i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":vk(e)?Y5(e):mk(e)&&!uE(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(vk(n)?Y5(n):K5(n))})).join("\n")):e+"";var t}(r))}function Y5(e){return"["+e.map(K5).join(", ")+"]"}function K5(e){return vk(e)?"[\u2026]":mk(e)&&!uE(e)?"{\u2026}":e}function X5(e,t){var n=this;if(t=t||{},nT.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){var r=Xk({},e.locale,t.locale);n.locale(ND(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||QH.Canvas,n._scenegraph=new TW;var i=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||G5,n._redraw=!0,n._handler=(new rH).scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){var t=Xk({defaults:{}},e),n=function(e,t){t.forEach((function(t){vk(e[t])&&(e[t]=EE(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);var a=function(e,t,n){return J3(e,aT,I3,n).parse(t)}(n,e,t.expr);n._runtime=a,n._signals=a.signals,n._bind=(e.bindings||[]).map((function(e){return{state:null,param:Xk({},e)}})),a.root&&a.root.set(i),i.source=a.data.root.input,n.pulse(a.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=W5(n,n._width),n._viewHeight=H5(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=W5(e,t.size),a()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=H5(e,t.size),a()}),{size:r});var o=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}(n),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(n),function(e){var t=e._signals.cursor||(e._signals.cursor=e.add({user:r5,item:null}));e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,i=r?fE(r)?r:r.user:r5,a=n.item&&n.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}})),e.add(null,(function(t){var n=t.cursor,r=this.value;return fE(n)||(r=n.item,n=n.user),i5(e,n&&n!==r5?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function Q5(e,t){return eE(e._signals,t)?e._signals[t]:J_("Unrecognized signal name: "+bE(t))}function Z5(e,t){var n=(e._targets||[]).filter((function(e){return e._update&&e._update.handler===t}));return n.length?n[0]:null}function J5(e,t,n,r){var i=Z5(n,r);return i||((i=D5(e,(function(){return r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function e6(e,t,n){var r=Z5(t,n);return r&&t._targets.remove(r),e}iE(X5,nT,{evaluate:function(e,t,n){var r=this;return nu(iu().mark((function i(){return iu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nT.prototype.evaluate.call(r,e,t);case 2:if(!r._redraw&&!r._resize){i.next=14;break}if(i.prev=3,!r._renderer){i.next=8;break}return r._resize&&(r._resize=0,l5(r)),i.next=8,r._renderer.renderAsync(r._scenegraph.root);case 8:r._redraw=!1,i.next=14;break;case 11:i.prev=11,i.t0=i.catch(3),r.error(i.t0);case 14:return n&&vj(r,n),i.abrupt("return",r);case 16:case"end":return i.stop()}}),i,null,[[3,11]])})))()},dirty:function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description:function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&n5(this._el,this._desc=t),this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(e,t,n){var r=Q5(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},width:function(e){return arguments.length?this.signal("width",e):this.signal("width")},height:function(e){return arguments.length?this.signal("height",e):this.signal("height")},padding:function(e){return arguments.length?this.signal("padding",F5(e)):F5(this.signal("padding"))},autosize:function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background:function(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer:function(e){return arguments.length?(JH(e)||J_("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip:function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader:function(e){return arguments.length?(e!==this._loader&&(nT.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize:function(){return this._autosize=1,this.touch(Q5(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,r,i,a){this.runAfter((function(o){var u=0;o._autosize=0,o.width()!==n&&(u=1,o.signal(z5,n,q5),o._resizeWidth.skip(!0)),o.height()!==r&&(u=1,o.signal(L5,r,q5),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),u&&o.run("enter"),a&&o.runAfter((function(e){return e.resize()}))}),!1,1)},addEventListener:function(e,t,n){var r=t;return n&&!1===n.trap||((r=D5(this,t)).raw=t),this._handler.on(e,r),this},removeEventListener:function(e,t){for(var n,r,i=this._handler.handlers(e),a=i.length;--a>=0;)if(r=i[a].type,n=i[a].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},addResizeListener:function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener:function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener:function(e,t){return J5(this,e,Q5(this,e),t)},removeSignalListener:function(e,t){return e6(this,Q5(this,e),t)},addDataListener:function(e,t){return J5(this,e,a5(this,e).values,t)},removeDataListener:function(e,t){return e6(this,a5(this,e).values,t)},globalCursor:function(e){if(arguments.length){if(this._globalCursor!==!!e){var t=i5(this,null);this._globalCursor=!!e,t&&i5(this,t)}return this}return this._globalCursor},preventDefault:function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var r=new yQ,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?mQ():+n,r._restart((function a(o){o+=i,r._restart(a,i+=t,n),e(o)}),t,n)},r.restart(e,t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var r,i=this,a=new Rj(n),o=function(n,r){i.runAsync(null,(function(){e===d5&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),a.receive(f5(i,n,r))}))};if("timer"===e)v5(i,"timer",t)&&i.timer(o,t);else if(e===d5)v5(i,"view",t)&&i.addEventListener(t,o,h5);else if("window"===e?v5(i,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&v5(i,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var u=0,s=r.length;u<s;++u)r[u].addEventListener(t,o);p5(i,r,t,o)}else i.warn("Can not resolve event source: "+e);return a},finalize:function(){var e,t,n,r=this._tooltip,i=this._timers,a=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",m5),g5,y5(e)),this.on(this.events("view","mouseout",m5),g5,y5(t)),this},data:function(e,t){return arguments.length<2?a5(this,e).values.value:o5.call(this,e,Cj().remove(ok).insert(t))},change:o5,insert:function(e,t){return o5.call(this,e,Cj().insert(t))},remove:function(e,t){return o5.call(this,e,Cj().remove(t))},scale:function(e){var t=this._runtime.scales;return eE(t,e)||J_("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){var n=this,r=n._renderType,i=n._eventConfig.bind,a=JH(r);e=n._el=e?j5(n,e,!0):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),n5(t,e.description()))}(n),a||n.error("Unrecognized renderer type: "+r);var o=a.handler||rH,u=e?a.renderer:a.headless;return n._renderer=u?C5(n,n._renderer,e,u):null,n._handler=function(e,t,n,r){var i=new r(e.loader(),D5(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,c5(e),e);return t&&t.handlers().forEach((function(e){i.on(e.type,e.handler)})),i}(n,n._handler,e,o),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=j5(n,t,!0):e.appendChild(b5("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==i&&(e.element=j5(n,e.param.element,!!e.param.input))})),n._bind.forEach((function(e){!function(e,t,n){if(t){var r=n.param,i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:function(t){t!=e.signal(r.signal)&&e.runAsync(null,(function(){i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=Kk(r.debounce,i.update))),(null==r.input&&r.element?x5:w5)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0)}}(n,e.element||t,e)}))),n},toImageURL:function(e,t){return N5.apply(this,arguments)},toCanvas:function(e,t){return I5.apply(this,arguments)},toSVG:function(e){return B5.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:$5,signals:V5,recurse:!0})},setState:function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this}});var t6,n6,r6="[",i6="]",a6=/[[\]{}]/,o6={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function u6(e,t,n){return t6=t||"view",n6=n||o6,c6(e.trim()).map(l6)}function s6(e,t,n,r,i){for(var a,o=e.length,u=0;t<o;++t){if(a=e[t],!u&&a===n)return t;i&&i.indexOf(a)>=0?--u:r&&r.indexOf(a)>=0&&++u}return t}function c6(e){for(var t=[],n=e.length,r=0,i=0;i<n;)i=s6(e,i,",","[{","]}"),t.push(e.substring(r,i).trim()),r=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function l6(e){return"["===e[0]?function(e){var t,n=e.length,r=1;if((r=s6(e,r,i6,r6,i6))===n)throw"Empty between selector: "+e;if(2!==(t=c6(e.substring(1,r))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+e;t=t.map(l6);var i=l6(e.slice(1).trim());if(i.between)return{between:t,stream:i};i.between=t;return i}(e):function(e){var t,n,r={source:t6},i=[],a=[0,0],o=0,u=0,s=e.length,c=0;if("}"===e[s-1]){if(!((c=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{a=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(c+1,s-1))}catch(Xwe){throw"Invalid throttle specification: "+e}s=(e=e.slice(0,c).trim()).length,c=0}if(!s)throw e;"@"===e[0]&&(o=++c);(t=s6(e,c,":"))<s&&(i.push(e.substring(u,t).trim()),u=c=++t);if((c=s6(e,c,r6))===s)i.push(e.substring(u,s).trim());else if(i.push(e.substring(u,c).trim()),n=[],(u=++c)===s)throw"Unmatched left bracket: "+e;for(;c<s;){if((c=s6(e,c,i6))===s)throw"Unmatched left bracket: "+e;if(n.push(e.substring(u,c).trim()),c<s-1&&e[++c]!==r6)throw"Expected left bracket: "+e;u=++c}if(!(s=i.length)||a6.test(i[s-1]))throw"Invalid event selector: "+e;s>1?(r.type=i[1],o?r.markname=i[0].slice(1):!function(e){return n6[e]}(i[0])?r.source=i[0]:r.marktype=i[0]):r.type=i[0];"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);a[0]&&(r.throttle=a[0]);a[1]&&(r.debounce=a[1]);return r}(e)}function f6(e){return mk(e)?e:{type:e||"pad"}}var d6=function(e){return+e||0};function h6(e){return mk(e)?e.signal?e:{top:d6(e.top),bottom:d6(e.bottom),left:d6(e.left),right:d6(e.right)}:{top:t=d6(e),bottom:t,left:t,right:t};var t}var p6=function(e){return mk(e)&&!vk(e)?Xk({},e):{value:e}};function v6(e,t,n,r){return null!=n?(mk(n)&&!vk(n)||vk(n)&&n.length&&mk(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function m6(e,t,n){for(var r in t)v6(e,r,t[r]);for(var i in n)v6(e,i,n[i],"update")}function g6(e,t,n){for(var r in t)n&&eE(n,r)||(e[r]=Xk(e[r]||{},t[r]));return e}function y6(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var b6="mark",x6="frame",w6="scope",_6="legend-label",k6="title-text",E6="title-subtitle";function O6(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}var S6=function(e){return fE(e)?bE(e):e.signal?"(".concat(e.signal,")"):j6(e)};function A6(e){if(null!=e.gradient)return function(e){var t=[e.start,e.stop,e.count].map((function(e){return null==e?null:bE(e)}));for(;t.length&&null==wk(t);)t.pop();return t.unshift(S6(e.gradient)),"gradient(".concat(t.join(","),")")}(e);var t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?C6("hcl",e.h,e.c,e.l):e.h||e.s?C6("hsl",e.h,e.s,e.l):e.l||e.a?C6("lab",e.l,e.a,e.b):e.r||e.g||e.b?C6("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?j6(e.field):void 0!==e.value?bE(e.value):void 0;return null!=e.scale&&(t=function(e,t){var n=S6(e.scale);null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1===+e.band?"":"*"+D6(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat(D6(e.exponent),")")),null!=e.mult&&(t+="*".concat(D6(e.mult))),null!=e.offset&&(t+="+".concat(D6(e.offset))),e.round&&(t="round(".concat(t,")")),t}var C6=function(e,t,n,r){return"(".concat(e,"(").concat([t,n,r].map(A6).join(","),")+'')")};function D6(e){return mk(e)?"("+A6(e)+")":e}function j6(e){return T6(mk(e)?e:{datum:e})}function T6(e){var t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):J_("Invalid field reference: "+bE(e));return e.signal||(r=fE(r)?ek(r).map(bE).join("]["):T6(r)),t+"["+r+"]"}function F6(e,t,n,r,i,a){var o={};for(var u in(a=a||{}).encoders={$encode:o},e=function(e,t,n,r,i){var a,o,u,s={},c={};for(o in o="lineBreak","text"!==t||null==i[o]||y6(o,e)||O6(s,o,i[o]),("legend"==n||String(n).startsWith("axis"))&&(n=null),u=n===x6?i.group:n===b6?Xk({},i.mark,i[t]):null)y6(o,e)||("fill"===o||"stroke"===o)&&(y6("fill",e)||y6("stroke",e))||O6(s,o,u[o]);for(o in Lk(r).forEach((function(t){var n=i.style&&i.style[t];for(var r in n)y6(r,e)||O6(s,r,n[r])})),e=Xk({},e),s)(u=s[o]).signal?(a=a||{})[o]=u:c[o]=u;return e.enter=Xk(c,e.enter),a&&(e.update=Xk(a,e.update)),e}(e,t,n,r,i.config),e)o[u]=P6(e[u],t,a,i);return a}function P6(e,t,n,r){var i,a={},o={};for(var u in e)null!=e[u]&&(a[u]=M6((i=e[u],vk(i)?function(e){var t="";return e.forEach((function(e){var n=A6(e);t+=e.test?"(".concat(e.test,")?").concat(n,":"):n})),":"===wk(t)&&(t+="null"),t}(i):A6(i)),r,n,o));return{$expr:{marktype:t,channels:a},$fields:Object.keys(o),$output:Object.keys(e)}}function M6(e,t,n,r){var i=H3(e,t);return i.$fields.forEach((function(e){return r[e]=1})),Xk(n,i.$params),i.$expr}var N6=["value","update","init","react","bind"];function R6(e,t){J_(e+' for "outer" push: '+bE(t))}function I6(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||R6("No prior signal definition",n),N6.forEach((function(t){void 0!==e[t]&&R6("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function B6(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function z6(e,t,n,r){return new B6(e,t,n,r)}function L6(e,t){return z6("operator",e,t)}function U6(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function q6(e,t){return t?{$field:e,$name:t}:{$field:e}}var W6=q6("key");function H6(e,t){return{$compare:e,$order:t}}function $6(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var V6="scope",G6="view";function Y6(e){return e&&e.signal}function K6(e){if(Y6(e))return!0;if(mk(e))for(var t in e)if(K6(e[t]))return!0;return!1}function X6(e,t){return null!=e?e:t}function Q6(e){return e&&e.signal||e}var Z6="timer";function J6(e,t){return(e.merge?e4:e.stream?t4:e.type?n4:J_("Invalid stream specification: "+bE(e)))(e,t)}function e4(e,t){var n=e.merge.map((function(e){return J6(e,t)})),r=r4({merge:n},e,t);return t.addStream(r).id}function t4(e,t){var n=r4({stream:J6(e.stream,t)},e,t);return t.addStream(n).id}function n4(e,t){var n;e.type===Z6?(n=t.event(Z6,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(function(e){return e===V6?G6:e||G6}(e.source),e.type);var r=r4({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function r4(e,t,n){var r=t.between;return r&&(2!==r.length&&J_('Stream "between" parameter must have 2 entries: '+bE(t)),e.between=[J6(r[0],n),J6(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===V6&&r.push("inScope(event.item)"),r.length&&(e.filter=H3("("+r.join(")&&(")+")",n).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var i4={code:"_.$value",ast:{type:"Identifier",value:"value"}};function a4(e,t,n){var r=e.encode,i={target:n},a=e.events,o=e.update,u=[];a||J_("Signal update missing events specification."),fE(a)&&(a=u6(a,t.isSubscope()?V6:G6)),a=Lk(a).filter((function(e){return e.signal||e.scale?(u.push(e),0):1})),u.length>1&&(u=[o4(u)]),a.length&&u.push(a.length>1?{merge:a}:a[0]),null!=r&&(o&&J_("Signal encode and update are mutually exclusive."),o="encode(item(),"+bE(r)+")"),i.update=fE(o)?H3(o,t):null!=o.expr?H3(o.expr,t):null!=o.value?o.value:null!=o.signal?{$expr:i4,$params:{$value:t.signalRef(o.signal)}}:J_("Invalid signal update specification."),e.force&&(i.options={force:!0}),u.forEach((function(e){return t.addUpdate(Xk(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):J6(e,t)}}(e,t),i))}))}function o4(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}var u4=function(e){return function(t,n,r){return z6(e,n,t||void 0,r)}},s4=u4("aggregate"),c4=u4("axisticks"),l4=u4("bound"),f4=u4("collect"),d4=u4("compare"),h4=u4("datajoin"),p4=u4("encode"),v4=u4("expression"),m4=u4("facet"),g4=u4("field"),y4=u4("key"),b4=u4("legendentries"),x4=u4("load"),w4=u4("mark"),_4=u4("multiextent"),k4=u4("multivalues"),E4=u4("overlap"),O4=u4("params"),S4=u4("prefacet"),A4=u4("projection"),C4=u4("proxy"),D4=u4("relay"),j4=u4("render"),T4=u4("scale"),F4=u4("sieve"),P4=u4("sortitems"),M4=u4("viewlayout"),N4=u4("values"),R4=0,I4={min:"min",max:"max",count:"sum"};function B4(e,t){var n,r=t.getScale(e.name).params;for(n in r.domain=q4(e.domain,e,t),null!=e.range&&(r.range=X4(e,t,r)),null!=e.interpolate&&function(e,t){t.interpolate=z4(e.type||e),null!=e.gamma&&(t.interpolateGamma=z4(e.gamma))}(e.interpolate,r),null!=e.nice&&(r.nice=function(e){return mk(e)?{interval:z4(e.interval),step:z4(e.step)}:z4(e)}(e.nice)),null!=e.bins&&(r.bins=function(e,t){return e.signal||vk(e)?L4(e,t):t.objectProperty(e)}(e.bins,t)),e)eE(r,n)||"name"===n||(r[n]=z4(e[n],t))}function z4(e,t){return mk(e)?e.signal?t.signalRef(e.signal):J_("Unsupported object: "+bE(e)):e}function L4(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return z4(e,t)}))}function U4(e){J_("Can not find data set: "+bE(e))}function q4(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(vk(e)?W4:e.fields?$4:H4)(e,t,n);null==t.domainMin&&null==t.domainMax||J_("No scale domain defined for domainMin/domainMax to override.")}function W4(e,t,n){return e.map((function(e){return z4(e,n)}))}function H4(e,t,n){var r=n.getData(e.data);return r||U4(e.data),Gz(t.type)?r.valuesRef(n,e.field,G4(e.sort,!1)):Qz(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function $4(e,t,n){var r=e.data,i=e.fields.reduce((function(e,t){return t=fE(t)?{data:r,field:t}:vk(t)||t.signal?function(e,t){var n="_:vega:_"+R4++,r=f4({});if(vk(e))r.value={$ingest:e};else if(e.signal){var i="setdata("+bE(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,F4({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Gz(t.type)?V4:Qz(t.type)?Y4:K4)(e,n,i)}function V4(e,t,n){var r,i,a=G4(e.sort,!0),o=n.map((function(e){var n=t.getData(e.data);return n||U4(e.data),n.countsRef(t,e.field,a)})),u={groupby:W6,pulse:o};a&&(r=a.op||"count",i=a.field?$6(r,a.field):"count",u.ops=[I4[r]],u.fields=[t.fieldRef(i)],u.as=[i]),r=t.add(s4(u));var s=t.add(f4({pulse:U6(r)}));return i=t.add(N4({field:W6,sort:t.sortRef(a),pulse:U6(s)})),U6(i)}function G4(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!I4[e.op]&&J_("Multiple domain scales can not be sorted using "+e.op):J_("No field provided for sort aggregate op: "+e.op):mk(e)?e.field="key":e={field:"key"}),e}function Y4(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||U4(e.data),n.domainRef(t,e.field)}));return U6(t.add(k4({values:r})))}function K4(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||U4(e.data),n.extentRef(t,e.field)}));return U6(t.add(_4({extents:r})))}function X4(e,t,n){var r=t.config.range,i=e.range;if(i.signal)return t.signalRef(i.signal);if(fE(i)){if(r&&eE(r,i))return X4(e=Xk({},e,{range:r[i]}),t,n);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=Gz(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:J_("Unrecognized scale range value: "+bE(i))}else{if(i.scheme)return n.scheme=vk(i.scheme)?L4(i.scheme,t):z4(i.scheme,t),i.extent&&(n.schemeExtent=L4(i.extent,t)),void(i.count&&(n.schemeCount=z4(i.count,t)));if(i.step)return void(n.rangeStep=z4(i.step,t));if(Gz(e.type)&&!vk(i))return q4(i,e,t);vk(i)||J_("Unsupported range type: "+bE(i))}return i.map((function(e){return(vk(e)?L4:z4)(e,t)}))}function Q4(e,t,n){return vk(e)?e.map((function(e){return Q4(e,t,n)})):mk(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:J_("Unsupported parameter object: "+bE(e)):e}var Z4="top",J4="left",e8="right",t8="bottom",n8="center",r8="index",i8="label",a8="perc",o8="value",u8="guide-label",s8="guide-title",c8="group-title",l8="group-subtitle",f8="symbol",d8="gradient",h8="discrete",p8="size",v8=[p8,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],m8={name:1,style:1,interactive:1},g8={value:0},y8={value:1},b8="group",x8="rect",w8="rule",_8="text";function k8(e){return e.type=b8,e.interactive=e.interactive||!1,e}function E8(e,t){var n=function(n,r){return X6(e[n],X6(t[n],r))};return n.isVertical=function(n){return"vertical"===X6(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return X6(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return X6(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return X6(e.columns,X6(t.columns,+n.isVertical(!0)))},n}function O8(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function S8(e,t,n){return"item.anchor === '".concat("start","' ? ").concat(e," : item.anchor === '").concat("end","' ? ").concat(t," : ").concat(n)}var A8=S8(bE(J4),bE(e8),bE(n8));function C8(e,t){return t?e?mk(e)?Object.assign({},e,{offset:C8(e.offset,t)}):{value:e,offset:t}:t:e}function D8(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=g6(e.encode,t,m8)):e.interactive=!1,e}function j8(e,t,n,r){var i,a,o,u,s,c=E8(e,n),l=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength();l?(a=[0,1],o=[0,0],u=f,s=d):(a=[0,0],o=[1,0],u=d,s=f);var h={enter:i={opacity:g8,x:g8,y:g8,width:p6(u),height:p6(s)},update:Xk({},i,{opacity:y8,fill:{gradient:t,start:a,stop:o}}),exit:{opacity:g8}};return m6(h,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),D8({type:x8,role:"legend-gradient",encode:h},r)}function T8(e,t,n,r,i){var a,o,u,s,c=E8(e,n),l=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength(),h="";l?(a="y",u="y2",o="x",s="width",h="1-"):(a="x",u="x2",o="y",s="height");var p={opacity:g8,fill:{scale:t,field:o8}};p[a]={signal:h+"datum."+a8,mult:d},p[o]=g8,p[u]={signal:h+"datum.perc2",mult:d},p[s]=p6(f);var v={enter:p,update:Xk({},p,{opacity:y8}),exit:{opacity:g8}};return m6(v,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),D8({type:x8,role:"legend-band",key:o8,from:i,encode:v},r)}var F8="datum.".concat(a8,'<=0?"').concat(J4,'":datum.').concat(a8,'>=1?"').concat(e8,'":"').concat(n8,'"'),P8="datum.".concat(a8,'<=0?"').concat(t8,'":datum.').concat(a8,'>=1?"').concat(Z4,'":"').concat("middle",'"');function M8(e,t,n,r){var i,a,o,u,s=E8(e,t),c=s.isVertical(),l=p6(s.gradientThickness()),f=s.gradientLength(),d=s("labelOverlap"),h="",p={enter:i={opacity:g8},update:a={opacity:y8,text:{field:i8}},exit:{opacity:g8}};return m6(p,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:X6(e.labelLimit,t.gradientLabelLimit)}),c?(i.align={value:"left"},i.baseline=a.baseline={signal:P8},o="y",u="x",h="1-"):(i.align=a.align={signal:F8},i.baseline={value:"top"},o="x",u="y"),i[o]=a[o]={signal:h+"datum."+a8,mult:f},i[u]=a[u]=l,l.offset=X6(e.labelOffset,t.gradientLabelOffset)||0,d=d?{separation:s("labelSeparation"),method:d,order:"datum.index"}:void 0,D8({type:_8,role:_6,style:u8,key:o8,from:r,encode:p,overlap:d},n)}function N8(e,t,n,r,i){var a,o,u,s,c,l=E8(e,t),f=n.entries,d=!(!f||!f.interactive),h=f?f.name:void 0,p=l("clipHeight"),v=l("symbolOffset"),m={data:"value"},g="(".concat(i,") ? datum.").concat("offset"," : datum.").concat(p8),y=p?p6(p):{field:p8},b="datum.".concat(r8),x="max(1, ".concat(i,")");y.mult=.5,a={enter:o={opacity:g8,x:{signal:g,mult:.5,offset:v},y:y},update:u={opacity:y8,x:o.x,y:o.y},exit:{opacity:g8}};var w=null,_=null;e.fill||(w=t.symbolBaseFillColor,_=t.symbolBaseStrokeColor),m6(a,{fill:l("symbolFillColor",w),shape:l("symbolType"),size:l("symbolSize"),stroke:l("symbolStrokeColor",_),strokeDash:l("symbolDash"),strokeDashOffset:l("symbolDashOffset"),strokeWidth:l("symbolStrokeWidth")},{opacity:l("symbolOpacity")}),v8.forEach((function(t){e[t]&&(u[t]=o[t]={scale:e[t],field:o8})}));var k=D8({type:"symbol",role:"legend-symbol",key:o8,from:m,clip:!!p||void 0,encode:a},n.symbols),E=p6(v);E.offset=l("labelOffset"),m6(a={enter:o={opacity:g8,x:{signal:g,offset:E},y:y},update:u={opacity:y8,text:{field:i8},x:o.x,y:o.y},exit:{opacity:g8}},{align:l("labelAlign"),baseline:l("labelBaseline"),fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:l("labelLimit")});var O=D8({type:_8,role:_6,style:u8,key:o8,from:m,encode:a},n.labels);return a={enter:{noBound:{value:!p},width:g8,height:p?p6(p):g8,opacity:g8},exit:{opacity:g8},update:u={opacity:y8,row:{signal:null},column:{signal:null}}},l.isVertical(!0)?(s="ceil(item.mark.items.length / ".concat(x,")"),u.row.signal="".concat(b,"%").concat(s),u.column.signal="floor(".concat(b," / ").concat(s,")"),c={field:["row",b]}):(u.row.signal="floor(".concat(b," / ").concat(x,")"),u.column.signal="".concat(b," % ").concat(x),c={field:b}),u.column.signal="(".concat(i,")?").concat(u.column.signal,":").concat(b),k8({role:w6,from:r={facet:{data:r,name:"value",groupby:r8}},encode:g6(a,f,m8),marks:[k,O],name:h,interactive:d,sort:c})}var R8='item.orient === "left"',I8='item.orient === "right"',B8="(".concat(R8," || ").concat(I8,")"),z8="datum.vgrad && ".concat(B8),L8=S8('"top"','"bottom"','"middle"'),U8=S8('"right"','"left"','"center"'),q8="datum.vgrad && ".concat(I8," ? (").concat(U8,") : (").concat(B8," && !(datum.vgrad && ").concat(R8,')) ? "left" : ').concat(A8),W8="item._anchor || (".concat(B8,' ? "middle" : "start")'),H8="".concat(z8," ? (").concat(R8," ? -90 : 90) : 0"),$8="".concat(B8," ? (datum.vgrad ? (").concat(I8,' ? "bottom" : "top") : ').concat(L8,') : "top"');function V8(e,t){var n;return mk(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+G8(e.path)+")":e.sphere&&(n="geoShape("+G8(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function G8(e){return mk(e)&&e.signal?e.signal:bE(e)}function Y8(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===b8?w6:t||b6:t}function K8(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Y8(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function X8(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function Q8(e,t){var n=oT(e.type);n||J_("Unrecognized transform type: "+bE(e.type));var r=z6(n.type.toLowerCase(),null,Z8(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Z8(e,t,n){for(var r={},i=e.params.length,a=0;a<i;++a){var o=e.params[a];r[o.name]=J8(o,t,n)}return r}function J8(e,t,n){var r=e.type,i=t[e.name];return"index"===r?function(e,t,n){fE(t.from)||J_('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(vk(r)||J_("Expected an array of sub-parameters. Instead: "+bE(r)),r.map((function(t){return t7(e,t,n)}))):t7(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!Y6(i)?i.map((function(t){return e7(e,t,n)})):e7(e,i,n):void(e.required&&J_("Missing required "+bE(t.type)+" parameter: "+bE(e.name)))}function e7(e,t,n){var r=e.type;if(Y6(t))return a7(r)?J_("Expression references can not be signals."):o7(r)?n.fieldRef(t):u7(r)?n.compareRef(t):n.signalRef(t.signal);var i=e.expr||o7(r);return i&&n7(t)?n.exprRef(t.expr,t.as):i&&r7(t)?q6(t.field,t.as):a7(r)?H3(t,n):i7(r)?U6(n.getData(t).values):o7(r)?q6(t):u7(r)?n.compareRef(t):t}function t7(e,t,n){for(var r,i=e.params.length,a=0;a<i;++a){for(var o in(r=e.params[a]).key)if(r.key[o]!==t[o]){r=null;break}if(r)break}r||J_("Unsupported parameter: "+bE(t));var u=Xk(Z8(r,t,n),r.key);return U6(n.add(O4(u)))}var n7=function(e){return e&&e.expr},r7=function(e){return e&&e.field},i7=function(e){return"data"===e},a7=function(e){return"expr"===e},o7=function(e){return"field"===e},u7=function(e){return"compare"===e};function s7(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:U6(t.getData(e.data).output)}function c7(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function l7(e){return fE(e)?e:null}function f7(e,t,n){var r,i=$6(n.op,n.field);if(t.ops){for(var a=0,o=t.as.length;a<o;++a)if(t.as[a]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function d7(e,t,n,r,i,a,o){var u,s,c=t[n]||(t[n]={}),l=function(e){return mk(e)?("descending"===e.order?"-":"+")+$6(e.op,e.field):""}(a),f=l7(i);if(null!=f&&(e=t.scope,u=c[f+=l?"|"+l:""]),!u){var d=a?{field:W6,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:U6(t.output)};l&&(d.sort=e.sortRef(a)),s=e.add(z6(r,void 0,d)),o&&(t.index[i]=s),u=U6(s),null!=f&&(c[f]=u)}return u}function h7(e,t,n){var r=e.remove,i=e.insert,a=e.toggle,o=e.modify,u=e.values,s=t.add(L6()),c=H3("if("+e.trigger+',modify("'+n+'",'+[i,r,a,o,u].map((function(e){return null==e?"null":e})).join(",")+"),0)",t);s.update=c.$expr,s.params=c.$params}function p7(e,t){var n,r,i,a,o,u,s,c=Y8(e),l=e.type===b8,f=e.from&&e.from.facet,d=e.overlap,h=e.layout||c===w6||c===x6,p=c===b6||h||f,v=function(e,t,n){var r,i,a,o,u;return e?(r=e.facet)&&(t||J_("Only group marks can be faceted."),null!=r.field?o=u=s7(r,n):(e.data?u=U6(n.getData(e.data).aggregate):((a=Q8(Xk({type:"aggregate",groupby:Lk(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),a.params.pulse=s7(r,n),o=u=U6(n.add(a))),i=n.keyRef(r.groupby,!0))):o=U6(n.add(f4(null,[{}]))),o||(o=s7(e,n)),{key:i,pulse:o,parent:u}}(e.from,l,t),m=U6(r=t.add(h4({key:v.key||(e.key?q6(e.key):void 0),pulse:v.pulse,clean:!l})));r=i=t.add(f4({pulse:m})),r=t.add(w4({markdef:K8(e),interactive:X8(e.interactive,t),clip:V8(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:U6(r)}));var g=U6(r);(r=a=t.add(p4(F6(e.encode,e.type,c,e.style,t,{mod:!1,pulse:g})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=Q8(e,t),i=n.metadata;(i.generates||i.changes)&&J_("Mark transforms should not generate new data."),i.nomod||(a.params.mod=!0),n.params.pulse=U6(r),t.add(r=n)})),e.sort&&(r=t.add(P4({sort:t.compareRef(e.sort),pulse:U6(r)})));var y=U6(r);(f||h)&&(u=U6(h=t.add(M4({layout:t.objectProperty(e.layout),legends:t.legends,mark:g,pulse:y}))));var b=t.add(l4({mark:g,pulse:u||y}));s=U6(b),l&&(p&&((n=t.operators).pop(),h&&n.pop()),t.pushState(y,u||s,m),f?function(e,t,n){var r,i=e.from.facet,a=i.name,o=s7(i,t);i.name||J_("Facet must have a name: "+bE(i)),i.data||J_("Facet must reference a data set: "+bE(i)),i.field?r=t.add(S4({field:t.fieldRef(i.field),pulse:o})):i.groupby?r=t.add(m4({key:t.keyRef(i.groupby),group:U6(t.proxy(n.parent)),pulse:o})):J_("Facet must specify groupby or field: "+bE(i));var u=t.fork(),s=u.add(f4()),c=u.add(F4({pulse:U6(s)}));u.addData(a,new c7(u,s,s,c)),u.addSignal("parent",null),r.params.subflow={$subflow:u.parse(e).toRuntime()}}(e,t,v):p?function(e,t,n){var r=t.add(S4({pulse:n.pulse})),i=t.fork();i.add(F4()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}(e,t,v):t.parse(e),t.popState(),p&&(h&&n.push(h),n.push(b))),d&&(s=function(e,t,n){var r=e.method,i=e.bound,a=e.separation,o={separation:Y6(a)?n.signalRef(a.signal):a,method:Y6(r)?n.signalRef(r.signal):r,pulse:t};e.order&&(o.sort=n.compareRef({field:e.order}));if(i){var u=i.tolerance;o.boundTolerance=Y6(u)?n.signalRef(u.signal):+u,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return U6(n.add(E4(o)))}(d,s,t));var x=t.add(j4({pulse:s})),w=t.add(F4({pulse:U6(x)},void 0,t.parent()));null!=e.name&&(o=e.name,t.addData(o,new c7(t,i,x,w)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&J_("Marks only support modify triggers."),h7(e,t,o)})))}function v7(e,t){var n,r,i,a=t.config.legend,o=e.encode||{},u=E8(e,a),s=o.legend||{},c=s.name||void 0,l=s.interactive,f=s.style,d={},h=0;v8.forEach((function(t){return e[t]?(d[t]=e[t],h=h||e[t]):0})),h||J_("Missing valid scale for legend.");var p=function(e,t){var n=e.type||f8;e.type||1!==function(e){return v8.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Vz(t)?d8:Yz(t)?h8:f8);return n!==d8?n:Yz(t)?h8:d8}(e,t.scaleType(h)),v={title:null!=e.title,scales:d,type:p,vgrad:"symbol"!==p&&u.isVertical()},m=U6(t.add(f4(null,[v]))),g=U6(t.add(b4(r={type:p,scale:t.scaleRef(h),count:t.objectProperty(u("tickCount")),limit:t.property(u("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===d8?(i=[j8(e,h,a,o.gradient),M8(e,a,o.labels,g)],r.count=r.count||t.signalRef("max(2,2*floor((".concat(Q6(u.gradientLength()),")/100))"))):p===h8?i=[T8(e,h,a,o.gradient,g),M8(e,a,o.labels,g)]:(n=function(e,t){var n=E8(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,a),i=[N8(e,a,o,g,Q6(n.columns))],r.size=function(e,t,n){var r=Q6(g7("size",e,n)),i=Q6(g7("strokeWidth",e,n)),a=Q6(function(e,t,n){return O8("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,u8));return H3("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(a,")"),t)}(e,t,i[0].marks)),i=[k8({role:"legend-entry",from:m,encode:{enter:{x:{value:0},y:{value:0}}},marks:i,layout:n,interactive:l})],v.title&&i.push(function(e,t,n,r){var i=E8(e,t),a={enter:{opacity:g8},update:{opacity:y8,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:g8}};return m6(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:W8},angle:{signal:H8},align:{signal:q8},baseline:{signal:$8},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),D8({type:_8,role:"legend-title",style:s8,from:r,encode:a},n)}(e,a,o.title,m)),p7(k8({role:"legend",from:m,encode:g6(m7(u,e,a),s,m8),marks:i,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:c,interactive:l,style:f}),t)}function m7(e,t,n){var r={enter:{},update:{}};return m6(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function g7(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):O8(e,n[0].encode)}c7.fromEntries=function(e,t){var n=t.length,r=t[n-1],i=t[n-2],a=t[0],o=null,u=1;for(a&&"load"===a.type&&(a=t[1]),e.add(t[0]);u<n;++u)t[u].params.pulse=U6(t[u-1]),e.add(t[u]),"aggregate"===t[u].type&&(o=t[u]);return new c7(e,a,i,r,o)},c7.prototype={countsRef:function(e,t,n){var r,i,a,o=this,u=o.counts||(o.counts={}),s=l7(t);return null!=s&&(e=o.scope,r=u[s]),r?n&&n.field&&f7(e,r.agg.params,n):(a={groupby:e.fieldRef(t,"key"),pulse:U6(o.output)},n&&n.field&&f7(e,a,n),i=e.add(s4(a)),r=e.add(f4({pulse:U6(i)})),r={agg:i,ref:U6(r)},null!=s&&(u[s]=r)),r.ref},tuplesRef:function(){return U6(this.values)},extentRef:function(e,t){return d7(e,this,"extent","extent",t,!1)},domainRef:function(e,t){return d7(e,this,"domain","values",t,!1)},valuesRef:function(e,t,n){return d7(e,this,"vals","values",t,n||!0)},lookupRef:function(e,t){return d7(e,this,"lookup","tupleindex",t,!1)},indataRef:function(e,t){return d7(e,this,"indata","tupleindex",t,!0,!0)}};var y7='item.orient==="'.concat(J4,'"?-90:item.orient==="').concat(e8,'"?90:0');function b7(e,t){var n=E8(e=fE(e)?{text:e}:e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,o=i.interactive,u=i.style,s=[],c=U6(t.add(f4(null,[{}])));return s.push(function(e,t,n,r){var i={value:0},a=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return m6(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),D8({type:_8,role:k6,style:c8,from:r,encode:o},n)}(e,n,function(e){var t=e.encode;return t&&t.title||Xk({name:e.name,interactive:e.interactive,style:e.style},t)}(e),c)),e.subtitle&&s.push(function(e,t,n,r){var i={value:0},a=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return m6(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),D8({type:_8,role:E6,style:l8,from:r,encode:o},n)}(e,n,r.subtitle,c)),p7(k8({role:"title",from:c,encode:x7(n,i),marks:s,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:o,style:u}),t)}function x7(e,t){var n={enter:{},update:{}};return m6(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:A8},angle:{signal:y7},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),g6(n,t,m8)}function w7(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(Q8(e,t))})),e.on&&e.on.forEach((function(n){h7(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,a,o,u,s=[],c=null,l=!1,f=!1;e.values?Y6(e.values)||K6(e.format)?(s.push(k7(t,e)),s.push(c=_7())):s.push(c=_7({$ingest:e.values,$format:e.format})):e.url?K6(e.url)||K6(e.format)?(s.push(k7(t,e)),s.push(c=_7())):s.push(c=_7({$request:e.url,$format:e.format})):e.source&&(c=r=Lk(e.source).map((function(e){return U6(t.getData(e).output)})),s.push(null));for(i=0,a=n.length;i<a;++i)u=(o=n[i]).metadata,c||u.source||s.push(c=_7()),s.push(o),u.generates&&(f=!0),u.modifies&&!f&&(l=!0),u.source?c=o:u.changes&&(c=null);r&&(a=r.length-1,s[0]=D4({derive:l,pulse:a?r:r[0]}),(l||a)&&s.splice(1,0,_7()));c||s.push(_7());return s.push(F4({})),s}(e,t,n))}function _7(e){var t=f4({},e);return t.metadata={source:!0},t}function k7(e,t){return x4({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}var E7=function(e){return e===t8||e===Z4},O7=function(e,t,n){return Y6(e)?T7(e.signal,t,n):e===J4||e===Z4?t:n},S7=function(e,t,n){return Y6(e)?D7(e.signal,t,n):E7(e)?t:n},A7=function(e,t,n){return Y6(e)?j7(e.signal,t,n):E7(e)?n:t},C7=function(e,t,n){return Y6(e)?F7(e.signal,t,n):e===Z4?{value:t}:{value:n}},D7=function(e,t,n){return M7("".concat(e," === '").concat(Z4,"' || ").concat(e," === '").concat(t8,"'"),t,n)},j7=function(e,t,n){return M7("".concat(e," !== '").concat(Z4,"' && ").concat(e," !== '").concat(t8,"'"),t,n)},T7=function(e,t,n){return R7("".concat(e," === '").concat(J4,"' || ").concat(e," === '").concat(Z4,"'"),t,n)},F7=function(e,t,n){return R7("".concat(e," === '").concat(Z4,"'"),t,n)},P7=function(e,t,n){return R7("".concat(e," === '").concat(e8,"'"),t,n)},M7=function(e,t,n){return t=null!=t?p6(t):t,n=null!=n?p6(n):n,N7(t)&&N7(n)?(t=t?t.signal||bE(t.value):null,n=n?n.signal||bE(n.value):null,{signal:"".concat(e," ? (").concat(t,") : (").concat(n,")")}):[Xk({test:e},t)].concat(n||[])},N7=function(e){return null==e||1===Object.keys(e).length},R7=function(e,t,n){return{signal:"".concat(e," ? (").concat(B7(t),") : (").concat(B7(n),")")}},I7=function(e,t,n,r,i){return{signal:(null!=r?"".concat(e," === '").concat(J4,"' ? (").concat(B7(r),") : "):"")+(null!=n?"".concat(e," === '").concat(t8,"' ? (").concat(B7(n),") : "):"")+(null!=i?"".concat(e," === '").concat(e8,"' ? (").concat(B7(i),") : "):"")+(null!=t?"".concat(e," === '").concat(Z4,"' ? (").concat(B7(t),") : "):"")+"(null)"}},B7=function(e){return Y6(e)?e.signal:null==e?null:bE(e)},z7=function(e,t){var n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function L7(e,t,n,r){var i;if(t&&eE(t,e))return t[e];if(eE(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r["guide-title"][i]}if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r["guide-label"][i]}return null}function U7(e){var t,n={},r=S(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i)for(var a in i)n[a]=1}}catch(o){r.e(o)}finally{r.f()}return Object.keys(n)}function q7(e,t){return{scale:e.scale,range:t}}function W7(e,t,n,r,i){var a,o,u,s=E8(e,t),c=e.orient,l=e.gridScale,f=O7(c,1,-1),d=function(e,t){if(1===t);else if(mk(e)){for(var n=e=Xk({},e);null!=n.mult;){if(!mk(n.mult))return n.mult=Y6(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=Xk({},n.mult)}n.mult=t}else e=Y6(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,f),h={enter:a={opacity:g8},update:u={opacity:y8},exit:o={opacity:g8}};m6(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});var p={scale:e.scale,field:o8,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},v=S7(c,{signal:"height"},{signal:"width"}),m=l?{scale:l,range:0,mult:f,offset:d}:{value:0,offset:d},g=l?{scale:l,range:1,mult:f,offset:d}:Xk(v,{mult:f,offset:d});return a.x=u.x=S7(c,p,m),a.y=u.y=A7(c,p,m),a.x2=u.x2=A7(c,g),a.y2=u.y2=S7(c,g),o.x=S7(c,p),o.y=A7(c,p),D8({type:w8,role:"axis-grid",key:o8,from:r,encode:h},n)}function H7(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function $7(e,t,n,r,i,a){var o,u=E8(e,t),s=e.orient,c=e.scale,l=O7(s,-1,1),f=Q6(u("labelFlush")),d=Q6(u("labelFlushOffset")),h=u("labelAlign"),p=u("labelBaseline"),v=0===f||!!f,m=p6(i);m.mult=l,m.offset=p6(u("labelPadding")||0),m.offset.mult=l;var g={scale:c,field:o8,band:.5,offset:C8(a.offset,u("labelOffset"))},y=S7(s,v?H7(c,f,'"left"','"right"','"center"'):{value:"center"},function(e,t,n){return Y6(e)?P7(e.signal,t,n):e===e8?{value:t}:{value:n}}(s,"left","right")),b=S7(s,C7(s,"bottom","top"),v?H7(c,f,'"top"','"bottom"','"middle"'):{value:"middle"}),x=H7(c,f,"-(".concat(d,")"),d,0);v=v&&d;var w={opacity:g8,x:S7(s,g,m),y:A7(s,g,m)},_={enter:w,update:o={opacity:y8,text:{field:i8},x:w.x,y:w.y,align:y,baseline:b},exit:{opacity:g8,x:w.x,y:w.y}};m6(_,{dx:!h&&v?S7(s,x):null,dy:!p&&v?A7(s,x):null}),m6(_,{angle:u("labelAngle"),fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontWeight:u("labelFontWeight"),fontStyle:u("labelFontStyle"),limit:u("labelLimit"),lineHeight:u("labelLineHeight")},{align:h,baseline:p});var k=u("labelBound"),E=u("labelOverlap");return E=E||k?{separation:u("labelSeparation"),method:E,order:"datum.index",bound:k?{scale:c,orient:s,tolerance:k}:null}:void 0,o.align!==y&&(o.align=z7(o.align,y)),o.baseline!==b&&(o.baseline=z7(o.baseline,b)),D8({type:_8,role:"axis-label",style:u8,key:o8,from:r,encode:_,overlap:E},n)}function V7(e,t,n,r){var i,a,o=E8(e,t),u=e.orient,s=O7(u,-1,1),c={enter:i={opacity:g8,anchor:p6(o("titleAnchor",null)),align:{signal:A8}},update:a=Xk({},i,{opacity:y8,text:p6(e.title)}),exit:{opacity:g8}},l={signal:'lerp(range("'.concat(e.scale,'"), ').concat(S8(0,1,.5),")")};return a.x=S7(u,l),a.y=A7(u,l),i.angle=S7(u,g8,function(e,t){return 0===t?0:Y6(e)?{signal:"(".concat(e.signal,") * ").concat(t)}:{value:e*t}}(s,90)),i.baseline=S7(u,C7(u,t8,Z4),{value:t8}),a.angle=i.angle,a.baseline=i.baseline,m6(c,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),function(e,t,n,r){var i=function(e,t){return null!=e?(n.update[t]=z7(p6(e),n.update[t]),!1):!y6(t,r)},a=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===a?p6(o):S7(t,p6(o),p6(a))}(o,u,c,n),c.update.align=z7(c.update.align,i.align),c.update.angle=z7(c.update.angle,i.angle),c.update.baseline=z7(c.update.baseline,i.baseline),D8({type:_8,role:"axis-title",style:s8,from:r,encode:c},n)}function G7(e,t){var n,r=function(e,t){var n,r,i,a=t.config,o=a.style,u=a.axis,s="band"===t.scaleType(e.scale)&&a.axisBand,c=e.orient;if(Y6(c)){var l=U7([a.axisX,a.axisY]),f=U7([a.axisTop,a.axisBottom,a.axisLeft,a.axisRight]);n={};var d,h=S(l);try{for(h.s();!(d=h.n()).done;)n[i=d.value]=S7(c,L7(i,a.axisX,u,o),L7(i,a.axisY,u,o))}catch(m){h.e(m)}finally{h.f()}r={};var p,v=S(f);try{for(v.s();!(p=v.n()).done;)r[i=p.value]=I7(c.signal,L7(i,a.axisTop,u,o),L7(i,a.axisBottom,u,o),L7(i,a.axisLeft,u,o),L7(i,a.axisRight,u,o))}catch(m){v.e(m)}finally{v.f()}}else n=c===Z4||c===t8?a.axisX:a.axisY,r=a["axis"+c[0].toUpperCase()+c.slice(1)];return n||r||s?Xk({},u,n,r,s):u}(e,t),i=e.encode||{},a=i.axis||{},o=a.name||void 0,u=a.interactive,s=a.style,c=E8(e,r),l=function(e){var t,n,r=e("tickBand"),i=e("tickOffset");return r?r.signal?(t={signal:"(".concat(r.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(r.signal,") === 'extent'")},mk(i)||(i={signal:"(".concat(r.signal,") === 'extent' ? 0 : ").concat(i)})):"extent"===r?(t=1,n=!0,i=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:i}}(c),f={scale:e.scale,ticks:!!c("ticks"),labels:!!c("labels"),grid:!!c("grid"),domain:!!c("domain"),title:null!=e.title},d=U6(t.add(f4({},[f]))),h=U6(t.add(c4({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];return f.grid&&p.push(W7(e,r,i.grid,h,l)),f.ticks&&(n=c("tickSize"),p.push(function(e,t,n,r,i,a){var o,u,s,c=E8(e,t),l=e.orient,f=O7(l,-1,1),d={enter:o={opacity:g8},update:s={opacity:y8},exit:u={opacity:g8}};m6(d,{stroke:c("tickColor"),strokeCap:c("tickCap"),strokeDash:c("tickDash"),strokeDashOffset:c("tickDashOffset"),strokeOpacity:c("tickOpacity"),strokeWidth:c("tickWidth")});var h=p6(i);h.mult=f;var p={scale:e.scale,field:o8,band:a.band,extra:a.extra,offset:a.offset,round:c("tickRound")};return s.y=o.y=S7(l,g8,p),s.y2=o.y2=S7(l,h),u.x=S7(l,p),s.x=o.x=A7(l,g8,p),s.x2=o.x2=A7(l,h),u.y=A7(l,p),D8({type:w8,role:"axis-tick",key:o8,from:r,encode:d},n)}(e,r,i.ticks,h,n,l))),f.labels&&(n=f.ticks?n:0,p.push($7(e,r,i.labels,h,n,l))),f.domain&&p.push(function(e,t,n,r){var i,a,o=E8(e,t),u=e.orient,s={enter:i={opacity:g8},update:a={opacity:y8},exit:{opacity:g8}};m6(s,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});var c=q7(e,0),l=q7(e,1);return i.x=a.x=S7(u,c,g8),i.x2=a.x2=S7(u,l),i.y=a.y=A7(u,c,g8),i.y2=a.y2=A7(u,l),D8({type:w8,role:"axis-domain",from:r,encode:s},n)}(e,r,i.domain,d)),f.title&&p.push(V7(e,r,i.title,d)),p7(k8({role:"axis",from:d,encode:g6(Y7(c,e),a,m8),marks:p,aria:c("aria"),description:c("description"),zindex:c("zindex"),name:o,interactive:u,style:s}),t)}function Y7(e,t){var n={enter:{},update:{}};return m6(n,{orient:e("orient"),offset:e("offset")||0,position:X6(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function K7(e,t,n){var r=Lk(e.signals),i=Lk(e.scales);return n||r.forEach((function(e){return I6(e,t)})),Lk(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var i in e)"name"!==i&&(r[i]=Q4(e[i],i,t));for(var a in n)null==r[a]&&(r[a]=Q4(n[a],a,t));t.addProjection(e.name,r)}(e,t)})),i.forEach((function(e){return function(e,t){var n=e.type||"linear";Hz(n)||J_("Unrecognized scale type: "+bE(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Lk(e.data).forEach((function(e){return w7(e,t)})),i.forEach((function(e){return B4(e,t)})),(n||r).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?J_("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=H3(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((function(e){return a4(e,t,n.id)}))}(e,t)})),Lk(e.axes).forEach((function(e){return G7(e,t)})),Lk(e.marks).forEach((function(e){return p7(e,t)})),Lk(e.legends).forEach((function(e){return v7(e,t)})),e.title&&b7(e.title,t),t.parseLambdas(),t}function X7(e,t){var n=t.config,r=U6(t.root=t.add(L6())),i=function(e,t){var n=function(n){return X6(e[n],t[n])},r=[Q7("background",n("background")),Q7("autosize",f6(n("autosize"))),Q7("padding",h6(n("padding"))),Q7("width",n("width")||0),Q7("height",n("height")||0)],i=r.reduce((function(e,t){return e[t.name]=t,e}),{}),a={};return Lk(e.signals).forEach((function(e){eE(i,e.name)?e=Xk(i[e.name],e):r.push(e),a[e.name]=e})),Lk(t.signals).forEach((function(e){eE(a,e.name)||eE(i,e.name)||r.push(e)})),r}(e,n);i.forEach((function(e){return I6(e,t)})),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;var a=t.add(f4()),o=t.add(p4(F6(function(e){return g6({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e)}(e.encode),b8,x6,e.style,t,{pulse:U6(a)}))),u=t.add(M4({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:U6(o)}));t.operators.pop(),t.pushState(U6(o),U6(u),null),K7(e,t,i),t.operators.push(u);var s=t.add(l4({mark:r,pulse:U6(u)}));return s=t.add(j4({pulse:U6(s)})),s=t.add(F4({pulse:U6(s)})),t.addData("root",new c7(t,a,a,s)),t}function Q7(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Z7(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function J7(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function e9(e){return(vk(e)?t9:n9)(e)}function t9(e){for(var t=e.length,n="[",r=0;r<t;++r){var i=e[r];n+=(r>0?",":"")+(mk(i)?i.signal||e9(i):bE(i))}return n+"]"}function n9(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+bE(t)+":"+(mk(n)?n.signal||e9(n):bE(n));return r+"}"}function r9(e,t,n){return mk(e)||J_("Input Vega specification must be an object."),t=yk(function(){var e="sans-serif",t="#4c78a8",n="#000",r="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),X7(e,new Z7(t,n)).toRuntime()}Z7.prototype=J7.prototype={parse:function(e){return K7(e,this)},fork:function(){return new J7(this)},isSubscope:function(){return this._subid>0},toRuntime:function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},proxy:function(e){var t=e instanceof B6?U6(e):e;return this.add(C4({value:t}))},addStream:function(e){return this.streams.push(e),e.id=this.id(),e},addUpdate:function(e){return this.updates.push(e),e},finish:function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},pushState:function(e,t,n){this._encode.push(U6(this.add(F4({pulse:e})))),this._parent.push(t),this._lookup.push(n?U6(this.proxy(n)):null),this._markpath.push(-1)},popState:function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent:function(){return wk(this._parent)},encode:function(){return wk(this._encode)},lookup:function(){return wk(this._lookup)},markpath:function(){var e=this._markpath;return++e[e.length-1]},fieldRef:function(e,t){if(fE(e))return q6(e,t);e.signal||J_("Unsupported field reference: "+bE(e));var n=e.signal,r=this.field[n];if(!r){var i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=U6(this.add(g4(i)))}return r},compareRef:function(e){var t=this,n=!1,r=function(e){return Y6(e)?(n=!0,t.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(n=!0,t.exprRef(e.expr)):e},i=Lk(e.field).map(r),a=Lk(e.order).map(r);return n?U6(this.add(d4({fields:i,orders:a}))):H6(i,a)},keyRef:function(e,t){var n=!1,r=this.signals;return e=Lk(e).map((function(e){return Y6(e)?(n=!0,U6(r[e.signal])):e})),n?U6(this.add(y4({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef:function(e){if(!e)return e;var t=$6(e.op,e.field),n=e.order||"ascending";return n.signal?U6(this.add(d4({fields:t,orders:this.signalRef(n.signal)}))):H6(t,n)},event:function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal:function(e){return eE(this.signals,e)},addSignal:function(e,t){this.hasOwnSignal(e)&&J_("Duplicate signal name: "+bE(e));var n=t instanceof B6?t:this.add(L6(t));return this.signals[e]=n},getSignal:function(e){return this.signals[e]||J_("Unrecognized signal name: "+bE(e)),this.signals[e]},signalRef:function(e){return this.signals[e]?U6(this.signals[e]):(eE(this.lambdas,e)||(this.lambdas[e]=this.add(L6(null))),U6(this.lambdas[e]))},parseLambdas:function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=H3(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property:function(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty:function(e){return e&&mk(e)?this.signalRef(e.signal||e9(e)):e},exprRef:function(e,t){var n={expr:H3(e,this)};return t&&(n.expr.$name=t),U6(this.add(v4(n)))},addBinding:function(e,t){this.bindings||J_("Nested signals do not support binding: "+bE(e)),this.bindings.push(Xk({signal:e},t))},addScaleProj:function(e,t){eE(this.scales,e)&&J_("Duplicate scale or projection name: "+bE(e)),this.scales[e]=this.add(t)},addScale:function(e,t){this.addScaleProj(e,T4(t))},addProjection:function(e,t){this.addScaleProj(e,A4(t))},getScale:function(e){return this.scales[e]||J_("Unrecognized scale name: "+bE(e)),this.scales[e]},scaleRef:function(e){return U6(this.getScale(e))},scaleType:function(e){return this.getScale(e).params.type},projectionRef:function(e){return this.scaleRef(e)},projectionType:function(e){return this.scaleType(e)},addData:function(e,t){return eE(this.data,e)&&J_("Duplicate data set name: "+bE(e)),this.data[e]=t},getData:function(e){return this.data[e]||J_("Undefined data set name: "+bE(e)),this.data[e]},addDataPipeline:function(e,t){return eE(this.data,e)&&J_("Duplicate data set name: "+bE(e)),this.addData(e,c7.fromEntries(this,t))}};var i9="5.21.0";Xk(aT,u,c,l,f,d,p,h,v,m,g,y);var a9=i9;var o9={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},u9={"*":function(e,t){return e*t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},">":function(e,t){return e>t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&":function(e,t){return e&t},"|":function(e,t){return e|t},"^":function(e,t){return e^t},"<<":function(e,t){return e<<t},">>":function(e,t){return e>>t},">>>":function(e,t){return e>>>t}},s9={"+":function(e){return+e},"-":function(e){return-e},"~":function(e){return~e},"!":function(e){return!e}},c9=Array.prototype.slice,l9=function(e,t,n){var r=n?n(t[0]):t[0];return r[e].apply(r,c9.call(t,1))},f9={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},now:Date.now,utc:Date.UTC,datetime:function(e,t,n,r,i,a,o){return new Date(e,t||0,null!=n?n:1,r||0,i||0,a||0,o||0)},date:function(e){return new Date(e).getDate()},day:function(e){return new Date(e).getDay()},year:function(e){return new Date(e).getFullYear()},month:function(e){return new Date(e).getMonth()},hours:function(e){return new Date(e).getHours()},minutes:function(e){return new Date(e).getMinutes()},seconds:function(e){return new Date(e).getSeconds()},milliseconds:function(e){return new Date(e).getMilliseconds()},time:function(e){return new Date(e).getTime()},timezoneoffset:function(e){return new Date(e).getTimezoneOffset()},utcdate:function(e){return new Date(e).getUTCDate()},utcday:function(e){return new Date(e).getUTCDay()},utcyear:function(e){return new Date(e).getUTCFullYear()},utcmonth:function(e){return new Date(e).getUTCMonth()},utchours:function(e){return new Date(e).getUTCHours()},utcminutes:function(e){return new Date(e).getUTCMinutes()},utcseconds:function(e){return new Date(e).getUTCSeconds()},utcmilliseconds:function(e){return new Date(e).getUTCMilliseconds()},length:function(e){return e.length},join:function(){return l9("join",arguments)},indexof:function(){return l9("indexOf",arguments)},lastindexof:function(){return l9("lastIndexOf",arguments)},slice:function(){return l9("slice",arguments)},reverse:function(e){return e.slice().reverse()},parseFloat:parseFloat,parseInt:parseInt,upper:function(e){return String(e).toUpperCase()},lower:function(e){return String(e).toLowerCase()},substring:function(){return l9("substring",arguments,String)},split:function(){return l9("split",arguments,String)},replace:function(){return l9("replace",arguments,String)},trim:function(e){return String(e).trim()},regexp:RegExp,test:function(e,t){return RegExp(e).test(t)}},d9=["view","item","group","xy","x","y"],h9={Literal:function(e,t){return t.value},Identifier:function(e,t){var n=t.name;return e.memberDepth>0?n:"datum"===n?e.datum:"event"===n?e.event:"item"===n?e.item:o9[n]||e.params["$"+n]},MemberExpression:function(e,t){var n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);var i=e(t.property);return n&&(e.memberDepth-=1),r[i]},CallExpression:function(e,t){var n=t.arguments,r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),"if"===r?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||f9[r]).apply(e.fn,n.map(e))},ArrayExpression:function(e,t){return t.elements.map(e)},BinaryExpression:function(e,t){return u9[t.operator](e(t.left),e(t.right))},UnaryExpression:function(e,t){return s9[t.operator](e(t.argument))},ConditionalExpression:function(e,t){return e(t.test)?e(t.consequent):e(t.alternate)},LogicalExpression:function(e,t){return"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right)},ObjectExpression:function(e,t){return t.properties.reduce((function(t,n){e.memberDepth+=1;var r=e(n.key);return e.memberDepth-=1,t[r]=e(n.value),t}),{})}};function p9(e,t,n,r,i,a){var o=function e(t){return h9[t.type](e,t)};return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=a,d9.forEach((function(e){return o.fn[e]=function(){var t;return(t=i.vega)[e].apply(t,arguments)}})),o(e)}var v9={operator:function(e,t){var n=t.ast,r=e.functions;return function(e){return p9(n,r,e)}},parameter:function(e,t){var n=t.ast,r=e.functions;return function(e,t){return p9(n,r,t,e)}},event:function(e,t){var n=t.ast,r=e.functions;return function(e){return p9(n,r,void 0,void 0,e)}},handler:function(e,t){var n=t.ast,r=e.functions;return function(e,t){var i=t.item&&t.item.datum;return p9(n,r,e,i,t)}},encode:function(e,t){var n=t.marktype,r=t.channels,i=e.functions,a="group"===n||"image"===n||"rect"===n;return function(e,t){var o,u=e.datum,s=0;for(var c in r)o=p9(r[c].ast,i,t,u,void 0,e),e[c]!==o&&(e[c]=o,s=1);return"rule"!==n&&function(e,t,n){var r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(e,r,a),s}}};Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var m9=n(7622),g9=n.n(m9),y9=n(8262),b9=n.n(y9),x9=n(2248),w9=n.n(x9);function _9(e){return!!e.or}function k9(e){return!!e.and}function E9(e){return!!e.not}function O9(e,t){if(E9(e))O9(e.not,t);else if(k9(e)){var n,r=S(e.and);try{for(r.s();!(n=r.n()).done;){O9(n.value,t)}}catch(o){r.e(o)}finally{r.f()}}else if(_9(e)){var i,a=S(e.or);try{for(a.s();!(i=a.n()).done;){O9(i.value,t)}}catch(o){a.e(o)}finally{a.f()}}else t(e)}function S9(e,t){return E9(e)?{not:S9(e.not,t)}:k9(e)?{and:e.and.map((function(e){return S9(e,t)}))}:_9(e)?{or:e.or.map((function(e){return S9(e,t)}))}:t(e)}var A9=b9(),C9=g9();function D9(e){throw new Error(e)}function j9(e,t){var n,r={},i=S(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;eE(e,a)&&(r[a]=e[a])}}catch(o){i.e(o)}finally{i.f()}return r}function T9(e,t){var n,r=Object.assign({},e),i=S(t);try{for(i.s();!(n=i.n()).done;){delete r[n.value]}}catch(a){i.e(a)}finally{i.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat(pu(this).map((function(e){return w9()(e)})).join(","),")")};var F9=w9();function P9(e){if(cE(e))return e;var t=fE(e)?e:w9()(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function M9(e){return!1===e||null===e}function N9(e,t){return e.includes(t)}function R9(e,t){var n,r=0,i=S(e.entries());try{for(i.s();!(n=i.n()).done;){var a=D(n.value,2),o=a[0];if(t(a[1],o,r++))return!0}}catch(u){i.e(u)}finally{i.f()}return!1}function I9(e,t){var n,r=0,i=S(e.entries());try{for(i.s();!(n=i.n()).done;){var a=D(n.value,2),o=a[0];if(!t(a[1],o,r++))return!1}}catch(u){i.e(u)}finally{i.f()}return!0}function B9(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];z9(e,null!==o&&void 0!==o?o:{})}return e}function z9(e,t){var n,r=S(G9(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;bk(e,i,t[i],!0)}}catch(a){r.e(a)}finally{r.f()}}function L9(e,t){var n,r,i=[],a={},o=S(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;(n=t(u))in a||(a[n]=1,i.push(u))}}catch(s){o.e(s)}finally{o.f()}return i}function U9(e,t){var n=G9(e),r=G9(t);if(n.length!==r.length)return!1;var i,a=S(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(e[o]!==t[o])return!1}}catch(u){a.e(u)}finally{a.f()}return!0}function q9(e,t){if(e.size!==t.size)return!1;var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}function W9(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.has(i))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function H9(e){var t,n=new Set,r=S(e);try{var i=function(){var e,r=ek(t.value).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),i=r.map((function(e,t){return r.slice(0,t+1).join("")})),a=S(i);try{for(a.s();!(e=a.n()).done;){var o=e.value;n.add(o)}}catch(u){a.e(u)}finally{a.f()}};for(r.s();!(t=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return n}function $9(e,t){return void 0===e||void 0===t||W9(H9(e),H9(t))}function V9(e){return 0===G9(e).length}var G9=Object.keys,Y9=Object.values,K9=Object.entries;function X9(e){return!0===e||!1===e}function Q9(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Z9(e,t){return E9(e)?"!(".concat(Z9(e.not,t),")"):k9(e)?"(".concat(e.and.map((function(e){return Z9(e,t)})).join(") && ("),")"):_9(e)?"(".concat(e.or.map((function(e){return Z9(e,t)})).join(") || ("),")"):t(e)}function J9(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&J9(e[n],t)&&delete e[n],V9(e)}function eee(e){return e.charAt(0).toUpperCase()+e.substr(1)}function tee(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=ek(e),r=[],i=1;i<=n.length;i++){var a="[".concat(n.slice(0,i).map(bE).join("]["),"]");r.push("".concat(t).concat(a))}return r.join(" && ")}function nee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(bE(ek(e).join(".")),"]")}function ree(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function iee(e){return"".concat(ek(e).map(ree).join("\\."))}function aee(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function oee(e){return"".concat(ek(e).join("."))}function uee(e){return e?ek(e).length:0}function see(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];if(void 0!==a)return a}}var cee=42;function lee(e){var t=++cee;return e?String(e)+t:t}function fee(){cee=42}function dee(e){return hee(e)?e:"__".concat(e)}function hee(e){return e.startsWith("__")}function pee(e){if(void 0!==e)return(e%360+360)%360}function vee(e){return!!cE(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var mee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},gee="row",yee="column",bee="facet",xee="x",wee="y",_ee="x2",kee="y2",Eee="xOffset",Oee="yOffset",See="radius",Aee="radius2",Cee="theta",Dee="theta2",jee="latitude",Tee="longitude",Fee="latitude2",Pee="longitude2",Mee="color",Nee="fill",Ree="stroke",Iee="shape",Bee="size",zee="angle",Lee="opacity",Uee="fillOpacity",qee="strokeOpacity",Wee="strokeWidth",Hee="strokeDash",$ee="text",Vee="order",Gee="detail",Yee="key",Kee="tooltip",Xee="href",Qee="url",Zee="description",Jee={theta:1,theta2:1,radius:1,radius2:1};function ete(e){return e in Jee}var tte={longitude:1,longitude2:1,latitude:1,latitude2:1};var nte=G9(tte),rte=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),Jee),tte),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function ite(e){return e===Mee||e===Nee||e===Ree}var ate={row:1,column:1,facet:1},ote=G9(ate),ute=Object.assign(Object.assign({},rte),ate),ste=G9(ute),cte=(ute.order,ute.detail,ute.tooltip,mee(ute,["order","detail","tooltip"])),lte=(cte.row,cte.column,cte.facet,mee(cte,["row","column","facet"]));G9(cte),G9(lte);function fte(e){return!!ute[e]}var dte=[_ee,kee,Fee,Pee,Dee,Aee];function hte(e){return pte(e)!==e}function pte(e){switch(e){case _ee:return xee;case kee:return wee;case Fee:return jee;case Pee:return Tee;case Dee:return Cee;case Aee:return See}return e}function vte(e){if(ete(e))switch(e){case Cee:return"startAngle";case Dee:return"endAngle";case See:return"outerRadius";case Aee:return"innerRadius"}return e}function mte(e){switch(e){case xee:return _ee;case wee:return kee;case jee:return Fee;case Tee:return Pee;case Cee:return Dee;case See:return Aee}}function gte(e){switch(e){case xee:case _ee:return"width";case wee:case kee:return"height"}}function yte(e){switch(e){case xee:return"xOffset";case wee:return"yOffset"}}function bte(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}var xte=G9(rte),wte=(rte.x,rte.y,rte.x2,rte.y2,rte.xOffset,rte.yOffset,rte.latitude,rte.longitude,rte.latitude2,rte.longitude2,rte.theta,rte.theta2,rte.radius,rte.radius2,mee(rte,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"])),_te=G9(wte),kte={x:1,y:1},Ete=G9(kte);function Ote(e){return e in kte}var Ste={theta:1,radius:1},Ate=G9(Ste);function Cte(e){return"width"===e?xee:wee}var Dte={xOffset:1,yOffset:1};G9(Dte);function jte(e){return e in Dte}wte.text,wte.tooltip,wte.href,wte.url,wte.description,wte.detail,wte.key,wte.order;var Tte=mee(wte,["text","tooltip","href","url","description","detail","key","order"]),Fte=G9(Tte);var Pte=Object.assign(Object.assign(Object.assign(Object.assign({},kte),Ste),Dte),Tte),Mte=G9(Pte);function Nte(e){return!!Pte[e]}function Rte(e,t){return function(e){switch(e){case Mee:case Nee:case Ree:case Zee:case Gee:case Yee:case Kee:case Xee:case Vee:case Lee:case Uee:case qee:case Wee:case bee:case gee:case yee:return Ite;case xee:case wee:case Eee:case Oee:case jee:case Tee:return Bte;case _ee:case kee:case Fee:case Pee:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Bee:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Hee:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Iee:return{point:"always",geoshape:"always"};case $ee:return{text:"always"};case zee:return{point:"always",square:"always",text:"always"};case Qee:return{image:"always"};case Cee:case See:return{text:"always",arc:"always"};case Dee:case Aee:return{arc:"always"}}}(e)[t]}var Ite={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Bte=mee(Ite,["geoshape"]);function zte(e){switch(e){case xee:case wee:case Cee:case See:case Eee:case Oee:case Bee:case zee:case Wee:case Lee:case Uee:case qee:case _ee:case kee:case Dee:case Aee:return;case bee:case gee:case yee:case Iee:case Hee:case $ee:case Kee:case Xee:case Qee:case Zee:return"discrete";case Mee:case Nee:case Ree:return"flexible";case jee:case Tee:case Fee:case Pee:case Gee:case Yee:case Vee:return}}var Lte={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ute={count:1,min:1,max:1};function qte(e){return!!e&&!!e.argmin}function Wte(e){return!!e&&!!e.argmax}function Hte(e){return fE(e)&&!!Lte[e]}var $te=new Set(["count","valid","missing","distinct"]);function Vte(e){return fE(e)&&$te.has(e)}var Gte=new Set(["count","sum","distinct","valid","missing"]),Yte=new Set(["mean","average","median","q1","q3","min","max"]);function Kte(e){return oE(e)&&(e=koe(e,void 0)),"bin"+G9(e).map((function(t){return Jte(e[t])?Q9("_".concat(t,"_").concat(K9(e[t]))):Q9("_".concat(t,"_").concat(e[t]))})).join("")}function Xte(e){return!0===e||Zte(e)&&!e.binned}function Qte(e){return"binned"===e||Zte(e)&&!0===e.binned}function Zte(e){return mk(e)}function Jte(e){return null===e||void 0===e?void 0:e.param}function ene(e){switch(e){case gee:case yee:case Bee:case Mee:case Nee:case Ree:case Wee:case Lee:case Uee:case qee:case Iee:return 6;case Hee:return 4;default:return 10}}function tne(e){return e&&!!e.expr}function nne(e){var t,n={},r=S(G9(e||{}));try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i]=pne(e[i])}}catch(a){r.e(a)}finally{r.f()}return n}var rne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ine(e){var t=e.anchor,n=e.frame,r=e.offset,i=e.orient,a=e.angle,o=e.limit,u=e.color,s=e.subtitleColor,c=e.subtitleFont,l=e.subtitleFontSize,f=e.subtitleFontStyle,d=e.subtitleFontWeight,h=e.subtitleLineHeight,p=e.subtitlePadding,v=rne(e,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),m=Object.assign(Object.assign({},v),u?{fill:u}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),void 0!==a?{angle:a}:{}),void 0!==o?{limit:o}:{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{subtitleColor:s}:{}),c?{subtitleFont:c}:{}),l?{subtitleFontSize:l}:{}),f?{subtitleFontStyle:f}:{}),d?{subtitleFontWeight:d}:{}),h?{subtitleLineHeight:h}:{}),p?{subtitlePadding:p}:{});return{titleMarkConfig:m,subtitleMarkConfig:j9(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:g,subtitle:y}}function ane(e){return fE(e)||vk(e)&&fE(e[0])}function one(e){return e&&!!e.signal}function une(e){return!!e.step}function sne(e){return!vk(e)&&("field"in e&&"data"in e)}var cne=G9({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),lne={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},fne=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],dne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function hne(e){var t=vk(e.condition)?e.condition.map(vne):vne(e.condition);return Object.assign(Object.assign({},pne(e)),{condition:t})}function pne(e){if(tne(e)){var t=e.expr,n=dne(e,["expr"]);return Object.assign({signal:t},n)}return e}function vne(e){if(tne(e)){var t=e.expr,n=dne(e,["expr"]);return Object.assign({signal:t},n)}return e}function mne(e){if(tne(e)){var t=e.expr,n=dne(e,["expr"]);return Object.assign({signal:t},n)}return one(e)?e:void 0!==e?{value:e}:void 0}function gne(e){return one(e)?e.signal:bE(e)}function yne(e){return one(e)?e.signal:bE(e.value)}function bne(e){return one(e)?e.signal:null==e?null:bE(e)}function xne(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function wne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,a=r.ignoreVgConfig;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!a||i&&i!==e?_ne(e,t,n,r):void 0}function _ne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return see(i?kne(e,t,n.style):void 0,kne(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function kne(e,t,n){return Ene(e,xne(t),n)}function Ene(e,t,n){var r,i,a=S(t=Lk(t));try{for(a.s();!(i=a.n()).done;){var o=n[i.value];o&&void 0!==o[e]&&(r=o[e])}}catch(u){a.e(u)}finally{a.f()}return r}function One(e,t){return Lk(e).reduce((function(e,n){var r;return e.field.push(ooe(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function Sne(e,t){var n=pu(e);return t.forEach((function(e){var t,r=S(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(A9(i,e))return}}catch(a){r.e(a)}finally{r.f()}n.push(e)})),n}function Ane(e,t){return A9(e,t)||!t?e:e?[].concat(pu(Lk(e)),pu(Lk(t))).join(", "):t}function Cne(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((ane(n)||one(n))&&(ane(r)||one(r)))return{explicit:e.explicit,value:Ane(n,r)};if(ane(n)||one(n))return{explicit:e.explicit,value:n};if(ane(r)||one(r))return{explicit:e.explicit,value:r};if(!ane(n)&&!one(n)&&!ane(r)&&!one(r))return{explicit:e.explicit,value:Sne(n,r)};throw new Error("It should never reach here")}function Dne(e){return"Invalid specification ".concat(F9(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var jne='Autosize "fit" only works for single views and layered views.';function Tne(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function Fne(e){var t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function Pne(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(gte(e),"."):'Dropping "fit" because spec has discrete size.'}function Mne(e){return"Unknown field for ".concat(e,". Cannot calculate view size.")}function Nne(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function Rne(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function Ine(e){return"Selection not supported for ".concat(e," yet.")}var Bne="The same selection must be used to override scale domains in a layered view.";function zne(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}function Lne(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function Une(e){return"Ignoring an invalid transform: ".concat(F9(e),".")}function qne(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function Wne(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(F9(n),"}.")}function Hne(e){return'Invalid field type "'.concat(e,'".')}function $ne(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function Vne(e){return'Invalid aggregation operator "'.concat(e,'".')}function Gne(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function Yne(e,t){return"Dropping ".concat(F9(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function Kne(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function Xne(e){return"".concat(e," encoding has no scale, so specified scale is ignored.")}function Qne(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function Zne(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}function Jne(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function ere(e){return"The ".concat(e," for range marks cannot be an expression")}function tre(e){return"Using unaggregated domain with raw field has no effect (".concat(F9(e),").")}function nre(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function rre(e){return"Unaggregated domain is currently unsupported for log scale (".concat(F9(e),").")}function ire(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function are(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function ore(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function ure(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}var sre="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function cre(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function lre(e){return"Cannot stack non-linear scale (".concat(e,").")}function fre(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function dre(e,t){return"Invalid ".concat(e,": ").concat(F9(t),".")}function hre(e){return"1D error band does not support ".concat(e,".")}function pre(e){return"Channel ".concat(e,' is required for "binned" bin.')}function vre(e){return"Channel ".concat(e,' should not be used with "binned" bin.')}var mre=pk(fk),gre=mre;function yre(e){return gre=e}function bre(){return gre=mre}function xre(){var e;(e=gre).warn.apply(e,arguments)}function wre(e){if(e&&mk(e)){var t,n=S(Fre);try{for(n.s();!(t=n.n()).done;){if(t.value in e)return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}new WeakMap;var _re=["january","february","march","april","may","june","july","august","september","october","november","december"],kre=_re.map((function(e){return e.substr(0,3)})),Ere=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Ore=Ere.map((function(e){return e.substr(0,3)}));function Sre(e,t){var n=[];if(t&&void 0!==e.day&&G9(e).length>1&&(xre(function(e){return"Dropping day from datetime ".concat(F9(e)," as day cannot be combined with other units.")}(e)),delete(e=C9(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var r=t?function(e){if(vee(e)&&(e=+e),cE(e))return e-1;var t=e.toLowerCase(),n=_re.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=kre.indexOf(r);if(-1!==i)return i;throw new Error(dre("month",e))}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var i=t?function(e){if(vee(e)&&(e=+e),cE(e))return e>4&&xre(dre("quarter",e)),e-1;throw new Error(dre("quarter",e))}(e.quarter):e.quarter;n.push(cE(i)?3*i:"".concat(i,"*3"))}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var a=t?function(e){if(vee(e)&&(e=+e),cE(e))return e%7;var t=e.toLowerCase(),n=Ere.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=Ore.indexOf(r);if(-1!==i)return i;throw new Error(dre("day",e))}(e.day):e.day;n.push(cE(a)?a+1:"".concat(a,"+1"))}else n.push(1);for(var o=0,u=["hours","minutes","seconds","milliseconds"];o<u.length;o++){var s=e[u[o]];n.push("undefined"===typeof s?0:s)}return n}function Are(e){var t=Sre(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function Cre(e){var t=Sre(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function Dre(e){var t=Sre(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,pu(t))):+Wp(Date,pu(t))}var jre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Tre={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Fre=G9(Tre);function Pre(e){return e.startsWith("utc")}var Mre={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Nre(e){return Fre.filter((function(t){return Rre(e,t)}))}function Rre(e,t){var n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function Ire(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},i=r.end,a=tee(t),o=Pre(e)?"utc":"";function u(e){return"quarter"===e?"(".concat(o,"quarter(").concat(a,")-1)"):"".concat(o).concat(e,"(").concat(a,")")}var s,c={},l=S(Fre);try{for(l.s();!(s=l.n()).done;){var f=s.value;Rre(e,f)&&(c[f]=u(f),n=f)}}catch(d){l.e(d)}finally{l.f()}return i&&(c[n]+="+1"),Cre(c)}function Bre(e){if(e){var t=Nre(e);return"timeUnitSpecifier(".concat(F9(t),", ").concat(F9(Mre),")")}}function zre(e){var t;if(e)return fE(e)?t={unit:e}:mk(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),Pre(t.unit)&&(t.utc=!0,t.unit=function(e){return e.substr(3)}(t.unit)),t}function Lre(e){var t=zre(e),n=t.utc,r=jre(t,["utc"]);return r.unit?(n?"utc":"")+G9(r).map((function(e){return Q9("".concat("unit"===e?"":"_".concat(e,"_")).concat(r[e]))})).join(""):(n?"utc":"")+"timeunit"+G9(r).map((function(e){return Q9("_".concat(e,"_").concat(r[e]))})).join("")}function Ure(e){return e&&!!e.field&&void 0!==e.equal}function qre(e){return e&&!!e.field&&void 0!==e.lt}function Wre(e){return e&&!!e.field&&void 0!==e.lte}function Hre(e){return e&&!!e.field&&void 0!==e.gt}function $re(e){return e&&!!e.field&&void 0!==e.gte}function Vre(e){if(null===e||void 0===e?void 0:e.field){if(vk(e.range)&&2===e.range.length)return!0;if(one(e.range))return!0}return!1}function Gre(e){return e&&!!e.field&&(vk(e.oneOf)||vk(e.in))}function Yre(e){return e&&!!e.field&&void 0!==e.valid}function Kre(e){return Gre(e)||Ure(e)||Vre(e)||qre(e)||Hre(e)||Wre(e)||$re(e)}function Xre(e,t){return Aoe(e,{timeUnit:t,wrapTime:!0})}function Qre(e,t){return e.map((function(e){return Xre(e,t)}))}function Zre(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.field,i=null===(t=zre(e.timeUnit))||void 0===t?void 0:t.unit,a=i?"time(".concat(Ire(i,r),")"):ooe(e,{expr:"datum"});if(Ure(e))return"".concat(a,"===").concat(Xre(e.equal,i));if(qre(e)){var o=e.lt;return"".concat(a,"<").concat(Xre(o,i))}if(Hre(e)){var u=e.gt;return"".concat(a,">").concat(Xre(u,i))}if(Wre(e)){var s=e.lte;return"".concat(a,"<=").concat(Xre(s,i))}if($re(e)){var c=e.gte;return"".concat(a,">=").concat(Xre(c,i))}if(Gre(e))return"indexof([".concat(Qre(e.oneOf,i).join(","),"], ").concat(a,") !== -1");if(Yre(e))return Jre(a,e.valid);if(Vre(e)){var l=e.range,f=one(l)?{signal:"".concat(l.signal,"[0]")}:l[0],d=one(l)?{signal:"".concat(l.signal,"[1]")}:l[1];if(null!==f&&null!==d&&n)return"inrange("+a+", ["+Xre(f,i)+", "+Xre(d,i)+"])";var h=[];return null!==f&&h.push("".concat(a," >= ").concat(Xre(f,i))),null!==d&&h.push("".concat(a," <= ").concat(Xre(d,i))),h.length>0?h.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(F9(e)))}function Jre(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function eie(e){var t;return Kre(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=zre(e.timeUnit))||void 0===t?void 0:t.unit}):e}var tie={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function nie(e){return"ordinal"===e||"nominal"===e}var rie=tie.quantitative,iie=tie.ordinal,aie=tie.temporal,oie=tie.nominal,uie=tie.geojson;G9(tie);function sie(e){if(e)switch(e=e.toLowerCase()){case"q":case rie:return"quantitative";case"t":case aie:return"temporal";case"o":case iie:return"ordinal";case"n":case oie:return"nominal";case uie:return"geojson"}}var cie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lie="linear",fie="log",die="time",hie="utc",pie="point",vie="band",mie={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};G9(mie);function gie(e,t){var n=mie[e],r=mie[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var yie={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function bie(e){return yie[e]}var xie=new Set(["linear","log","pow","sqrt","symlog"]),wie=new Set([].concat(pu(xie),["time","utc"]));function _ie(e){return xie.has(e)}var kie=new Set(["quantile","quantize","threshold"]),Eie=new Set([].concat(pu(wie),pu(kie),["sequential","identity"])),Oie=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);function Sie(e){return Oie.has(e)}function Aie(e){return Eie.has(e)}function Cie(e){return wie.has(e)}function Die(e){return kie.has(e)}function jie(e){return null===e||void 0===e?void 0:e.param}var Tie={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},Fie=(G9(Tie),cie(Tie,["type","domain","range","rangeMax","rangeMin","scheme"])),Pie=G9(Fie);function Mie(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Cie(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return Cie(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return Cie(e);case"nice":return Cie(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return Aie(e)&&!N9(["log","time","utc","threshold","quantile"],e)}}function Nie(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return ite(e)?void 0:'Cannot use the scale property "'.concat(e,'" with non-color channel.');case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Rie(e,t){return N9([iie,oie],t)?void 0===e||Sie(e):t===aie?N9([die,hie,void 0],e):t!==rie||(_ie(e)||Die(e)||void 0===e)}function Iie(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Nte(e))return!1;switch(e){case xee:case wee:case Eee:case Oee:case Cee:case See:return!!Cie(t)||("band"===t||"point"===t&&!n);case Bee:case Wee:case Lee:case Uee:case qee:case zee:return Cie(t)||Die(t)||N9(["band","point","ordinal"],t);case Mee:case Nee:case Ree:return"band"!==t;case Hee:case Iee:return"ordinal"===t||Die(t)}}var Bie={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},zie=Bie.arc,Lie=Bie.area,Uie=Bie.bar,qie=Bie.image,Wie=Bie.line,Hie=Bie.point,$ie=Bie.rect,Vie=Bie.rule,Gie=Bie.text,Yie=Bie.tick,Kie=Bie.trail,Xie=Bie.circle,Qie=Bie.square,Zie=Bie.geoshape;function Jie(e){return["line","area","trail"].includes(e)}function eae(e){return["rect","bar","image","arc"].includes(e)}var tae=new Set(G9(Bie));function nae(e){return e.type}var rae=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),iae=G9({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),aae=G9({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function oae(e){return e&&void 0!=e.band}var uae={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},sae={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},cae={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function lae(e){var t=e.channel,n=e.channelDef,r=e.markDef,i=e.scale,a=e.config,o=vae(e);return Vae(n)&&!Vte(n.aggregate)&&i&&Cie(i.get("type"))?function(e){var t=e.fieldDef,n=e.channel,r=e.markDef,i=e.ref,a=e.config;if(Jie(r.type))return i;if(null===wne("invalid",r,a))return[fae(t,n),i];return i}({fieldDef:n,channel:t,markDef:r,ref:o,config:a}):o}function fae(e,t){var n=dae(e,!0),r="y"===pte(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function dae(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Jre(fE(e)?e:ooe(e,{expr:"datum"}),!t)}function hae(e,t,n,r){var i={};if(t&&(i.scale=t),Yae(e)){var a=e.datum;wre(a)?i.signal=Are(a):one(a)?i.signal=a.signal:tne(a)?i.signal=a.expr:i.value=a}else i.field=ooe(e,n);if(r){var o=r.offset,u=r.band;o&&(i.offset=o),u&&(i.band=u)}return i}function pae(e){var t=e.scaleName,n=e.fieldOrDatumDef,r=e.fieldOrDatumDef2,i=e.offset,a=e.startSuffix,o=e.bandPosition,u=void 0===o?.5:o,s=0<u&&u<1?"datum":void 0,c=ooe(n,{expr:s,suffix:a}),l=void 0!==r?ooe(r,{expr:s}):ooe(n,{suffix:"end",expr:s}),f={};if(0===u||1===u){f.scale=t;var d=0===u?c:l;f.field=d}else{var h=one(u)?"".concat(u.signal," * ").concat(c," + (1-").concat(u.signal,") * ").concat(l):"".concat(u," * ").concat(c," + ").concat(1-u," * ").concat(l);f.signal='scale("'.concat(t,'", ').concat(h,")")}return i&&(f.offset=i),f}function vae(e){var t,n=e.channel,r=e.channelDef,i=e.channel2Def,a=e.markDef,o=e.config,u=e.scaleName,s=e.scale,c=e.stack,l=e.offset,f=e.defaultRef,d=e.bandPosition;if(r){if(Qae(r)){var h=null===s||void 0===s?void 0:s.get("type");if(Zae(r)){null!==d&&void 0!==d||(d=Lae({fieldDef:r,fieldDef2:i,markDef:a,config:o}));var p=r.bin,v=r.timeUnit,m=r.type;if(Xte(p)||d&&v&&m===aie)return(null===c||void 0===c?void 0:c.impute)?hae(r,u,{binSuffix:"mid"},{offset:l}):d&&!Sie(h)?pae({scaleName:u,fieldOrDatumDef:r,bandPosition:d,offset:l}):hae(r,u,Doe(r,n)?{binSuffix:"range"}:{},{offset:l});if(Qte(p)){if(Vae(i))return pae({scaleName:u,fieldOrDatumDef:r,fieldOrDatumDef2:i,bandPosition:d,offset:l});xre(pre(n===xee?_ee:kee))}}return hae(r,u,Sie(h)?{binSuffix:"range"}:{},{offset:l,band:"band"===h?null!==(t=null!==d&&void 0!==d?d:r.bandPosition)&&void 0!==t?t:.5:void 0})}if(Jae(r)){var g=r.value,y=l?{offset:l}:{};return Object.assign(Object.assign({},mae(n,g)),y)}}return qk(f)&&(f=f()),f?Object.assign(Object.assign({},f),l?{offset:l}:{}):f}function mae(e,t){return N9(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:N9(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:mne(t)}function gae(e){return e&&"number"!==e&&"time"!==e}function yae(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(F9(n)):"",")")}function bae(e){var t,n,r=e.fieldOrDatumDef,i=e.format,a=e.formatType,o=e.expr,u=e.normalizeStack,s=e.config;if(gae(a))return wae({fieldOrDatumDef:r,format:i,formatType:a,expr:o,config:s});var c=xae(r,o,u);if(Soe(r)){var l=function(e,t,n,r,i){return!t||n?(n=fE(n)?n:r,"".concat(i?"utc":"time","Format(").concat(e,", '").concat(n,"')")):function(e,t,n){if(e){var r=Bre(e),i=n||Pre(e);return"".concat(i?"utc":"time","Format(").concat(t,", ").concat(r,")")}}(t,e,i)}(c,Vae(r)?null===(t=zre(r.timeUnit))||void 0===t?void 0:t.unit:void 0,i,s.timeFormat,eoe(r)&&(null===(n=r.scale)||void 0===n?void 0:n.type)===hie);return l?{signal:l}:void 0}return i=Eae(Gae(r),i,s),Vae(r)&&Xte(r.bin)?{signal:Aae(c,ooe(r,{expr:o,binSuffix:"end"}),i,a,s)}:i||"quantitative"===Gae(r)?{signal:"".concat(Oae(c,i))}:{signal:"isValid(".concat(c,") ? ").concat(c,' : ""+').concat(c)}}function xae(e,t,n){return Vae(e)?n?"".concat(ooe(e,{expr:t,suffix:"end"}),"-").concat(ooe(e,{expr:t,suffix:"start"})):ooe(e,{expr:t}):function(e){var t=e.datum;return wre(t)?Are(t):"".concat(F9(t))}(e)}function wae(e){var t=e.fieldOrDatumDef,n=e.format,r=e.formatType,i=e.expr,a=e.normalizeStack,o=e.config,u=e.field;return null!==u&&void 0!==u||(u=xae(t,i,a)),Vae(t)&&Xte(t.bin)?{signal:Aae(u,ooe(t,{expr:i,binSuffix:"end"}),n,r,o)}:{signal:yae(r,u,n)}}function _ae(e,t,n,r,i,a){var o;if(!gae(r))return Soe(e)?function(e,t,n,r){if(e)return e;if(t)return{signal:Bre(t)};return r?void 0:n.timeFormat}(n,Vae(e)?null===(o=zre(e.timeUnit))||void 0===o?void 0:o.unit:void 0,i,a):Eae(t,n,i)}function kae(e,t,n){return e&&(one(e)||"number"===e||"time"===e)?e:Soe(t)&&"time"!==n&&"utc"!==n?"time":void 0}function Eae(e,t,n){return fE(t)?t:e===rie?n.numberFormat:void 0}function Oae(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function Sae(e,t,n,r){var i;return gae(n)?yae(n,e,t):Oae(e,null!==(i=fE(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function Aae(e,t,n,r,i){var a=Sae(e,n,r,i),o=Sae(t,n,r,i);return"".concat(Jre(e,!1),' ? "null" : ').concat(a,' + "').concat(" \u2013 ",'" + ').concat(o)}var Cae="min",Dae={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function jae(e){return e in Dae}function Tae(e){return!!e&&!!e.encoding}function Fae(e){return!!e&&("count"===e.op||!!e.field)}function Pae(e){return!!e&&vk(e)}function Mae(e){return"row"in e||"column"in e}function Nae(e){return!!e&&"header"in e}function Rae(e){return"facet"in e}var Iae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Bae(e){var t=e.field,n=e.timeUnit,r=e.bin,i=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function zae(e){return"sort"in e}function Lae(e){var t=e.fieldDef,n=e.fieldDef2,r=e.markDef,i=e.config;if(Qae(t)&&void 0!==t.bandPosition)return t.bandPosition;if(Vae(t)){var a=t.timeUnit,o=t.bin;if(a&&!n)return eae(r.type)?0:_ne("timeUnitBandPosition",r,i);if(Xte(o))return.5}}function Uae(e){var t,n,r,i=e.channel,a=e.fieldDef,o=e.fieldDef2,u=e.markDef,s=e.config,c=e.scaleType,l=e.useVlSizeChannel,f=gte(i),d=wne(l?"size":f,u,s,{vgChannel:f});if(void 0!==d)return d;if(Vae(a)){var h=a.timeUnit,p=a.bin;if(h&&!o)return{band:_ne("timeUnitBandSize",u,s)};if(Xte(p)&&!Sie(c))return{band:1}}return eae(u.type)?c?Sie(c)?(null===(t=s[u.type])||void 0===t?void 0:t.discreteBandSize)||{band:1}:null===(n=s[u.type])||void 0===n?void 0:n.continuousBandSize:null===(r=s[u.type])||void 0===r?void 0:r.discreteBandSize:void 0}function qae(e,t,n,r){return!!(Xte(e.bin)||e.timeUnit&&Zae(e)&&"temporal"===e.type)&&void 0!==Lae({fieldDef:e,fieldDef2:t,markDef:n,config:r})}function Wae(e){return e&&"condition"in e}function Hae(e){var t=e&&e.condition;return!!t&&!vk(t)&&Vae(t)}function $ae(e){var t=e&&e.condition;return!!t&&!vk(t)&&Qae(t)}function Vae(e){return e&&(!!e.field||"count"===e.aggregate)}function Gae(e){return e&&e.type}function Yae(e){return e&&"datum"in e}function Kae(e){return Zae(e)&&!uoe(e)||Xae(e)}function Xae(e){return Yae(e)&&cE(e.datum)}function Qae(e){return Vae(e)||Yae(e)}function Zae(e){return e&&("field"in e||"count"===e.aggregate)&&"type"in e}function Jae(e){return e&&"value"in e&&"value"in e}function eoe(e){return e&&("scale"in e||"sort"in e)}function toe(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function noe(e){return e&&"legend"in e}function roe(e){return e&&("format"in e||"formatType"in e)}function ioe(e){return T9(e,["legend","axis","header","scale"])}function aoe(e){return"op"in e}function ooe(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.field,o=i.prefix,u=i.suffix,s="";if(soe(e))a=dee("count");else{var c;if(!i.nofn)if(aoe(e))c=e.op;else{var l=e.bin,f=e.aggregate,d=e.timeUnit;Xte(l)?(c=Kte(l),u=(null!==(t=i.binSuffix)&&void 0!==t?t:"")+(null!==(n=i.suffix)&&void 0!==n?n:"")):f?Wte(f)?(s='["'.concat(a,'"]'),a="argmax_".concat(f.argmax)):qte(f)?(s='["'.concat(a,'"]'),a="argmin_".concat(f.argmin)):c=String(f):d&&(c=Lre(d),u=(!["range","mid"].includes(i.binSuffix)&&i.binSuffix||"")+(null!==(r=i.suffix)&&void 0!==r?r:""))}c&&(a=a?"".concat(c,"_").concat(a):c)}return u&&(a="".concat(a,"_").concat(u)),o&&(a="".concat(o,"_").concat(a)),i.forAs?oee(a):i.expr?nee(a,i.expr)+s:iee(a)+s}function uoe(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Vae(e)&&!!e.bin;case"temporal":return!1}throw new Error(Hne(e.type))}function soe(e){return"count"===e.aggregate}var coe=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,i=e.field;if(Wte(t))return"".concat(i," for argmax(").concat(t.argmax,")");if(qte(t))return"".concat(i," for argmin(").concat(t.argmin,")");var a=zre(r),o=t||(null===a||void 0===a?void 0:a.unit)||(null===a||void 0===a?void 0:a.maxbins)&&"timeunit"||Xte(n)&&"bin";return o?"".concat(o.toUpperCase(),"(").concat(i,")"):i}(e);default:return function(e,t){var n,r=e.field,i=e.bin,a=e.timeUnit,o=e.aggregate;if("count"===o)return t.countTitle;if(Xte(i))return"".concat(r," (binned)");if(a){var u=null===(n=zre(a))||void 0===n?void 0:n.unit;if(u)return"".concat(r," (").concat(Nre(u).join("-"),")")}else if(o)return Wte(o)?"".concat(r," for max ").concat(o.argmax):qte(o)?"".concat(r," for min ").concat(o.argmin):"".concat(eee(o)," of ").concat(r);return r}(e,t)}},loe=coe;function foe(e){loe=e}function doe(){foe(coe)}function hoe(e,t,n){var r,i,a=n.allowDisabling,o=n.includeDefault,u=void 0===o||o,s=null===(r=poe(e))||void 0===r?void 0:r.title;if(!Vae(e))return null!==s&&void 0!==s?s:e.title;var c=e,l=u?voe(c,t):void 0;return a?see(s,c.title,l):null!==(i=null!==s&&void 0!==s?s:c.title)&&void 0!==i?i:l}function poe(e){return toe(e)&&e.axis?e.axis:noe(e)&&e.legend?e.legend:Nae(e)&&e.header?e.header:void 0}function voe(e,t){return loe(e,t)}function moe(e){var t;if(roe(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=poe(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function goe(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(zae(e)&&vk(e.sort))return"ordinal";var r=e.aggregate,i=e.bin;if(e.timeUnit)return"temporal";if(i||r&&!Wte(r)&&!qte(r))return"quantitative";if(eoe(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(mie[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function yoe(e){return Vae(e)?e:Hae(e)?e.condition:void 0}function boe(e){return Qae(e)?e:$ae(e)?e.condition:void 0}function xoe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(fE(e)||cE(e)||oE(e)){var i=fE(e)?"string":cE(e)?"number":"boolean";return xre(Wne(t,i,e)),{value:e}}return Qae(e)?woe(e,t,n,r):$ae(e)?Object.assign(Object.assign({},e),{condition:woe(e.condition,t,n,r)}):e}function woe(e,t,n,r){if(roe(e)){e.format;var i=e.formatType,a=Iae(e,["format","formatType"]);if(gae(i)&&!n.customFormatTypes)return xre(qne(t)),woe(a,t,n,r)}else{var o=toe(e)?"axis":noe(e)?"legend":Nae(e)?"header":null;if(o&&e[o]){var u=e[o],s=(u.format,u.formatType),c=Iae(u,["format","formatType"]);if(gae(s)&&!n.customFormatTypes)return xre(qne(t)),woe(Object.assign(Object.assign({},e),du({},o,c)),t,n,r)}}return Vae(e)?_oe(e,t,r):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=cE(n)?"quantitative":fE(n)?"nominal":wre(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function _oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.compositeMark,i=void 0!==r&&r,a=e.aggregate,o=e.timeUnit,u=e.bin,s=e.field,c=Object.assign({},e);if(i||!a||Hte(a)||Wte(a)||qte(a)||(xre(Vne(a)),delete c.aggregate),o&&(c.timeUnit=zre(o)),s&&(c.field="".concat(s)),Xte(u)&&(c.bin=koe(u,t)),Qte(u)&&!Ote(t)&&xre(vre(t)),Zae(c)){var l=c.type,f=sie(l);l!==f&&(c.type=f),"quantitative"!==l&&Vte(a)&&(xre($ne(l,a)),c.type="quantitative")}else if(!hte(t)){var d=goe(c,t);c.type=d}if(Zae(c)){var h=Ooe(c,t)||{},p=h.compatible,v=h.warning;!1===p&&xre(v)}if(zae(c)&&fE(c.sort)){var m=c.sort;if(jae(m))return Object.assign(Object.assign({},c),{sort:{encoding:m}});var g=m.substr(1);if("-"===m.charAt(0)&&jae(g))return Object.assign(Object.assign({},c),{sort:{encoding:g,order:"descending"}})}if(Nae(c)){var y=c.header;if(y){var b=y.orient,x=Iae(y,["orient"]);if(b)return Object.assign(Object.assign({},c),{header:Object.assign(Object.assign({},x),{labelOrient:y.labelOrient||b,titleOrient:y.titleOrient||b})})}}return c}function koe(e,t){return oE(e)?{maxbins:ene(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:ene(t)})}var Eoe={compatible:!0};function Ooe(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case gee:case yee:case bee:return uoe(e)?Eoe:{compatible:!1,warning:Qne(t)};case xee:case wee:case Eee:case Oee:case Mee:case Nee:case Ree:case $ee:case Gee:case Yee:case Kee:case Xee:case Qee:case zee:case Cee:case See:case Zee:return Eoe;case Tee:case Pee:case jee:case Fee:return n!==rie?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:Eoe;case Lee:case Uee:case qee:case Wee:case Bee:case Dee:case Aee:case _ee:case kee:return"nominal"!==n||e.sort?Eoe:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case Iee:case Hee:return uoe(e)||function(e){var t;return eoe(e)&&Die(null===(t=e.scale)||void 0===t?void 0:t.type)}(e)?Eoe:{compatible:!1,warning:Zne(t)};case Vee:return"nominal"!==e.type||"sort"in e?Eoe:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function Soe(e){var t=moe(e).formatType;return"time"===t||!t&&function(e){return e&&("temporal"===e.type||Vae(e)&&!!e.timeUnit)}(e)}function Aoe(e,t){var n,r,i=t.timeUnit,a=t.type,o=t.wrapTime,u=t.undefinedIfExprNotRequired,s=i&&(null===(n=zre(i))||void 0===n?void 0:n.unit),c=s||"temporal"===a;return tne(e)?r=e.expr:one(e)?r=e.signal:wre(e)?(c=!0,r=Are(e)):(fE(e)||cE(e))&&c&&(r="datetime(".concat(F9(e),")"),function(e){return!!Tre[e]}(s)&&(cE(e)&&e<1e4||fE(e)&&isNaN(Date.parse(e)))&&(r=Are(du({},s,e)))),r?o&&c?"time(".concat(r,")"):r:u?void 0:F9(e)}function Coe(e,t){var n=e.type;return t.map((function(t){var r=Aoe(t,{timeUnit:Vae(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function Doe(e,t){return Xte(e.bin)?Nte(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}var joe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Toe(e){return e&&e.condition}var Foe=["domain","grid","labels","ticks","title"],Poe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Moe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Noe=Object.assign(Object.assign({},Moe),{style:1,labelExpr:1,encoding:1});function Roe(e){return!!Noe[e]}G9(Noe);var Ioe=G9({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function Boe(e){return"mark"in e}var zoe=function(){function e(t,n){au(this,e),this.name=t,this.run=n}return uu(e,[{key:"hasMatchingType",value:function(e){return!!Boe(e)&&function(e){return nae(e)?e.type:e}(e.mark)===this.name}}]),e}(),Loe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Uoe(e,t){var n=e&&e[t];return!!n&&(vk(n)?R9(n,(function(e){return!!e.field})):Vae(n)||Hae(n))}function qoe(e,t){var n=e&&e[t];return!!n&&(vk(n)?R9(n,(function(e){return!!e.field})):Vae(n)||Yae(n)||$ae(n))}function Woe(e,t){if(Ote(t)){var n=e[t];if((Vae(n)||Yae(n))&&nie(n.type))return qoe(e,yte(t))}return!1}function Hoe(e){return R9(ste,(function(t){if(Uoe(e,t)){var n=e[t];if(vk(n))return R9(n,(function(e){return!!e.aggregate}));var r=yoe(n);return r&&!!r.aggregate}return!1}))}function $oe(e,t){var n=[],r=[],i=[],a=[],o={};return Koe(e,(function(u,s){if(Vae(u)){var c=u.field,l=u.aggregate,f=u.bin,d=u.timeUnit,h=Loe(u,["field","aggregate","bin","timeUnit"]);if(l||d||f){var p,v=poe(u),m=null===v||void 0===v?void 0:v.title,g=ooe(u,{forAs:!0}),y=Object.assign(Object.assign(Object.assign({},m?[]:{title:hoe(u,t,{allowDisabling:!0})}),h),{field:g});if(l){if(Wte(l)?(p="argmax",g=ooe({op:"argmax",field:l.argmax},{forAs:!0}),y.field="".concat(g,".").concat(c)):qte(l)?(p="argmin",g=ooe({op:"argmin",field:l.argmin},{forAs:!0}),y.field="".concat(g,".").concat(c)):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(p=l),p){var b={op:p,as:g};c&&(b.field=c),a.push(b)}}else if(n.push(g),Zae(u)&&Xte(f)){if(r.push({bin:f,field:c,as:g}),n.push(ooe(u,{binSuffix:"end"})),Doe(u,s)&&n.push(ooe(u,{binSuffix:"range"})),Ote(s)){var x={field:"".concat(g,"_end")};o["".concat(s,"2")]=x}y.bin="binned",hte(s)||(y.type=rie)}else if(d){i.push({timeUnit:d,field:c,as:g});var w=Zae(u)&&u.type!==aie&&"time";w&&(s===$ee||s===Kee?y.formatType=w:!function(e){return!!wte[e]}(s)?Ote(s)&&(y.axis=Object.assign({formatType:w},y.axis)):y.legend=Object.assign({formatType:w},y.legend))}o[s]=y}else n.push(c),o[s]=e[s]}else o[s]=e[s]})),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function Voe(e,t,n,r){var i,a,o={},u=S(G9(e));try{for(u.s();!(i=u.n()).done;){var s=i.value;fte(s)||xre("".concat(a=s,"-encoding is dropped as ").concat(a," is not a valid encoding channel."))}}catch(d){u.e(d)}finally{u.f()}var c,l=S(xte);try{var f=function(){var i=c.value;if(!e[i])return"continue";var a=e[i];if(jte(i)){var u=bte(i),s=o[u];if(Vae(s)){if(function(e){return"quantitative"===e||"temporal"===e}(s.type)&&Vae(a))return xre(function(e){return"".concat(e,"Offset dropped because ").concat(e," is continuous")}(u)),"continue"}else i=u,xre(function(e){return"There is no ".concat(e," encoding. Replacing ").concat(e,"Offset encoding as ").concat(e,".")}(u))}if("angle"!==i||"arc"!==t||e.theta||(xre("Arc marks uses theta channel rather than angle, replacing angle with theta."),i=Cee),!function(e,t,n){var r=Rte(t,n);if(!r)return!1;if("binned"===r){var i=e[t===_ee?xee:wee];return!!(Vae(i)&&Vae(e[t])&&Qte(i.bin))}return!0}(e,i,t))return xre(Kne(i,t)),"continue";if(i===Bee&&"line"===t){var l=yoe(e[i]);if(null===l||void 0===l?void 0:l.aggregate)return xre("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),"continue"}if(i===Mee&&(n?"fill"in e:"stroke"in e))return xre(Gne("encoding",{fill:"fill"in e,stroke:"stroke"in e})),"continue";if(i===Gee||i===Vee&&!vk(a)&&!Jae(a)||i===Kee&&vk(a))a&&(o[i]=Lk(a).reduce((function(e,t){return Vae(t)?e.push(_oe(t,i)):xre(Yne(t,i)),e}),[]));else{if(i===Kee&&null===a)o[i]=null;else if(!Vae(a)&&!Yae(a)&&!Jae(a)&&!Wae(a)&&!one(a))return xre(Yne(a,i)),"continue";o[i]=xoe(a,i,r)}};for(l.s();!(c=l.n()).done;)f()}catch(d){l.e(d)}finally{l.f()}return o}function Goe(e,t){var n,r={},i=S(G9(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=xoe(e[a],a,t,{compositeMark:!0});r[a]=o}}catch(u){i.e(u)}finally{i.f()}return r}function Yoe(e){var t,n=[],r=S(G9(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(Uoe(e,i)){var a,o=S(Lk(e[i]));try{for(o.s();!(a=o.n()).done;){var u=a.value;Vae(u)?n.push(u):Hae(u)&&n.push(u.condition)}}catch(s){o.e(s)}finally{o.f()}}}}catch(s){r.e(s)}finally{r.f()}return n}function Koe(e,t,n){if(e){var r,i=S(G9(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=e[a];if(vk(o)){var u,s=S(o);try{for(s.s();!(u=s.n()).done;){var c=u.value;t.call(n,c,a)}}catch(l){s.e(l)}finally{s.f()}}else t.call(n,o,a)}}catch(l){i.e(l)}finally{i.f()}}}function Xoe(e,t){return G9(t).reduce((function(n,r){switch(r){case xee:case wee:case Xee:case Zee:case Qee:case _ee:case kee:case Eee:case Oee:case Cee:case Dee:case See:case Aee:case jee:case Tee:case Fee:case Pee:case $ee:case Iee:case zee:case Kee:return n;case Vee:if("line"===e||"trail"===e)return n;case Gee:case Yee:var i=t[r];if(vk(i)||Vae(i)){var a,o=S(Lk(i));try{for(o.s();!(a=o.n()).done;){var u=a.value;u.aggregate||n.push(ooe(u,{}))}}catch(c){o.e(c)}finally{o.f()}}return n;case Bee:if("trail"===e)return n;case Mee:case Nee:case Ree:case Lee:case Uee:case qee:case Hee:case Wee:var s=yoe(t[r]);return s&&!s.aggregate&&n.push(ooe(s,{})),n}}),[])}var Qoe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Zoe(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=e.map((function(e){var n=e.fieldPrefix,i=e.titlePrefix,a=r?" of ".concat(Joe(t)):"";return{field:n+t.field,type:t.type,title:one(i)?{signal:"".concat(i,'"').concat(escape(a),'"')}:i+a}})),a=Yoe(n).map(ioe);return{tooltip:[].concat(pu(i),pu(L9(a,P9)))}}function Joe(e){return see(e.title,e.field)}function eue(e,t,n,r,i){var a=n.scale,o=n.axis;return function(u){var s=u.partName,c=u.mark,l=u.positionPrefix,f=u.endPositionPrefix,d=void 0===f?void 0:f,h=u.extraEncoding,p=void 0===h?{}:h,v=Joe(n);return tue(e,s,i,{mark:c,encoding:Object.assign(Object.assign(Object.assign(du({},t,Object.assign(Object.assign(Object.assign({field:"".concat(l,"_").concat(n.field),type:n.type},void 0!==v?{title:v}:{}),void 0!==a?{scale:a}:{}),void 0!==o?{axis:o}:{})),fE(d)?du({},"".concat(t,"2"),{field:"".concat(d,"_").concat(n.field)}):{}),r),p)})}}function tue(e,t,n,r){var i=e.clip,a=e.color,o=e.opacity,u=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),a?{color:a}:{}),o?{opacity:o}:{}),nae(r.mark)?r.mark:{type:r.mark}),{style:"".concat(u,"-").concat(t)}),oE(e[t])?{}:e[t])})]:[]}function nue(e,t,n){var r=e.encoding,i="vertical"===t?"y":"x",a=r[i],o=r["".concat(i,"2")],u=r["".concat(i,"Error")],s=r["".concat(i,"Error2")];return{continuousAxisChannelDef:rue(a,n),continuousAxisChannelDef2:rue(o,n),continuousAxisChannelDefError:rue(u,n),continuousAxisChannelDefError2:rue(s,n),continuousAxis:i}}function rue(e,t){if(null===e||void 0===e?void 0:e.aggregate){var n=e.aggregate,r=Qoe(e,["aggregate"]);return n!==t&&xre(function(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}(n,t)),r}return e}function iue(e,t){var n=e.mark,r=e.encoding,i=r.x,a=r.y;if(nae(n)&&n.orient)return n.orient;if(Kae(i)){if(Kae(a)){var o=Vae(i)&&i.aggregate,u=Vae(a)&&a.aggregate;if(o||u!==t){if(u||o!==t){if(o===t&&u===t)throw new Error("Both x and y cannot have aggregate");return Soe(a)&&!Soe(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(Kae(a))return"vertical";throw new Error("Need a valid continuous axis for ".concat(t,"s"))}var aue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oue="boxplot",uue=new zoe(oue,cue);function sue(e){return cE(e)?"tukey":e}function cue(e,t){var n,r,i=t.config,a=e=Object.assign(Object.assign({},e),{encoding:Goe(e.encoding,i)}),o=a.mark,u=(a.encoding,a.params),s=(a.projection,aue(e,["mark","encoding","params","projection"])),c=nae(o)?o:{type:o};u&&xre(Ine("boxplot"));var l=null!==(n=c.extent)&&void 0!==n?n:i.boxplot.extent,f=wne("size",c,i),d=sue(l),h=function(e,t,n){var r=iue(e,oue),i=nue(e,r,oue),a=i.continuousAxisChannelDef,o=i.continuousAxis,u=a.field,s=sue(t),c=[].concat(pu(lue(u)),[{op:"median",field:u,as:"mid_box_".concat(u)},{op:"min",field:u,as:("min-max"===s?"lower_whisker_":"min_")+u},{op:"max",field:u,as:("min-max"===s?"upper_whisker_":"max_")+u}]),l="min-max"===s||"tukey"===s?[]:[{calculate:'datum["upper_box_'.concat(u,'"] - datum["lower_box_').concat(u,'"]'),as:"iqr_".concat(u)},{calculate:'min(datum["upper_box_'.concat(u,'"] + datum["iqr_').concat(u,'"] * ').concat(t,', datum["max_').concat(u,'"])'),as:"upper_whisker_".concat(u)},{calculate:'max(datum["lower_box_'.concat(u,'"] - datum["iqr_').concat(u,'"] * ').concat(t,', datum["min_').concat(u,'"])'),as:"lower_whisker_".concat(u)}],f=e.encoding,d=o,h=(f[d],function(e){var t,n,r=e.tooltip,i=Qoe(e,["tooltip"]);if(!r)return{filteredEncoding:i};if(vk(r)){var a,o=S(r);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.aggregate?(t||(t=[]),t.push(u)):(n||(n=[]),n.push(u))}}catch(s){o.e(s)}finally{o.f()}t&&(i.tooltip=t)}else r.aggregate?i.tooltip=r:n=r;return vk(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}}(aue(f,["symbol"===typeof d?d:d+""]))),p=h.customTooltipWithoutAggregatedField,v=$oe(h.filteredEncoding,n),m=v.bins,g=v.timeUnits,y=v.aggregate,b=v.groupby,x=v.encoding,w="vertical"===r?"horizontal":"vertical",_=r,k=[].concat(pu(m),pu(g),[{aggregate:[].concat(pu(y),pu(c)),groupby:b}],l);return{bins:m,timeUnits:g,transform:k,groupby:b,aggregate:y,continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:x,ticksOrient:w,boxOrient:_,customTooltipWithoutAggregatedField:p}}(e,l,i),p=h.bins,v=h.timeUnits,m=h.transform,g=h.continuousAxisChannelDef,y=h.continuousAxis,b=h.groupby,x=h.aggregate,w=h.encodingWithoutContinuousAxis,_=h.ticksOrient,k=h.boxOrient,E=h.customTooltipWithoutAggregatedField,O=w.color,A=w.size,C=aue(w,["color","size"]),D=function(e){return eue(c,y,g,e,i.boxplot)},j=D(C),T=D(w),F=D(Object.assign(Object.assign({},C),A?{size:A}:{})),P=Zoe([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],g,w),M={type:"tick",color:"black",opacity:1,orient:_,invalid:null,aria:!1},N="min-max"===d?P:Zoe([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,w),R=[].concat(pu(j({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:N})),pu(j({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:N})),pu(j({partName:"ticks",mark:M,positionPrefix:"lower_whisker",extraEncoding:N})),pu(j({partName:"ticks",mark:M,positionPrefix:"upper_whisker",extraEncoding:N}))),I=[].concat(pu("tukey"!==d?R:[]),pu(T({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:k,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:P})),pu(F({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},mk(i.boxplot.median)&&i.boxplot.median.color?{color:i.boxplot.median.color}:{}),f?{size:f}:{}),{orient:_,aria:!1}),positionPrefix:"mid_box",extraEncoding:P})));if("min-max"===d)return Object.assign(Object.assign({},s),{transform:(null!==(r=s.transform)&&void 0!==r?r:[]).concat(m),layer:I});var B,z,L='datum["lower_box_'.concat(g.field,'"]'),U='datum["upper_box_'.concat(g.field,'"]'),q="(".concat(U," - ").concat(L,")"),W="".concat(L," - ").concat(l," * ").concat(q),H="".concat(U," + ").concat(l," * ").concat(q),$='datum["'.concat(g.field,'"]'),V={joinaggregate:lue(g.field),groupby:b},G={transform:[{filter:"(".concat(W," <= ").concat($,") && (").concat($," <= ").concat(H,")")},{aggregate:[{op:"min",field:g.field,as:"lower_whisker_".concat(g.field)},{op:"max",field:g.field,as:"upper_whisker_".concat(g.field)},{op:"min",field:"lower_box_".concat(g.field),as:"lower_box_".concat(g.field)},{op:"max",field:"upper_box_".concat(g.field),as:"upper_box_".concat(g.field)}].concat(pu(x)),groupby:b}],layer:R},Y=(C.tooltip,aue(C,["tooltip"])),K=g.scale,X=g.axis,Q=Joe(g),Z=T9(X,["title"]),J=tue(c,"outliers",i.boxplot,{transform:[{filter:"(".concat($," < ").concat(W,") || (").concat($," > ").concat(H,")")}],mark:"point",encoding:Object.assign(Object.assign(Object.assign(du({},y,Object.assign(Object.assign(Object.assign({field:g.field,type:g.type},void 0!==Q?{title:Q}:{}),void 0!==K?{scale:K}:{}),V9(Z)?{}:{axis:Z})),Y),O?{color:O}:{}),E?{tooltip:E}:{})})[0],ee=[].concat(pu(p),pu(v),[V]);J?B={transform:ee,layer:[J,G]}:(z=(B=G).transform).unshift.apply(z,pu(ee));return Object.assign(Object.assign({},s),{layer:[B,{transform:m,layer:I}]})}function lue(e){return[{op:"q1",field:e,as:"lower_box_".concat(e)},{op:"q3",field:e,as:"upper_box_".concat(e)}]}var fue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},due="errorbar",hue=new zoe(due,pue);function pue(e,t){var n=t.config,r=mue(e=Object.assign(Object.assign({},e),{encoding:Goe(e.encoding,n)}),due,n),i=r.transform,a=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.ticksOrient,c=r.markDef,l=r.outerSpec,f=r.tooltipEncoding;delete u.size;var d=eue(c,o,a,u,n.errorbar),h=c.thickness,p=c.size,v=Object.assign(Object.assign({type:"tick",orient:s,aria:!1},void 0!==h?{thickness:h}:{}),void 0!==p?{size:p}:{}),m=[].concat(pu(d({partName:"ticks",mark:v,positionPrefix:"lower",extraEncoding:f})),pu(d({partName:"ticks",mark:v,positionPrefix:"upper",extraEncoding:f})),pu(d({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==h?{size:h}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},l),{transform:i}),m.length>1?{layer:m}:Object.assign({},m[0]))}function vue(e,t){var n=e.encoding;if(function(e){return(Qae(e.x)||Qae(e.y))&&!Qae(e.x2)&&!Qae(e.y2)&&!Qae(e.xError)&&!Qae(e.xError2)&&!Qae(e.yError)&&!Qae(e.yError2)}(n))return{orient:iue(e,t),inputType:"raw"};var r=function(e){return Qae(e.x2)||Qae(e.y2)}(n),i=function(e){return Qae(e.xError)||Qae(e.xError2)||Qae(e.yError)||Qae(e.yError2)}(n),a=n.x,o=n.y;if(r){if(i)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var u=n.x2,s=n.y2;if(Qae(u)&&Qae(s))throw new Error("".concat(t," cannot have both x2 and y2"));if(Qae(u)){if(Kae(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(Qae(s)){if(Kae(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var c=n.xError,l=n.xError2,f=n.yError,d=n.yError2;if(Qae(l)&&!Qae(c))throw new Error("".concat(t," cannot have xError2 without xError"));if(Qae(d)&&!Qae(f))throw new Error("".concat(t," cannot have yError2 without yError"));if(Qae(c)&&Qae(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(Qae(c)){if(Kae(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Qae(f)){if(Kae(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function mue(e,t,n){var r,i=e.mark,a=e.encoding,o=e.params,u=(e.projection,fue(e,["mark","encoding","params","projection"])),s=nae(i)?i:{type:i};o&&xre(Ine(t));var c=vue(e,t),l=c.orient,f=c.inputType,d=nue(e,l,t),h=d.continuousAxisChannelDef,p=d.continuousAxisChannelDef2,v=d.continuousAxisChannelDefError,m=d.continuousAxisChannelDefError2,g=d.continuousAxis,y=function(e,t,n,r,i,a,o,u){var s,c=[],l=[],f=t.field,d=!1;if("raw"===a){var h,p,v,m=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":u.errorbar.center,g=e.extent?e.extent:"mean"===m?"stderr":"iqr";if("median"===m!==("iqr"===g)&&xre(function(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}(m,g,o)),"stderr"===g||"stdev"===g)c=[{op:g,field:f,as:"extent_".concat(f)},{op:m,field:f,as:"center_".concat(f)}],l=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_".concat(f)},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_".concat(f)}],s=[{fieldPrefix:"center_",titlePrefix:eee(m)},{fieldPrefix:"upper_",titlePrefix:gue(m,g,"+")},{fieldPrefix:"lower_",titlePrefix:gue(m,g,"-")}],d=!0;else"ci"===g?(h="mean",p="ci0",v="ci1"):(h="median",p="q1",v="q3"),c=[{op:p,field:f,as:"lower_".concat(f)},{op:v,field:f,as:"upper_".concat(f)},{op:h,field:f,as:"center_".concat(f)}],s=[{fieldPrefix:"upper_",titlePrefix:hoe({field:f,aggregate:v,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:hoe({field:f,aggregate:p,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:hoe({field:f,aggregate:h,type:"quantitative"},u,{allowDisabling:!1})}]}else{(e.center||e.extent)&&xre(function(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}(e.center,e.extent)),"aggregated-upper-lower"===a?(s=[],l=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_".concat(f)},{calculate:'datum["'.concat(f,'"]'),as:"lower_".concat(f)}]):"aggregated-error"===a&&(s=[{fieldPrefix:"",titlePrefix:f}],l=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_".concat(f)}],i?l.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_".concat(f)}):l.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_".concat(f)}));var y,b=S(l);try{for(b.s();!(y=b.n()).done;){var x=y.value;s.push({fieldPrefix:x.as.substring(0,6),titlePrefix:aee(aee(x.calculate,'datum["',""),'"]',"")})}}catch(w){b.e(w)}finally{b.f()}}return{postAggregateCalculates:l,errorBarSpecificAggregate:c,tooltipSummary:s,tooltipTitleWithFieldName:d}}(s,h,p,v,m,f,t,n),b=y.errorBarSpecificAggregate,x=y.postAggregateCalculates,w=y.tooltipSummary,_=y.tooltipTitleWithFieldName,k=a,E=g,O=(k[E],"x"===g?"x2":"y2"),A=(k[O],"x"===g?"xError":"yError"),C=(k[A],"x"===g?"xError2":"yError2"),D=(k[C],$oe(fue(k,["symbol"===typeof E?E:E+"","symbol"===typeof O?O:O+"","symbol"===typeof A?A:A+"","symbol"===typeof C?C:C+""]),n)),j=D.bins,T=D.timeUnits,F=D.aggregate,P=D.groupby,M=D.encoding,N=[].concat(pu(F),pu(b)),R="raw"!==f?[]:P,I=Zoe(w,h,M,_);return{transform:[].concat(pu(null!==(r=u.transform)&&void 0!==r?r:[]),pu(j),pu(T),pu(0===N.length?[]:[{aggregate:N,groupby:R}]),pu(x)),groupby:R,continuousAxisChannelDef:h,continuousAxis:g,encodingWithoutContinuousAxis:M,ticksOrient:"vertical"===l?"horizontal":"vertical",markDef:s,outerSpec:u,tooltipEncoding:I}}function gue(e,t,n){return"".concat(eee(e)," ").concat(n," ").concat(t)}var yue="errorband",bue=new zoe(yue,xue);function xue(e,t){var n=t.config,r=mue(e=Object.assign(Object.assign({},e),{encoding:Goe(e.encoding,n)}),yue,n),i=r.transform,a=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.markDef,c=r.outerSpec,l=r.tooltipEncoding,f=s,d=eue(f,o,a,u,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y,p={type:h?"area":"rect"},v={type:h?"line":"rule"},m=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return h?(p=Object.assign(Object.assign(Object.assign({},p),m),{ariaRoleDescription:"errorband"}),v=Object.assign(Object.assign(Object.assign({},v),m),{aria:!1})):f.interpolate?xre(hre("interpolate")):f.tension&&xre(hre("tension")),Object.assign(Object.assign({},c),{transform:i,layer:[].concat(pu(d({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})),pu(d({partName:"borders",mark:v,positionPrefix:"lower",extraEncoding:l})),pu(d({partName:"borders",mark:v,positionPrefix:"upper",extraEncoding:l})))})}var wue={};function _ue(e,t,n){var r=new zoe(e,t);wue[e]={normalizer:r,parts:n}}_ue(oue,cue,["box","median","outliers","rule","ticks"]),_ue(due,pue,["ticks","rule"]),_ue(yue,xue,["band","borders"]);var kue=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Eue={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Oue={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Sue=G9(Eue),Aue=G9(Oue),Cue=G9({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Due=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],jue={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Tue=(G9(jue),"_vgsid_"),Fue={point:{on:"click",fields:[Tue],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Pue(e){return!!e&&("legend"===e||!!e.legend)}function Mue(e){return Pue(e)&&mk(e)}function Nue(e){return!!e.select}var Rue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Iue(e){var t,n=[],r=S(e||[]);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!Nue(i)){var a=i.expr,o=i.bind,u=Rue(i,["expr","bind"]);if(o&&a){var s=Object.assign(Object.assign({},u),{bind:o,init:a});n.push(s)}else{var c=Object.assign(Object.assign(Object.assign({},u),a?{update:a}:{}),o?{bind:o}:{});n.push(c)}}}}catch(l){r.e(l)}finally{r.f()}return n}function Bue(e){return"concat"in e}function zue(e){return"vconcat"in e}function Lue(e){return"hconcat"in e}function Uue(e){var t,n=e.step;return e.offsetIsDiscrete?null!==(t=n.for)&&void 0!==t?t:"offset":"position"}function que(e){return mk(e)&&void 0!==e.step}function Wue(e){return e.view||e.width||e.height}var Hue=G9({align:1,bounds:1,center:1,columns:1,spacing:1});var $ue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Vue(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function Gue(e,t){var n=Yue(e,t);return que(n)?n.step:Kue}function Yue(e,t){var n;return see(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var Kue=20;var Xue={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:Kue},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:sae,circle:{},geoshape:{},image:{},line:{},point:{},rect:cae,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Fue,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},Que=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Zue={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Jue={blue:Que[0],orange:Que[1],red:Que[2],teal:Que[3],green:Que[4],yellow:Que[5],purple:Que[6],pink:Que[7],brown:Que[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function ese(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:mk(e)?Object.assign(Object.assign({},Jue),e):Jue}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function tse(e){return{signals:[{name:"fontSize",value:mk(e)?Object.assign(Object.assign({},Zue),e):Zue}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function nse(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function rse(e){var t,n={},r=S(G9(e||{}));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e[i];n[i]=Toe(a)?hne(a):pne(a)}}catch(o){r.e(o)}finally{r.f()}return n}function ise(e){var t,n={},r=S(G9(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i]=rse(e[i])}}catch(a){r.e(a)}finally{r.f()}return n}var ase=[].concat(pu(aae),pu(Ioe),pu(Cue),["background","padding","legend","lineBreak","scale","style","title","view"]);function ose(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,r=e.fontSize,i=e.selection,a=$ue(e,["color","font","fontSize","selection"]),o=yk({},C9(Xue),n?nse(n):{},t?ese(t):{},r?tse(r):{},a||{});i&&bk(o,"selection",i,!0);for(var u=T9(o,ase),s=0,c=["background","lineBreak","padding"];s<c.length;s++){var l=c[s];o[l]&&(u[l]=pne(o[l]))}var f,d=S(aae);try{for(d.s();!(f=d.n()).done;){var h=f.value;o[h]&&(u[h]=nne(o[h]))}}catch(x){d.e(x)}finally{d.f()}var p,v=S(Ioe);try{for(v.s();!(p=v.n()).done;){var m=p.value;o[m]&&(u[m]=rse(o[m]))}}catch(x){v.e(x)}finally{v.f()}var g,y=S(Cue);try{for(y.s();!(g=y.n()).done;){var b=g.value;o[b]&&(u[b]=nne(o[b]))}}catch(x){y.e(x)}finally{y.f()}return o.legend&&(u.legend=nne(o.legend)),o.scale&&(u.scale=nne(o.scale)),o.style&&(u.style=ise(o.style)),o.title&&(u.title=nne(o.title)),o.view&&(u.view=nne(o.view)),u}var use=new Set(["view"].concat(pu(tae))),sse=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],cse=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function lse(e){e=C9(e);var t,n=S(sse);try{for(n.s();!(t=n.n()).done;){delete e[t.value]}}catch(k){n.e(k)}finally{n.f()}if(e.axis)for(var r in e.axis)Toe(e.axis[r])&&delete e.axis[r];if(e.legend){var i,a=S(kue);try{for(a.s();!(i=a.n()).done;){var o=i.value;delete e.legend[o]}}catch(k){a.e(k)}finally{a.f()}}if(e.mark){var u,s=S(iae);try{for(s.s();!(u=s.n()).done;){var c=u.value;delete e.mark[c]}}catch(k){s.e(k)}finally{s.f()}e.mark.tooltip&&mk(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Iue(e.params)),delete e.params);var l,f=S(use);try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=S(iae);try{for(p.s();!(d=p.n()).done;){var v=d.value;delete e[h][v]}}catch(k){p.e(k)}finally{p.f()}var m=cse[h];if(m){var g,y=S(m);try{for(y.s();!(g=y.n()).done;){var b=g.value;delete e[h][b]}}catch(k){y.e(k)}finally{y.f()}}fse(e,h)}}catch(k){f.e(k)}finally{f.f()}var x,w=S(G9(wue));try{for(w.s();!(x=w.n()).done;){delete e[x.value]}}catch(k){w.e(k)}finally{w.f()}for(var _ in function(e){var t=ine(e.title),n=t.titleMarkConfig,r=t.subtitleMarkConfig,i=t.subtitle;V9(n)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),n));V9(r)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),r));V9(i)?delete e.title:e.title=i}(e),e)mk(e[_])&&V9(e[_])&&delete e[_];return V9(e)?void 0:e}function fse(e,t,n,r){var i=r?e[t][r]:e[t];"view"===t&&(n="cell");var a=Object.assign(Object.assign({},i),e.style[null!==n&&void 0!==n?n:t]);V9(a)||(e.style[null!==n&&void 0!==n?n:t]=a),r||delete e[t]}function dse(e){return"layer"in e}function hse(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bp(e)););return e}function pse(){return pse="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hse(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pse.apply(this,arguments)}var vse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mse=function(){function e(){au(this,e)}return uu(e,[{key:"map",value:function(e,t){return Rae(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):Lue(e)?this.mapHConcat(e,t):zue(e)?this.mapVConcat(e,t):Bue(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(dse(e))return this.mapLayer(e,t);if(Boe(e))return this.mapUnit(e,t);throw new Error(Dne(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,i=vse(e,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),gse={zero:1,center:1,normalize:1};function yse(e){return e in gse}var bse=new Set([zie,Uie,Lie,Vie,Hie,Xie,Qie,Wie,Gie,Yie]),xse=new Set([Uie,Lie,zie]);function wse(e){return Vae(e)&&"quantitative"===Gae(e)&&!e.bin}function _se(e,t){var n,r,i="x"===t?"y":"radius",a=e[t],o=e[i];if(Vae(a)&&Vae(o))if(wse(a)&&wse(o)){if(a.stack)return t;if(o.stack)return i;var u=Vae(a)&&!!a.aggregate;if(u!==(Vae(o)&&!!o.aggregate))return u?t:i;var s=null===(n=a.scale)||void 0===n?void 0:n.type,c=null===(r=o.scale)||void 0===r?void 0:r.type;if(s&&"linear"!==s)return i;if(c&&"linear"!==c)return t}else{if(wse(a))return t;if(wse(o))return i}else{if(wse(a))return t;if(wse(o))return i}}function kse(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function Ese(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=nae(e)?e.type:e;if(!bse.has(a))return null;var o=_se(t,"x")||_se(t,"theta");if(!o)return null;var u=t[o],s=Vae(u)?ooe(u,{}):void 0,c=kse(o),l=[],f=new Set;if(t[c]){var d=t[c],h=Vae(d)?ooe(d,{}):void 0;h&&h!==s&&(l.push(c),f.add(h));var p="x"===c?"xOffset":"yOffset",v=t[p],m=Vae(v)?ooe(v,{}):void 0;m&&m!==s&&(l.push(p),f.add(m))}var g,y=_te.reduce((function(e,n){if("tooltip"!==n&&Uoe(t,n)){var r,i=S(Lk(t[n]));try{for(i.s();!(r=i.n()).done;){var a=yoe(r.value);if(!a.aggregate){var o=ooe(a,{});o&&f.has(o)||e.push({channel:n,fieldDef:a})}}}catch(u){i.e(u)}finally{i.f()}}return e}),[]);if(void 0!==u.stack?g=oE(u.stack)?u.stack?"zero":null:u.stack:xse.has(a)&&(g="zero"),!g||!yse(g))return null;if(Hoe(t)&&0===y.length)return null;if((null===(n=null===u||void 0===u?void 0:u.scale)||void 0===n?void 0:n.type)&&(null===(r=null===u||void 0===u?void 0:u.scale)||void 0===r?void 0:r.type)!==lie){if(i.disallowNonLinearStack)return null;xre(lre(u.scale.type))}return Qae(t[mte(o)])?(void 0!==u.stack&&xre(cre(o)),null):(Vae(u)&&u.aggregate&&!Gte.has(u.aggregate)&&xre(fre(u.aggregate)),{groupbyChannels:l,groupbyFields:f,fieldChannel:o,impute:null!==u.impute&&Jie(a),stackBy:y,offset:g})}var Ose=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Sse(e){e.point,e.line;var t=Ose(e,["point","line"]);return G9(t).length>1?t:t.type}function Ase(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),du({},r,T9(e[r],["point","line"]))))}return e}function Cse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?mk(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?mk(t.point)?t.point:{}:void 0}function Dse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var jse=function(){function e(){au(this,e),this.name="path-overlay"}return uu(e,[{key:"hasMatchingType",value:function(e,t){if(Boe(e)){var n=e.mark,r=e.encoding,i=nae(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!Cse(i,t[i.type],r);case"area":return!!Cse(i,t[i.type],r)||!!Dse(i,t[i.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,i=e.params,a=e.projection,o=e.mark,u=e.encoding,s=Ose(e,["params","projection","mark","encoding"]),c=Goe(u,r),l=nae(o)?o:{type:o},f=Cse(l,r[l.type],c),d="area"===l.type&&Dse(l,r[l.type]),h=[Object.assign(Object.assign({},i?{params:i}:{}),{mark:Sse(Object.assign(Object.assign({},"area"===l.type&&void 0===l.opacity&&void 0===l.fillOpacity?{opacity:.7}:{}),l)),encoding:T9(c,["shape"])})],p=Ese(l,c),v=c;if(p){var m=p.fieldChannel,g=p.offset;v=Object.assign(Object.assign({},c),du({},m,Object.assign(Object.assign({},c[m]),g?{stack:g}:{})))}return d&&h.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"line"},j9(l,["clip","interpolate","tension","tooltip"])),d),encoding:v})),f&&h.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},j9(l,["clip","tooltip"])),f),encoding:v})),n(Object.assign(Object.assign({},s),{layer:h}),Object.assign(Object.assign({},t),{config:Ase(r)}))}}]),e}(),Tse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Fse(e,t){return t?Mae(e)?Bse(e,t):Nse(e,t):e}function Pse(e,t){return t?Bse(e,t):e}function Mse(e,t,n){var r=t[e];return function(e){return e&&!fE(e)&&"repeat"in e}(r)?r.repeat in n?Object.assign(Object.assign({},t),du({},e,n[r.repeat])):void xre(function(e){return'Unknown repeated value "'.concat(e,'".')}(r.repeat)):t}function Nse(e,t){if(void 0!==(e=Mse("field",e,t))){if(null===e)return null;if(zae(e)&&Fae(e.sort)){var n=Mse("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function Rse(e,t){if(Vae(e))return Nse(e,t);var n=Mse("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function Ise(e,t){if(!Qae(e)){if($ae(e)){var n=Rse(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});e.condition;return Tse(e,["condition"])}return e}var r=Rse(e,t);return r||(Wae(e)?{condition:e.condition}:void 0)}function Bse(e,t){var n={};for(var r in e)if(eE(e,r)){var i=e[r];if(vk(i))n[r]=i.map((function(e){return Ise(e,t)})).filter((function(e){return e}));else{var a=Ise(i,t);void 0!==a&&(n[r]=a)}}return n}var zse=function(){function e(){au(this,e),this.name="RuleForRangedLine"}return uu(e,[{key:"hasMatchingType",value:function(e){if(Boe(e)){var t=e.encoding,n=e.mark;if("line"===n||nae(n)&&"line"===n.type){var r,i=S(dte);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t[pte(a)];if(t[a]&&(Vae(o)&&!Qte(o.bin)||Yae(o)))return!0}}catch(u){i.e(u)}finally{i.f()}}}return!1}},{key:"run",value:function(e,t,n){var r,i,a=e.encoding,o=e.mark;return xre((r=!!a.x2,i=!!a.y2,"Line mark is for continuous lines and thus cannot be used with ".concat(r&&i?"x2 and y2":r?"x2":"y2",". We will use the rule mark (line segments) instead."))),n(Object.assign(Object.assign({},e),{mark:mk(o)?Object.assign(Object.assign({},o),{type:"rule"}):"rule"}),t)}}]),e}(),Lse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Use=function(e){Ip(n,e);var t=qp(n);function n(){var e;return au(this,n),(e=t.apply(this,arguments)).nonFacetUnitNormalizers=[uue,hue,bue,new jse,new zse],e}return uu(n,[{key:"map",value:function(e,t){if(Boe(e)){var r=Uoe(e.encoding,gee),i=Uoe(e.encoding,yee),a=Uoe(e.encoding,bee);if(r||i||a)return this.mapFacetedUnit(e,t)}return pse(Bp(n.prototype),"map",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection,i=Pse(e.encoding,t.repeater),a=Object.assign(Object.assign({},e),i?{encoding:i}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(a,t);var o,u=this.mapLayerOrUnit.bind(this),s=S(this.nonFacetUnitNormalizers);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c.hasMatchingType(a,t.config))return c.run(a,t,u)}}catch(l){s.e(l)}finally{s.f()}return a}},{key:"mapRepeat",value:function(e,t){return function(e){return!vk(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,r=e.repeat,i=e.spec,a=Lse(e,["repeat","spec"]),o=r.row,u=r.column,s=r.layer,c=t.repeater,l=void 0===c?{}:c,f=t.repeaterPrefix,d=void 0===f?"":f;return o||u?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),u?{column:u}:{}),spec:{repeat:{layer:s},spec:i}}),t):Object.assign(Object.assign({},a),{layer:s.map((function(e){var r=Object.assign(Object.assign({},l),{layer:e}),a="".concat((i.name||"")+d,"child__layer_").concat(Q9(e)),o=n.mapLayerOrUnit(i,Object.assign(Object.assign({},t),{repeater:r,repeaterPrefix:a}));return o.name=a,o}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,r=e,i=r.repeat,a=r.spec,o=r.data,u=Lse(e,["repeat","spec","data"]);!vk(i)&&e.columns&&(e=T9(e,["columns"]),xre(zne("repeat")));var s,c=[],l=t.repeater,f=void 0===l?{}:l,d=t.repeaterPrefix,h=void 0===d?"":d,p=!vk(i)&&i.row||[f?f.row:null],v=!vk(i)&&i.column||[f?f.column:null],m=S(vk(i)&&i||[f?f.repeat:null]);try{for(m.s();!(s=m.n()).done;){var g,y=s.value,b=S(p);try{for(b.s();!(g=b.n()).done;){var x,w=g.value,_=S(v);try{for(_.s();!(x=_.n()).done;){var k=x.value,E={repeat:y,row:w,column:k,layer:f.layer},O=(a.name||"")+h+"child__"+(vk(i)?"".concat(Q9(y)):(i.row?"row_".concat(Q9(w)):"")+(i.column?"column_".concat(Q9(k)):"")),A=this.map(a,Object.assign(Object.assign({},t),{repeater:E,repeaterPrefix:O}));A.name=O,c.push(T9(A,["data"]))}}catch(D){_.e(D)}finally{_.f()}}}catch(D){b.e(D)}finally{b.f()}}}catch(D){m.e(D)}finally{m.f()}var C=vk(i)?e.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:null!==(n=a.data)&&void 0!==n?n:o,align:"all"},u),{columns:C,concat:c})}},{key:"mapFacet",value:function(e,t){return Mae(e.facet)&&e.columns&&(e=T9(e,["columns"]),xre(zne("facet"))),pse(Bp(n.prototype),"mapFacet",this).call(this,e,t)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,i=t.parentEncoding,a=t.parentProjection,o=t.config,u=Wse({parentProjection:a,projection:r}),s=qse({parentEncoding:i,encoding:Pse(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),u?{projection:u}:{}),s?{encoding:s}:{}),{config:o})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,i=n.column,a=n.facet,o=Lse(n,["row","column","facet"]),u=e.mark,s=e.width,c=e.projection,l=e.height,f=e.view,d=e.params,h=(e.encoding,Lse(e,["mark","width","projection","height","view","params","encoding"])),p=this.getFacetMappingAndLayout({row:r,column:i,facet:a},t),v=p.facetMapping,m=p.layout,g=Pse(o,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),m),{facet:v,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{width:s}:{}),l?{height:l}:{}),f?{view:f}:{}),c?{projection:c}:{}),{mark:u,encoding:g}),d?{params:d}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,r=e.row,i=e.column,a=e.facet;if(r||i){a&&xre((m=[].concat(pu(r?[gee]:[]),pu(i?[yee]:[])),"Facet encoding dropped as ".concat(m.join(" and ")," ").concat(m.length>1?"are":"is"," also specified.")));for(var o={},u={},s=0,c=[gee,yee];s<c.length;s++){var l=c[s],f=e[l];if(f){f.align,f.center,f.spacing,f.columns;var d=Lse(f,["align","center","spacing","columns"]);o[l]=d;for(var h=0,p=["align","center","spacing"];h<p.length;h++){var v=p[h];void 0!==f[v]&&(null!==(n=u[v])&&void 0!==n||(u[v]={}),u[v][l]=f[v])}}}return{facetMapping:o,layout:u}}var m,g=a.align,y=a.center,b=a.spacing,x=a.columns;return{facetMapping:Fse(Lse(a,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},g?{align:g}:{}),y?{center:y}:{}),b?{spacing:b}:{}),x?{columns:x}:{})}}},{key:"mapLayer",value:function(e,t){var r=t.parentEncoding,i=t.parentProjection,a=Lse(t,["parentEncoding","parentProjection"]),o=e.encoding,u=e.projection,s=Lse(e,["encoding","projection"]),c=Object.assign(Object.assign({},a),{parentEncoding:qse({parentEncoding:r,encoding:o,layer:!0}),parentProjection:Wse({parentProjection:i,projection:u})});return pse(Bp(n.prototype),"mapLayer",this).call(this,s,c)}}]),n}(mse);function qse(e){var t=e.parentEncoding,n=e.encoding,r=void 0===n?{}:n,i=e.layer,a={};if(t){var o,u=S(new Set([].concat(pu(G9(t)),pu(G9(r)))));try{for(u.s();!(o=u.n()).done;){var s=o.value,c=r[s],l=t[s];if(Qae(c)){var f=Object.assign(Object.assign({},l),c);a[s]=f}else $ae(c)?a[s]=Object.assign(Object.assign({},c),{condition:Object.assign(Object.assign({},l),c.condition)}):c||null===c?a[s]=c:(i||Jae(l)||one(l)||Qae(l)||vk(l))&&(a[s]=l)}}catch(d){u.e(d)}finally{u.f()}}else a=r;return!a||V9(a)?void 0:a}function Wse(e){var t=e.parentProjection,n=e.projection;return t&&n&&xre(function(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(F9(t)," is overridden by a child projection ").concat(F9(n),".")}({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function Hse(e){return"filter"in e}function $se(e){return void 0!==(null===e||void 0===e?void 0:e.stop)}function Vse(e){return"lookup"in e}function Gse(e){return"pivot"in e}function Yse(e){return"density"in e}function Kse(e){return"quantile"in e}function Xse(e){return"regression"in e}function Qse(e){return"loess"in e}function Zse(e){return"sample"in e}function Jse(e){return"window"in e}function ece(e){return"joinaggregate"in e}function tce(e){return"flatten"in e}function nce(e){return"calculate"in e}function rce(e){return"bin"in e}function ice(e){return"impute"in e}function ace(e){return"timeUnit"in e}function oce(e){return"aggregate"in e}function uce(e){return"stack"in e}function sce(e){return"fold"in e}var cce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lce=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"map",value:function(e,t){var r,i;return null!==(r=t.emptySelections)&&void 0!==r||(t.emptySelections={}),null!==(i=t.selectionPredicates)&&void 0!==i||(t.selectionPredicates={}),e=fce(e,t),pse(Bp(n.prototype),"map",this).call(this,e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if((e=fce(e,t)).encoding){var r,i={},a=S(K9(e.encoding));try{for(a.s();!(r=a.n()).done;){var o=D(r.value,2),u=o[0],s=o[1];i[u]=dce(s,t)}}catch(c){a.e(c)}finally{a.f()}e=Object.assign(Object.assign({},e),{encoding:i})}return pse(Bp(n.prototype),"mapLayerOrUnit",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=e,r=n.selection,i=cce(n,["selection"]);return r?Object.assign(Object.assign({},i),{params:K9(r).map((function(e){var n,r=D(e,2),i=r[0],a=r[1],o=a.init,u=a.bind,s=a.empty,c=cce(a,["init","bind","empty"]);"single"===c.type?(c.type="point",c.toggle=!1):"multi"===c.type&&(c.type="point"),t.emptySelections[i]="none"!==s;var l,f=S(Y9(null!==(n=t.selectionPredicates[i])&&void 0!==n?n:{}));try{for(f.s();!(l=f.n()).done;){l.value.empty="none"!==s}}catch(d){f.e(d)}finally{f.f()}return{name:i,value:o,select:c,bind:u}}))}):e}}]),n}(mse);function fce(e,t){var n=e.transform,r=cce(e,["transform"]);if(n){var i=n.map((function(e){if(Hse(e))return{filter:pce(e,t)};if(rce(e)&&Zte(e.bin))return Object.assign(Object.assign({},e),{bin:hce(e.bin)});if(Vse(e)){var n=e.from,r=n.selection,i=cce(n,["selection"]);return r?Object.assign(Object.assign({},e),{from:Object.assign({param:r},i)}):e}return e}));return Object.assign(Object.assign({},r),{transform:i})}return e}function dce(e,t){var n,r,i=C9(e);if(Vae(i)&&Zte(i.bin)&&(i.bin=hce(i.bin)),eoe(i)&&(null===(r=null===(n=i.scale)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.selection)){var a=i.scale.domain,o=a.selection,u=cce(a,["selection"]);i.scale.domain=Object.assign(Object.assign({},u),o?{param:o}:{})}if(Wae(i))if(vk(i.condition))i.condition=i.condition.map((function(e){e.selection;var n=e.param,r=(e.test,cce(e,["selection","param","test"]));return n?e:Object.assign(Object.assign({},r),{test:pce(e,t)})}));else{var s=dce(i.condition,t),c=(s.selection,s.param),l=(s.test,cce(s,["selection","param","test"]));i.condition=c?i.condition:Object.assign(Object.assign({},l),{test:pce(i.condition,t)})}return i}function hce(e){var t=e.extent;if(null===t||void 0===t?void 0:t.selection){var n=t.selection,r=cce(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},r),{param:n})})}return e}function pce(e,t){var n=function(e){return S9(e,(function(e){var n,r,i,a={param:e,empty:null===(n=t.emptySelections[e])||void 0===n||n};return null!==(r=(i=t.selectionPredicates)[e])&&void 0!==r||(i[e]=[]),t.selectionPredicates[e].push(a),a}))};return e.selection?n(e.selection):S9(e.test||e.filter,(function(e){return e.selection?n(e.selection):e}))}for(var vce=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"map",value:function(e,t){var r,i=null!==(r=t.selections)&&void 0!==r?r:[];if(e.params&&!Boe(e)){var a,o=[],u=S(e.params);try{for(u.s();!(a=u.n()).done;){var s=a.value;Nue(s)?i.push(s):o.push(s)}}catch(c){u.e(c)}finally{u.f()}e.params=o}return t.selections=i,pse(Bp(n.prototype),"map",this).call(this,e,bce(e,t))}},{key:"mapUnit",value:function(e,t){var n,r=t.selections;if(!r||!r.length)return e;var i,a=(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name),o=[],u=S(r);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(s.views&&s.views.length){var c,l=S(s.views);try{for(l.s();!(c=l.n()).done;){var f=c.value;(fE(f)&&(f===e.name||a.indexOf(f)>=0)||vk(f)&&f.map((function(e){return a.indexOf(e)})).every((function(e,t,n){return-1!==e&&(0===t||e>n[t-1])})))&&o.push(s)}}catch(d){l.e(d)}finally{l.f()}}else o.push(s)}}catch(d){u.e(d)}finally{u.f()}return o.length&&(e.params=o),e}}]),n}(mse),mce=function(){var e=yce[gce],t=vce.prototype[e];vce.prototype[e]=function(e,n){return t.call(this,e,bce(e,n))}},gce=0,yce=["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"];gce<yce.length;gce++)mce();function bce(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name)}):t}function xce(e,t){void 0===t&&(t=ose(e.config));var n=function(e){var t={config:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return kce.map(wce.map(_ce.map(e,t),t),t)}(e,t),r=function(e,t,n){var r=t.width,i=t.height,a=Boe(e)||dse(e),o={};a?"container"==r&&"container"==i?(o.type="fit",o.contains="padding"):"container"==r?(o.type="fit-x",o.contains="padding"):"container"==i&&(o.type="fit-y",o.contains="padding"):("container"==r&&(xre(Tne("width")),r=void 0),"container"==i&&(xre(Tne("height")),i=void 0));var u=Object.assign(Object.assign(Object.assign({type:"pad"},o),n?Ece(n.autosize):{}),Ece(e.autosize));"fit"!==u.type||a||(xre(jne),u.type="pad");"container"==r&&"fit"!=u.type&&"fit-x"!=u.type&&xre(Fne("width"));"container"==i&&"fit"!=u.type&&"fit-y"!=u.type&&xre(Fne("height"));if(A9(u,{type:"pad"}))return;return u}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var wce=new Use,_ce=new lce,kce=new vce;function Ece(e){return fE(e)?{type:e}:null!==e&&void 0!==e?e:{}}var Oce=["background","padding"];function Sce(e,t){var n,r={},i=S(Oce);try{for(i.s();!(n=i.n()).done;){var a=n.value;e&&void 0!==e[a]&&(r[a]=pne(e[a]))}}catch(o){i.e(o)}finally{i.f()}return t&&(r.params=e.params),r}var Ace=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};au(this,e),this.explicit=t,this.implicit=n}return uu(e,[{key:"clone",value:function(){return new e(C9(this.explicit),C9(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return see(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){var n=t.value,r=t.explicit;void 0!==n&&this.set(e,n,r)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){var n=t.explicit,r=t.implicit;void 0!==n[e]?this.set(e,n[e],!0):void 0!==r[e]&&this.set(e,r[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t,n=S(G9(e.combine()));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=e.getWithExplicit(r);this.setWithExplicit(r,i)}}catch(a){n.e(a)}finally{n.f()}}}]),e}();function Cce(e){return{explicit:!0,value:e}}function Dce(e){return{explicit:!1,value:e}}function jce(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:Tce(t,n,r,i)}}function Tce(e,t,n,r){return e.explicit&&t.explicit&&xre(function(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(F9(n)," and ").concat(F9(r),"). Using ").concat(F9(n),".")}(n,r,e.value,t.value)),e}function Fce(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Tce;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:A9(e.value,t.value)?e:i(e,t,n,r)}var Pce,Mce=function(e){Ip(n,e);var t=qp(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return au(this,n),(e=t.call(this,r,i)).explicit=r,e.implicit=i,e.parseNothing=a,e}return uu(n,[{key:"clone",value:function(){var e=pse(Bp(n.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),n}(Ace);function Nce(e){return"url"in e}function Rce(e){return"values"in e}function Ice(e){return"name"in e&&!Nce(e)&&!Rce(e)&&!Bce(e)}function Bce(e){return e&&(zce(e)||Lce(e)||Uce(e))}function zce(e){return"sequence"in e}function Lce(e){return"sphere"in e}function Uce(e){return"graticule"in e}!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(Pce||(Pce={}));var qce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Wce(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rk;if(vk(e)){var r=e.map((function(e){return Wce(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return wre(e)?n(t?Are(e):Dre(e)):t?n(F9(e)):e}function Hce(e,t){var n,r,i=S(Y9(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var a,o=r.value,u=S(ofe);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.defined(o)&&s.marks&&(t=s.marks(e,o,t))}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return t}function $ce(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var Vce=function(){function e(t,n){au(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return uu(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.includes(e)?xre("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e,t=this._parent.removeChild(this),n=S(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;r._parent=this._parent,this._parent.addChild(r,t++)}}catch(i){n.e(i)}finally{n.f()}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e,t=this._parent,n=t.parent,r=S(this._children);try{for(r.s();!(e=r.n()).done;){e.value.parent=t}}catch(i){r.e(i)}finally{r.f()}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}}]),e}(),Gce=function(e){Ip(n,e);var t=qp(n);function n(e,r,i,a){var o;return au(this,n),(o=t.call(this,e,r)).type=i,o.refCounts=a,o._source=o._name=r,o.refCounts&&!(o._name in o.refCounts)&&(o.refCounts[o._name]=0),o}return uu(n,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_".concat(this.debugName),e._source=this._source,e._name="clone_".concat(this._name),e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(lee())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),n}(Vce),Yce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Kce=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).formula=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]||(this.formula[t]=e.formula[t]);var n,r=S(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeChild(i),i.parent=this}}catch(a){r.e(a)}finally{r.f()}e.remove()}},{key:"removeFormulas",value:function(e){var t,n={},r=S(K9(this.formula));try{for(r.s();!(t=r.n()).done;){var i=D(t.value,2),a=i[0],o=i[1];e.has(o.as)||(n[a]=o)}}catch(u){r.e(u)}finally{r.f()}this.formula=n}},{key:"producedFields",value:function(){return new Set(Y9(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(Y9(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(P9(this.formula))}},{key:"assemble",value:function(){var e,t=[],n=S(Y9(this.formula));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.field,a=r.as,o=zre(r.timeUnit),u=o.unit,s=o.utc,c=Yce(o,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:iee(i),type:"timeunit"},u?{units:Nre(u)}:{}),s?{timezone:"utc"}:{}),c),{as:[a,"".concat(a,"_end")]}))}}catch(l){n.e(l)}finally{n.f()}return t}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,t){var n=t.field,r=t.timeUnit;if(r){var i=ooe(t,{forAs:!0});e[P9({as:i,field:n,timeUnit:r})]={as:i,field:n,timeUnit:r}}return e}),{});return V9(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t){var r=Object.assign({},t),i=r.timeUnit,a=Yce(r,["timeUnit"]),o=zre(i),u=Object.assign(Object.assign({},a),{timeUnit:o});return new n(e,du({},P9(u),u))}}]),n}(Vce),Xce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Qce="_tuple_fields",Zce=uu((function e(){au(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}})),Jce={defined:function(){return!0},parse:function(e,t,n){var r,i=t.name,a=null!==(r=t.project)&&void 0!==r?r:t.project=new Zce,o={},u={},s=new Set,c=function(e,t){for(var n="visual"===t?e.channel:e.field,r=Q9("".concat(i,"_").concat(n)),a=1;s.has(r);a++)r=Q9("".concat(i,"_").concat(n,"_").concat(a));return s.add(r),du({},t,r)},l=t.type,f=e.config.selection[l],d=void 0!==n.value?Lk(n.value):null,h=mk(n.select)?n.select:{},p=h.fields,v=h.encodings;if(!p&&!v&&d){var m,g=S(d);try{for(g.s();!(m=g.n()).done;){var y=m.value;if(mk(y)){var b,x=S(G9(y));try{for(x.s();!(b=x.n()).done;){var w=b.value;lte[w]?(v||(v=[])).push(w):"interval"===l?(xre('Interval selections should be initialized using "x" and/or "y" keys.'),v=f.encodings):(p||(p=[])).push(w)}}catch(N){x.e(N)}finally{x.f()}}}}catch(N){g.e(N)}finally{g.f()}}p||v||(v=f.encodings,"fields"in f&&(p=f.fields));var _,k=S(null!==v&&void 0!==v?v:[]);try{for(k.s();!(_=k.n()).done;){var E=_.value,O=e.fieldDef(E);if(O){var A=O.field;if(O.aggregate){xre(Rne(E,O.aggregate));continue}if(!A){xre(Nne(E));continue}if(O.timeUnit){A=e.vgField(E);var C={timeUnit:O.timeUnit,as:A,field:O.field};u[P9(C)]=C}if(!o[A]){var D="E";if("interval"===l)Aie(e.getScaleComponent(E).get("type"))&&(D="R");else O.bin&&(D="R-RE");var j={field:A,channel:E,type:D};j.signals=Object.assign(Object.assign({},c(j,"data")),c(j,"visual")),a.items.push(o[A]=j),a.hasField[A]=a.hasChannel[E]=o[A]}}else xre(Nne(E))}}catch(N){k.e(N)}finally{k.f()}var T,F=S(null!==p&&void 0!==p?p:[]);try{for(F.s();!(T=F.n()).done;){var P=T.value;if(!a.hasField[P]){var M={type:"E",field:P};M.signals=Object.assign({},c(M,"data")),a.items.push(M),a.hasField[P]=M}}}catch(N){F.e(N)}finally{F.f()}d&&(t.init=d.map((function(e){return a.items.map((function(t){return mk(e)?void 0!==e[t.channel]?e[t.channel]:e[t.field]:e}))}))),V9(u)||(a.timeUnit=new Kce(null,u))},signals:function(e,t,n){var r=t.name+Qce,i=n.filter((function(e){return e.name===r}));return i.length>0?n:n.concat({name:r,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=Xce(e,["signals","hasLegend"]);return t.field=iee(t.field),t}))})}},ele=Jce,tle={defined:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n,r=t.scales=[],i=S(t.project.items);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.channel;if(Nte(o)){var u=e.getScaleComponent(o),s=u?u.get("type"):void 0;u&&Aie(s)?(u.set("selectionExtent",{param:t.name,field:a.field},!0),r.push(a)):xre("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}}catch(c){i.e(c)}finally{i.f()}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||ile(e)||0===r.length)return n;var i=n.filter((function(e){return e.name===t.name}))[0],a=i.update;if(a.indexOf(afe)>=0)i.update="{".concat(r.map((function(e){return"".concat(bE(iee(e.field)),": ").concat(e.signals.data)})).join(", "),"}");else{var o,u=S(r);try{for(u.s();!(o=u.n()).done;){var s=o.value,c="".concat(bE(iee(s.field)),": ").concat(s.signals.data);a.includes(c)||(a="".concat(a.substring(0,a.length-1),", ").concat(c,"}"))}}catch(l){u.e(l)}finally{u.f()}i.update=a}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!ile(e)){var r,i=S(t.scales);try{var a=function(){var e=r.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}return n}},nle=tle;function rle(e,t){var n=bE(e.scaleName(t));return"domain(".concat(n,")")}function ile(e){var t;return e.parent&&npe(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:ile(e.parent.parent))}var ale=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ole="_brush",ule="_scale_trigger",sle={defined:function(e){return"interval"===e.type},signals:function(e,t,n){var r=t.name,i=r+Qce,a=nle.defined(t),o=t.init?t.init[0]:null,u=[],s=[];if(t.translate&&!a){var c="!event.item || event.item.mark.name !== ".concat(bE(r+ole));lle(t,(function(e,t){var n,r,i=Lk(null!==(n=(r=t.between[0]).filter)&&void 0!==n?n:r.filter=[]);return i.includes(c)||i.push(c),e}))}t.project.items.forEach((function(r,i){var a=r.channel;if(a===xee||a===wee){var c=o?o[i]:null,l=function(e,t,n,r){var i=n.channel,a=n.signals.visual,o=n.signals.data,u=nle.defined(t),s=bE(e.scaleName(i)),c=e.getScaleComponent(i),l=c?c.get("type"):void 0,f=function(e){return"scale(".concat(s,", ").concat(e,")")},d=e.getSizeSignalRef(i===xee?"width":"height").signal,h="".concat(i,"(unit)"),p=lle(t,(function(e,t){return[].concat(pu(e),[{events:t.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:t,update:"[".concat(a,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return p.push({events:{signal:t.name+ule},update:Aie(l)?"[".concat(f("".concat(o,"[0]")),", ").concat(f("".concat(o,"[1]")),"]"):"[0, 0]"}),u?[{name:o,on:[]}]:[Object.assign(Object.assign({name:a},r?{init:Wce(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:o},r?{init:Wce(r)}:{}),{on:[{events:{signal:a},update:"".concat(a,"[0] === ").concat(a,"[1] ? null : invert(").concat(s,", ").concat(a,")")}]})]}(e,t,r,c),f=r.signals.data,d=r.signals.visual,h=bE(e.scaleName(a)),p=Aie(e.getScaleComponent(a).get("type"))?"+":"";n.push.apply(n,pu(l)),u.push(f),s.push({scaleName:e.scaleName(a),expr:"(!isArray(".concat(f,") || ")+"(".concat(p,"invert(").concat(h,", ").concat(d,")[0] === ").concat(p).concat(f,"[0] && ")+"".concat(p,"invert(").concat(h,", ").concat(d,")[1] === ").concat(p).concat(f,"[1]))")})}else xre("Interval selections only support x and y encoding channels.")})),!a&&s.length&&n.push({name:r+ule,value:{},on:[{events:s.map((function(e){return{scale:e.scaleName}})),update:"".concat(s.map((function(e){return e.expr})).join(" && ")," ? ").concat(r+ule," : {}")}]});var l="unit: ".concat(sfe(e),", fields: ").concat(i,", values");return n.concat(Object.assign(Object.assign({name:r+rfe},o?{init:"{".concat(l,": ").concat(Wce(o),"}")}:{}),u.length?{on:[{events:[{signal:u.join(" || ")}],update:"".concat(u.join(" && ")," ? {").concat(l,": [").concat(u,"]} : null")}]}:{}))},marks:function(e,t,n){var r=t.name,i=t.project.hasChannel,a=i.x,o=i.y,u=null===a||void 0===a?void 0:a.signals.visual,s=null===o||void 0===o?void 0:o.signals.visual,c="data(".concat(bE(t.name+nfe),")");if(nle.defined(t)||!a&&!o)return n;var l={x:void 0!==a?{signal:"".concat(u,"[0]")}:{value:0},y:void 0!==o?{signal:"".concat(s,"[0]")}:{value:0},x2:void 0!==a?{signal:"".concat(u,"[1]")}:{field:{group:"width"}},y2:void 0!==o?{signal:"".concat(s,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f,d=S(G9(l));try{for(d.s();!(f=d.n()).done;){var h=f.value;l[h]=[Object.assign({test:"".concat(c,".length && ").concat(c,"[0].unit === ").concat(sfe(e))},l[h]),{value:0}]}}catch(x){d.e(x)}finally{d.f()}}var p=t.mark,v=p.fill,m=p.fillOpacity,g=p.cursor,y=ale(p,["fill","fillOpacity","cursor"]),b=G9(y).reduce((function(e,t){return e[t]=[{test:[void 0!==a&&"".concat(u,"[0] !== ").concat(u,"[1]"),void 0!==o&&"".concat(s,"[0] !== ").concat(s,"[1]")].filter((function(e){return e})).join(" && "),value:y[t]},{value:null}],e}),{});return[{name:"".concat(r+ole,"_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:v},fillOpacity:{value:m}},update:l}}].concat(pu(n),[{name:r+ole,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},g?{cursor:{value:g}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},l),b)}}])}},cle=sle;function lle(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(xre("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}var fle={defined:function(e){return"point"===e.type},signals:function(e,t,n){var r,i=t.name,a=i+Qce,o=t.project,u="(item().isVoronoi ? datum.datum : datum)",s=o.items.map((function(t){var n=e.fieldDef(t.channel);return(null===n||void 0===n?void 0:n.bin)?"[".concat(u,"[").concat(bE(e.vgField(t.channel,{})),"], ")+"".concat(u,"[").concat(bE(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(u,"[").concat(bE(t.field),"]")})).join(", "),c="unit: ".concat(sfe(e),", fields: ").concat(a,", values"),l=t.events,f=Y9(null!==(r=e.component.selection)&&void 0!==r?r:{}).reduce((function(e,t){return"interval"===t.type?e.concat(t.name+ole):e}),[]).map((function(e){return"indexof(item().mark.name, '".concat(e,"') < 0")})).join(" && "),d="datum && item().mark.marktype !== 'group'".concat(f?" && ".concat(f):"");return n.concat([{name:i+rfe,on:l?[{events:l,update:"".concat(d," ? {").concat(c,": [").concat(s,"]} : null"),force:!0}]:[]}])}},dle=fle;function hle(e,t,n,r){var i=Wae(t)&&t.condition,a=r(t);if(i){var o=Lk(i).map((function(t){var n=r(t);if(function(e){return e.param}(t)){var i=t.param,a=t.empty,o=vfe(e,{param:i,empty:a});return Object.assign({test:o},n)}var u=gfe(e,t.test);return Object.assign({test:u},n)}));return du({},n,[].concat(pu(o),pu(void 0!==a?[a]:[])))}return void 0!==a?du({},n,a):{}}function ple(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return hle(e,n,t,(function(t){return vle(t,e.config)}))}function vle(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(Jae(e))return mne(e.value);if(Qae(e)){var r=moe(e),i=r.format,a=r.formatType;return bae({fieldOrDatumDef:e,format:i,formatType:a,expr:n,config:t})}}}function mle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,i=e.config,a=e.stack,o=n.tooltip;if(vk(o))return{tooltip:yle({tooltip:o},a,i,t)};var u=t.reactiveGeom?"datum.datum":"datum";return hle(e,o,"tooltip",(function(e){var o=vle(e,i,u);if(o)return o;if(null!==e){var s=wne("tooltip",r,i);return!0===s&&(s={content:"encoding"}),fE(s)?{value:s}:mk(s)?one(s)?s:"encoding"===s.content?yle(n,a,i,t):{signal:u}:void 0}}))}function gle(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,a={},o=i?"datum.datum":"datum",u=[];function s(r,i){var s,c=pte(i),l=Zae(r)?r:Object.assign(Object.assign({},r),{type:e[c].type}),f=Lk(l.title||voe(l,n)).join(", ");if(Ote(i)){var d="x"===i?"x2":"y2",h=yoe(e[d]);if(Qte(l.bin)&&h){var p=ooe(l,{expr:o}),v=ooe(h,{expr:o}),m=moe(l);s=Aae(p,v,m.format,m.formatType,n),a[d]=!0}else if(t&&t.fieldChannel===i&&"normalize"===t.offset){var g=moe(l);s=bae({fieldOrDatumDef:l,format:g.format,formatType:g.formatType,expr:o,config:n,normalizeStack:!0}).signal}}null!==s&&void 0!==s||(s=vle(l,n,o).signal),u.push({channel:i,key:f,value:s})}Koe(e,(function(e,t){Vae(e)?s(e,t):Hae(e)&&s(e.condition,t)}));for(var c={},l=0,f=u;l<f.length;l++){var d=f[l],h=d.channel,p=d.key,v=d.value;a[h]||c[p]||(c[p]=v)}return c}function yle(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,a=gle(e,t,n,{reactiveGeom:i}),o=K9(a).map((function(e){var t=D(e,2),n=t[0],r=t[1];return'"'.concat(n,'": ').concat(r)}));return o.length>0?{signal:"{".concat(o.join(", "),"}")}:void 0}function ble(e){var t=wne("aria",e.markDef,e.config);return!1===t?{}:Object.assign(Object.assign(Object.assign({},t?{aria:t}:{}),function(e){var t=e.mark,n=e.markDef,r=e.config;if(!1===r.aria)return{};var i=wne("ariaRoleDescription",n,r);if(null!=i)return{ariaRoleDescription:{value:i}};return t in lne?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){var t=e.encoding,n=e.markDef,r=e.config,i=e.stack,a=t.description;if(a)return hle(e,a,"description",(function(t){return vle(t,e.config)}));var o=wne("description",n,r);if(null!=o)return{description:mne(o)};if(!1===r.aria)return{};var u=gle(t,i,r);if(V9(u))return;return{description:{signal:K9(u).map((function(e,t){var n=D(e,2),r=n[0],i=n[1];return'"'.concat(t>0?"; ":"").concat(r,': " + (').concat(i,")")})).join(" + ")}}}(e))}function xle(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,i=t.encoding,a=t.config,o=n.vgChannel,u=n.defaultRef,s=n.defaultValue;void 0===u&&(null!==s&&void 0!==s||(s=wne(e,r,a,{vgChannel:o,ignoreVgConfig:!0})),void 0!==s&&(u=mne(s)));var c=i[e];return hle(t,c,null!==o&&void 0!==o?o:e,(function(n){return vae({channel:e,channelDef:n,markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u})}))}function wle(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},o=e.markDef,u=e.encoding,s=e.config,c=o.type,l=null!==(t=a.filled)&&void 0!==t?t:wne("filled",o,s),f=N9(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,d=null!==(r=null!==(n=wne(!0===l?"color":void 0,o,s,{vgChannel:"fill"}))&&void 0!==n?n:s.mark[!0===l&&"color"])&&void 0!==r?r:f,h=null!==(i=wne(!1===l?"color":void 0,o,s,{vgChannel:"stroke"}))&&void 0!==i?i:s.mark[!1===l&&"color"],p=l?"fill":"stroke",v=Object.assign(Object.assign({},d?{fill:mne(d)}:{}),h?{stroke:mne(h)}:{});return o.color&&(l?o.fill:o.stroke)&&xre(Gne("property",{fill:"fill"in o,stroke:"stroke"in o})),Object.assign(Object.assign(Object.assign(Object.assign({},v),xle("color",e,{vgChannel:p,defaultValue:l?d:h})),xle("fill",e,{defaultValue:u.fill?d:void 0})),xle("stroke",e,{defaultValue:u.stroke?h:void 0}))}function _le(e){var t=e.channel,n=e.markDef,r=e.encoding,i=void 0===r?{}:r,a=e.model,o=e.bandPosition,u="".concat(t,"Offset"),s=n[u],c=i[u];if(("xOffset"===u||"yOffset"===u)&&c)return{offsetType:"encoding",offset:vae({channel:u,channelDef:c,markDef:n,config:null===a||void 0===a?void 0:a.config,scaleName:a.scaleName(u),scale:a.getScaleComponent(u),stack:null,defaultRef:mne(s),bandPosition:o})};var l=n[u];return l?{offsetType:"visual",offset:l}:{}}function kle(e,t,n){var r=n.defaultPos,i=n.vgChannel,a=t.encoding,o=t.markDef,u=t.config,s=t.stack,c=a[e],l=a[mte(e)],f=t.scaleName(e),d=t.getScaleComponent(e),h=_le({channel:e,markDef:o,encoding:a,model:t,bandPosition:.5}),p=h.offset,v=h.offsetType,m=Ele({model:t,defaultPos:r,channel:e,scaleName:f,scale:d}),g=!c&&Ote(e)&&(a.latitude||a.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,r=e.scaleName,i=e.stack,a=e.offset,o=e.markDef;if(Qae(n)&&i&&t===i.fieldChannel){if(Vae(n)){var u=n.bandPosition;if(void 0!==u||"text"!==o.type||"radius"!==t&&"theta"!==t||(u=.5),void 0!==u)return pae({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:u,offset:a})}return hae(n,r,{suffix:"end"},{offset:a})}return lae(e)}({channel:e,channelDef:c,channel2Def:l,markDef:o,config:u,scaleName:f,scale:d,stack:s,offset:p,defaultRef:m,bandPosition:"encoding"===v?0:void 0});return g?du({},i||e,g):void 0}function Ele(e){var t=e.model,n=e.defaultPos,r=e.channel,i=e.scaleName,a=e.scale,o=t.markDef,u=t.config;return function(){var e=pte(r),s=vte(r),c=wne(r,o,u,{vgChannel:s});if(void 0!==c)return mae(r,c);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){var l=a.get("type");if(N9([fie,die,hie],l));else if(a.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[gte(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}var Ole={left:"x",center:"xc",right:"x2"},Sle={top:"y",middle:"yc",bottom:"y2"};function Ale(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return vte(e);var i,a="x"===e?"align":"baseline",o=wne(a,t,n);return one(o)?(xre(ere(a)),i=void 0):i=o,"x"===e?Ole[i||("top"===r?"left":"center")]:Sle[i||r]}function Cle(e,t,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?Dle(e,t,{defaultPos:r,defaultPos2:i}):kle(e,t,{defaultPos:r})}function Dle(e,t,n){var r=n.defaultPos,i=n.defaultPos2,a=t.markDef,o=t.config,u=mte(e),s=gte(e),c=function(e,t,n){var r,i=e.encoding,a=e.mark,o=e.markDef,u=e.stack,s=e.config,c=pte(n),l=gte(n),f=vte(n),d=i[c],h=e.scaleName(c),p=e.getScaleComponent(c),v=_le(n in i||n in o?{channel:n,markDef:o,encoding:i,model:e}:{channel:c,markDef:o,encoding:i,model:e}).offset;if(!d&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude)){var m=gte(n),g=e.markDef[m];return null!=g?du({},m,{value:g}):du({},f,{field:e.getName(n)})}var y=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,i=e.markDef,a=e.config,o=e.scaleName,u=e.scale,s=e.stack,c=e.offset,l=e.defaultRef;if(Qae(n)&&s&&t.charAt(0)===s.fieldChannel.charAt(0))return hae(n,o,{suffix:"start"},{offset:c});return lae({channel:t,channelDef:r,scaleName:o,scale:u,stack:s,markDef:i,config:a,offset:c,defaultRef:l})}({channel:n,channelDef:d,channel2Def:i[n],markDef:o,config:s,scaleName:h,scale:p,stack:u,offset:v,defaultRef:void 0});if(void 0!==y)return du({},f,y);return jle(n,o)||jle(n,(du(r={},n,kne(n,o,s.style)),du(r,l,kne(l,o,s.style)),r))||jle(n,s[a])||jle(n,s.mark)||du({},f,Ele({model:e,defaultPos:t,channel:n,scaleName:h,scale:p})())}(t,i,u),l=c[s]?Ale(e,a,o):vte(e);return Object.assign(Object.assign({},kle(e,t,{defaultPos:r,vgChannel:l})),c)}function jle(e,t){var n=gte(e),r=vte(e);if(void 0!==t[r])return du({},r,mae(e,t[r]));if(void 0!==t[e])return du({},r,mae(e,t[e]));if(t[n]){var i=t[n];if(!oae(i))return du({},n,mae(e,i));xre(function(e){return"Position range does not support relative band size for ".concat(e,".")}(n))}}function Tle(e,t){var n,r,i=e.config,a=e.encoding,o=e.markDef,u=o.type,s=mte(t),c=gte(t),l=a[t],f=a[s],d=e.getScaleComponent(t),h=d?d.get("type"):void 0,p=o.orient,v=null!==(r=null!==(n=a[c])&&void 0!==n?n:a.size)&&void 0!==r?r:wne("size",o,i,{vgChannel:c}),m="bar"===u&&("x"===t?"vertical"===p:"horizontal"===p);return!Vae(l)||!(Xte(l.bin)||Qte(l.bin)||l.timeUnit&&!f)||v&&!oae(v)||Sie(h)?(Qae(l)&&Sie(h)||m)&&!f?function(e,t,n){var r,i=n.markDef,a=n.encoding,o=n.config,u=n.stack,s=i.orient,c=n.scaleName(t),l=n.getScaleComponent(t),f=gte(t),d=mte(t),h=function(e){switch(e){case xee:return"xOffset";case wee:return"yOffset";case _ee:return"x2Offset";case kee:return"y2Offset";case Cee:return"thetaOffset";case See:return"radiusOffset";case Dee:return"theta2Offset";case Aee:return"radius2Offset"}}(t),p=n.scaleName(h),v="horizontal"===s&&"y"===t||"vertical"===s&&"x"===t;(a.size||i.size)&&(v?r=xle("size",n,{vgChannel:f,defaultRef:mne(i.size)}):xre(function(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}(i.type)));var m=Uae({channel:t,fieldDef:e,markDef:i,config:o,scaleType:null===l||void 0===l?void 0:l.get("type"),useVlSizeChannel:v});r=r||du({},f,function(e,t,n,r,i){if(oae(i)){if(!n)return{mult:i.band,field:{group:e}};var a=n.get("type");if("band"===a)return{scale:t,band:i.band};1!==i.band&&(xre(function(e){return"Cannot use the relative band size with ".concat(e," scale.")}(a)),i=void 0)}else{if(one(i))return i;if(i)return{value:i}}if(n){var o=n.get("range");if(une(o)&&cE(o.step))return{value:o.step-2}}return{value:Gue(r.view,e)-2}}(f,p||c,l,o,m));var g="band"===(null===l||void 0===l?void 0:l.get("type"))&&"band"in r[f]?"top":"middle",y=Ale(t,i,o,g),b="xc"===y||"yc"===y,x=_le({channel:t,markDef:i,encoding:a,model:n,bandPosition:b?.5:0}),w=x.offset,_=x.offsetType,k=lae({channel:t,channelDef:e,markDef:i,config:o,scaleName:c,scale:l,stack:u,offset:w,defaultRef:Ele({model:n,defaultPos:"mid",channel:t,scaleName:c,scale:l}),bandPosition:b?"encoding"===_?0:.5:one(m)?{signal:"(1-".concat(m,")/2")}:oae(m)?(1-m.band)/2:0});if(f)return Object.assign(du({},y,k),r);var E,O=vte(d),S=r[f],A=w?Object.assign(Object.assign({},S),{offset:w}):S;return du(E={},y,k),du(E,O,vk(k)?[k[0],Object.assign(Object.assign({},k[1]),{offset:A})]:Object.assign(Object.assign({},k),{offset:A})),E}(l,t,e):Dle(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(e){var t,n,r,i,a=e.fieldDef,o=e.fieldDef2,u=e.channel,s=e.model,c=s.config,l=s.markDef,f=s.encoding,d=s.getScaleComponent(u),h=s.scaleName(u),p=d?d.get("type"):void 0,v=d.get("reverse"),m=Uae({channel:u,fieldDef:a,markDef:l,config:c,scaleType:p}),g=null===(t=s.component.axes[u])||void 0===t?void 0:t[0],y=null!==(n=null===g||void 0===g?void 0:g.get("translate"))&&void 0!==n?n:.5,b=Ote(u)&&null!==(r=wne("binSpacing",l,c))&&void 0!==r?r:0,x=mte(u),w=vte(u),_=vte(x),k=_le({channel:u,markDef:l,encoding:f,model:s,bandPosition:0}).offset,E=one(m)?{signal:"(1-".concat(m.signal,")/2")}:oae(m)?(1-m.band)/2:.5;if(Xte(a.bin)||a.timeUnit)return du(i={},_,Ple({fieldDef:a,scaleName:h,bandPosition:E,offset:Fle(x,b,v,y,k)})),du(i,w,Ple({fieldDef:a,scaleName:h,bandPosition:one(E)?{signal:"1-".concat(E.signal)}:1-E,offset:Fle(u,b,v,y,k)})),i;if(Qte(a.bin)){var O,S,A=hae(a,h,{},{offset:Fle(x,b,v,y,k)});if(Vae(o))return du(O={},_,A),du(O,w,hae(o,h,{},{offset:Fle(u,b,v,y,k)})),O;if(Zte(a.bin)&&a.bin.step)return du(S={},_,A),du(S,w,{signal:'scale("'.concat(h,'", ').concat(ooe(a,{expr:"datum"})," + ").concat(a.bin.step,")"),offset:Fle(u,b,v,y,k)}),S}return void xre(pre(x))}({fieldDef:l,fieldDef2:f,channel:t,model:e})}function Fle(e,t,n,r,i){if(ete(e))return 0;var a="x"===e||"y2"===e?-t/2:t/2;if(one(n)||one(i)||one(r)){var o=bne(n),u=bne(i),s=bne(r);return{signal:(s?"".concat(s," + "):"")+(o?"(".concat(o," ? -1 : 1) * "):"")+(u?"(".concat(u," + ").concat(a,")"):a)}}return i=i||0,r+(n?-i-a:+i+a)}function Ple(e){var t=e.fieldDef;return pae({scaleName:e.scaleName,fieldOrDatumDef:t,bandPosition:e.bandPosition,offset:e.offset})}var Mle=new Set(["aria","width","height"]);function Nle(e,t){var n="include"===t.color?wle(e):{},r=n.fill,i=void 0===r?void 0:r,a=n.stroke,o=void 0===a?void 0:a;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return cne.reduce((function(n,r){return Mle.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=mne(e[r])),n}),{})}(e.markDef,t)),Rle(e,"fill",i)),Rle(e,"stroke",o)),xle("opacity",e)),xle("fillOpacity",e)),xle("strokeOpacity",e)),xle("strokeWidth",e)),xle("strokeDash",e)),function(e){var t=e.encoding,n=e.mark,r=t.order;return!Jie(n)&&Jae(r)?hle(e,r,"zindex",(function(e){return mne(e.value)})):{}}(e)),mle(e)),ple(e,"href")),ble(e))}function Rle(e,t,n){var r=e.config,i=e.mark;if("hide"===wne("invalid",e.markDef,r)&&n&&!Jie(i)){var a=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&Aie(i)&&(t[a]=!0)}return t}),{}),a=G9(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return dae(e,r)})).join(" ".concat(o," "))}return}(e,{invalid:!0,channels:Mte});if(a)return du({},t,[{test:a,value:null}].concat(pu(Lk(n))))}return n?du({},t,n):{}}function Ile(e){var t=e.config;if(wne("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&Aie(i)&&(t[a]=!0)}return t}),{}),a=G9(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return dae(e,r)})).join(" ".concat(o," "))}return}(e,{channels:Ete});if(n)return{defined:{signal:n}}}return{}}function Ble(e,t){if(void 0!==t)return du({},e,mne(t))}var zle="voronoi",Lle={defined:function(e){return"point"===e.type&&e.nearest},parse:function(e,t){if(t.events){var n,r=S(t.events);try{for(r.s();!(n=r.n()).done;){n.value.markname=e.getName(zle)}}catch(i){r.e(i)}finally{r.f()}}},marks:function(e,t,n){var r=t.project.hasChannel,i=r.x,a=r.y,o=e.mark;if(Jie(o))return xre(function(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}(o)),n;var u={name:e.getName(zle),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},mle(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!a?"datum.datum.x || 0":"0"},y:{expr:a||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},s=0,c=!1;return n.forEach((function(t,n){var r,i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?s=n:i.indexOf(zle)>=0&&(c=!0)})),c||n.splice(s+1,0,u),n}},Ule=Lle,qle={defined:function(e){return"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!Pue(e.bind)},parse:function(e,t,n){return lfe(t,n)},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,a=t.bind,o=t.init&&t.init[0],u=Ule.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(e,i){var s,c,l=Q9("".concat(r,"_").concat(e.field)),f=n.filter((function(e){return e.name===l}));f.length||n.unshift(Object.assign(Object.assign({name:l},o?{init:Wce(o[i])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(u,"[").concat(bE(e.field),"] : null")}]:[],bind:null!==(c=null!==(s=a[e.field])&&void 0!==s?s:a[e.channel])&&void 0!==c?c:a}))})),n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.filter((function(e){return e.name===r+rfe}))[0],o=r+Qce,u=i.items.map((function(e){return Q9("".concat(r,"_").concat(e.field))})),s=u.map((function(e){return"".concat(e," !== null")})).join(" && ");return u.length&&(a.update="".concat(s," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null")),delete a.value,delete a.on,n}},Wle=qle,Hle="_toggle",$le={defined:function(e){return"point"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+Hle,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+rfe,r=t.name+Hle;return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(sfe(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},Vle={defined:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t){t.clear&&(t.clear=fE(t.clear)?u6(t.clear,"view"):t.clear)},topLevelSignals:function(e,t,n){if(Wle.defined(t)){var r,i=S(t.project.items);try{var a=function(){var e=r.value,i=n.findIndex((function(n){return n.name===Q9("".concat(t.name,"_").concat(e.field))}));-1!==i&&n[i].on.push({events:t.clear,update:"null"})};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}return n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type){var i,a=S(t.project.items);try{var o=function(){var e=i.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));(r(t,"[0, 0]"),-1===t)&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}else{var u=n.findIndex((function(e){return e.name===t.name+rfe}));r(u,"null"),$le.defined(t)&&r(u=n.findIndex((function(e){return e.name===t.name+Hle})),"false")}return n}},Gle={defined:function(e){var t="global"===e.resolve&&e.bind&&Pue(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==Tue;return t&&!n&&xre("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:function(e,t,n){var r,i=C9(n);if(i.select=fE(i.select)?{type:i.select,toggle:t.toggle}:Object.assign(Object.assign({},i.select),{toggle:t.toggle}),lfe(t,i),mk(n.select)&&(n.select.on||n.select.clear)){var a,o='event.item && indexof(event.item.mark.role, "legend") < 0',u=S(t.events);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.filter=Lk(null!==(r=s.filter)&&void 0!==r?r:[]),s.filter.includes(o)||s.filter.push(o)}}catch(f){u.e(f)}finally{u.f()}}var c=Mue(t.bind)?t.bind.legend:"click",l=fE(c)?u6(c,"view"):Lk(c);t.bind={legend:{merge:l}}},topLevelSignals:function(e,t,n){var r,i=t.name,a=Mue(t.bind)&&t.bind.legend,o=function(e){return function(t){var n=C9(t);return n.markname=e,n}},u=S(t.project.items);try{var s=function(){var e=r.value;if(!e.hasLegend)return"continue";var u="".concat(Q9(e.field),"_legend"),s="".concat(i,"_").concat(u),c=n.filter((function(e){return e.name===s}));if(0===c.length){var l=a.merge.map(o("".concat(u,"_symbols"))).concat(a.merge.map(o("".concat(u,"_labels")))).concat(a.merge.map(o("".concat(u,"_entries"))));n.unshift(Object.assign(Object.assign({name:s},t.init?{}:{value:null}),{on:[{events:l,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:a.merge,update:"!event.item || !datum ? null : ".concat(s),force:!0}]}))}};for(u.s();!(r=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}return n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.find((function(e){return e.name===r+rfe})),o=r+Qce,u=i.items.filter((function(e){return e.hasLegend})).map((function(e){return Q9("".concat(r,"_").concat(Q9(e.field),"_legend"))})),s=u.map((function(e){return"".concat(e," !== null")})).join(" && "),c="".concat(s," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null");t.events&&u.length>0?a.on.push({events:u.map((function(e){return{signal:e}})),update:c}):u.length>0&&(a.update=c,delete a.value,delete a.on);var l=n.find((function(e){return e.name===r+Hle})),f=Mue(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:f})):l.on[0].events=f),n}};var Yle="_translate_anchor",Kle="_translate_delta",Xle={defined:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=nle.defined(t),a=r+Yle,o=t.project.hasChannel,u=o.x,s=o.y,c=u6(t.translate,"scope");return i||(c=c.map((function(e){return e.between[0].markname=r+ole,e}))),n.push({name:a,value:{},on:[{events:c.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: ".concat(i?rle(e,xee):"slice(".concat(u.signals.visual,")")):"")+(void 0!==s?", extent_y: ".concat(i?rle(e,wee):"slice(".concat(s.signals.visual,")")):"")+"}"}]},{name:r+Kle,value:{},on:[{events:c,update:"{x: ".concat(a,".x - x(unit), y: ").concat(a,".y - y(unit)}")}]}),void 0!==u&&Qle(e,t,u,"width",n),void 0!==s&&Qle(e,t,s,"height",n),n}};function Qle(e,t,n,r,i){var a,o,u=t.name,s=u+Yle,c=u+Kle,l=n.channel,f=nle.defined(t),d=i.filter((function(e){return e.name===n.signals[f?"data":"visual"]}))[0],h=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(l),v=p.get("type"),m=p.get("reverse"),g=f?l===xee?m?"":"-":m?"-":"":"",y="".concat(s,".extent_").concat(l),b="".concat(g).concat(c,".").concat(l," / ").concat(f?"".concat(h):"span(".concat(y,")")),x=f?"log"===v?"panLog":"symlog"===v?"panSymlog":"pow"===v?"panPow":"panLinear":"panLinear",w=f?"pow"===v?", ".concat(null!==(a=p.get("exponent"))&&void 0!==a?a:1):"symlog"===v?", ".concat(null!==(o=p.get("constant"))&&void 0!==o?o:1):"":"",_="".concat(x,"(").concat(y,", ").concat(b).concat(w,")");d.on.push({events:{signal:c},update:f?_:"clampRange(".concat(_,", 0, ").concat(h,")")})}var Zle="_zoom_anchor",Jle="_zoom_delta",efe={defined:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=nle.defined(t),a=r+Jle,o=t.project.hasChannel,u=o.x,s=o.y,c=bE(e.scaleName(xee)),l=bE(e.scaleName(wee)),f=u6(t.zoom,"scope");return i||(f=f.map((function(e){return e.markname=r+ole,e}))),n.push({name:r+Zle,on:[{events:f,update:i?"{"+[c?"x: invert(".concat(c,", x(unit))"):"",l?"y: invert(".concat(l,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==u&&tfe(e,t,u,"width",n),void 0!==s&&tfe(e,t,s,"height",n),n}};function tfe(e,t,n,r,i){var a,o,u=t.name,s=n.channel,c=nle.defined(t),l=i.filter((function(e){return e.name===n.signals[c?"data":"visual"]}))[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(s),h=d.get("type"),p=c?rle(e,s):l.name,v=u+Jle,m="".concat(u).concat(Zle,".").concat(s),g=c?"log"===h?"zoomLog":"symlog"===h?"zoomSymlog":"pow"===h?"zoomPow":"zoomLinear":"zoomLinear",y=c?"pow"===h?", ".concat(null!==(a=d.get("exponent"))&&void 0!==a?a:1):"symlog"===h?", ".concat(null!==(o=d.get("constant"))&&void 0!==o?o:1):"":"",b="".concat(g,"(").concat(p,", ").concat(m,", ").concat(v).concat(y,")");l.on.push({events:{signal:v},update:c?b:"clampRange(".concat(b,", 0, ").concat(f,")")})}var nfe="_store",rfe="_tuple",ife="_modify",afe="vlSelectionResolve",ofe=[dle,cle,ele,$le,Wle,nle,Gle,Vle,Xle,efe,Ule];function ufe(e){for(var t=e.parent;t&&!epe(t);)t=t.parent;return t}function sfe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?bE(e.name):e.name,i=ufe(e);if(i){var a,o=i.facet,u=S(ote);try{for(u.s();!(a=u.n()).done;){var s=a.value;o[s]&&(r+=" + '__facet_".concat(s,"_' + (facet[").concat(bE(i.vgField(s)),"])"))}}catch(c){u.e(c)}finally{u.f()}}return r}function cfe(e){var t;return Y9(null!==(t=e.component.selection)&&void 0!==t?t:{}).reduce((function(e,t){return e||t.project.items.some((function(e){return e.field===Tue}))}),!1)}function lfe(e,t){!fE(t.select)&&t.select.on||delete e.events,!fE(t.select)&&t.select.clear||delete e.clear,!fE(t.select)&&t.select.toggle||delete e.toggle}function ffe(e){var t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push.apply(t,pu(ffe(e.object))),t.push.apply(t,pu(ffe(e.property)))),t)}function dfe(e){return"MemberExpression"===e.object.type?dfe(e.object):"datum"===e.object.name}function hfe(e){var t=L1(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&dfe(e)&&n.add(ffe(e).slice(1).join("."))})),n}var pfe=function(e){Ip(n,e);var t=qp(n);function n(e,r,i){var a;return au(this,n),(a=t.call(this,e)).model=r,a.filter=i,a.expr=gfe(a.model,a.filter,ji(a)),a._dependentFields=hfe(a.expr),a}return uu(n,[{key:"clone",value:function(){return new n(null,this.model,C9(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(Vce);function vfe(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",a=fE(t)?t:t.param,o=Q9(a),u=bE(o+nfe);try{r=e.getSelectionComponent(o,a)}catch(Xwe){return"!!".concat(o)}if(r.project.timeUnit){var s=null!==n&&void 0!==n?n:e.component.data.raw,c=r.project.timeUnit.clone();s.parent?c.insertAsParentOf(s):s.parent=c}var l="vlSelectionTest(".concat(u,", ").concat(i).concat("global"===r.resolve?")":", ".concat(bE(r.resolve),")")),f="length(data(".concat(u,"))");return!1===t.empty?"".concat(f," && ").concat(l):"!".concat(f," || ").concat(l)}function mfe(e,t,n){var r,i=Q9(t),a=n.encoding,o=n.field;try{r=e.getSelectionComponent(i,t)}catch(Xwe){return i}if(a||o){if(a&&!o){var u=r.project.items.filter((function(e){return e.channel===a}));!u.length||u.length>1?(o=r.project.items[0].field,xre((u.length?"Multiple ":"No ")+"matching ".concat(bE(a)," encoding found for selection ").concat(bE(n.param),". ")+'Using "field": '.concat(bE(o),"."))):o=u[0].field}}else o=r.project.items[0].field,r.project.items.length>1&&xre('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(bE(o),"."));return"".concat(r.name,"[").concat(bE(iee(o)),"]")}function gfe(e,t,n){return Z9(t,(function(t){return fE(t)?t:function(e){return null===e||void 0===e?void 0:e.param}(t)?vfe(e,t,n):Zre(t)}))}var yfe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function bfe(e,t){if(e)return vk(e)&&!ane(e)?e.map((function(e){return voe(e,t)})).join(", "):e}function xfe(e,t,n,r){var i,a,o,u,s;null!==(i=e.encode)&&void 0!==i||(e.encode={}),null!==(a=(u=e.encode)[t])&&void 0!==a||(u[t]={}),null!==(o=(s=e.encode[t]).update)&&void 0!==o||(s.update={}),e.encode[t].update[n]=r}function wfe(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},o=e.combine(),u=o.disable,s=o.orient,c=o.scale,l=o.labelExpr,f=o.title,d=o.zindex,h=yfe(o,["disable","orient","scale","labelExpr","title","zindex"]);if(!u){for(var p in h){var v=Poe[p],m=h[p];if(v&&v!==t&&"both"!==v)delete h[p];else if(Toe(m)){var g=m.condition,y=yfe(m,["condition"]),b=Lk(g),x=joe[p];if(x){var w=x.vgProp,_=x.part,k=[].concat(pu(b.map((function(e){var t=e.test,n=yfe(e,["test"]);return Object.assign({test:gfe(null,t)},n)}))),[y]);xfe(h,_,w,k),delete h[p]}else if(null===x){var E={signal:b.map((function(e){var t=e.test,n=yfe(e,["test"]);return"".concat(gfe(null,t)," ? ").concat(yne(n)," : ")})).join("")+yne(y)};h[p]=E}}else if(one(m)){var O=joe[p];if(O){var A=O.vgProp,C=O.part;xfe(h,C,A,m),delete h[p]}}N9(["labelAlign","labelBaseline"],p)&&null===h[p]&&delete h[p]}if("grid"===t){if(!h.grid)return;if(h.encode){var D=h.encode.grid;h.encode=Object.assign({},D?{grid:D}:{}),V9(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:c,orient:s},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:see(d,0)})}if(a.header||!e.mainExtracted){if(void 0!==l){var j=l;(null===(i=null===(r=h.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&one(h.encode.labels.update.text)&&(j=aee(l,"datum.label",h.encode.labels.update.text.signal)),xfe(h,"labels","text",{signal:j})}if(null===h.labelAlign&&delete h.labelAlign,h.encode){var T,F=S(Foe);try{for(F.s();!(T=F.n()).done;){var P=T.value;e.hasAxisPart(P)||delete h.encode[P]}}catch(N){F.e(N)}finally{F.f()}V9(h.encode)&&delete h.encode}var M=bfe(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:s,grid:!1},M?{title:M}:{}),h),!1===n.aria?{aria:!1}:{}),{zindex:see(d,0)})}}}function _fe(e){var t,n=e.component.axes,r=[],i=S(Ete);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(n[a]){var o,u=S(n[a]);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(!s.get("disable")&&!s.get("gridScale")){var c="x"===a?"height":"width",l=e.getSizeSignalRef(c).signal;c!==l&&r.push({name:c,update:l})}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return r}function kfe(e,t,n,r){return Object.assign.apply(null,[{}].concat(pu(e.map((function(e){if("axisOrient"===e){var i,a="x"===n?"bottom":"left",o=t["x"===n?"axisBottom":"axisLeft"]||{},u=t["x"===n?"axisTop":"axisRight"]||{},s={},c=S(new Set([].concat(pu(G9(o)),pu(G9(u)))).values());try{for(c.s();!(i=c.n()).done;){var l=i.value;s[l]={signal:"".concat(r.signal,' === "').concat(a,'" ? ').concat(bne(o[l])," : ").concat(bne(u[l]))}}}catch(f){c.e(f)}finally{c.f()}return s}return t[e]})))))}function Efe(e,t){var n,r,i=[{}],a=S(e);try{for(a.s();!(r=a.n()).done;){var o=null===(n=t[r.value])||void 0===n?void 0:n.style;if(o){var u,s=S(o=Lk(o));try{for(s.s();!(u=s.n()).done;){var c=u.value;i.push(t.style[c])}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){a.e(l)}finally{a.f()}return Object.assign.apply(null,i)}function Ofe(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Ene(e,n,t);if(void 0!==a)return{configFrom:"style",configValue:a};for(var o=0,u=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];o<u.length;o++){var s=u[o];if(void 0!==(null===(r=i[s])||void 0===r?void 0:r[e]))return{configFrom:s,configValue:i[s][e]}}return{}}var Sfe={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.config,r=e.axis,i=r.format,a=r.formatType;return _ae(t,t.type,i,a,n,!0)},formatType:function(e){var t=e.axis,n=e.fieldOrDatumDef,r=e.scaleType,i=t.formatType;return kae(i,n,r)},grid:function(e){var t,n=e.fieldOrDatumDef,r=e.axis,i=e.scaleType;return null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!Sie(e)&&Vae(t)&&!Xte(null===t||void 0===t?void 0:t.bin)&&!Qte(null===t||void 0===t?void 0:t.bin)}(i,n)},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelAlign||Dfe(n,r,i)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelBaseline||Cfe(n,r,i)},labelFlush:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&N9(["quantitative","temporal"],e))return!0;return}(r.type,i)},labelOverlap:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t,n,r){if(n&&!mk(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy";return}(r.type,i,Vae(r)&&!!r.timeUnit,Vae(r)?r.sort:void 0)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,r=e.model,i=e.axis,a=e.fieldOrDatumDef,o=e.scaleType,u="x"===n?"width":"y"===n?"height":void 0,s=u?r.getSizeSignalRef(u):void 0;return null!==(t=i.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,r=e.scaleType,i=e.size;if(!e.values&&!Sie(r)&&"log"!==r){if(Vae(n)){if(Xte(n.bin))return{signal:"ceil(".concat(i.signal,"/10)")};if(n.timeUnit&&N9(["month","hours","day","quarter"],null===(t=zre(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(i.signal,"/40)")}}return}({fieldOrDatumDef:a,scaleType:o,size:s,values:i.values})},title:function(e){var t=e.axis,n=e.model,r=e.channel;if(void 0!==t.title)return t.title;var i=jfe(n,r);if(void 0!==i)return i;var a=n.typedFieldDef(r),o="x"===r?"x2":"y2",u=n.fieldDef(o);return Sne(a?[Bae(a)]:[],Vae(u)?[Bae(u)]:[])},values:function(e){return function(e,t){var n=e.values;if(vk(n))return Coe(t,n);if(one(n))return n;return}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){if("rect"===e&&uoe(t))return 1;return 0}(i,r)}};function Afe(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function Cfe(e,t,n,r){if(void 0!==e){if("x"===n){if(one(e)){var i=Afe(e),a=one(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(i," && ").concat(i," < 135) || (225 < ").concat(i," && ").concat(i,' < 315) ? "middle" :')+"(".concat(i," <= 45 || 315 <= ").concat(i,") === ").concat(a,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(one(t)){var o=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(o,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(one(e)){var u=Afe(e),s=one(t)?"(".concat(t.signal,' === "left")'):"left"===t,c=r?'"middle"':"null";return{signal:"".concat(u," <= 45 || 315 <= ").concat(u," || (135 <= ").concat(u," && ").concat(u," <= 225) ? ").concat(c," : (45 <= ").concat(u," && ").concat(u," <= 135) === ").concat(s,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(one(t)){var l=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(l,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function Dfe(e,t,n){if(void 0!==e){var r="x"===n,i=r?0:90,a=r?"bottom":"left";if(one(e)){var o=Afe(e),u=one(t)?"(".concat(t.signal,' === "').concat(a,'")'):t===a;return{signal:"(".concat(i?"(".concat(o," + 90)"):o," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(i," < ").concat(o," && ").concat(o," < ").concat(180+i,") === ").concat(u,' ? "left" : "right"')}}if((e+i)%180===0)return r?null:"center";if(one(t)){var s=i<e&&e<180+i?"===":"!==",c="".concat(t.signal," ").concat(s,' "').concat(a,'"');return{signal:"".concat(c,' ? "left" : "right"')}}return(i<e&&e<180+i)===(t===a)?"left":"right"}}function jfe(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;return a&&o?Ane(a,o):a||(o||(void 0!==a?a:void 0!==o?o:void 0))}var Tfe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).transform=r,i._dependentFields=hfe(i.transform.calculate),i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(P9(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,t){return t.forEachFieldDef((function(t,r){if(eoe(t)&&Pae(t.sort)){var i=t.field,a=t.timeUnit,o=t.sort,u=o.map((function(e,t){return"".concat(Zre({field:i,timeUnit:a,equal:e})," ? ").concat(t," : ")})).join("")+o.length;e=new n(e,{calculate:u,as:Ffe(t,r,{forAs:!0})})}})),e}}]),n}(Vce);function Ffe(e,t,n){return ooe(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function Pfe(e,t){return N9(["top","bottom"],t)?"column":N9(["left","right"],t)||"row"===e?"row":"column"}function Mfe(e,t,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return see((t||{})[e],i[e],n.header[e])}function Nfe(e,t,n,r){var i,a={},o=S(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=Mfe(u,t||{},n,r);void 0!==s&&(a[u]=s)}}catch(c){o.e(c)}finally{o.f()}return a}var Rfe=["row","column"],Ife=["header","footer"];function Bfe(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,a=Nfe(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),o=a.titleAnchor,u=a.titleAngle,s=Pfe(t,a.titleOrient),c=pee(u);return{name:"".concat(t,"-title"),type:"group",role:"".concat(s,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),Lfe(c,s)),zfe(s,c,o)),Gfe(r,i,t,Sue,Eue))}}function zfe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=Dfe(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function Lfe(e,t){var n=Cfe(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function Ufe(e,t){var n,r=e.component.layoutHeaders[t],i=[],a=S(Ife);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(r[o]){var u,s=S(r[o]);try{for(s.s();!(u=s.n()).done;){var c=Hfe(e,t,o,r,u.value);null!=c&&i.push(c)}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){a.e(l)}finally{a.f()}return i}function qfe(e,t){var n,r=e.sort;return Fae(r)?{field:ooe(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:vk(r)?{field:Ffe(e,t,{expr:"datum"}),order:"ascending"}:{field:ooe(e,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function Wfe(e,t,n){var r=Nfe(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),i=r.format,a=r.formatType,o=r.labelAngle,u=r.labelAnchor,s=r.labelOrient,c=r.labelExpr,l=bae({fieldOrDatumDef:e,format:i,formatType:a,expr:"parent",config:n}).signal,f=Pfe(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:c?aee(aee(c,"datum.label",l),"datum.value",ooe(e,{expr:"parent"})):l}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),Lfe(o,f)),zfe(f,o,u)),Gfe(n,e,t,Aue,Oue))}function Hfe(e,t,n,r,i){if(i){var a=null,o=r.facetFieldDef,u=e.config?e.config:void 0;if(o&&i.labels){var s=Nfe(["labelOrient"],o.header,u,t).labelOrient;("row"===t&&!N9(["top","bottom"],s)||"column"===t&&!N9(["left","right"],s))&&(a=Wfe(o,t,u))}var c=epe(e)&&!Mae(e.facet),l=i.axes,f=(null===l||void 0===l?void 0:l.length)>0;if(a||f){var d="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName("".concat(t,"_domain"))},sort:qfe(o,t)}:{}),f&&c?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),a?{title:a}:{}),i.sizeSignal?{encode:{update:du({},d,i.sizeSignal)}}:{}),f?{axes:l}:{})}}return null}var $fe={column:{start:0,end:1},row:{start:1,end:0}};function Vfe(e,t){return $fe[t][e]}function Gfe(e,t,n,r,i){var a,o={},u=S(r);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(i[s]){var c=Mfe(s,null===t||void 0===t?void 0:t.header,e,n);void 0!==c&&(o[i[s]]=c)}}}catch(l){u.e(l)}finally{u.f()}return o}function Yfe(e){return[].concat(pu(Kfe(e,"width")),pu(Kfe(e,"height")),pu(Kfe(e,"childWidth")),pu(Kfe(e,"childHeight")))}function Kfe(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("step"===r){var a=e.getScaleComponent(n);if(a){var o=a.get("type"),u=a.get("range");if(Sie(o)&&une(u)){var s=e.scaleName(n);if(epe(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[Xfe(s,u)];return[Xfe(s,u),{name:i,update:Qfe(s,a,"domain('".concat(s,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var c=i.endsWith("width"),l=c?"containerSize()[0]":"containerSize()[1]",f=Vue(e.config.view,c?"width":"height"),d="isFinite(".concat(l,") ? ").concat(l," : ").concat(f);return[{name:i,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:i,value:r}]}function Xfe(e,t){var n="".concat(e,"_step");return one(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Qfe(e,t,n){var r=t.get("type"),i=t.get("padding"),a=see(t.get("paddingOuter"),i),o=t.get("paddingInner");return o="band"===r?void 0!==o?o:i:1,"bandspace(".concat(n,", ").concat(bne(o),", ").concat(bne(a),") * ").concat(e,"_step")}function Zfe(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function Jfe(e,t){return G9(e).reduce((function(n,r){var i=e[r];return Object.assign(Object.assign({},n),hle(t,i,r,(function(e){return mne(e.value)})))}),{})}function ede(e,t){if(epe(t))return"theta"===e?"independent":"shared";if(npe(t))return"shared";if(tpe(t))return Ote(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function tde(e,t){var n=e.scale[t],r=Ote(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&xre(function(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}(t)),"independent"):e[r][t]||"shared"}var nde=Object.assign(Object.assign({},jue),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),rde=G9(nde),ide=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n)}(Ace),ade={symbols:function(e,t){var n,r,i,a,o,u,s,c,l=t.fieldOrDatumDef,f=t.model,d=t.channel,h=t.legendCmpt;if("symbol"!==t.legendType)return;var p=f.markDef,v=f.encoding,m=f.config,g=f.mark,y=p.filled&&"trail"!==g,b=Object.assign(Object.assign({},function(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=_ne(a,t.markDef,t.config);void 0!==o&&(e[a]=mne(o))}}catch(u){i.e(u)}finally{i.f()}return e}({},f,rae)),wle(f,{filled:y})),x=null!==(n=h.get("symbolOpacity"))&&void 0!==n?n:m.legend.symbolOpacity,w=null!==(r=h.get("symbolFillColor"))&&void 0!==r?r:m.legend.symbolFillColor,_=null!==(i=h.get("symbolStrokeColor"))&&void 0!==i?i:m.legend.symbolStrokeColor,k=void 0===x?null!==(a=ode(v.opacity))&&void 0!==a?a:p.opacity:void 0;if(b.fill)if("fill"===d||y&&d===Mee)delete b.fill;else if(b.fill.field)w?delete b.fill:(b.fill=mne(null!==(o=m.legend.symbolBaseFillColor)&&void 0!==o?o:"black"),b.fillOpacity=mne(null!==k&&void 0!==k?k:1));else if(vk(b.fill)){var E=null!==(c=null!==(s=ude(null!==(u=v.fill)&&void 0!==u?u:v.color))&&void 0!==s?s:p.fill)&&void 0!==c?c:y&&p.color;E&&(b.fill=mne(E))}if(b.stroke)if("stroke"===d||!y&&d===Mee)delete b.stroke;else if(b.stroke.field||_)delete b.stroke;else if(vk(b.stroke)){var O=see(ude(v.stroke||v.color),p.stroke,y?p.color:void 0);O&&(b.stroke={value:O})}if(d!==Lee){var A=Vae(l)&&cde(f,h,l);A?b.opacity=[Object.assign({test:A},mne(null!==k&&void 0!==k?k:1)),mne(m.legend.unselectedOpacity)]:k&&(b.opacity=mne(k))}return V9(b=Object.assign(Object.assign({},b),e))?void 0:b},gradient:function(e,t){var n,r=t.model,i=t.legendType,a=t.legendCmpt;if("gradient"!==i)return;var o=r.config,u=r.markDef,s=r.encoding,c={},l=void 0===(null!==(n=a.get("gradientOpacity"))&&void 0!==n?n:o.legend.gradientOpacity)?ode(s.opacity)||u.opacity:void 0;l&&(c.opacity=mne(l));return V9(c=Object.assign(Object.assign({},c),e))?void 0:c},labels:function(e,t){var n=t.fieldOrDatumDef,r=t.model,i=t.channel,a=t.legendCmpt,o=r.legend(i)||{},u=r.config,s=Vae(n)?cde(r,a,n):void 0,c=s?[{test:s,value:1},{value:u.legend.unselectedOpacity}]:void 0,l=o.format,f=o.formatType,d=gae(f)?wae({fieldOrDatumDef:n,field:"datum.value",format:l,formatType:f,config:u}):void 0,h=Object.assign(Object.assign(Object.assign({},c?{opacity:c}:{}),d?{text:d}:{}),e);return V9(h)?void 0:h},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function ode(e){return sde(e,(function(e,t){return Math.max(e,t.value)}))}function ude(e){return sde(e,(function(e,t){return see(e,t.value)}))}function sde(e,t){return function(e){var t=e&&e.condition;return!!t&&(vk(t)||Jae(t))}(e)?Lk(e.condition).reduce(t,e.value):Jae(e)?e.value:void 0}function cde(e,t,n){var r=t.get("selections");if(null===r||void 0===r?void 0:r.length){var i=bE(n.field);return r.map((function(e){var t=bE(Q9(e)+nfe);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(i,"] && indexof(").concat(e,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}}var lde={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config,i=n.format,a=n.formatType;return _ae(t,t.type,i,a,r,!1)},formatType:function(e){var t=e.legend,n=e.fieldOrDatumDef,r=e.scaleType,i=t.formatType;return kae(i,n,r)},gradientLength:function(e){var t,n,r=e.legend,i=e.legendConfig;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,r=e.direction,i=e.orient,a=e.scaleType,o=t.gradientHorizontalMaxLength,u=t.gradientHorizontalMinLength,s=t.gradientVerticalMaxLength,c=t.gradientVerticalMinLength;if(Cie(a))return"horizontal"===r?"top"===i||"bottom"===i?hde(n,"width",u,o):u:hde(n,"height",c,s);return}(e)},labelOverlap:function(e){var t,n,r=e.legend,i=e.legendConfig,a=e.scaleType;return null!==(n=null!==(t=r.labelOverlap)&&void 0!==t?t:i.labelOverlap)&&void 0!==n?n:function(e){if(N9(["quantile","threshold","log","symlog"],e))return"greedy";return}(a)},symbolType:function(e){var t,n=e.legend,r=e.markDef,i=e.channel,a=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){var i;if("shape"!==t){var a=null!==(i=ude(n))&&void 0!==i?i:r;if(a)return a}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,a.shape,r.shape)},title:function(e){return hoe(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if(ite(e.channel)&&Cie(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;if(vk(n))return Coe(t,n);if(one(n))return n;return}(e.legend,t)}};function fde(e){return see(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,r=e.scaleType;if(ite(t)){if(N9(["quarter","month","day"],n))return"symbol";if(Cie(r))return"gradient"}return"symbol"}(e))}function dde(e){var t,n,r=e.legendConfig,i=e.legendType,a=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:r[i?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(a,i)}function hde(e,t,n,r){var i=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function pde(e){var t=Jhe(e)?function(e){for(var t=e.encoding,n={},r=0,i=[Mee].concat(pu(Due));r<i.length;r++){var a=i[r],o=boe(t[a]);o&&e.getScaleComponent(a)&&(a===Iee&&Vae(o)&&o.type===uie||(n[a]=mde(e,a)))}return n}(e):function(e){var t,n=e.component,r=n.legends,i=n.resolve,a=S(e.children);try{for(a.s();!(t=a.n()).done;){var o=t.value;pde(o);var u,s=S(G9(o.component.legends));try{for(s.s();!(u=s.n()).done;){var c=u.value;i.legend[c]=tde(e.component.resolve,c),"shared"===i.legend[c]&&(r[c]=gde(r[c],o.component.legends[c]),r[c]||(i.legend[c]="independent",delete r[c]))}}catch(m){s.e(m)}finally{s.f()}}}catch(m){a.e(m)}finally{a.f()}var l,f=S(G9(r));try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=S(e.children);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.component.legends[h]&&("shared"===i.legend[h]&&delete v.component.legends[h])}}catch(m){p.e(m)}finally{p.f()}}}catch(m){f.e(m)}finally{f.f()}return r}(e);return e.component.legends=t,t}function vde(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===t&&e===(null===r||void 0===r?void 0:r.title))return!0}return e===(n||{})[t]}function mde(e,t){var n,r,i,a=e.legend(t),o=e.markDef,u=e.encoding,s=e.config,c=s.legend,l=new ide({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:du({},t,n)}(e,t));!function(e,t,n){var r,i,a,o,u,s=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field,c=S(Y9(null!==(i=e.component.selection)&&void 0!==i?i:{}));try{for(c.s();!(u=c.n()).done;){var l=u.value,f=null!==(a=l.project.hasField[s])&&void 0!==a?a:l.project.hasChannel[t];if(f&&Gle.defined(l)){var d=null!==(o=n.get("selections"))&&void 0!==o?o:[];d.push(l.name),n.set("selections",d,!1),f.hasLegend=!0}}}catch(h){c.e(h)}finally{c.f()}}(e,t,l);var f=void 0!==a?!a:c.disable;if(l.set("disable",f,void 0!==a),f)return l;a=a||{};var d,h=e.getScaleComponent(t).get("type"),p=boe(u[t]),v=Vae(p)?null===(n=zre(p.timeUnit))||void 0===n?void 0:n.unit:void 0,m=a.orient||s.legend.orient||"right",g=fde({legend:a,channel:t,timeUnit:v,scaleType:h}),y={legend:a,channel:t,model:e,markDef:o,encoding:u,fieldOrDatumDef:p,legendConfig:c,config:s,scaleType:h,orient:m,legendType:g,direction:dde({legend:a,legendType:g,orient:m,legendConfig:c})},b=S(rde);try{for(b.s();!(d=b.n()).done;){var x=d.value;if(!("gradient"===g&&x.startsWith("symbol")||"symbol"===g&&x.startsWith("gradient"))){var w=x in lde?lde[x](y):a[x];if(void 0!==w){var _=vde(w,x,a,e.fieldDef(t));(_||void 0===s.legend[x])&&l.set(x,w,_)}}}}catch(P){b.e(P)}finally{b.f()}for(var k=null!==(r=null===a||void 0===a?void 0:a.encoding)&&void 0!==r?r:{},E=l.get("selections"),O={},A={fieldOrDatumDef:p,model:e,channel:t,legendCmpt:l,legendType:g},C=0,D=["labels","legend","title","symbols","gradient","entries"];C<D.length;C++){var j=D[C],T=Jfe(null!==(i=k[j])&&void 0!==i?i:{},e),F=j in ade?ade[j](T,A):T;void 0===F||V9(F)||(O[j]=Object.assign(Object.assign(Object.assign({},(null===E||void 0===E?void 0:E.length)&&Vae(p)?{name:"".concat(Q9(p.field),"_legend_").concat(j)}:{}),(null===E||void 0===E?void 0:E.length)?{interactive:!!E}:{}),{update:F}))}return V9(O)||l.set("encode",O,!!(null===a||void 0===a?void 0:a.encoding)),l}function gde(e,t){var n,r,i,a;if(!e)return t.clone();var o=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(!o.explicit||!u.explicit||o.value===u.value){var s,c=!1,l=S(rde);try{var f=function(){var n=s.value,r=Fce(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){if("circle"===t.value)return t;return e}(e,t);case"title":return Cne(e,t);case"type":return c=!0,Dce("symbol")}return Tce(e,t,n,"legend")}));e.setWithExplicit(n,r)};for(l.s();!(s=l.n()).done;)f()}catch(d){l.e(d)}finally{l.f()}return c&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&J9(e.implicit,["encode","gradient"]),(null===(a=null===(i=e.explicit)||void 0===i?void 0:i.encode)||void 0===a?void 0:a.gradient)&&J9(e.explicit,["encode","gradient"])),e}}var yde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function bde(e){var t,n=e.component.legends,r={},i=S(G9(n));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.getScaleComponent(a),u=F9(o.get("domains"));if(r[u]){var s,c=S(r[u]);try{for(c.s();!(s=c.n()).done;){gde(s.value,n[a])||r[u].push(n[a])}}catch(f){c.e(f)}finally{c.f()}}else r[u]=[n[a].clone()]}}catch(f){i.e(f)}finally{i.f()}var l=Y9(r).flat().map((function(t){return function(e,t){var n,r,i,a=e.combine(),o=a.disable,u=a.labelExpr,s=(a.selections,yde(a,["disable","labelExpr","selections"]));if(o)return;!1===t.aria&&void 0==s.aria&&(s.aria=!1);if(null===(n=s.encode)||void 0===n?void 0:n.symbols){var c=s.encode.symbols.update;!c.fill||"transparent"===c.fill.value||c.stroke||s.stroke||(c.stroke={value:"transparent"});var l,d=S(Due);try{for(d.s();!(l=d.n()).done;){var h=l.value;s[h]&&delete c[h]}}catch(f){d.e(f)}finally{d.f()}}s.title||delete s.title;if(void 0!==u){var p=u;(null===(i=null===(r=s.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&one(s.encode.labels.update.text)&&(p=aee(u,"datum.label",s.encode.labels.update.text.signal)),function(e,t,n,r){var i,a,o,u,s;null!==(i=e.encode)&&void 0!==i||(e.encode={}),null!==(a=(u=e.encode)[t])&&void 0!==a||(u[t]={}),null!==(o=(s=e.encode[t]).update)&&void 0!==o||(s.update={}),e.encode[t].update[n]=r}(s,"labels","text",{signal:p})}return s}(t,e.config)})).filter((function(e){return void 0!==e}));return l}function xde(e){return npe(e)||tpe(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),wde(e))}(e):wde(e)}function wde(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name;if(t.data){var i={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},a=t.data.reduce((function(t,n){var r=one(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return N9(t,r)||t.push(r),t}),[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:a.length>1?"[".concat(a.join(", "),"]"):a[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var _de=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],kde=function(e){Ip(n,e);var t=qp(n);function n(e,r,i,a){var o;return au(this,n),(o=t.call(this,Object.assign({},r),{name:e})).specifiedProjection=r,o.size=i,o.data=a,o.merged=!1,o}return uu(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(Ace);function Ede(e){e.component.projection=Jhe(e)?function(e){var t;if(e.hasProjection){var n=nne(e.specifiedProjection),r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,a=r?function(e){for(var t=[],n=e.encoding,r=0,i=[[Tee,jee],[Pee,Fee]];r<i.length;r++){var a=i[r];(boe(n[a[0]])||boe(n[a[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}e.channelHasField(Iee)&&e.typedFieldDef(Iee).type===uie&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(Pce.Main));return t}(e):void 0,o=new kde(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=nne(e.config.projection))&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),i,a);return o.get("type")||o.set("type","equalEarth",!1),o}return}(e):function(e){if(0===e.children.length)return;var t,n,r=S(e.children);try{for(r.s();!(n=r.n()).done;){Ede(n.value)}}catch(d){r.e(d)}finally{r.f()}var i=I9(e.children,(function(e){var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=I9(_de,(function(n){return!eE(e.explicit,n)&&!eE(t.explicit,n)||!!(eE(e.explicit,n)&&eE(t.explicit,n)&&A9(e.get(n),t.get(n)))}));if(A9(e.size,t.size)){if(n)return e;if(A9(e.explicit,{}))return t;if(A9(t.explicit,{}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0}));if(t&&i){var a,o=e.projectionName(!0),u=new kde(o,t.specifiedProjection,t.size,C9(t.data)),s=S(e.children);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=c.component.projection;if(l){var f;if(l.isFit)(f=u.data).push.apply(f,pu(c.component.projection.data));c.renameProjection(l.get("name"),o),l.merged=!0}}}catch(d){s.e(d)}finally{s.f()}return u}return}(e)}var Ode=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Sde(e,t){return"".concat(Kte(e),"_").concat(t)}function Ade(e,t,n){var r,i=Sde(null!==(r=koe(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(i,"_bins"))}function Cde(e,t,n){var r,i;r=function(e){return"as"in e}(e)?fE(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[ooe(e,{forAs:!0}),ooe(e,{binSuffix:"end",forAs:!0})];var a=Object.assign({},koe(t,void 0)),o=Sde(a,e.field),u=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,o),s=u.signal,c=u.extentSignal;if(Jte(a.extent)){var l=a.extent;i=mfe(n,l.param,l),delete a.extent}return{key:o,binComponent:Object.assign(Object.assign(Object.assign({bin:a,field:e.field,as:[r]},s?{signal:s}:{}),c?{extentSignal:c}:{}),i?{span:i}:{})}}var Dde=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).bins=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.bins))}},{key:"merge",value:function(e,t){var n,r=S(G9(e.bins));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in this.bins?(t(e.bins[i].signal,this.bins[i].signal),this.bins[i].as=L9([].concat(pu(this.bins[i].as),pu(e.bins[i].as)),P9)):this.bins[i]=e.bins[i]}}catch(s){r.e(s)}finally{r.f()}var a,o=S(e.children);try{for(o.s();!(a=o.n()).done;){var u=a.value;e.removeChild(u),u.parent=this}}catch(s){o.e(s)}finally{o.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(Y9(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(Y9(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(P9(this.bins))}},{key:"assemble",value:function(){return Y9(this.bins).flatMap((function(e){var t=[],n=sv(e.as),r=n[0],i=n.slice(1),a=e.bin,o=a.extent,u=Ode(a,["extent"]),s=Object.assign(Object.assign(Object.assign({type:"bin",field:iee(e.field),as:r,signal:e.signal},Jte(o)?{extent:null}:{extent:o}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),u);!o&&e.extentSignal&&(t.push({type:"extent",field:iee(e.field),signal:e.extentSignal}),s.extent={signal:e.extentSignal}),t.push(s);var c,l=S(i);try{for(l.s();!(c=l.n()).done;)for(var f=c.value,d=0;d<2;d++)t.push({type:"formula",expr:ooe({field:r[d]},{expr:"datum"}),as:f[d]})}catch(h){l.e(h)}finally{l.f()}return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){if(Zae(n)&&Xte(n.bin)){var i=Cde(n,n.bin,t),a=i.key,o=i.binComponent;e[a]=Object.assign(Object.assign(Object.assign({},o),e[a]),function(e,t,n,r){var i,a;if(Doe(t,n)){var o=Jhe(e)&&null!==(a=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==a?a:{},u=ooe(t,{expr:"datum"}),s=ooe(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ooe(t,{binSuffix:"range",forAs:!0}),formula:Aae(u,s,o.format,o.formatType,r)}}return{}}(t,n,r,t.config))}return e}),{});return V9(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t,r){var i=Cde(t,t.bin,r);return new n(e,du({},i.key,i.binComponent))}}]),n}(Vce);function jde(e,t,n,r){var i,a=Jhe(r)?r.encoding[mte(t)]:void 0;if(Zae(n)&&Jhe(r)&&qae(n,a,r.markDef,r.config))e.add(ooe(n,{})),e.add(ooe(n,{suffix:"end"})),n.bin&&Doe(n,t)&&e.add(ooe(n,{binSuffix:"range"}));else if(function(e){return e in tte}(t)){var o=function(e){switch(e){case jee:return"y";case Fee:return"y2";case Tee:return"x";case Pee:return"x2"}}(t);e.add(r.getName(o))}else e.add(ooe(n));return eoe(n)&&function(e){return mk(e)&&"field"in e}(null===(i=n.scale)||void 0===i?void 0:i.range)&&e.add(n.scale.range.field),e}var Tde=function(e){Ip(n,e);var t=qp(n);function n(e,r,i){var a;return au(this,n),(a=t.call(this,e)).dimensions=r,a.measures=i,a}return uu(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),C9(this.measures))}},{key:"groupBy",get:function(){return this.dimensions}},{key:"merge",value:function(e){return q9(this.dimensions,e.dimensions)?(function(e,t){var n,r,i=S(G9(t));try{for(i.s();!(r=i.n()).done;){var a,o=r.value,u=t[o],s=S(G9(u));try{for(s.s();!(a=s.n()).done;){var c=a.value;o in e?e[o][c]=new Set([].concat(pu(null!==(n=e[o][c])&&void 0!==n?n:[]),pu(u[c]))):e[o]=du({},c,u[c])}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}}(this.measures,e.measures),!0):(function(){var e;(e=gre).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(pu(this.dimensions),pu(G9(this.measures))))}},{key:"producedFields",value:function(){var e,t=new Set,n=S(G9(this.measures));try{for(n.s();!(e=n.n()).done;){var r,i=e.value,a=S(G9(this.measures[i]));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=this.measures[i][o];0===u.size?t.add("".concat(o,"_").concat(i)):u.forEach(t.add,t)}}catch(s){a.e(s)}finally{a.f()}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"hash",value:function(){return"Aggregate ".concat(P9({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=S(G9(this.measures));try{for(i.s();!(e=i.n()).done;){var a,o=e.value,u=S(G9(this.measures[o]));try{for(u.s();!(a=u.n()).done;){var s,c=a.value,l=S(this.measures[o][c]);try{for(l.s();!(s=l.n()).done;){var f=s.value;r.push(f),t.push(c),n.push("*"===o?null:iee(o))}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}}}catch(d){i.e(d)}finally{i.f()}return{type:"aggregate",groupby:pu(this.dimensions).map(iee),ops:t,fields:n,as:r}}}],[{key:"makeFromEncoding",value:function(e,t){var r=!1;t.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var i={},a=new Set;return r?(t.forEachFieldDef((function(e,n){var r,o,u,s,c=e.aggregate,l=e.field;if(c)if("count"===c)null!==(r=i["*"])&&void 0!==r||(i["*"]={}),i["*"].count=new Set([ooe(e,{forAs:!0})]);else{if(qte(c)||Wte(c)){var f=qte(c)?"argmin":"argmax",d=c[f];null!==(o=i[d])&&void 0!==o||(i[d]={}),i[d][f]=new Set([ooe({op:f,field:d},{forAs:!0})])}else null!==(u=i[l])&&void 0!==u||(i[l]={}),i[l][c]=new Set([ooe(e,{forAs:!0})]);Nte(n)&&"unaggregated"===t.scaleDomain(n)&&(null!==(s=i[l])&&void 0!==s||(i[l]={}),i[l].min=new Set([ooe({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([ooe({field:l,aggregate:"max"},{forAs:!0})]))}else jde(a,n,e,t)})),a.size+G9(i).length===0?null:new n(e,a,i)):null}},{key:"makeFromTransform",value:function(e,t){var r,i,a,o,u=new Set,s={},c=S(t.aggregate);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=l.op,d=l.field,h=l.as;f&&("count"===f?(null!==(r=s["*"])&&void 0!==r||(s["*"]={}),s["*"].count=new Set([h||ooe(l,{forAs:!0})])):(null!==(i=s[d])&&void 0!==i||(s[d]={}),s[d][f]=new Set([h||ooe(l,{forAs:!0})])))}}catch(g){c.e(g)}finally{c.f()}var p,v=S(null!==(a=t.groupby)&&void 0!==a?a:[]);try{for(v.s();!(p=v.n()).done;){var m=p.value;u.add(m)}}catch(g){v.e(g)}finally{v.f()}return u.size+G9(s).length===0?null:new n(e,u,s)}}]),n}(Vce),Fde=function(e){Ip(n,e);var t=qp(n);function n(e,r,i,a){var o;au(this,n),(o=t.call(this,e)).model=r,o.name=i,o.data=a;var u,s=S(ote);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=r.facet[c];if(l){var f=l.bin,d=l.sort;o[c]=Object.assign({name:r.getName("".concat(c,"_domain")),fields:[ooe(l)].concat(pu(Xte(f)?[ooe(l,{binSuffix:"end"})]:[]))},Fae(d)?{sortField:d}:vk(d)?{sortIndexField:Ffe(l,c)}:{})}}}catch(h){s.e(h)}finally{s.f()}return o.childModel=r.child,o}return uu(n,[{key:"hash",value:function(){var e,t="Facet",n=S(ote);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(t+=" ".concat(r.charAt(0),":").concat(P9(this[r])))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"fields",get:function(){var e,t,n=[],r=S(ote);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===(e=this[i])||void 0===e?void 0:e.fields)&&n.push.apply(n,pu(this[i].fields))}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"dependentFields",value:function(){var e,t=new Set(this.fields),n=S(ote);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e,t={},n=S(Ete);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this.childModel.component.scales[r];if(i&&!i.merged){var a=i.get("type"),o=i.get("range");if(Sie(a)&&une(o)){var u=Ahe(Che(this.childModel,r));u?t[r]=u:xre(Mne(r))}}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x",facet:void 0}[e],i=[],a=[],o=[];r&&n&&n[r]&&(t?(i.push("distinct_".concat(n[r])),a.push("max")):(i.push(n[r]),a.push("distinct")),o.push("distinct_".concat(n[r])));var u=this[e],s=u.sortField,c=u.sortIndexField;if(s){var l=s.op,f=void 0===l?Cae:l,d=s.field;i.push(d),a.push(f),o.push(ooe(s,{forAs:!0}))}else c&&(i.push(c),a.push("max"),o.push(c));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:a,as:o}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r,i=this.model.layout.columns,a=this.model.component.layoutHeaders,o=[],u={},s=S(Rfe);try{for(s.s();!(r=s.n()).done;){var c,l=r.value,f=S(Ife);try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=S(null!==(t=a[l]&&a[l][h])&&void 0!==t?t:[]);try{for(p.s();!(d=p.n()).done;){if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){u[l]=!0;break}}}catch(b){p.e(b)}finally{p.f()}}}catch(b){f.e(b)}finally{f.f()}if(u[l]){var v='length(data("'.concat(this.facet.name,'"))'),m="row"===l?i?{signal:"ceil(".concat(v," / ").concat(i,")")}:1:i?{signal:"min(".concat(v,", ").concat(i,")")}:{signal:v};o.push({name:"".concat(this.facet.name,"_").concat(l),transform:[{type:"sequence",start:0,stop:m}]})}}}catch(b){s.e(b)}finally{s.f()}var g=u.row,y=u.column;return(g||y)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,e)),o}},{key:"assemble",value:function(){var e,t,n=[],r=null,i=this.getChildIndependentFieldsWithStep(),a=this.column,o=this.row,u=this.facet;if(a&&o&&(i.x||i.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var s=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),c=s.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:c}]})}for(var l=0,f=[yee,gee];l<f.length;l++){var d=f[l];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,i))}if(u){var h=this.assembleFacetHeaderData(i);h&&n.push.apply(n,pu(h))}return n}}]),n}(Vce);function Pde(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function Mde(e,t){var n=tee(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(t.startsWith("date:")){var r=Pde(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(t.startsWith("utc:")){var i=Pde(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(i,"')")}return xre('Unrecognized parse "'.concat(t,'".')),null}function Nde(e){var t={};return O9(e.filter,(function(e){var n;if(Kre(e)){var r=null;Ure(e)?r=pne(e.equal):Wre(e)?r=pne(e.lte):qre(e)?r=pne(e.lt):Hre(e)?r=pne(e.gt):$re(e)?r=pne(e.gte):Vre(e)?r=e.range[0]:Gre(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(wre(r)?t[e.field]="date":cE(r)?t[e.field]="number":fE(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function Rde(e){var t={};function n(e){var n;Soe(e)?t[e.field]="date":"quantitative"===e.type&&(fE(n=e.aggregate)&&N9(["min","max"],n))?t[e.field]="number":uee(e.field)>1?e.field in t||(t[e.field]="flatten"):eoe(e)&&Fae(e.sort)&&uee(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((Jhe(e)||epe(e))&&e.forEachFieldDef((function(t,r){if(Zae(t))n(t);else{var i=pte(r),a=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:a.type}))}})),Jhe(e)){var r=e.mark,i=e.markDef,a=e.encoding;if(Jie(r)&&!e.encoding.order){var o=a["horizontal"===i.orient?"y":"x"];Vae(o)&&"quantitative"===o.type&&!(o.field in t)&&(t[o.field]="number")}}return t}var Ide,Bde=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e))._parse=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(P9(this._parse))}},{key:"parse",get:function(){return this._parse}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e,t={},n=S(G9(this._parse));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this._parse[r];1===uee(r)&&(t[r]=i)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set(G9(this._parse))}},{key:"dependentFields",value:function(){return new Set(G9(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return G9(this._parse).filter((function(e){return!t||uee(e)>1})).map((function(t){var n=Mde(t,e._parse[t]);return n?{type:"formula",expr:n,as:oee(t)}:null})).filter((function(e){return null!==e}))}}],[{key:"makeExplicit",value:function(e,t,n){var r,i={},a=t.data;return!Bce(a)&&(null===(r=null===a||void 0===a?void 0:a.format)||void 0===r?void 0:r.parse)&&(i=a.format.parse),this.makeWithAncestors(e,i,{},n)}},{key:"makeWithAncestors",value:function(e,t,r,i){var a,o=S(G9(r));try{for(o.s();!(a=o.n()).done;){var u=a.value,s=i.getWithExplicit(u);void 0!==s.value&&(s.explicit||s.value===r[u]||"derived"===s.value||"flatten"===r[u]?delete r[u]:xre(Lne(u,r[u],s.value)))}}catch(b){o.e(b)}finally{o.f()}var c,l=S(G9(t));try{for(l.s();!(c=l.n()).done;){var f=c.value,d=i.get(f);void 0!==d&&(d===t[f]?delete t[f]:xre(Lne(f,t[f],d)))}}catch(b){l.e(b)}finally{l.f()}var h=new Ace(t,r);i.copyAll(h);var p,v={},m=S(G9(h.combine()));try{for(m.s();!(p=m.n()).done;){var g=p.value,y=h.get(g);null!==y&&(v[g]=y)}}catch(b){m.e(b)}finally{m.f()}return 0===G9(v).length||i.parseNothing?null:new n(e,v)}}]),n}(Vce),zde=function(e){Ip(n,e);var t=qp(n);function n(e){return au(this,n),t.call(this,e)}return uu(n,[{key:"clone",value:function(){return new n(null)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([Tue])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:Tue}}}]),n}(Vce),Lde=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).params=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(P9(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(Vce),Ude=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).params=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(P9(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(Vce),qde=function(e){Ip(n,e);var t=qp(n);function n(e){var r,i;if(au(this,n),r=t.call(this,null),null!==e&&void 0!==e||(e={name:"source"}),Bce(e)||(i=e.format?Object.assign({},T9(e.format,["parse"])):{}),Rce(e))r._data={values:e.values};else if(Nce(e)){if(r._data={url:e.url},!i.type){var a=/(?:\.([^.]+))?$/.exec(e.url)[1];N9(["json","csv","tsv","dsv","topojson"],a)||(a="json"),i.type=a}}else Lce(e)?r._data={values:[{type:"Sphere"}]}:(Ice(e)||Bce(e))&&(r._data={});return r._generator=Bce(e),e.name&&(r._name=e.name),i&&!V9(i)&&(r._data.format=i),r}return uu(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"data",get:function(){return this._data}},{key:"hasName",value:function(){return!!this._name}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}]),n}(Vce),Wde=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Hde=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};function $de(e){return e instanceof qde||e instanceof Lde||e instanceof Ude}var Vde=function(){function e(){au(this,e),Ide.set(this,void 0),Wde(this,Ide,!1,"f")}return uu(e,[{key:"setModified",value:function(){Wde(this,Ide,!0,"f")}},{key:"modifiedFlag",get:function(){return Hde(this,Ide,"f")}}]),e}();Ide=new WeakMap;var Gde=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"getNodeDepths",value:function(e,t,n){n.set(e,t);var r,i=S(e.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.getNodeDepths(a,t+1,n)}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"optimize",value:function(e){var t,n=pu(this.getNodeDepths(e,0,new Map).entries()).sort((function(e,t){return t[1]-e[1]})),r=S(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.run(i[0])}}catch(a){r.e(a)}finally{r.f()}return this.modifiedFlag}}]),n}(Vde),Yde=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"optimize",value:function(e){this.run(e);var t,n=S(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.optimize(r)}}catch(i){n.e(i)}finally{n.f()}return this.modifiedFlag}}]),n}(Vde),Kde=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"mergeNodes",value:function(e,t){var n,r=t.shift(),i=S(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.removeChild(a),a.parent=r,a.remove()}}catch(o){i.e(o)}finally{i.f()}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var i,a=S(G9(n));try{for(a.s();!(i=a.n()).done;){var o=i.value;n[o].length>1&&(this.setModified(),this.mergeNodes(e,n[o]))}}catch(u){a.e(u)}finally{a.f()}}}]),n}(Yde),Xde=function(e){Ip(n,e);var t=qp(n);function n(e){var r;return au(this,n),(r=t.call(this)).requiresSelectionId=e&&cfe(e),r}return uu(n,[{key:"run",value:function(e){e instanceof zde&&(this.requiresSelectionId&&($de(e.parent)||e.parent instanceof Tde||e.parent instanceof Bde)||(this.setModified(),e.remove()))}}]),n}(Yde),Qde=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"optimize",value:function(e){return this.run(e,new Set),this.modifiedFlag}},{key:"run",value:function(e,t){var n=new Set;e instanceof Kce&&W9(n=e.producedFields(),t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove());var r,i=S(e.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.run(a,new Set([].concat(pu(t),pu(n))))}}catch(o){i.e(o)}finally{i.f()}}}]),n}(Vde),Zde=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.call(this)}return uu(n,[{key:"run",value:function(e){e instanceof Gce&&!e.isRequired()&&(this.setModified(),e.remove())}}]),n}(Yde),Jde=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"run",value:function(e){if(!$de(e)&&!(e.numChildren()>1)){var t,n=S(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof Bde)if(e instanceof Bde)this.setModified(),e.merge(r);else{if($9(e.producedFields(),r.dependentFields()))continue;this.setModified(),r.swapWithParent()}}}catch(i){n.e(i)}finally{n.f()}}}}]),n}(Gde),ehe=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"run",value:function(e){var t=pu(e.children),n=e.children.filter((function(e){return e instanceof Bde}));if(e.numChildren()>1&&n.length>=1){var r,i={},a=new Set,o=S(n);try{for(o.s();!(r=o.n()).done;){var u,s=r.value.parse,c=S(G9(s));try{for(c.s();!(u=c.n()).done;){var l=u.value;l in i?i[l]!==s[l]&&a.add(l):i[l]=s[l]}}catch(x){c.e(x)}finally{c.f()}}}catch(x){o.e(x)}finally{o.f()}var f,d=S(a);try{for(d.s();!(f=d.n()).done;){delete i[f.value]}}catch(x){d.e(x)}finally{d.f()}if(!V9(i)){this.setModified();var h,p=new Bde(e,i),v=S(t);try{for(v.s();!(h=v.n()).done;){var m=h.value;if(m instanceof Bde){var g,y=S(G9(i));try{for(y.s();!(g=y.n()).done;){var b=g.value;delete m.parse[b]}}catch(x){y.e(x)}finally{y.f()}}e.removeChild(m),m.parent=p,m instanceof Bde&&0===G9(m.parse).length&&m.remove()}}catch(x){v.e(x)}finally{v.f()}}}}}]),n}(Gde),the=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"run",value:function(e){e instanceof Gce||e.numChildren()>0||e instanceof Fde||e instanceof qde||(this.setModified(),e.remove())}}]),n}(Gde),nhe=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"run",value:function(e){var t,n=e.children.filter((function(e){return e instanceof Kce})),r=n.pop(),i=S(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.setModified(),r.merge(a)}}catch(o){i.e(o)}finally{i.f()}}}]),n}(Gde),rhe=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"run",value:function(e){var t,n={},r=S(e.children.filter((function(e){return e instanceof Tde})));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=P9(i.groupBy);a in n||(n[a]=[]),n[a].push(i)}}catch(h){r.e(h)}finally{r.f()}var o,u=S(G9(n));try{for(u.s();!(o=u.n()).done;){var s=n[o.value];if(s.length>1){var c,l=s.pop(),f=S(s);try{for(f.s();!(c=f.n()).done;){var d=c.value;l.merge(d)&&(e.removeChild(d),d.parent=l,d.remove(),this.setModified())}}catch(h){f.e(h)}finally{f.f()}}}}catch(h){u.e(h)}finally{u.f()}}}]),n}(Gde),ihe=function(e){Ip(n,e);var t=qp(n);function n(e){var r;return au(this,n),(r=t.call(this)).model=e,r}return uu(n,[{key:"run",value:function(e){var t,n=!($de(e)||e instanceof pfe||e instanceof Bde||e instanceof zde),r=[],i=[],a=S(e.children);try{for(a.s();!(t=a.n()).done;){var o=t.value;o instanceof Dde&&(n&&!$9(e.producedFields(),o.dependentFields())?r.push(o):i.push(o))}}catch(v){a.e(v)}finally{a.f()}if(r.length>0){var u,s=r.pop(),c=S(r);try{for(c.s();!(u=c.n()).done;){var l=u.value;s.merge(l,this.model.renameSignal.bind(this.model))}}catch(v){c.e(v)}finally{c.f()}this.setModified(),e instanceof Dde?e.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){var f,d=i.pop(),h=S(i);try{for(h.s();!(f=h.n()).done;){var p=f.value;d.merge(p,this.model.renameSignal.bind(this.model))}}catch(v){h.e(v)}finally{h.f()}this.setModified()}}}]),n}(Gde),ahe=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"run",value:function(e){var t=pu(e.children),n=R9(t,(function(e){return e instanceof Gce}));if(n&&!(e.numChildren()<=1)){var r,i,a=[],o=S(t);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(u instanceof Gce){for(var s=u;1===s.numChildren();){var c=D(s.children,1)[0];if(!(c instanceof Gce))break;s=c}a.push.apply(a,pu(s.children)),r?(e.removeChild(u),u.parent=r.parent,r.parent.removeChild(r),r.parent=s,this.setModified()):r=s}else a.push(u)}}catch(h){o.e(h)}finally{o.f()}if(a.length){this.setModified();var l,f=S(a);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.parent.removeChild(d),d.parent=r}}catch(h){f.e(h)}finally{f.f()}}}}}]),n}(Gde),ohe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).transform=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=L9(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:ooe(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=S(this.transform.joinaggregate);try{for(i.s();!(e=i.n()).done;){var a=e.value;n.push(a.op),r.push(this.getDefaultName(a)),t.push(void 0===a.field?null:a.field)}}catch(u){i.e(u)}finally{i.f()}var o=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==o?{groupby:o}:{})}}]),n}(Vce);var uhe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e))._stack=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this._stack))}},{key:"stack",get:function(){return this._stack}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,pu(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(P9(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDefs,n=e.impute,r=e.groupby;return t.length>0?t.map((function(e){return e.bin?n?[ooe(e,{binSuffix:"mid"})]:[ooe(e,{}),ooe(e,{binSuffix:"end"})]:[ooe(e)]})).flat():null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDefs,i=t.stackField,a=t.stackby,o=t.sort,u=t.offset,s=t.impute,c=t.as;if(s){var l,f=S(r);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=d.bandPosition,p=void 0===h?.5:h;if(d.bin){var v=ooe(d,{expr:"datum"}),m=ooe(d,{expr:"datum",binSuffix:"end"});e.push({type:"formula",expr:"".concat(p,"*").concat(v,"+").concat(1-p,"*").concat(m),as:ooe(d,{binSuffix:"mid",forAs:!0})})}e.push({type:"impute",field:i,groupby:[].concat(pu(a),pu(n)),key:ooe(d,{binSuffix:"mid"}),method:"value",value:0})}}catch(g){f.e(g)}finally{f.f()}}return e.push({type:"stack",groupby:[].concat(pu(this.getGroupbyFields()),pu(n)),field:i,sort:o,as:c,offset:u}),e}}],[{key:"makeFromTransform",value:function(e,t){var r=t.stack,i=t.groupby,a=t.as,o=t.offset,u=void 0===o?"zero":o,s=[],c=[];if(void 0!==t.sort){var l,f=S(t.sort);try{for(f.s();!(l=f.n()).done;){var d=l.value;s.push(d.field),c.push(see(d.order,"ascending"))}}catch(v){f.e(v)}finally{f.f()}}var h,p={field:s,order:c};return h=function(e){return vk(e)&&e.every((function(e){return fE(e)}))&&e.length>1}(a)?a:fE(a)?[a,"".concat(a,"_end")]:["".concat(t.stack,"_start"),"".concat(t.stack,"_end")],new n(e,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:u,sort:p,facetby:[],as:h})}},{key:"makeFromEncoding",value:function(e,t){var r=t.stack,i=t.encoding;if(!r)return null;var a,o=r.groupbyChannels,u=r.fieldChannel,s=r.offset,c=r.impute,l=o.map((function(e){return yoe(i[e])})).filter((function(e){return!!e})),f=function(e){return e.stack.stackBy.reduce((function(e,t){var n=ooe(t.fieldDef);return n&&e.push(n),e}),[])}(t),d=t.encoding.order;return a=vk(d)||Vae(d)?One(d):f.reduce((function(e,t){return e.field.push(t),e.order.push("y"===u?"descending":"ascending"),e}),{field:[],order:[]}),new n(e,{dimensionFieldDefs:l,stackField:t.vgField(u),facetby:[],stackby:f,sort:a,offset:s,impute:c,as:[t.vgField(u,{suffix:"start",forAs:!0}),t.vgField(u,{suffix:"end",forAs:!0})]})}}]),n}(Vce),she=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).transform=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=L9(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:ooe(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e,t,n=[],r=[],i=[],a=[],o=S(this.transform.window);try{for(o.s();!(t=o.n()).done;){var u=t.value;r.push(u.op),i.push(this.getDefaultName(u)),a.push(void 0===u.param?null:u.param),n.push(void 0===u.field?null:u.field)}}catch(g){o.e(g)}finally{o.f()}var s=this.transform.frame,c=this.transform.groupby;if(s&&null===s[0]&&null===s[1]&&r.every((function(e){return Hte(e)})))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},void 0!==c?{groupby:c}:{});var l=[],f=[];if(void 0!==this.transform.sort){var d,h=S(this.transform.sort);try{for(h.s();!(d=h.n()).done;){var p=d.value;l.push(p.field),f.push(null!==(e=p.order)&&void 0!==e?e:"ascending")}}catch(g){h.e(g)}finally{h.f()}}var v={field:l,order:f},m=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:a,as:i,ops:r,fields:n,sort:v},void 0!==m?{ignorePeers:m}:{}),void 0!==c?{groupby:c}:{}),void 0!==s?{frame:s}:{})}}]),n}(Vce);function che(e){if(e instanceof Fde)if(1!==e.numChildren()||e.children[0]instanceof Gce){var t=e.model.component.data.main;lhe(t);var n,r=(o=e,function e(t){if(!(t instanceof Fde)){var n=t.clone();if(n instanceof Gce){var r=fhe+n.getSource();n.setSource(r),o.model.component.data.outputNodes[r]=n}else(n instanceof Tde||n instanceof uhe||n instanceof she||n instanceof ohe)&&n.addDimensions(o.fields);var i,a=S(t.children.flatMap(e));try{for(a.s();!(i=a.n()).done;)i.value.parent=n}catch(u){a.e(u)}finally{a.f()}return[n]}return t.children.flatMap(e)}),i=S(e.children.map(r).flat());try{for(i.s();!(n=i.n()).done;){n.value.parent=t}}catch(u){i.e(u)}finally{i.f()}}else{var a=e.children[0];(a instanceof Tde||a instanceof uhe||a instanceof she||a instanceof ohe)&&a.addDimensions(e.fields),a.swapWithParent(),che(e)}else e.children.map(che);var o}function lhe(e){if(e instanceof Gce&&e.type===Pce.Main&&1===e.numChildren()){var t=e.children[0];t instanceof Fde||(t.swapWithParent(),lhe(e))}}var fhe="scale_";function dhe(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=S(i.children);try{for(a.s();!(r=a.n()).done;){if(r.value.parent!==i)return!1}}catch(o){a.e(o)}finally{a.f()}if(!dhe(i.children))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}function hhe(e,t){var n,r=!1,i=S(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=e.optimize(a)||r}}catch(o){i.e(o)}finally{i.f()}return r}function phe(e,t,n){var r=e.sources,i=!1;return i=hhe(new Zde,r)||i,i=hhe(new Xde(t),r)||i,r=r.filter((function(e){return e.numChildren()>0})),i=hhe(new the,r)||i,r=r.filter((function(e){return e.numChildren()>0})),n||(i=hhe(new Jde,r)||i,i=hhe(new ihe(t),r)||i,i=hhe(new Qde,r)||i,i=hhe(new ehe,r)||i,i=hhe(new rhe,r)||i,i=hhe(new nhe,r)||i,i=hhe(new Kde,r)||i,i=hhe(new ahe,r)||i),e.sources=r,i}function vhe(e,t){dhe(e.sources);for(var n=0,r=0,i=0;i<5&&phe(e,t,!0);i++)n++;e.sources.map(che);for(var a=0;a<5&&phe(e,t,!1);a++)r++;dhe(e.sources),5===Math.max(n,r)&&xre("Maximum optimization runs(".concat(5,") reached."))}var mhe=function(){function e(t){au(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return uu(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}(),ghe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function yhe(e){Jhe(e)?function(e){var t,n=e.component.scales,r=S(G9(n));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=bhe(e,i);if(n[i].setWithExplicit("domains",a),khe(e,i),e.component.data.isFaceted){for(var o=e;!epe(o)&&o.parent;)o=o.parent;if("shared"===o.component.resolve.scale[i]){var u,s=S(a.value);try{for(s.s();!(u=s.n()).done;){var c=u.value;sne(c)&&(c.data=fhe+c.data.replace(fhe,""))}}catch(l){s.e(l)}finally{s.f()}}}}}catch(l){r.e(l)}finally{r.f()}}(e):function(e){var t,n=S(e.children);try{for(n.s();!(t=n.n()).done;){yhe(t.value)}}catch(h){n.e(h)}finally{n.f()}var r,i=e.component.scales,a=S(G9(i));try{for(a.s();!(r=a.n()).done;){var o,u=r.value,s=void 0,c=null,l=S(e.children);try{for(l.s();!(o=l.n()).done;){var f=o.value.component.scales[u];if(f){s=void 0===s?f.getWithExplicit("domains"):Fce(s,f.getWithExplicit("domains"),"domains","scale",Ohe);var d=f.get("selectionExtent");c&&d&&c.param!==d.param&&xre(Bne),c=d}}}catch(h){l.e(h)}finally{l.f()}i[u].setWithExplicit("domains",s),c&&i[u].set("selectionExtent",c,!0)}}catch(h){a.e(h)}finally{a.f()}}(e)}function bhe(e,t){var n=e.getScaleComponent(t).get("type"),r=e.encoding,i=function(e,t,n,r){if("unaggregated"===e){var i=Ehe(t,n),a=i.valid,o=i.reason;if(!a)return void xre(o)}else if(void 0===e&&r.useUnaggregatedDomain&&Ehe(t,n).valid)return"unaggregated";return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),"x"===t&&boe(r.x2)?boe(r.x)?Fce(whe(n,i,e,"x"),whe(n,i,e,"x2"),"domain","scale",Ohe):whe(n,i,e,"x2"):"y"===t&&boe(r.y2)?boe(r.y)?Fce(whe(n,i,e,"y"),whe(n,i,e,"y2"),"domain","scale",Ohe):whe(n,i,e,"y2"):whe(n,i,e,t)}function xhe(e,t,n){var r,i=null===(r=zre(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map((function(e){var r=Aoe(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(e,t,i):[e]}function whe(e,t,n,r){var i=boe(n.encoding[r]),a=i.type,o=i.timeUnit;if(function(e){return e&&e.unionWith}(t)){var u=whe(e,void 0,n,r),s=xhe(t.unionWith,a,o);return Cce([].concat(pu(u.value),pu(s)))}if(one(t))return Cce([t]);if(t&&"unaggregated"!==t&&!jie(t))return Cce(xhe(t,a,o));var c=n.stack;if(c&&r===c.fieldChannel){if("normalize"===c.offset)return Dce([[0,1]]);var l=n.requestDataName(Pce.Main);return Dce([{data:l,field:n.vgField(r,{suffix:"start"})},{data:l,field:n.vgField(r,{suffix:"end"})}])}var f=Nte(r)&&Vae(i)?function(e,t,n){if(!Sie(n))return;var r=e.fieldDef(t),i=r.sort;if(Pae(i))return{op:"min",field:Ffe(r,t),order:"ascending"};var a=e.stack,o=a?new Set([].concat(pu(a.groupbyFields),pu(a.stackBy.map((function(e){return e.fieldDef.field}))))):void 0;if(Fae(i))return _he(i,a&&!o.has(i.field));if(Tae(i)){var u=i.encoding,s=i.order,c=e.fieldDef(u),l=c.aggregate,f=c.field,d=a&&!o.has(f);if(qte(l)||Wte(l))return _he({field:ooe(c),order:s},d);if(Hte(l)||!l)return _he({op:l,field:f,order:s},d)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(N9(["ascending",void 0],i))return!0}return}(n,r,e):void 0;if(Yae(i))return Dce(xhe([i.datum],a,o));var d=i;if("unaggregated"===t){var h=n.requestDataName(Pce.Main),p=i.field;return Dce([{data:h,field:ooe({field:p,aggregate:"min"})},{data:h,field:ooe({field:p,aggregate:"max"})}])}if(Xte(d.bin)){if(Sie(e))return Dce("bin-ordinal"===e?[]:[{data:X9(f)?n.requestDataName(Pce.Main):n.requestDataName(Pce.Raw),field:n.vgField(r,Doe(d,r)?{binSuffix:"range"}:{}),sort:!0!==f&&mk(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var v=d.bin;if(Xte(v)){var m=Ade(n,d.field,v);return Dce([new mhe((function(){var e=n.getSignalName(m);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return Dce([{data:n.requestDataName(Pce.Main),field:n.vgField(r,{})}])}if(d.timeUnit&&N9(["time","utc"],e)&&qae(d,Jhe(n)?n.encoding[mte(r)]:void 0,n.markDef,n.config)){var g=n.requestDataName(Pce.Main);return Dce([{data:g,field:n.vgField(r)},{data:g,field:n.vgField(r,{suffix:"end"})}])}return Dce(f?[{data:X9(f)?n.requestDataName(Pce.Main):n.requestDataName(Pce.Raw),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(Pce.Main),field:n.vgField(r)}])}function _he(e,t){var n=e.op,r=e.field,i=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":Cae},r?{field:iee(r)}:{}),i?{order:i}:{})}function khe(e,t){var n,r=e.component.scales[t],i=e.specifiedScales[t].domain,a=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,o=jie(i)&&i,u=Zte(a)&&Jte(a.extent)&&a.extent;(o||u)&&r.set("selectionExtent",null!==o&&void 0!==o?o:u,!0)}function Ehe(e,t){var n=e.aggregate,r=e.type;return n?fE(n)&&!Yte.has(n)?{valid:!1,reason:nre(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:rre(e)}:{valid:!0}:{valid:!1,reason:tre(e)}}function Ohe(e,t,n,r){return e.explicit&&t.explicit&&xre(function(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(F9(n)," and ").concat(F9(r),"). Using the union of the two domains.")}(n,r,e.value,t.value)),{explicit:e.explicit,value:[].concat(pu(e.value),pu(t.value))}}function She(e){var t=L9(e.map((function(e){if(sne(e)){e.sort;return ghe(e,["sort"])}return e})),P9),n=L9(e.map((function(e){if(sne(e)){var t=e.sort;return void 0===t||X9(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),P9);if(0!==t.length){if(1===t.length){var r=e[0];if(sne(r)&&n.length>0){var i=n[0];if(n.length>1)xre(sre),i=!0;else if(mk(i)&&"field"in i){var a=i.field;r.field===a&&(i=!i.order||{order:i.order})}return Object.assign(Object.assign({},r),{sort:i})}return r}var o,u=L9(n.map((function(e){return X9(e)||!("op"in e)||fE(e.op)&&e.op in Ute?e:(xre(function(e){return"Dropping sort property ".concat(F9(e),' as unioned domains only support boolean or op "count", "min", and "max".')}(e)),!0)})),P9);1===u.length?o=u[0]:u.length>1&&(xre(sre),o=!0);var s=L9(e.map((function(e){return sne(e)?e.data:null})),(function(e){return e}));return 1===s.length&&null!==s[0]?Object.assign({data:s[0],fields:t.map((function(e){return e.field}))},o?{sort:o}:{}):Object.assign({fields:t},o?{sort:o}:{})}}function Ahe(e){if(sne(e)&&fE(e.field))return e.field;if(function(e){return!vk(e)&&"fields"in e&&!("data"in e)}(e)){var t,n,r=S(e.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(sne(i)&&fE(i.field))if(t){if(t!==i.field)return xre("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=i.field}}catch(o){r.e(o)}finally{r.f()}return xre("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function(e){return!vk(e)&&"fields"in e&&"data"in e}(e)){xre("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");var a=e.fields[0];return fE(a)?a:void 0}}function Che(e,t){var n=e.component.scales[t].get("domains").map((function(t){return sne(t)&&(t.data=e.lookupDataSource(t.data)),t}));return She(n)}var Dhe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function jhe(e){return npe(e)||tpe(e)?e.children.reduce((function(e,t){return e.concat(jhe(t))}),The(e)):The(e)}function The(e){return G9(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i=r.combine(),a=i.name,o=i.type,u=i.selectionExtent,s=(i.domains,i.range,i.reverse),c=Dhe(i,["name","type","selectionExtent","domains","range","reverse"]),l=function(e,t,n,r){if(Ote(n)){if(une(e))return{step:{signal:"".concat(t,"_step")}}}else if(mk(e)&&sne(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}(i.range,a,n,e),f=Che(e,n),d=u?function(e,t,n,r){var i=mfe(e,t.param,t);return{signal:Aie(n.get("type"))&&vk(r)&&r[0]>r[1]?"isValid(".concat(i,") && reverse(").concat(i,")"):i}}(e,u,r,f):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:a,type:o},f?{domain:f}:{}),d?{domainRaw:d}:{}),{range:l}),void 0!==s?{reverse:s}:{}),c)),t}),[])}var Fhe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,{},{name:e})).merged=!1,i.setWithExplicit("type",r),i}return uu(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||R9(this.get("domains"),(function(e){return vk(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),n}(Ace),Phe=["range","scheme"];function Mhe(e,t){var n=e.fieldDef(t);if(null===n||void 0===n?void 0:n.bin){var r=n.bin,i=n.field,a=gte(t),o=e.getName(a);if(mk(r)&&r.binned&&void 0!==r.step)return new mhe((function(){var n=e.scaleName(t),i='(domain("'.concat(n,'")[1] - domain("').concat(n,'")[0]) / ').concat(r.step);return"".concat(e.getSignalName(o)," / (").concat(i,")")}));if(Xte(r)){var u=Ade(e,i,r);return new mhe((function(){var t=e.getSignalName(u),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(o)," / (").concat(n,")")}))}}}function Nhe(e,t){var n,r=t.specifiedScales[e],i=t.size,a=t.getScaleComponent(e).get("type"),o=S(Phe);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(void 0!==r[u]){var s=Mie(a,u),c=Nie(e,u);if(s)if(c)xre(c);else switch(u){case"range":var l=r.range;if(vk(l)){if(Ote(e))return Cce(l.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),r=t.getSignalName.bind(t);return mhe.fromName(r,n)}return e})))}else if(mk(l))return Cce({data:t.requestDataName(Pce.Main),field:l.field,sort:{op:"min",field:t.vgField(e)}});return Cce(l);case"scheme":return Cce(Rhe(r[u]))}else xre(ore(a,u,e))}}}catch(b){o.e(b)}finally{o.f()}var f=e===xee||"xOffset"===e?"width":"height",d=i[f];if(que(d))if(Ote(e))if(Sie(a)){var h=Ihe(d,t,e);if(h)return Cce({step:h})}else xre(ure(f));else if(jte(e)){var p=e===Eee?"x":"y";if("band"===t.getScaleComponent(p).get("type")){var v=Bhe(d,a);if(v)return Cce(v)}}var m=r.rangeMin,g=r.rangeMax,y=function(e,t){var n=t.size,r=t.config,i=t.mark,a=t.encoding,o=t.getSignalName.bind(t),u=boe(a[e]).type,s=t.getScaleComponent(e).get("type"),c=t.specifiedScales[e],l=c.domain,f=c.domainMid;switch(e){case xee:case wee:if(N9(["point","band"],s)){var d=zhe(e,n,r.view);if(que(d))return{step:Ihe(d,t,e)}}var h=gte(e),p=t.getName(h);return e===wee&&Aie(s)?[mhe.fromName(o,p),0]:[0,mhe.fromName(o,p)];case Eee:case Oee:return function(e,t,n){var r=e===Eee?"x":"y",i=t.getScaleComponent(r).get("type"),a=t.scaleName(r);if("band"===i){var o=zhe(r,t.size,t.config.view);if(que(o)){var u=Bhe(o,n);if(u)return u}return[0,{signal:"bandwidth('".concat(a,"')")}]}return D9("Cannot use ".concat(e," scale if ").concat(r," scale is not discrete."))}(e,t,s);case Bee:var v=Lhe(i,t.component.scales[e].get("zero"),r),m=function(e,t,n,r){var i={x:Mhe(n,"x"),y:Mhe(n,"y")};switch(e){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var a=qhe(t,i,r.view);return cE(a)?a-1:new mhe((function(){return"".concat(a.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var o=qhe(t,i,r.view);return cE(o)?Math.pow(Uhe*o,2):new mhe((function(){return"pow(".concat(Uhe," * ").concat(o.signal,", 2)")}))}throw new Error(Kne("size",e))}(i,n,t,r);return Die(s)?function(e,t,n){var r=function(){var r=bne(t),i=bne(e),a="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(a,", ").concat(a,")")};return one(t)?new mhe(r):{signal:r()}}(v,m,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&vk(n)?n.length+1:(xre(function(e){return"Domain for ".concat(e," is required for threshold scale.")}(r)),3)}}(s,r,l,e)):[v,m];case Cee:return[0,2*Math.PI];case zee:return[0,360];case See:return[0,new mhe((function(){var e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case Wee:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Hee:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Iee:return"symbol";case Mee:case Nee:case Ree:return"ordinal"===s?"nominal"===u?"category":"ordinal":void 0!==f?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case Lee:case Uee:case qee:return[r.scale.minOpacity,r.scale.maxOpacity]}}(e,t);return(void 0!==m||void 0!==g)&&Mie(a,"rangeMin")&&vk(y)&&2===y.length?Cce([null!==m&&void 0!==m?m:y[0],null!==g&&void 0!==g?g:y[1]]):Dce(y)}function Rhe(e){return function(e){return!fE(e)&&!!e.name}(e)?Object.assign({scheme:e.name},T9(e,["name"])):{scheme:e}}function Ihe(e,t,n){var r,i,a,o,u,s=t.encoding,c=t.getScaleComponent(n),l=yte(n),f=s[l];if("offset"===Uue({step:e,offsetIsDiscrete:Qae(f)&&nie(f.type)})&&qoe(s,l)){var d=t.getScaleComponent(l),h=t.scaleName(l),p="domain('".concat(h,"').length");if("band"===d.get("type")){var v=null!==(i=null!==(r=d.get("paddingInner"))&&void 0!==r?r:d.get("padding"))&&void 0!==i?i:0,m=null!==(o=null!==(a=d.get("paddingOuter"))&&void 0!==a?a:d.get("padding"))&&void 0!==o?o:0;p="bandspace(".concat(p,", ").concat(v,", ").concat(m,")")}var g=null!==(u=c.get("paddingInner"))&&void 0!==u?u:c.get("padding");return{signal:"".concat(e.step," * ").concat(p," / (1-").concat(gne(g),")")}}return e.step}function Bhe(e,t){if("offset"===Uue({step:e,offsetIsDiscrete:Sie(t)}))return{step:e.step}}function zhe(e,t,n){var r=e===xee?"width":"height",i=t[r];return i||Yue(n,r)}function Lhe(e,t,n){if(t)return one(t)?{signal:"".concat(t.signal," ? 0 : ").concat(Lhe(e,!1,n))}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(Kne("size",e))}var Uhe=.95;function qhe(e,t,n){var r=que(e.width)?e.width.step:Gue(n,"width"),i=que(e.height)?e.height.step:Gue(n,"height");return t.x||t.y?new mhe((function(){var e=[t.x?t.x.signal:r,t.y?t.y.signal:i];return"min(".concat(e.join(", "),")")})):Math.min(r,i)}function Whe(e,t){Jhe(e)?function(e,t){var n,r=e.component.scales,i=e.config,a=e.encoding,o=e.markDef,u=e.specifiedScales,s=S(G9(r));try{for(s.s();!(n=s.n()).done;){var c=n.value,l=u[c],f=r[c],d=e.getScaleComponent(c),h=boe(a[c]),p=l[t],v=d.get("type"),m=d.get("padding"),g=d.get("paddingInner"),y=Mie(v,t),b=Nie(c,t);if(void 0!==p&&(y?b&&xre(b):xre(ore(v,t,c))),y&&void 0===b)if(void 0!==p){var x=h.timeUnit,w=h.type;switch(t){case"domainMax":case"domainMin":wre(l[t])||"temporal"===w||x?f.set(t,{signal:Aoe(l[t],{type:w,timeUnit:x})},!0):f.set(t,l[t],!0);break;default:f.copyKeyFromObject(t,l)}}else{var _=t in Hhe?Hhe[t]({model:e,channel:c,fieldOrDatumDef:h,scaleType:v,scalePadding:m,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:i,hasNestedOffsetScale:Woe(a,c)}):i.scale[t];void 0!==_&&f.set(t,_,!1)}}}catch(k){s.e(k)}finally{s.f()}}(e,t):Vhe(e,t)}var Hhe={bins:function(e){var t=e.model,n=e.fieldOrDatumDef;return Vae(n)?function(e,t){var n=t.bin;if(Xte(n)){var r=Ade(e,t.field,n);return new mhe((function(){return e.getSignalName(r)}))}if(Qte(n)&&Zte(n)&&void 0!==n.step)return{step:n.step};return}(t,n):void 0},interpolate:function(e){return function(e,t){if(N9([Mee,Nee,Ree],e)&&"nominal"!==t)return"hcl";return}(e.channel,e.fieldOrDatumDef.type)},nice:function(e){return function(e,t,n,r,i,a){var o;if((null===(o=yoe(a))||void 0===o?void 0:o.bin)||vk(n)||null!=i||null!=r||N9([die,hie],e))return;return!!Ote(t)||void 0}(e.scaleType,e.channel,e.domain,e.domainMin,e.domainMax,e.fieldOrDatumDef)},padding:function(e){var t=e.channel,n=e.scaleType,r=e.fieldOrDatumDef,i=e.markDef,a=e.config;return function(e,t,n,r,i,a){if(Ote(e)){if(Cie(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=i.type,u=i.orient;if("bar"===o&&(!Vae(r)||!r.bin&&!r.timeUnit)&&("vertical"===u&&"x"===e||"horizontal"===u&&"y"===e))return a.continuousBandSize}if(t===pie)return n.pointPadding}return}(t,n,a.scale,r,i,a.bar)},paddingInner:function(e){var t=e.scalePadding,n=e.channel,r=e.markDef,i=e.scaleType,a=e.config,o=e.hasNestedOffsetScale;return function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(Ote(t)){var o=i.bandPaddingInner,u=i.barBandPaddingInner,s=i.rectBandPaddingInner,c=i.bandWithNestedOffsetPaddingInner;return a?c:see(o,"bar"===n?u:s)}if(jte(t)&&r===vie)return i.offsetBandPaddingInner;return}(t,n,r.type,i,a.scale,o)},paddingOuter:function(e){var t=e.scalePadding,n=e.channel,r=e.scaleType,i=e.scalePaddingInner,a=e.config,o=e.hasNestedOffsetScale;return function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(Ote(t)){var o=i.bandPaddingOuter,u=i.bandWithNestedOffsetPaddingOuter;if(a)return u;if(n===vie)return see(o,one(r)?{signal:"".concat(r.signal,"/2")}:r/2)}else if(jte(t)){if(n===pie)return.5;if(n===vie)return i.offsetBandPaddingOuter}return}(t,n,r,i,a.scale,o)},reverse:function(e){var t=e.fieldOrDatumDef,n=e.scaleType,r=e.channel,i=e.config;return function(e,t,n,r){if("x"===n&&void 0!==r.xReverse)return Aie(e)&&"descending"===t?one(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(Aie(e)&&"descending"===t)return!0;return}(n,Vae(t)?t.sort:void 0,r,i.scale)},zero:function(e){return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&Aie(i)){if(vk(n)){var a=n[0],o=n[n.length-1];if(a<=0&&o>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!Die(i))return!0;if((!Vae(t)||!t.bin)&&N9([].concat(pu(Ete),pu(Ate)),e)){var u=r.orient;return!N9(["bar","area","line","trail"],r.type)||!("horizontal"===u&&"y"===e||"vertical"===u&&"x"===e)}return!1}(e.channel,e.fieldOrDatumDef,e.domain,e.markDef,e.scaleType)}};function $he(e){Jhe(e)?function(e){var t,n=e.component.scales,r=S(Mte);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=n[i];if(a){var o=Nhe(i,e);a.setWithExplicit("range",o)}}}catch(u){r.e(u)}finally{r.f()}}(e):Vhe(e,"range")}function Vhe(e,t){var n,r=e.component.scales,i=S(e.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;"range"===t?$he(a):Whe(a,t)}}catch(h){i.e(h)}finally{i.f()}var o,u=S(G9(r));try{for(u.s();!(o=u.n()).done;){var s,c=o.value,l=void 0,f=S(e.children);try{for(f.s();!(s=f.n()).done;){var d=s.value.component.scales[c];if(d)l=Fce(l,d.getWithExplicit(t),t,"scale",jce((function(e,n){return"range"===t&&e.step&&n.step?e.step-n.step:0})))}}catch(h){f.e(h)}finally{f.f()}r[c].setWithExplicit(t,l)}}catch(h){u.e(h)}finally{u.f()}}function Ghe(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Yhe(t,n,r,i),o=e.type;return Nte(t)?void 0!==o?Iie(t,o)?Vae(n)&&!Rie(o,n.type)?(xre(are(o,a)),a):o:(xre(ire(t,o,a)),a):a:null}function Yhe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":if(ite(e)||"discrete"===zte(e))return"shape"===e&&"ordinal"===t.type&&xre(Jne(e,"ordinal")),"ordinal";if(Ote(e)||jte(e)){if(N9(["rect","bar","image","rule"],n.type))return"band";if(r)return"band"}else if("arc"===n.type&&e in Ste)return"band";return oae(n[gte(e)])||toe(t)&&(null===(i=t.axis)||void 0===i?void 0:i.tickBand)?"band":"point";case"temporal":return ite(e)?"time":"discrete"===zte(e)?(xre(Jne(e,"temporal")),"ordinal"):Vae(t)&&t.timeUnit&&zre(t.timeUnit).utc?"utc":"time";case"quantitative":return ite(e)?Vae(t)&&Xte(t.bin)?"bin-ordinal":"linear":"discrete"===zte(e)?(xre(Jne(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Hne(t.type))}function Khe(e){Jhe(e)?e.component.scales=function(e){var t,n=e.encoding,r=e.mark,i=e.markDef,a={},o=S(Mte);try{for(o.s();!(t=o.n()).done;){var u=t.value,s=boe(n[u]);if(!s||r!==Zie||u!==Iee||s.type!==uie){var c=s&&s.scale;if(jte(u))if(!Woe(n,bte(u))){c&&xre(Xne(u));continue}if(s&&null!==c&&!1!==c){null!==c&&void 0!==c||(c={});var l=Ghe(c,u,s,i,Woe(n,u));a[u]=new Fhe(e.scaleName("".concat(u),!0),{value:l,explicit:c.type===l})}}}}catch(f){o.e(f)}finally{o.f()}return a}(e):e.component.scales=function(e){var t,n,r,i=e.component.scales={},a={},o=e.component.resolve,u=S(e.children);try{for(u.s();!(r=u.n()).done;){var s=r.value;Khe(s);var c,l=S(G9(s.component.scales));try{for(l.s();!(c=l.n()).done;){var f=c.value;if(null!==(t=(n=o.scale)[f])&&void 0!==t||(n[f]=ede(f,e)),"shared"===o.scale[f]){var d=a[f],h=s.component.scales[f].getWithExplicit("type");d?gie(d.value,h.value)?a[f]=Fce(d,h,"type","scale",Xhe):(o.scale[f]="independent",delete a[f]):a[f]=h}}}catch(k){l.e(k)}finally{l.f()}}}catch(k){u.e(k)}finally{u.f()}var p,v=S(G9(a));try{for(v.s();!(p=v.n()).done;){var m=p.value,g=e.scaleName(m,!0),y=a[m];i[m]=new Fhe(g,y);var b,x=S(e.children);try{for(x.s();!(b=x.n()).done;){var w=b.value,_=w.component.scales[m];_&&(w.renameScale(_.get("name"),g),_.merged=!0)}}catch(k){x.e(k)}finally{x.f()}}}catch(k){v.e(k)}finally{v.f()}return i}(e)}var Xhe=jce((function(e,t){return bie(e)-bie(t)}));var Qhe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Zhe=function(){function e(){au(this,e),this.nameMap={}}return uu(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function Jhe(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function epe(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function tpe(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function npe(e){return"layer"===(null===e||void 0===e?void 0:e.type)}var rpe=function(){function e(t,n,r,i,a,o,u){var s,c,l=this;au(this,e),this.type=n,this.parent=r,this.config=a,this.correctDataNames=function(e){var t,n,r;return(null===(t=e.from)||void 0===t?void 0:t.data)&&(e.from.data=l.lookupDataSource(e.from.data)),(null===(r=null===(n=e.from)||void 0===n?void 0:n.facet)||void 0===r?void 0:r.data)&&(e.from.facet.data=l.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=a,this.view=nne(u),this.name=null!==(s=t.name)&&void 0!==s?s:i,this.title=ane(t.title)?{text:t.title}:t.title?nne(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new Zhe,this.projectionNameMap=r?r.projectionNameMap:new Zhe,this.signalNameMap=r?r.signalNameMap:new Zhe,this.data=t.data,this.description=t.description,this.transforms=function(e){return e.map((function(e){return Hse(e)?{filter:S9(e.filter,eie)}:e}))}(null!==(c=t.transform)&&void 0!==c?c:[]),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var r,i,a=n[t],o={},u=a.spacing,s=a.columns;void 0!==u&&(o.spacing=u),void 0!==s&&(Rae(e)&&!Mae(e.facet)||Bue(e))&&(o.columns=s),zue(e)&&(o.columns=1);var c,l=S(Hue);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(void 0!==e[f])if("spacing"===f){var d=e[f];o[f]=cE(d)?d:{row:null!==(r=d.row)&&void 0!==r?r:u,column:null!==(i=d.column)&&void 0!==i?i:u}}else o[f]=e[f]}}catch(h){l.e(h)}finally{l.f()}return o}(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Rae(t)||(null===r||void 0===r?void 0:r.component.data.isFaceted)&&void 0===t.data},layoutSize:new Ace,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?C9(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return uu(e,[{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}},{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreRange;Khe(e),yhe(e);var n,r=S(Pie);try{for(r.s();!(n=r.n()).done;){Whe(e,n.value)}}catch(i){r.e(i)}finally{r.f()}t||$he(e)}(this)}},{key:"parseProjection",value:function(){Ede(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){pde(this)}},{key:"assembleEncodeFromView",value:function(e){e.style;var t,n=Qhe(e,["style"]),r={},i=S(G9(n));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=n[a];void 0!==o&&(r[a]=mne(o))}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"assembleGroupEncodeEntry",value:function(e){var t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=mne(this.description)),"unit"!==this.type&&"layer"!==this.type)?V9(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=Qhe(e,["spacing"]),r=this.component,i=this.config,a=function(e,t){var n,r={},i=S(ote);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=e[a];if(null===o||void 0===o?void 0:o.facetFieldDef){var u=Nfe(["titleAnchor","titleOrient"],o.facetFieldDef.header,t,a),s=u.titleAnchor,c=Pfe(a,u.titleOrient),l=Vfe(s,c);void 0!==l&&(r[c]=l)}}}catch(f){i.e(f)}finally{i.f()}return V9(r)?void 0:r}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),a?{titleBand:a}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e,t=this.component.layoutHeaders,n=[],r=S(ote);try{for(r.s();!(e=r.n()).done;){var i=e.value;t[i].title&&n.push(Bfe(this,i))}}catch(s){r.e(s)}finally{r.f()}var a,o=S(Rfe);try{for(o.s();!(a=o.n()).done;){var u=a.value;n=n.concat(Ufe(this,u))}}catch(s){o.e(s)}finally{o.f()}return n}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,i=e.y,a=void 0===i?[]:i;return[].concat(pu(r.map((function(e){return wfe(e,"grid",t)}))),pu(a.map((function(e){return wfe(e,"grid",t)}))),pu(r.map((function(e){return wfe(e,"main",t)}))),pu(a.map((function(e){return wfe(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return bde(this)}},{key:"assembleProjections",value:function(){return xde(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},i=r.encoding,a=Qhe(r,["encoding"]),o=Object.assign(Object.assign(Object.assign({},ine(this.config.title).nonMarkTitleProperties),a),i?{encode:{update:i}}:{});if(o.text)return N9(["unit","layer"],this.type)?N9(["middle",void 0],o.anchor)&&(null!==(t=o.frame)&&void 0!==t||(o.frame="group")):null!==(n=o.anchor)&&void 0!==n||(o.anchor="start"),V9(o)?void 0:o}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||epe(this.parent)?jhe(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t}},{key:"getName",value:function(e){return Q9((this.name?"".concat(this.name,"_"):"")+e)}},{key:"getDataName",value:function(e){return this.getName(Pce[e].toLowerCase())}},{key:"requestDataName",value:function(e){var t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}},{key:"getSizeSignalRef",value:function(e){if(epe(this.parent)){var t=Cte(Zfe(e)),n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(Sie(r)&&une(i)){var a=n.get("name"),o=Ahe(Che(this,t));return o?{signal:Qfe(a,n,ooe({aggregate:"distinct",field:o},{expr:"datum"}))}:(xre(Mne(t)),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):fte(e)&&Nte(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error('Cannot find a selection named "'.concat(t,'".'));return n}},{key:"hasAxisOrientSignalRef",value:function(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((function(e){return e.hasOrientSignalRef()})))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((function(e){return e.hasOrientSignalRef()})))}}]),e}(),ipe=function(e){Ip(n,e);var t=qp(n);function n(){return au(this,n),t.apply(this,arguments)}return uu(n,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return ooe(n,t)}},{key:"reduceFieldDef",value:function(e,t){return function(e,t,n,r){return e?G9(e).reduce((function(n,i){var a=e[i];return vk(a)?a.reduce((function(e,n){return t.call(r,e,n,i)}),n):t.call(r,n,a,i)}),n):n}(this.getMapping(),(function(t,n,r){var i=yoe(n);return i?e(t,i,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){Koe(this.getMapping(),(function(t,n){var r=yoe(t);r&&e(r,n)}),t)}}]),n}(rpe),ape=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ope=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i,a,o,u;au(this,n),(i=t.call(this,e)).transform=r,i.transform=C9(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:"value",null!==(u=s[1])&&void 0!==u?u:"density"],i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(pu(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=ape(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),n}(Vce),upe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).filter=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(G9(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(P9(this.filter))}},{key:"assemble",value:function(){var e=this,t=G9(this.filter).reduce((function(t,n){var r=e.filter[n],i=ooe(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(i,")")),t.push("isFinite(+".concat(i,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,t){var r=t.config,i=t.mark;if("filter"!==wne("invalid",t.markDef,r))return null;var a=t.reduceFieldDef((function(e,n,r){var a=Nte(r)&&t.getScaleComponent(r);a&&(Aie(a.get("type"))&&"count"!==n.aggregate&&!Jie(i)&&(e[n.field]=n));return e}),{});return G9(a).length?new n(e,a):null}}]),n}(Vce),spe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;au(this,n),(i=t.call(this,e)).transform=r,i.transform=C9(r);var a=i.transform,o=a.flatten,u=a.as,s=void 0===u?[]:u;return i.transform.as=o.map((function(e,t){var n;return null!==(n=s[t])&&void 0!==n?n:e})),i}return uu(n,[{key:"clone",value:function(){return new n(this.parent,C9(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),n}(Vce),cpe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i,a,o,u;au(this,n),(i=t.call(this,e)).transform=r,i.transform=C9(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:"key",null!==(u=s[1])&&void 0!==u?u:"value"],i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),n}(Vce),lpe=function(e){Ip(n,e);var t=qp(n);function n(e,r,i,a){var o;return au(this,n),(o=t.call(this,e)).fields=r,o.geojson=i,o.signal=a,o}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(fE);return new Set([].concat(pu(this.geojson?[this.geojson]:[]),pu(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(P9(this.fields))}},{key:"assemble",value:function(){return[].concat(pu(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[]),[Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})])}}],[{key:"parseAll",value:function(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;for(var r=0,i=0,a=[[Tee,jee],[Pee,Fee]];i<a.length;i++){var o=a[i].map((function(e){var n=boe(t.encoding[e]);return Vae(n)?n.field:Yae(n)?{expr:"".concat(n.datum)}:Jae(n)?{expr:"".concat(n.value)}:void 0}));(o[0]||o[1])&&(e=new n(e,o,null,t.getName("geojson_".concat(r++))))}if(t.channelHasField(Iee)){var u=t.typedFieldDef(Iee);u.type===uie&&(e=new n(e,null,u.field,t.getName("geojson_".concat(r++))))}return e}}]),n}(Vce),fpe=function(e){Ip(n,e);var t=qp(n);function n(e,r,i,a){var o;return au(this,n),(o=t.call(this,e)).projection=r,o.fields=i,o.as=a,o}return uu(n,[{key:"clone",value:function(){return new n(null,this.projection,C9(this.fields),C9(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(fE))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(P9(this.fields)," ").concat(P9(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,t){if(!t.projectionName())return e;for(var r=0,i=[[Tee,jee],[Pee,Fee]];r<i.length;r++){var a=i[r],o=a.map((function(e){var n=boe(t.encoding[e]);return Vae(n)?n.field:Yae(n)?{expr:"".concat(n.datum)}:Jae(n)?{expr:"".concat(n.value)}:void 0})),u=a[0]===Pee?"2":"";(o[0]||o[1])&&(e=new n(e,t.projectionName(),o,[t.getName("x".concat(u)),t.getName("y".concat(u))]))}return e}}]),n}(Vce),dpe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).transform=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(pu(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,i=e.step,a=[n,r].concat(pu(i?[i]:[])).join(",");return{signal:"sequence(".concat(a,")")}}},{key:"hash",value:function(){return"Impute ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.impute,n=e.key,r=e.keyvals,i=e.method,a=e.groupby,o=e.value,u=e.frame,s=void 0===u?[null,null]:u,c=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},r?{keyvals:$se(r)?this.processSequence(r):r}:{}),{method:"value"}),a?{groupby:a}:{}),{value:i&&"value"!==i?null:o});return i&&"value"!==i?[c,Object.assign({type:"window",as:["imputed_".concat(t,"_value")],ops:[i],fields:[t],frame:s,ignorePeers:!1},a?{groupby:a}:{}),{type:"formula",expr:"datum.".concat(t," === null ? datum.imputed_").concat(t,"_value : datum.").concat(t),as:t}]:[c]}}],[{key:"makeFromTransform",value:function(e,t){return new n(e,t)}},{key:"makeFromEncoding",value:function(e,t){var r=t.encoding,i=r.x,a=r.y;if(Vae(i)&&Vae(a)){var o=i.impute?i:a.impute?a:void 0;if(void 0===o)return;var u=i.impute?a:a.impute?i:void 0,s=o.impute,c=s.method,l=s.value,f=s.frame,d=s.keyvals,h=Xoe(t.mark,r);return new n(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:u.field},c?{method:c}:{}),void 0!==l?{value:l}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),n}(Vce),hpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ppe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i,a,o,u;au(this,n),(i=t.call(this,e)).transform=r,i.transform=C9(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:r.on,null!==(u=s[1])&&void 0!==u?u:r.loess],i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(pu(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=hpe(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),n}(Vce),vpe=function(e){Ip(n,e);var t=qp(n);function n(e,r,i){var a;return au(this,n),(a=t.call(this,e)).transform=r,a.secondary=i,a}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?Lk(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(P9({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Lk(this.transform.as)}:{});else{var t=this.transform.as;fE(t)||(xre('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,t,r,i){var a=t.component.data.sources,o=r.from,u=null;if(function(e){return"data"in e}(o)){var s=Ppe(o.data,a);s||(s=new qde(o.data),a.push(s));var c=t.getName("lookup_".concat(i));u=new Gce(s,c,Pce.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[c]=u}else if(function(e){return"param"in e}(o)){var l,f=o.param;r=Object.assign({as:f},r);try{l=t.getSelectionComponent(Q9(f),f)}catch(Xwe){throw new Error('Lookups can only be performed on selection parameters. "'.concat(f,'" is a variable parameter.'))}if(!(u=l.materialized))throw new Error(function(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}(f))}return new n(e,r,u.getSource())}}]),n}(Vce),mpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},gpe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i,a,o,u;au(this,n),(i=t.call(this,e)).transform=r,i.transform=C9(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:"prob",null!==(u=s[1])&&void 0!==u?u:"value"],i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(pu(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=mpe(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),n}(Vce),ype=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},bpe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i,a,o,u;au(this,n),(i=t.call(this,e)).transform=r,i.transform=C9(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:r.on,null!==(u=s[1])&&void 0!==u?u:r.regression],i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(pu(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=ype(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),n}(Vce),xpe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).transform=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=L9((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(pu(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,i=e.limit,a=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==i?{limit:i}:{}),void 0!==a?{op:a}:{}),void 0!==r?{groupby:r}:{})}}]),n}(Vce),wpe=function(e){Ip(n,e);var t=qp(n);function n(e,r){var i;return au(this,n),(i=t.call(this,e)).transform=r,i}return uu(n,[{key:"clone",value:function(){return new n(null,C9(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(P9(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(Vce);function _pe(e){var t=0;return function n(r,i){var a,o,u,s;if(r instanceof qde&&(r.isGenerator||Nce(r.data)||(e.push(i),i={name:null,source:i.name,transform:[]})),r instanceof Bde&&(r.parent instanceof qde&&!i.source?(i.format=Object.assign(Object.assign({},null!==(a=i.format)&&void 0!==a?a:{}),{parse:r.assembleFormatParse()}),(o=i.transform).push.apply(o,pu(r.assembleTransforms(!0)))):(u=i.transform).push.apply(u,pu(r.assembleTransforms()))),r instanceof Fde)return i.name||(i.name="data_".concat(t++)),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void e.push.apply(e,pu(r.assemble()));if((r instanceof Lde||r instanceof Ude||r instanceof upe||r instanceof pfe||r instanceof Tfe||r instanceof fpe||r instanceof Tde||r instanceof vpe||r instanceof she||r instanceof ohe||r instanceof cpe||r instanceof spe||r instanceof ope||r instanceof ppe||r instanceof gpe||r instanceof bpe||r instanceof zde||r instanceof wpe||r instanceof xpe)&&i.transform.push(r.assemble()),(r instanceof Dde||r instanceof Kce||r instanceof dpe||r instanceof uhe||r instanceof lpe)&&(s=i.transform).push.apply(s,pu(r.assemble())),r instanceof Gce)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof Gce)r.setSource(i.name);else{if(i.name||(i.name="data_".concat(t++)),r.setSource(i.name),1===r.numChildren())e.push(i),i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof Gce&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(t++));var c=i.name;!i.source||i.transform.length>0?e.push(i):c=i.source;var l,f=S(r.children);try{for(f.s();!(l=f.n()).done;){n(l.value,{name:null,source:c,transform:[]})}}catch(d){f.e(d)}finally{f.f()}}}}function kpe(e,t){var n,r,i,a=[],o=_pe(a),u=0,s=S(e.sources);try{for(s.s();!(i=s.n()).done;){var c=i.value;c.hasName()||(c.dataName="source_".concat(u++));var l=c.assemble();o(c,l)}}catch(j){s.e(j)}finally{s.f()}for(var f=0,d=a;f<d.length;f++){var h=d[f];0===h.transform.length&&delete h.transform}var p,v=0,m=S(a.entries());try{for(m.s();!(p=m.n()).done;){var g=D(p.value,2),y=g[0],b=g[1];0!==(null!==(n=b.transform)&&void 0!==n?n:[]).length||b.source||a.splice(v++,0,a.splice(y,1)[0])}}catch(j){m.e(j)}finally{m.f()}for(var x=0,w=a;x<w.length;x++){var _,k=S(null!==(r=w[x].transform)&&void 0!==r?r:[]);try{for(k.s();!(_=k.n()).done;){var E=_.value;"lookup"===E.type&&(E.from=e.outputNodes[E.from].getSource())}}catch(j){k.e(j)}finally{k.f()}}for(var O=0,A=a;O<A.length;O++){var C=A[O];C.name in t&&(C.values=t[C.name])}return a}function Epe(e){return"top"===e||"left"===e||one(e)?"header":"footer"}function Ope(e,t){var n,r=e.facet,i=e.config,a=e.child,o=e.component;if(e.channelHasField(t)){var u=r[t],s=Mfe("title",null,i,t),c=hoe(u,i,{allowDisabling:!0,includeDefault:void 0===s||!!s});a.component.layoutHeaders[t].title&&(c=vk(c)?c.join(", "):c,c+=" / ".concat(a.component.layoutHeaders[t].title),a.component.layoutHeaders[t].title=null);var l=Mfe("labelOrient",u.header,i,t),f=null!==u.header&&see(null===(n=u.header)||void 0===n?void 0:n.labels,i.header.labels,!0),d=N9(["bottom","right"],l)?"footer":"header";o.layoutHeaders[t]=du({title:null!==u.header?c:null,facetFieldDef:u},d,"facet"===t?[]:[Spe(e,t,f)])}}function Spe(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Ape(e,t){var n,r=e.child;if(r.component.axes[t]){var i=e.component,a=i.layoutHeaders,o=i.resolve;if(o.axis[t]=tde(o,t),"shared"===o.axis[t]){var u,s="x"===t?"column":"row",c=a[s],l=S(r.component.axes[t]);try{for(l.s();!(u=l.n()).done;){var f=u.value,d=Epe(f.get("orient"));null!==(n=c[d])&&void 0!==n||(c[d]=[Spe(e,s,!1)]);var h=wfe(f,"main",e.config,{header:!0});h&&c[d][0].axes.push(h),f.mainExtracted=!0}}catch(p){l.e(p)}finally{l.f()}}}}function Cpe(e){var t,n=S(e.children);try{for(n.s();!(t=n.n()).done;){t.value.parseLayoutSize()}}catch(r){n.e(r)}finally{n.f()}}function Dpe(e,t){var n,r,i,a=Zfe(t),o=Cte(a),u=e.component.resolve,s=e.component.layoutSize,c=S(e.children);try{for(c.s();!(i=c.n()).done;){var l=i.value.component.layoutSize.getWithExplicit(a),f=null!==(n=u.scale[o])&&void 0!==n?n:ede(o,e);if("independent"===f&&"step"===l.value){r=void 0;break}if(r){if("independent"===f&&r.value!==l.value){r=void 0;break}r=Fce(r,l,a,"")}else r=l}}catch(v){c.e(v)}finally{c.f()}if(r){var d,h=S(e.children);try{for(h.s();!(d=h.n()).done;){var p=d.value;e.renameSignal(p.getName(a),e.getName(t)),p.component.layoutSize.set(a,"merged",!1)}}catch(v){h.e(v)}finally{h.f()}s.setWithExplicit(t,r)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function jpe(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");if(Sie(a)){var u=Yue(r.view,t);return une(o)||que(u)?"step":u}return Vue(r.view,t)}if(e.hasProjection||"arc"===e.mark)return Vue(r.view,t);var s=Yue(r.view,t);return que(s)?s.step:s}function Tpe(e,t,n){return ooe(t,Object.assign({suffix:"by_".concat(ooe(e))},null!==n&&void 0!==n?n:{}))}var Fpe=function(e){Ip(n,e);var t=qp(n);function n(e,r,i,a){var o;return au(this,n),(o=t.call(this,e,"facet",r,i,a,e.resolve)).child=cve(e.spec,ji(o),o.getName("child"),void 0,a),o.children=[o.child],o.facet=o.initFacet(e.facet),o}return uu(n,[{key:"initFacet",value:function(e){if(!Mae(e))return{facet:this.initFacetFieldDef(e,"facet")};var t,n={},r=S(G9(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(![gee,yee].includes(i)){xre(Kne(i,"facet"));break}var a=e[i];if(void 0===a.field){xre(Yne(a,i));break}n[i]=this.initFacetFieldDef(a,i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"initFacetFieldDef",value:function(e,t){var n=_oe(e,t);return n.header?n.header=nne(n.header):null===n.header&&(n.header=null),n}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=Mpe(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){Cpe(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t,n=S(ote);try{for(n.s();!(t=n.n()).done;)Ope(e,t.value)}catch(r){n.e(r)}finally{n.f()}Ape(e,"x"),Ape(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r,i={},a=S(ote);try{for(a.s();!(r=a.n()).done;){var o,u=r.value,s=S(Ife);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=this.component.layoutHeaders[u],f=l[c],d=l.facetFieldDef;if(d){var h=Mfe("titleOrient",d.header,this.config,u);if(["right","bottom"].includes(h)){var p=Pfe(u,h);null!==(e=i.titleAnchor)&&void 0!==e||(i.titleAnchor={}),i.titleAnchor[p]="end"}}if(null===f||void 0===f?void 0:f[0]){var v="row"===u?"height":"width",m="header"===c?"headerBand":"footerBand";"facet"===u||this.child.component.layoutSize.get(v)||(null!==(t=i[m])&&void 0!==t||(i[m]={}),i[m][u]=.5),l.title&&(null!==(n=i.offset)&&void 0!==n||(i.offset={}),i.offset["row"===u?"rowTitle":"columnTitle"]=10)}}}catch(g){s.e(g)}finally{s.f()}}}catch(g){a.e(g)}finally{a.f()}return i}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:ooe(this.facet.column,{prefix:"distinct"})}}}}:{}),pse(Bp(n.prototype),"assembleGroup",this).call(this,e)):pse(Bp(n.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],t=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var i=ooe(this.child.facet.column);e.push(i),t.push("distinct"),r.push("distinct_".concat(i))}}else{var a,o=S(Ete);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=this.child.component.scales[u];if(s&&!s.merged){var c=s.get("type"),l=s.get("range");if(Sie(c)&&une(l)){var f=Ahe(Che(this.child,u));f?(e.push(f),t.push("distinct"),r.push("distinct_".concat(f))):xre(Mne(u))}}}}catch(d){o.e(d)}finally{o.f()}}return{fields:e,ops:t,as:r}}},{key:"assembleFacet",value:function(){var e,t=this.component.data.facetRoot,n=t.name,r=t.data,i=this.facet,a=i.row,o=i.column,u=this.getCardinalityAggregateForChild(),s=u.fields,c=u.ops,l=u.as,f=[],d=S(ote);try{for(d.s();!(e=d.n()).done;){var h=e.value,p=this.facet[h];if(p){f.push(ooe(p));var v=p.bin,m=p.sort;if(Xte(v)&&f.push(ooe(p,{binSuffix:"end"})),Fae(m)){var g=m.field,y=m.op,b=void 0===y?Cae:y,x=Tpe(p,m);a&&o?(s.push(x),c.push("max"),l.push(x)):(s.push(g),c.push(b),l.push(x))}else if(vk(m)){var w=Ffe(p,h);s.push(w),c.push("max"),l.push(w)}}}}catch(k){d.e(k)}finally{d.f()}var _=!!a&&!!o;return Object.assign({name:n,data:r,groupby:f},_||s.length>0?{aggregate:Object.assign(Object.assign({},_?{cross:_}:{}),s.length?{fields:s,ops:c,as:l}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?Fae(t.sort)?[Tpe(t,t.sort,{expr:"datum"})]:vk(t.sort)?[Ffe(t,e,{expr:"datum"})]:[ooe(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(Fae(n)?n.order:!vk(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e,t=this.facet,n=this.config;if(t.facet)return Wfe(t.facet,"facet",n);var r,i={row:["top","bottom"],column:["left","right"]},a=S(Rfe);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(t[o]){var u=Mfe("labelOrient",null===(e=t[o])||void 0===e?void 0:e.header,n,o);if(i[o].includes(u))return Wfe(t[o],o,n)}}}catch(s){a.e(s)}finally{a.f()}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t,n=[],r=_pe(n),i=S(e.children);try{for(i.s();!(t=i.n()).done;)r(t.value,{source:e.name,name:null,transform:[]})}catch(a){i.e(a)}finally{i.f()}return n}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle(),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),a?{style:a}:{}),{from:{facet:this.assembleFacet()},sort:{field:ote.map((function(t){return e.facetSortFields(t)})).flat(),order:ote.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&G9(e.component.selection).length){var n=bE(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:u6("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return $ce(t)}(this,[])));return[o]}},{key:"getMapping",value:function(){return this.facet}}]),n}(ipe);function Ppe(e,t){var n,r,i,a,o,u=S(t);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=s.data;if(!e.name||!s.hasName()||e.name===s.dataName){var l=null===(n=e.format)||void 0===n?void 0:n.mesh,f=null===(r=c.format)||void 0===r?void 0:r.feature;if(!l||!f){var d=null===(i=e.format)||void 0===i?void 0:i.feature;if(!d&&!f||d===f){var h=null===(a=c.format)||void 0===a?void 0:a.mesh;if(!l&&!h||l===h)if(Rce(e)&&Rce(c)){if(A9(e.values,c.values))return s}else if(Nce(e)&&Nce(c)){if(e.url===c.url)return s}else if(Ice(e)&&e.name===s.dataName)return s}}}}}catch(p){u.e(p)}finally{u.f()}return null}function Mpe(e){var t,n,r,i,a,o,u,s,c,l,f=function(e,t){if(e.data||!e.parent){if(null===e.data){var n=new qde({values:[]});return t.push(n),n}var r=Ppe(e.data,t);if(r)return Bce(e.data)||(r.data.format=B9({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var i=new qde(e.data);return t.push(i),i}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources),d=e.component.data,h=d.outputNodes,p=d.outputNodeRefCounts,v=e.data,m=!(v&&(Bce(v)||Nce(v)||Rce(v)))&&e.parent?e.parent.component.data.ancestorParse.clone():new Mce;Bce(v)?(zce(v)?f=new Ude(f,v.sequence):Uce(v)&&(f=new Lde(f,v.graticule)),m.parseNothing=!0):null===(null===(t=null===v||void 0===v?void 0:v.format)||void 0===t?void 0:t.parse)&&(m.parseNothing=!0),f=null!==(n=Bde.makeExplicit(f,e,m))&&void 0!==n?n:f,f=new zde(f);var g=e.parent&&npe(e.parent);(Jhe(e)||epe(e))&&g&&(f=null!==(r=Dde.makeFromEncoding(f,e))&&void 0!==r?r:f),e.transforms.length>0&&(f=function(e,t,n){var r,i,a,o=0,u=S(t.transforms);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=void 0,l=void 0;if(nce(s))l=e=new Tfe(e,s),c="derived";else if(Hse(s)){var f=Nde(s);l=e=null!==(r=Bde.makeWithAncestors(e,{},f,n))&&void 0!==r?r:e,e=new pfe(e,t,s.filter)}else if(rce(s))l=e=Dde.makeFromTransform(e,s,t),c="number";else if(ace(s))c="date",void 0===n.getWithExplicit(s.field).value&&(e=new Bde(e,du({},s.field,c)),n.set(s.field,c,!1)),l=e=Kce.makeFromTransform(e,s);else if(oce(s))l=e=Tde.makeFromTransform(e,s),c="number",cfe(t)&&(e=new zde(e));else if(Vse(s))l=e=vpe.make(e,t,s,o++),c="derived";else if(Jse(s))l=e=new she(e,s),c="number";else if(ece(s))l=e=new ohe(e,s),c="number";else if(uce(s))l=e=uhe.makeFromTransform(e,s),c="derived";else if(sce(s))l=e=new cpe(e,s),c="derived";else if(tce(s))l=e=new spe(e,s),c="derived";else if(Gse(s))l=e=new xpe(e,s),c="derived";else if(Zse(s))e=new wpe(e,s);else if(ice(s))l=e=dpe.makeFromTransform(e,s),c="derived";else if(Yse(s))l=e=new ope(e,s),c="derived";else if(Kse(s))l=e=new gpe(e,s),c="derived";else if(Xse(s))l=e=new bpe(e,s),c="derived";else{if(!Qse(s)){xre(Une(s));continue}l=e=new ppe(e,s),c="derived"}if(l&&void 0!==c){var d,h=S(null!==(i=l.producedFields())&&void 0!==i?i:[]);try{for(h.s();!(d=h.n()).done;){var p=d.value;n.set(p,c,!1)}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){u.e(v)}finally{u.f()}return e}(f,e,m));var y=function(e){var t={};if(Jhe(e)&&e.component.selection){var n,r=S(G9(e.component.selection));try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=S(e.component.selection[a].project.items);try{for(o.s();!(i=o.n()).done;){var u=i.value;!u.channel&&uee(u.field)>1&&(t[u.field]="flatten")}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}}return t}(e),b=Rde(e);f=null!==(i=Bde.makeWithAncestors(f,{},Object.assign(Object.assign({},y),b),m))&&void 0!==i?i:f,Jhe(e)&&(f=lpe.parseAll(f,e),f=fpe.parseAll(f,e)),(Jhe(e)||epe(e))&&(g||(f=null!==(a=Dde.makeFromEncoding(f,e))&&void 0!==a?a:f),f=null!==(o=Kce.makeFromEncoding(f,e))&&void 0!==o?o:f,f=Tfe.parseAllForSortIndex(f,e));var x=e.getDataName(Pce.Raw),w=new Gce(f,x,Pce.Raw,p);if(h[x]=w,f=w,Jhe(e)){var _=Tde.makeFromEncoding(f,e);_&&(f=_,cfe(e)&&(f=new zde(f))),f=null!==(u=dpe.makeFromEncoding(f,e))&&void 0!==u?u:f,f=null!==(s=uhe.makeFromEncoding(f,e))&&void 0!==s?s:f}Jhe(e)&&(f=null!==(c=upe.make(f,e))&&void 0!==c?c:f);var k=e.getDataName(Pce.Main),E=new Gce(f,k,Pce.Main,p);h[k]=E,f=E,Jhe(e)&&function(e,t){var n,r,i=S(K9(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var a=D(r.value,2),o=a[0],u=a[1],s=e.getName("lookup_".concat(o));e.component.data.outputNodes[s]=u.materialized=new Gce(new pfe(t,e,{param:o}),s,Pce.Lookup,e.component.data.outputNodeRefCounts)}}catch(c){i.e(c)}finally{i.f()}}(e,E);var O=null;if(epe(e)){var A=e.getName("facet");f=null!==(l=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var i=null,a=0,o=[n,r];a<o.length;a++){var u=o[a];if(Fae(u.sort)){var s=u.sort,c=s.field,l=s.op;e=i=new ohe(e,{joinaggregate:[{op:void 0===l?Cae:l,field:c,as:Tpe(u,u.sort,{forAs:!0})}],groupby:[ooe(u)]})}}return i}return null}(f,e.facet))&&void 0!==l?l:f,O=new Fde(f,e,A,E.getSource()),h[A]=O}return Object.assign(Object.assign({},e.component.data),{outputNodes:h,outputNodeRefCounts:p,raw:w,main:E,facetRoot:O,ancestorParse:m})}var Npe=function(e){Ip(n,e);var t=qp(n);function n(e,r,i,a){var o,u,s,c,l;return au(this,n),o=t.call(this,e,"concat",r,i,a,e.resolve),"shared"!==(null===(s=null===(u=e.resolve)||void 0===u?void 0:u.axis)||void 0===s?void 0:s.x)&&"shared"!==(null===(l=null===(c=e.resolve)||void 0===c?void 0:c.axis)||void 0===l?void 0:l.y)||xre("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),o.children=o.getChildren(e).map((function(e,t){return cve(e,ji(o),o.getName("concat_".concat(t)),void 0,a)})),o}return uu(n,[{key:"parseData",value:function(){this.component.data=Mpe(this);var e,t=S(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=S(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,i=S(G9(n.component.selection));try{for(i.s();!(r=i.n()).done;){var a=r.value;this.component.selection[a]=n.component.selection[a]}}catch(o){i.e(o)}finally{i.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=S(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){var e,t=S(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseAxesAndHeaders()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getChildren",value:function(e){return zue(e)?e.vconcat:Lue(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){!function(e){Cpe(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";Dpe(e,t),Dpe(e,n)}(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e,t=Yfe(this),n=S(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,pu(r.assembleLayoutSignals()))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),n}(rpe);var Rpe=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},Moe),{labelExpr:1,encode:1}),Ipe=G9(Rpe),Bpe=function(e){Ip(n,e);var t=qp(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return au(this,n),(e=t.call(this)).explicit=r,e.implicit=i,e.mainExtracted=a,e}return uu(n,[{key:"clone",value:function(){return new n(C9(this.explicit),C9(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}},{key:"hasOrientSignalRef",value:function(){return one(this.explicit.orient)}}]),n}(Ace);var zpe={bottom:"top",top:"bottom",left:"right",right:"left"};function Lpe(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r],a=t[r];if(!!i!==!!a)return;if(i&&a){var o=i.getWithExplicit("orient"),u=a.getWithExplicit("orient");if(o.explicit&&u.explicit&&o.value!==u.value)return;e[r]=Upe(i,a)}}return e}}function Upe(e,t){var n,r=S(Ipe);try{var i=function(){var r=n.value,i=Fce(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(function(e,t){switch(r){case"title":return Cne(e,t);case"gridScale":return{explicit:e.explicit,value:see(e.value,t.value)}}return Tce(e,t,r,"axis")}));e.setWithExplicit(r,i)};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return e}function qpe(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(one(n.labelAngle)?n.labelAngle:pee(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===jfe(r,i))return!0}return e===n[t]}var Wpe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Hpe(e,t){var n,r,i,a=t.axis(e),o=new Bpe,u=boe(t.encoding[e]),s=t.mark,c=t.config,l=(null===a||void 0===a?void 0:a.orient)||(null===(n=c["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=c.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=function(e,t,n,r){var i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:_ie(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],a="x"===e?"axisX":"axisY",o=one(n)?"axisOrient":"axis".concat(eee(n)),u=[].concat(i,pu(i.map((function(e){return a+e.substr(4)})))),s=["axis",o,a];return{vlOnlyAxisConfig:kfe(u,r,e,n),vgAxisConfig:kfe(s,r,e,n),axisConfigStyle:Efe([].concat(s,pu(u)),r)}}(e,f,l,t.config),h=void 0!==a?!a:Ofe("disable",c.style,null===a||void 0===a?void 0:a.style,d).configValue;if(o.set("disable",h,void 0!==a),h)return o;var p,v=function(e,t,n,r,i){var a=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==a)return one(a)?a:pee(a);var o=Ofe("labelAngle",r,null===t||void 0===t?void 0:t.style,i).configValue;return void 0!==o?pee(o):n!==xee||!N9([oie,iie],e.type)||Vae(e)&&e.timeUnit?void 0:270}(u,a=a||{},e,c.style,d),m={fieldOrDatumDef:u,axis:a,channel:e,model:t,scaleType:f,orient:l,labelAngle:v,mark:s,config:c},g=S(Ipe);try{for(g.s();!(p=g.n()).done;){var y=p.value,b=y in Sfe?Sfe[y](m):Roe(y)?a[y]:void 0,x=void 0!==b,w=qpe(b,y,a,t,e);if(x&&w)o.set(y,b,w);else{var _=Roe(y)&&"values"!==y?Ofe(y,c.style,a.style,d):{},k=_.configValue,E=void 0===k?void 0:k,O=_.configFrom,A=void 0===O?void 0:O,C=void 0!==E;x&&!C?o.set(y,b,w):("vgAxisConfig"!==A||Wpe.has(y)&&C||Toe(E)||one(E))&&o.set(y,E,!1)}}}catch(T){g.e(T)}finally{g.f()}var D=null!==(i=a.encoding)&&void 0!==i?i:{},j=Foe.reduce((function(n,r){var i;if(!o.hasAxisPart(r))return n;var a=Jfe(null!==(i=D[r])&&void 0!==i?i:{},t),u="labels"===r?function(e,t,n){var r,i=e.encoding,a=e.config,o=null!==(r=boe(i[t]))&&void 0!==r?r:boe(i[mte(t)]),u=e.axis(t)||{},s=u.format,c=u.formatType;return gae(c)?Object.assign({text:wae({fieldOrDatumDef:o,field:"datum.value",format:s,formatType:c,config:a})},n):n}(t,e,a):a;return void 0===u||V9(u)||(n[r]={update:u}),n}),{});return V9(j)||o.set("encode",j,!!a.encoding||void 0!==a.labelAngle),o}function $pe(e){var t,n=e.encoding,r=e.size,i=S(Ete);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=gte(a);que(r[o])&&Kae(n[a])&&(delete r[o],xre(ure(o)))}}catch(u){i.e(u)}finally{i.f()}return r}function Vpe(e,t,n){var r,i,a=nne(e),o=wne("orient",a,n);if(a.orient=function(e,t,n){switch(e){case Hie:case Xie:case Qie:case Gie:case $ie:case qie:return}var r=t.x,i=t.y,a=t.x2,o=t.y2;switch(e){case Uie:if(Vae(r)&&(Qte(r.bin)||Vae(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Vae(i)&&(Qte(i.bin)||Vae(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a&&(Vae(r)&&r.type===rie&&!Xte(r.bin)||Xae(r)))return"horizontal";if(!o&&(Vae(i)&&i.type===rie&&!Xte(i.bin)||Xae(i)))return"vertical"}case Vie:if(a&&(!Vae(r)||!Qte(r.bin))&&o&&(!Vae(i)||!Qte(i.bin)))return;case Lie:if(o)return Vae(i)&&Qte(i.bin)?"horizontal":"vertical";if(a)return Vae(r)&&Qte(r.bin)?"vertical":"horizontal";if(e===Vie){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case Wie:case Yie:var u=Kae(r),s=Kae(i);if(n)return n;if(u&&!s)return"tick"!==e?"horizontal":"vertical";if(!u&&s)return"tick"!==e?"vertical":"horizontal";if(u&&s){var c=r,l=i,f=c.type===aie,d=l.type===aie;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!c.aggregate&&l.aggregate?"tick"!==e?"vertical":"horizontal":c.aggregate&&!l.aggregate&&"tick"!==e?"horizontal":"vertical"}return}return"vertical"}(a.type,t,o),void 0!==o&&o!==a.orient&&xre((r=a.orient,i=o,'Specified orient "'.concat(r,'" overridden with "').concat(i,'".'))),"bar"===a.type&&a.orient){var u=wne("cornerRadiusEnd",a,n);if(void 0!==u){var s,c=S("horizontal"===a.orient&&t.x2||"vertical"===a.orient&&t.y2?["cornerRadius"]:uae[a.orient]);try{for(c.s();!(s=c.n()).done;){a[s.value]=u}}catch(l){c.e(l)}finally{c.f()}void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}}return void 0===wne("opacity",a,n)&&(a.opacity=function(e,t){if(N9([Hie,Yie,Xie,Qie],e)&&!Hoe(t))return.7;return}(a.type,t)),void 0===wne("cursor",a,n)&&(a.cursor=function(e,t,n){if(t.href||e.href||wne("href",e,n))return"pointer";return e.cursor}(a,t,n)),a}function Gpe(e,t,n){if(n.graticule)return!1;var r=_ne("filled",e,t),i=e.type;return see(r,i!==Hie&&i!==Wie&&i!==Vie)}function Ype(e,t){e.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),kle("x",e,{defaultPos:"mid"})),kle("y",e,{defaultPos:"mid"})),xle("size",e)),xle("angle",e)),function(e,t,n){if(n)return{shape:{value:n}};return xle("shape",e)}(e,0,t))}var Kpe={vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Cle("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),Cle("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),xle("size",e,{vgChannel:"strokeWidth"})):{}}};var Xpe={vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,i="horizontal"===r?"width":"height",a="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),kle("x",e,{defaultPos:"mid",vgChannel:"xc"})),kle("y",e,{defaultPos:"mid",vgChannel:"yc"})),xle("size",e,{defaultValue:Qpe(e),vgChannel:i})),du({},a,mne(wne("thickness",n,t))))}};function Qpe(e){var t,n=e.config,r=e.markDef,i=r.orient,a="horizontal"===i?"width":"height",o=e.getScaleComponent("horizontal"===i?"x":"y"),u=null!==(t=wne("size",r,n,{vgChannel:a}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==u)return u;var s=o?o.get("range"):void 0;return s&&une(s)&&cE(s.step)?3*s.step/4:3*Gue(n.view,a)/4}var Zpe={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),kle("x",e,{defaultPos:"mid"})),kle("y",e,{defaultPos:"mid"})),Tle(e,"radius")),Tle(e,"theta"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Cle("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),Cle("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),Ile(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Tle(e,"x")),Tle(e,"y"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return Ype(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&Vae(t)&&t.type===uie?{field:ooe(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),Tle(e,"x")),Tle(e,"y")),ple(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),kle("x",e,{defaultPos:"mid"})),kle("y",e,{defaultPos:"mid"})),xle("size",e,{vgChannel:"strokeWidth"})),Ile(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return Ype(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Tle(e,"x")),Tle(e,"y"))}},rule:Kpe,square:{vgMark:"symbol",encodeEntry:function(e){return Ype(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;e.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),kle("x",e,{defaultPos:"mid"})),kle("y",e,{defaultPos:"mid"})),ple(e)),xle("size",e,{vgChannel:"fontSize"})),xle("angle",e)),Ble("align",function(e,t,n){if(void 0===wne("align",e,n))return"center";return}(e.markDef,0,t))),Ble("baseline",function(e,t,n){if(void 0===wne("baseline",e,n))return"middle";return}(e.markDef,0,t))),kle("radius",e,{defaultPos:null})),kle("theta",e,{defaultPos:null}))}},tick:Xpe,trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Nle(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),kle("x",e,{defaultPos:"mid"})),kle("y",e,{defaultPos:"mid"})),xle("size",e)),Ile(e))}}};function Jpe(e){if(N9([Wie,Lie,Kie],e.mark)){var t=Xoe(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:eve+e.requestDataName(Pce.Main),data:e.requestDataName(Pce.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:rve(e,{fromPrefix:eve})}]}(e,t)}else if(e.mark===Uie){var n=fne.some((function(t){return wne(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&n)return function(e){var t,n,r,i=D(rve(e,{fromPrefix:tve}),1)[0],a=e.scaleName(e.stack.fieldChannel),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},u=function(e,t){var n=[o({prefix:"min",suffix:"start",expr:t}),o({prefix:"max",suffix:"start",expr:t}),o({prefix:"min",suffix:"end",expr:t}),o({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(a,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(n=Object.assign(Object.assign({},j9(i.encode.update,["y","yc","y2","height"].concat(pu(fne)))),{x:{signal:u("min","datum")},x2:{signal:u("max","datum")},clip:{value:!0}}),r={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},T9(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(n=Object.assign(Object.assign({},j9(i.encode.update,["x","xc","x2","width"])),{y:{signal:u("min","datum")},y2:{signal:u("max","datum")},clip:{value:!0}}),r={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},T9(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var s,c=S(fne);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=_ne(l,e.markDef,e.config);i.encode.update[l]?(n[l]=i.encode.update[l],delete i.encode.update[l]):f&&(n[l]=mne(f)),f&&(i.encode.update[l]={value:0})}}catch(y){c.e(y)}finally{c.f()}var d=[];if((null===(t=e.stack.groupbyChannels)||void 0===t?void 0:t.length)>0){var h,p=S(e.stack.groupbyChannels);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=e.fieldDef(v),g=ooe(m);g&&d.push(g),((null===m||void 0===m?void 0:m.bin)||(null===m||void 0===m?void 0:m.timeUnit))&&d.push(ooe(m,{binSuffix:"end"}))}}catch(y){p.e(y)}finally{p.f()}}n=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(i.encode.update[n])return Object.assign(Object.assign({},t),du({},n,i.encode.update[n]));var r=_ne(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),du({},n,mne(r))):t}),n),n.stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0});return[{type:"group",from:{facet:{data:e.requestDataName(Pce.Main),name:tve+e.requestDataName(Pce.Main),groupby:d,aggregate:{fields:[o({suffix:"start"}),o({suffix:"start"}),o({suffix:"end"}),o({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:r},marks:[i]}]}]}(e)}return rve(e)}var eve="faceted_path_";var tve="stack_group_";function nve(e){var t,n=e.encoding,r=e.stack,i=e.mark,a=e.markDef,o=e.config,u=n.order;if(!(!vk(u)&&Jae(u)&&M9(u.value)||!u&&M9(wne("order",a,o)))){if((vk(u)||Vae(u))&&!r)return One(u,{expr:"datum"});if(Jie(i)){var s="horizontal"===a.orient?"y":"x",c=n[s];if(Vae(c)){var l=c.sort;return vk(l)?{field:ooe(c,{prefix:s,suffix:"sort_index",expr:"datum"})}:Fae(l)?{field:ooe({aggregate:Hoe(e.encoding)?l.op:void 0,field:l.field},{expr:"datum"})}:Tae(l)?{field:ooe(e.fieldDef(l.encoding),{expr:"datum"}),order:l.order}:null===l?void 0:{field:ooe(c,{binSuffix:(null===(t=e.stack)||void 0===t?void 0:t.impute)?"mid":void 0,expr:"datum"})}}}else;}}function rve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=e.markDef,i=e.encoding,a=e.config,o=see(r.clip,ive(e),ave(e)),u=xne(r),s=i.key,c=nve(e),l=ove(e),f=wne("aria",r,a),d=Zpe[n].postEncodingTransform?Zpe[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:Zpe[n].vgMark},o?{clip:!0}:{}),u?{style:u}:{}),s?{key:s.field}:{}),c?{sort:c}:{}),l||{}),!1===f?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(Pce.Main)},encode:{update:Zpe[n].encodeEntry(e)}}),d?{transform:d}:{})]}function ive(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!(!(null===t||void 0===t?void 0:t.get("selectionExtent"))&&!(null===n||void 0===n?void 0:n.get("selectionExtent")))||void 0}function ave(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function ove(e){if(!e.component.selection)return null;for(var t=G9(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=G9(r.component.selection).length,r=r.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}var uve=function(e){Ip(n,e);var t=qp(n);function n(e,r,i){var a,o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;au(this,n),(a=t.call(this,e,"unit",r,i,s,void 0,Wue(e)?e.view:void 0)).specifiedScales={},a.specifiedAxes={},a.specifiedLegends={},a.specifiedProjection={},a.selection=[],a.children=[];var c=nae(e.mark)?Object.assign({},e.mark):{type:e.mark},l=c.type;void 0===c.filled&&(c.filled=Gpe(c,s,{graticule:e.data&&Uce(e.data)}));var f=a.encoding=Voe(e.encoding||{},l,c.filled,s);return a.markDef=Vpe(c,f,s),a.size=$pe({encoding:f,size:Wue(e)?Object.assign(Object.assign(Object.assign({},u),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):u}),a.stack=Ese(l,f),a.specifiedScales=a.initScales(l,f),a.specifiedAxes=a.initAxes(f),a.specifiedLegends=a.initLegends(f),a.specifiedProjection=e.projection,a.selection=(null!==(o=e.params)&&void 0!==o?o:[]).filter((function(e){return Nue(e)})),a}return uu(n,[{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===Zie,n=e&&nte.some((function(t){return Qae(e[t])}));return t||n}},{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){var n=this;return Mte.reduce((function(e,r){var i,a=boe(t[r]);return a&&(e[r]=n.initScale(null!==(i=a.scale)&&void 0!==i?i:{})),e}),{})}},{key:"initScale",value:function(e){var t=e.domain,n=e.range,r=nne(e);return vk(t)&&(r.domain=t.map(pne)),vk(n)&&(r.range=n.map(pne)),r}},{key:"initAxes",value:function(e){var t=this;return Ete.reduce((function(n,r){var i=e[r];if(Qae(i)||r===xee&&Qae(e.x2)||r===wee&&Qae(e.y2)){var a=Qae(i)?i.axis:void 0;n[r]=a?t.initAxis(Object.assign({},a)):a}return n}),{})}},{key:"initAxis",value:function(e){var t,n={},r=S(G9(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e[i];n[i]=Toe(a)?hne(a):pne(a)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"initLegends",value:function(e){return Fte.reduce((function(t,n){var r=boe(e[n]);if(r&&function(e){switch(e){case Mee:case Nee:case Ree:case Bee:case Iee:case Lee:case Wee:case Hee:return!0;case Uee:case qee:case zee:return!1}}(n)){var i=r.legend;t[n]=i?nne(i):i}return t}),{})}},{key:"parseData",value:function(){this.component.data=Mpe(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t,n=e.size,r=e.component,i=S(Ete);try{for(i.s();!(t=i.n()).done;){var a=gte(t.value);if(n[a]){var o=n[a];r.layoutSize.set(a,que(o)?"step":o,!0)}else{var u=jpe(e,a);r.layoutSize.set(a,u,!1)}}}catch(s){i.e(s)}finally{i.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r={},i=e.config.selection;if(!t||!t.length)return r;var a,o=S(t);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=Q9(u.name),c=u.select,l=fE(c)?c:c.type,f=mk(c)?C9(c):{type:l},d=i[l];for(var h in d)"fields"!==h&&"encodings"!==h&&("mark"===h&&(f[h]=Object.assign(Object.assign({},d[h]),f[h])),void 0!==f[h]&&!0!==f[h]||(f[h]=null!==(n=d[h])&&void 0!==n?n:f[h]));var p,v=r[s]=Object.assign(Object.assign({},f),{name:s,type:l,init:u.value,bind:u.bind,events:fE(f.on)?u6(f.on,"scope"):Lk(C9(f.on))}),m=S(ofe);try{for(m.s();!(p=m.n()).done;){var g=p.value;g.defined(v)&&g.parse&&g.parse(e,v,u)}}catch(y){m.e(y)}finally{m.f()}}}catch(y){o.e(y)}finally{o.f()}return r}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=Jpe(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,Ete.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[Hpe(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n,r,i=!1,a=S(Y9(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{var o=function(){var n=r.value,a=n.name,o=bE(a+nfe),u=t.filter((function(e){return e.name===a}));if(0===u.length){var s="global"===n.resolve?"union":n.resolve,c="point"===n.type?", true, true)":")";t.push({name:n.name,update:"".concat(afe,"(").concat(o,", ").concat(bE(s)).concat(c)})}i=!0;var l,f=S(ofe);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.defined(n)&&d.topLevelSignals&&(t=d.topLevelSignals(e,n,t))}}catch(h){f.e(h)}finally{f.f()}};for(a.s();!(r=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}if(i){var u=t.filter((function(e){return"unit"===e.name}));0===u.length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return $ce(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(pu(_fe(this)),pu(function(e,t){var n,r,i=S(Y9(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var a,o=r.value,u=o.name,s="".concat(u).concat(rfe,", ").concat("global"===o.resolve?"true":"{unit: ".concat(sfe(e),"}")),c=S(ofe);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.defined(o)&&(l.signals&&(t=l.signals(e,o,t)),l.modifyExpr&&(s=l.modifyExpr(e,o,s)))}}catch(f){c.e(f)}finally{c.f()}t.push({name:u+ife,on:[{events:{signal:o.name+rfe},update:"modify(".concat(bE(o.name+nfe),", ").concat(s,")")}]})}}catch(f){i.e(f)}finally{i.f()}return $ce(t)}(this,[])))}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n,r,i=pu(t),a=S(Y9(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{var o=function(){var t=r.value,n={name:t.name+nfe};if(t.init){var a=t.project.items.map((function(e){return e.signals,qce(e,["signals"])}));n.values=t.init.map((function(t){return{unit:sfe(e,{escape:!1}),fields:a,values:Wce(t,!1)}}))}i.filter((function(e){return e.name===t.name+nfe})).length||i.push(n)};for(a.s();!(r=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}return i}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return Yfe(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&npe(this.parent)||(t=Hce(this,t)),t.map(this.correctDataNames)}},{key:"assembleGroupStyle",value:function(){var e=(this.view||{}).style;return void 0!==e?e:this.encoding.x||this.encoding.y?"cell":void 0}},{key:"getMapping",value:function(){return this.encoding}},{key:"mark",get:function(){return this.markDef.type}},{key:"channelHasField",value:function(e){return Uoe(this.encoding,e)}},{key:"fieldDef",value:function(e){return yoe(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return Zae(t)?t:null}}]),n}(ipe),sve=function(e){Ip(n,e);var t=qp(n);function n(e,r,i,a,o){var u;au(this,n),u=t.call(this,e,"layer",r,i,o,e.resolve,e.view);var s=Object.assign(Object.assign(Object.assign({},a),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return u.children=e.layer.map((function(e,t){if(dse(e))return new n(e,ji(u),u.getName("layer_".concat(t)),s,o);if(Boe(e))return new uve(e,ji(u),u.getName("layer_".concat(t)),s,o);throw new Error(Dne(e))})),u}return uu(n,[{key:"parseData",value:function(){this.component.data=Mpe(this);var e,t=S(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseLayoutSize",value:function(){var e;Cpe(e=this),Dpe(e,"width"),Dpe(e,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=S(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,i=S(G9(n.component.selection));try{for(i.s();!(r=i.n()).done;){var a=r.value;this.component.selection[a]=n.component.selection[a]}}catch(o){i.e(o)}finally{i.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=S(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n,r=e.component,i=r.axes,a=r.resolve,o={top:0,bottom:0,right:0,left:0},u=S(e.children);try{for(u.s();!(n=u.n()).done;){var s=n.value;s.parseAxesAndHeaders();var c,l=S(G9(s.component.axes));try{for(l.s();!(c=l.n()).done;){var f=c.value;a.axis[f]=tde(e.component.resolve,f),"shared"===a.axis[f]&&(i[f]=Lpe(i[f],s.component.axes[f]),i[f]||(a.axis[f]="independent",delete i[f]))}}catch(D){l.e(D)}finally{l.f()}}}catch(D){u.e(D)}finally{u.f()}var d,h=S(Ete);try{for(h.s();!(d=h.n()).done;){var p,v=d.value,m=S(e.children);try{for(m.s();!(p=m.n()).done;){var g=p.value;if(g.component.axes[v]){if("independent"===a.axis[v]){i[v]=(null!==(t=i[v])&&void 0!==t?t:[]).concat(g.component.axes[v]);var y,b=S(g.component.axes[v]);try{for(b.s();!(y=b.n()).done;){var x=y.value,w=x.getWithExplicit("orient"),_=w.value,k=w.explicit;if(!one(_)){if(o[_]>0&&!k){var E=zpe[_];o[_]>o[E]&&x.set("orient",E,!1)}o[_]++}}}catch(D){b.e(D)}finally{b.f()}}delete g.component.axes[v]}}}catch(D){m.e(D)}finally{m.f()}if("independent"===a.axis[v]&&i[v]&&i[v].length>1){var O,A=S(i[v]);try{for(A.s();!(O=A.n()).done;){var C=O.value;C.get("grid")&&!C.explicit.grid&&(C.implicit.grid=!1)}}catch(D){A.e(D)}finally{A.f()}}}}catch(D){h.e(D)}finally{h.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),_fe(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),Yfe(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleGroupStyle",value:function(){var e,t=new Set,n=S(this.children);try{for(n.s();!(e=n.n()).done;){var r,i=S(Lk(e.value.assembleGroupStyle()));try{for(i.s();!(r=i.n()).done;){var a=r.value;t.add(a)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){n.e(u)}finally{n.f()}var o=Array.from(t);return o.length>1?o:1===o.length?o[0]:void 0}},{key:"assembleTitle",value:function(){var e=pse(Bp(n.prototype),"assembleTitle",this).call(this);if(e)return e;var t,r=S(this.children);try{for(r.s();!(t=r.n()).done;){if(e=t.value.assembleTitle())return e}}catch(i){r.e(i)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n,r=S(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;Jhe(i)&&(t=Hce(i,t))}}catch(a){r.e(a)}finally{r.f()}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),bde(this))}}]),n}(rpe);function cve(e,t,n,r,i){if(Rae(e))return new Fpe(e,t,n,i);if(dse(e))return new sve(e,t,n,r,i);if(Boe(e))return new uve(e,t,n,r,i);if(function(e){return zue(e)||Lue(e)||Bue(e)}(e))return new Npe(e,t,n,i);throw new Error(Dne(e))}var lve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function fve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&yre(t.logger),t.fieldTitle&&foe(t.fieldTitle);try{var n=ose(yk(t.config,e.config)),r=xce(e,n),i=cve(r,null,"",void 0,n);i.parse(),vhe(i.component.data,i);var a=hve(i,dve(e,r.autosize,n,i),e.datasets,e.usermeta);return{spec:a,normalized:r}}finally{t.logger&&bre(),t.fieldTitle&&doe()}}function dve(e,t,n,r){var i,a=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):fE(t)&&(t={type:t}),a&&o&&("fit"===(i=t.type)||"fit-x"===i||"fit-y"===i))if("step"===a&&"step"===o)xre(Pne()),t.type="pad";else if("step"===a||"step"===o){var u="step"===a?"width":"height";xre(Pne(Cte(u)));var s="width"===u?"height":"width";t.type=function(e){return e?"fit-".concat(Cte(e)):"fit"}(s)}return Object.assign(Object.assign(Object.assign({},1===G9(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),Sce(n,!1)),Sce(e,!0))}function hve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=e.config?lse(e.config):void 0,a=[].concat(e.assembleSelectionData([]),kpe(e.component.data,n)),o=e.assembleProjections(),u=e.assembleTitle(),s=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0),l=e.assembleLayoutSignals();l=l.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)}));var f=t.params,d=lve(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),d),u?{title:u}:{}),s?{style:s}:{}),c?{encode:{update:c}}:{}),{data:a}),o.length>0?{projections:o}:{}),e.assembleGroup([].concat(pu(l),pu(e.assembleSelectionTopLevelSignals([])),pu(Iue(f))))),i?{config:i}:{}),r?{usermeta:r}:{})}var pve="5.2.0";var vve=function(e){var t=D(/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3),2);return{library:t[0],version:t[1]}},mve="#fff",gve={background:"#333",title:{color:mve,subtitleColor:mve},style:{"guide-label":{fill:mve},"guide-title":{fill:mve}},axis:{domainColor:mve,gridColor:"#888",tickColor:mve}},yve="#4572a7",bve={background:"#fff",arc:{fill:yve},area:{fill:yve},line:{stroke:yve,strokeWidth:2},path:{stroke:yve},rect:{fill:yve},shape:{stroke:yve},symbol:{fill:yve,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},xve="#30a2da",wve="#cbcbcb",_ve="#f0f0f0",kve="#333",Eve={arc:{fill:xve},area:{fill:xve},axis:{domainColor:wve,grid:!0,gridColor:wve,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:wve,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:_ve,group:{fill:_ve},legend:{labelColor:kve,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:kve,titleFontSize:14,titlePadding:10},line:{stroke:xve,strokeWidth:2},path:{stroke:xve,strokeWidth:.5},rect:{fill:xve},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:xve},bar:{binSpacing:2,fill:xve,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Ove="#000",Sve={group:{fill:"#e5e5e5"},arc:{fill:Ove},area:{fill:Ove},line:{stroke:Ove},path:{stroke:Ove},rect:{fill:Ove},shape:{stroke:Ove},symbol:{fill:Ove,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Ave="Benton Gothic, sans-serif",Cve="#82c6df",Dve="Benton Gothic Bold, sans-serif",jve="normal",Tve={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},Fve={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Dve,fontSize:22,fontWeight:"normal"},arc:{fill:Cve},area:{fill:Cve},line:{stroke:Cve,strokeWidth:2},path:{stroke:Cve},rect:{fill:Cve},shape:{stroke:Cve},symbol:{fill:Cve,size:30},axis:{labelFont:Ave,labelFontSize:11.5,labelFontWeight:"normal",titleFont:Dve,titleFontSize:13,titleFontWeight:jve},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Ave,labelFontSize:11.5,symbolType:"square",titleFont:Dve,titleFontSize:13,titleFontWeight:jve},range:{category:Tve["category-6"],diverging:Tve["fireandice-6"],heatmap:Tve["fire-7"],ordinal:Tve["fire-7"],ramp:Tve["fire-7"]}},Pve="#ab5787",Mve="#979797",Nve={background:"#f9f9f9",arc:{fill:Pve},area:{fill:Pve},line:{stroke:Pve},path:{stroke:Pve},rect:{fill:Pve},shape:{stroke:Pve},symbol:{fill:Pve,size:30},axis:{domainColor:Mve,domainWidth:.5,gridWidth:.2,labelColor:Mve,tickColor:Mve,tickWidth:.2,titleColor:Mve},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Rve="#3e5c69",Ive={background:"#fff",arc:{fill:Rve},area:{fill:Rve},line:{stroke:Rve},path:{stroke:Rve},rect:{fill:Rve},shape:{stroke:Rve},symbol:{fill:Rve},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Bve="#1696d2",zve="#000000",Lve="Lato",Uve="Lato",qve={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Wve={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:Lve},axisX:{domain:!0,domainColor:zve,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Uve,labelAngle:0,tickColor:zve,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Lve},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:Uve,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Lve,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Uve,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Lve,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:qve["six-groups-cat-1"],diverging:qve["diverging-colors"],heatmap:qve["diverging-colors"],ordinal:qve["six-groups-seq"],ramp:qve["shades-blue"]},area:{fill:Bve},rect:{fill:Bve},line:{color:Bve,stroke:Bve,strokeWidth:5},trail:{color:Bve,stroke:Bve,strokeWidth:0,size:1},path:{stroke:Bve,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:Bve,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Bve,stroke:null}},arc:{fill:Bve},shape:{stroke:Bve},symbol:{fill:Bve,size:30}},Hve="#3366CC",$ve="#ccc",Vve="Arial, sans-serif",Gve={arc:{fill:Hve},area:{fill:Hve},path:{stroke:Hve},rect:{fill:Hve},shape:{stroke:Hve},symbol:{stroke:Hve},circle:{fill:Hve},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Vve,fontSize:12},"guide-title":{font:Vve,fontSize:12},"group-title":{font:Vve,fontSize:12}},title:{font:Vve,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:$ve,tickColor:$ve,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Yve="2.10.0";function Kve(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!==typeof r||null===r)return r;var i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var Xve="vg-tooltip-element",Qve={offsetX:10,offsetY:10,id:Xve,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n){if(vk(e))return"[".concat(e.map((function(e){return t(fE(e)?e:Kve(e,n))})).join(", "),"]");if(mk(e)){var r="",i=e,a=i.title,o=i.image,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["title","image"]);a&&(r+="<h2>".concat(t(a),"</h2>")),o&&(r+='<img src="'.concat(t(o),'">'));var s=Object.keys(u);if(s.length>0){r+="<table>";var c,l=S(s);try{for(l.s();!(c=l.n()).done;){var f=c.value,d=u[f];void 0!==d&&(mk(d)&&(d=Kve(d,n)),r+='<tr><td class="key">'.concat(t(f),':</td><td class="value">').concat(t(d),"</td></tr>"))}}catch(h){l.e(h)}finally{l.f()}r+="</table>"}return r||"{}"}return t(e)}};var Zve=function(){function e(t){au(this,e),this.options=Object.assign(Object.assign({},Qve),t);var n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(Xve,e)}(n);var i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}return uu(e,[{key:"tooltipHandler",value:function(e,t,n,r){var i;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(null!==(i=document.fullscreenElement)&&void 0!==i?i:document.body).appendChild(this.el),null!=r&&""!==r){this.el.innerHTML=this.options.formatTooltip(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var a=function(e,t,n,r){var i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);var a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),o=a.x,u=a.y;this.el.setAttribute("style","top: ".concat(u,"px; left: ").concat(o,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}();function Jve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eme(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(J_){return void n(J_)}u.done?t(s):Promise.resolve(s).then(r,i)}function tme(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){eme(a,r,i,o,u,"next",e)}function u(e){eme(a,r,i,o,u,"throw",e)}o(void 0)}))}}var nme,rme=Object.prototype,ime=rme.hasOwnProperty,ame="function"===typeof Symbol?Symbol:{},ome=ame.iterator||"@@iterator",ume=ame.asyncIterator||"@@asyncIterator",sme=ame.toStringTag||"@@toStringTag";function cme(e,t,n,r){var i=t&&t.prototype instanceof mme?t:mme,a=Object.create(i.prototype),o=new Dme(r||[]);return a._invoke=function(e,t,n){var r=fme;return function(i,a){if(r===hme)throw new Error("Generator is already running");if(r===pme){if("throw"===i)throw a;return Tme()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=Sme(o,n);if(u){if(u===vme)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===fme)throw r=pme,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=hme;var s=lme(e,t,n);if("normal"===s.type){if(r=n.done?pme:dme,s.arg===vme)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=pme,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function lme(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}var fme="suspendedStart",dme="suspendedYield",hme="executing",pme="completed",vme={};function mme(){}function gme(){}function yme(){}var bme={};bme[ome]=function(){return this};var xme=Object.getPrototypeOf,wme=xme&&xme(xme(jme([])));wme&&wme!==rme&&ime.call(wme,ome)&&(bme=wme);var _me=yme.prototype=mme.prototype=Object.create(bme);function kme(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function Eme(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===gme||"GeneratorFunction"===(t.displayName||t.name))}function Ome(e,t){function n(r,i,a,o){var u=lme(e[r],e,i);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"===typeof c&&ime.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,o)}))}o(u.arg)}var r;this._invoke=function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}}function Sme(e,t){var n=e.iterator[t.method];if(n===nme){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=nme,Sme(e,t),"throw"===t.method))return vme;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return vme}var r=lme(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,vme;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=nme),t.delegate=null,vme):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,vme)}function Ame(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function Cme(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Dme(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(Ame,this),this.reset(!0)}function jme(e){if(e){var t=e[ome];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(ime.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=nme,t.done=!0,t};return r.next=r}}return{next:Tme}}function Tme(){return{value:nme,done:!0}}gme.prototype=_me.constructor=yme,yme.constructor=gme,yme[sme]=gme.displayName="GeneratorFunction",kme(Ome.prototype),Ome.prototype[ume]=function(){return this},kme(_me),_me[sme]="Generator",_me[ome]=function(){return this},_me.toString=function(){return"[object Generator]"},Dme.prototype={constructor:Dme,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=nme,this.done=!1,this.delegate=null,this.method="next",this.arg=nme,this.tryEntries.forEach(Cme),!e)for(var t in this)"t"===t.charAt(0)&&ime.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=nme)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=nme),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=ime.call(i,"catchLoc"),u=ime.call(i,"finallyLoc");if(o&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&ime.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,vme):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),vme},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),Cme(n),vme}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;Cme(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:jme(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=nme),vme}};var Fme={wrap:cme,isGeneratorFunction:Eme,AsyncIterator:Ome,mark:function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,yme):(e.__proto__=yme,sme in e||(e[sme]="GeneratorFunction")),e.prototype=Object.create(_me),e},awrap:function(e){return{__await:e}},async:function(e,t,n,r,i){void 0===i&&(i=Promise);var a=new Ome(cme(e,t,n,r),i);return Eme(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},keys:function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},values:jme},Pme=Mme;function Mme(e){var t=this;if(t instanceof Mme||(t=new Mme),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function Nme(e,t,n){var r=t===e.head?new Bme(n,null,t,e):new Bme(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function Rme(e,t){e.tail=new Bme(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Ime(e,t){e.head=new Bme(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Bme(e,t,n,r){if(!(this instanceof Bme))return new Bme(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}Mme.Node=Bme,Mme.create=Mme,Mme.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Mme.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Mme.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Mme.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Rme(this,arguments[e]);return this.length},Mme.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Ime(this,arguments[e]);return this.length},Mme.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Mme.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Mme.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},Mme.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},Mme.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},Mme.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},Mme.prototype.map=function(e,t){t=t||this;for(var n=new Mme,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},Mme.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Mme,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},Mme.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},Mme.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},Mme.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},Mme.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},Mme.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Mme;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(;null!==i&&r<t;r++,i=i.next)n.push(i.value);return n},Mme.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Mme;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;null!==i&&r>t;r--)i=i.prev;for(;null!==i&&r>e;r--,i=i.prev)n.push(i.value);return n},Mme.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var i=[];for(n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=Nme(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i},Mme.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{Mme.prototype[Symbol.iterator]=Fme.mark((function e(){var t;return Fme.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}catch(Qwe){}var zme=Pme,Lme=Symbol("max"),Ume=Symbol("length"),qme=Symbol("lengthCalculator"),Wme=Symbol("allowStale"),Hme=Symbol("maxAge"),$me=Symbol("dispose"),Vme=Symbol("noDisposeOnSet"),Gme=Symbol("lruList"),Yme=Symbol("cache"),Kme=Symbol("updateAgeOnGet"),Xme=function(){return 1},Qme=function(){function e(t){if(au(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[Lme]=t.max||1/0;var n=t.length||Xme;if(this[qme]="function"!==typeof n?Xme:n,this[Wme]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[Hme]=t.maxAge||0,this[$me]=t.dispose,this[Vme]=t.noDisposeOnSet||!1,this[Kme]=t.updateAgeOnGet||!1,this.reset()}return uu(e,[{key:"max",get:function(){return this[Lme]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[Lme]=e||1/0,ege(this)}},{key:"allowStale",get:function(){return this[Wme]},set:function(e){this[Wme]=!!e}},{key:"maxAge",get:function(){return this[Hme]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[Hme]=e,ege(this)}},{key:"lengthCalculator",get:function(){return this[qme]},set:function(e){var t=this;"function"!==typeof e&&(e=Xme),e!==this[qme]&&(this[qme]=e,this[Ume]=0,this[Gme].forEach((function(e){e.length=t[qme](e.value,e.key),t[Ume]+=e.length}))),ege(this)}},{key:"length",get:function(){return this[Ume]}},{key:"itemCount",get:function(){return this[Gme].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[Gme].tail;null!==n;){var r=n.prev;rge(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[Gme].head;null!==n;){var r=n.next;rge(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[Gme].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[Gme].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[$me]&&this[Gme]&&this[Gme].length&&this[Gme].forEach((function(t){return e[$me](t.key,t.value)})),this[Yme]=new Map,this[Gme]=new zme,this[Ume]=0}},{key:"dump",value:function(){var e=this;return this[Gme].map((function(t){return!Jme(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[Gme]}},{key:"set",value:function(e,t,n){if((n=n||this[Hme])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,i=this[qme](t,e);if(this[Yme].has(e)){if(i>this[Lme])return tge(this,this[Yme].get(e)),!1;var a=this[Yme].get(e).value;return this[$me]&&(this[Vme]||this[$me](e,a.value)),a.now=r,a.maxAge=n,a.value=t,this[Ume]+=i-a.length,a.length=i,this.get(e),ege(this),!0}var o=new nge(e,t,i,r,n);return o.length>this[Lme]?(this[$me]&&this[$me](e,t),!1):(this[Ume]+=o.length,this[Gme].unshift(o),this[Yme].set(e,this[Gme].head),ege(this),!0)}},{key:"has",value:function(e){if(!this[Yme].has(e))return!1;var t=this[Yme].get(e).value;return!Jme(this,t)}},{key:"get",value:function(e){return Zme(this,e,!0)}},{key:"peek",value:function(e){return Zme(this,e,!1)}},{key:"pop",value:function(){var e=this[Gme].tail;return e?(tge(this,e),e.value):null}},{key:"del",value:function(e){tge(this,this[Yme].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var a=i-t;a>0&&this.set(r.k,r.v,a)}}}},{key:"prune",value:function(){var e=this;this[Yme].forEach((function(t,n){return Zme(e,n,!1)}))}}]),e}(),Zme=function(e,t,n){var r=e[Yme].get(t);if(r){var i=r.value;if(Jme(e,i)){if(tge(e,r),!e[Wme])return}else n&&(e[Kme]&&(r.value.now=Date.now()),e[Gme].unshiftNode(r));return i.value}},Jme=function(e,t){if(!t||!t.maxAge&&!e[Hme])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Hme]&&n>e[Hme]},ege=function(e){if(e[Ume]>e[Lme])for(var t=e[Gme].tail;e[Ume]>e[Lme]&&null!==t;){var n=t.prev;tge(e,t),t=n}},tge=function(e,t){if(t){var n=t.value;e[$me]&&e[$me](n.key,n.value),e[Ume]-=n.length,e[Yme].delete(n.key),e[Gme].removeNode(t)}},nge=uu((function e(t,n,r,i,a){au(this,e),this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0})),rge=function(e,t,n,r){var i=n.value;Jme(e,i)&&(tge(e,n),e[Wme]||(i=void 0)),i&&t.call(r,i.value,i.key,e)},ige=Qme,age=["includePrerelease","loose","rtl"],oge=function(e){return e?"object"!==typeof e?{loose:!0}:age.filter((function(t){return e[t]})).reduce((function(e,t){return e[t]=!0,e}),{}):{}},uge={exports:{}},sge={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},cge="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/DigitalFootprintsLab",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"236272166265-60vj7njr09rj4kdg9tnfdup3av3bpht9.apps.googleusercontent.com"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"/DigitalFootprintsLab",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"236272166265-60vj7njr09rj4kdg9tnfdup3av3bpht9.apps.googleusercontent.com"}.NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){},lge=cge;!function(e,t){var n=sge.MAX_SAFE_COMPONENT_LENGTH,r=lge,i=(t=e.exports={}).re=[],a=t.src=[],o=t.t={},u=0,s=function(e,t,n){var s=u++;r(s,t),o[e]=s,a[s]=t,i[s]=new RegExp(t,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION","(".concat(a[o.NUMERICIDENTIFIER],")\\.")+"(".concat(a[o.NUMERICIDENTIFIER],")\\.")+"(".concat(a[o.NUMERICIDENTIFIER],")")),s("MAINVERSIONLOOSE","(".concat(a[o.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[o.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[o.NUMERICIDENTIFIERLOOSE],")")),s("PRERELEASEIDENTIFIER","(?:".concat(a[o.NUMERICIDENTIFIER],"|").concat(a[o.NONNUMERICIDENTIFIER],")")),s("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[o.NUMERICIDENTIFIERLOOSE],"|").concat(a[o.NONNUMERICIDENTIFIER],")")),s("PRERELEASE","(?:-(".concat(a[o.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[o.PRERELEASEIDENTIFIER],")*))")),s("PRERELEASELOOSE","(?:-?(".concat(a[o.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[o.PRERELEASEIDENTIFIERLOOSE],")*))")),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD","(?:\\+(".concat(a[o.BUILDIDENTIFIER],"(?:\\.").concat(a[o.BUILDIDENTIFIER],")*))")),s("FULLPLAIN","v?".concat(a[o.MAINVERSION]).concat(a[o.PRERELEASE],"?").concat(a[o.BUILD],"?")),s("FULL","^".concat(a[o.FULLPLAIN],"$")),s("LOOSEPLAIN","[v=\\s]*".concat(a[o.MAINVERSIONLOOSE]).concat(a[o.PRERELEASELOOSE],"?").concat(a[o.BUILD],"?")),s("LOOSE","^".concat(a[o.LOOSEPLAIN],"$")),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE","".concat(a[o.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),s("XRANGEIDENTIFIER","".concat(a[o.NUMERICIDENTIFIER],"|x|X|\\*")),s("XRANGEPLAIN","[v=\\s]*(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:".concat(a[o.PRERELEASE],")?").concat(a[o.BUILD],"?")+")?)?"),s("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(a[o.PRERELEASELOOSE],")?").concat(a[o.BUILD],"?")+")?)?"),s("XRANGE","^".concat(a[o.GTLT],"\\s*").concat(a[o.XRANGEPLAIN],"$")),s("XRANGELOOSE","^".concat(a[o.GTLT],"\\s*").concat(a[o.XRANGEPLAINLOOSE],"$")),s("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),s("COERCERTL",a[o.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM","(\\s*)".concat(a[o.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",s("TILDE","^".concat(a[o.LONETILDE]).concat(a[o.XRANGEPLAIN],"$")),s("TILDELOOSE","^".concat(a[o.LONETILDE]).concat(a[o.XRANGEPLAINLOOSE],"$")),s("LONECARET","(?:\\^)"),s("CARETTRIM","(\\s*)".concat(a[o.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",s("CARET","^".concat(a[o.LONECARET]).concat(a[o.XRANGEPLAIN],"$")),s("CARETLOOSE","^".concat(a[o.LONECARET]).concat(a[o.XRANGEPLAINLOOSE],"$")),s("COMPARATORLOOSE","^".concat(a[o.GTLT],"\\s*(").concat(a[o.LOOSEPLAIN],")$|^$")),s("COMPARATOR","^".concat(a[o.GTLT],"\\s*(").concat(a[o.FULLPLAIN],")$|^$")),s("COMPARATORTRIM","(\\s*)".concat(a[o.GTLT],"\\s*(").concat(a[o.LOOSEPLAIN],"|").concat(a[o.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE","^\\s*(".concat(a[o.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(a[o.XRANGEPLAIN],")")+"\\s*$"),s("HYPHENRANGELOOSE","^\\s*(".concat(a[o.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(a[o.XRANGEPLAINLOOSE],")")+"\\s*$"),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0.0.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}(uge,uge.exports);var fge=/^[0-9]+$/,dge=function(e,t){var n=fge.test(e),r=fge.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},hge=dge,pge=lge,vge=sge.MAX_LENGTH,mge=sge.MAX_SAFE_INTEGER,gge=uge.exports.re,yge=uge.exports.t,bge=oge,xge=hge,wge=function(){function e(t,n){if(au(this,e),n=bge(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>vge)throw new TypeError("version is longer than ".concat(vge," characters"));pge("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var r=t.trim().match(n.loose?gge[yge.LOOSE]:gge[yge.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>mge||this.major<0)throw new TypeError("Invalid major version");if(this.minor>mge||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>mge||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<mge)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}return uu(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(pge("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),xge(this.major,t.major)||xge(this.minor,t.minor)||xge(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(pge("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return xge(r,i)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(pge("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return xge(r,i)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}(),_ge=wge,kge=_ge,Ege=function(e,t,n){return new kge(e,n).compare(new kge(t,n))},Oge=Ege,Sge=function(e,t,n){return 0===Oge(e,t,n)},Age=Ege,Cge=function(e,t,n){return 0!==Age(e,t,n)},Dge=Ege,jge=function(e,t,n){return Dge(e,t,n)>0},Tge=Ege,Fge=function(e,t,n){return Tge(e,t,n)>=0},Pge=Ege,Mge=function(e,t,n){return Pge(e,t,n)<0},Nge=Ege,Rge=function(e,t,n){return Nge(e,t,n)<=0},Ige=Sge,Bge=Cge,zge=jge,Lge=Fge,Uge=Mge,qge=Rge,Wge=function(e,t,n,r){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Ige(e,n,r);case"!=":return Bge(e,n,r);case">":return zge(e,n,r);case">=":return Lge(e,n,r);case"<":return Uge(e,n,r);case"<=":return qge(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}},Hge=Symbol("SemVer ANY"),$ge=function(){function e(t,n){if(au(this,e),n=Gge(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}Qge("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===Hge?this.value="":this.value=this.operator+this.semver.version,Qge("comp",this)}return uu(e,[{key:"parse",value:function(e){var t=this.options.loose?Yge[Kge.COMPARATORLOOSE]:Yge[Kge.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new Zge(n[2],this.options.loose):this.semver=Hge}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(Qge("Comparator.test",e,this.options.loose),this.semver===Hge||e===Hge)return!0;if("string"===typeof e)try{e=new Zge(e,this.options)}catch(Qwe){return!1}return Xge(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");if(n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new Jge(t.value,n).test(this.value);if(""===t.operator)return""===t.value||new Jge(this.value,n).test(t.semver);var r=(">="===this.operator||">"===this.operator)&&(">="===t.operator||">"===t.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===t.operator||"<"===t.operator),a=this.semver.version===t.semver.version,o=(">="===this.operator||"<="===this.operator)&&(">="===t.operator||"<="===t.operator),u=Xge(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),s=Xge(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||a&&o||u||s}}],[{key:"ANY",get:function(){return Hge}}]),e}(),Vge=$ge,Gge=oge,Yge=uge.exports.re,Kge=uge.exports.t,Xge=Wge,Qge=lge,Zge=_ge,Jge=rye;function eye(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return tye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function tye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nye=function(){function e(t,n){var r=this;if(au(this,e),n=aye(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof oye)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(e){return r.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));if(this.set.length>1){var i=this.set[0];if(this.set=this.set.filter((function(e){return!pye(e[0])})),0===this.set.length)this.set=[i];else if(this.set.length>1){var a,o=eye(this.set);try{for(o.s();!(a=o.n()).done;){var u=a.value;if(1===u.length&&vye(u[0])){this.set=[u];break}}}catch(s){o.e(s)}finally{o.f()}}}this.format()}return uu(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this;e=e.trim();var n=Object.keys(this.options).join(","),r="parseRange:".concat(n,":").concat(e),i=iye.get(r);if(i)return i;var a=this.options.loose,o=a?cye[lye.HYPHENRANGELOOSE]:cye[lye.HYPHENRANGE];e=e.replace(o,Aye(this.options.includePrerelease)),uye("hyphen replace",e),e=e.replace(cye[lye.COMPARATORTRIM],fye),uye("comparator trim",e,cye[lye.COMPARATORTRIM]),e=(e=(e=e.replace(cye[lye.TILDETRIM],dye)).replace(cye[lye.CARETTRIM],hye)).split(/\s+/).join(" ");var u=a?cye[lye.COMPARATORLOOSE]:cye[lye.COMPARATOR],s=e.split(" ").map((function(e){return gye(e,t.options)})).join(" ").split(/\s+/).map((function(e){return Sye(e,t.options)})).filter(this.options.loose?function(e){return!!e.match(u)}:function(){return!0}).map((function(e){return new oye(e,t.options)}));s.length;var c,l=new Map,f=eye(s);try{for(f.s();!(c=f.n()).done;){var d=c.value;if(pye(d))return[d];l.set(d.value,d)}}catch(p){f.e(p)}finally{f.f()}l.size>1&&l.has("")&&l.delete("");var h=pu(l.values());return iye.set(r,h),h}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return mye(e,n)&&t.set.some((function(t){return mye(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"===typeof e)try{e=new sye(e,this.options)}catch(Qwe){return!1}for(var t=0;t<this.set.length;t++)if(Cye(this.set[t],e,this.options))return!0;return!1}}]),e}(),rye=nye,iye=new ige({max:1e3}),aye=oge,oye=Vge,uye=lge,sye=_ge,cye=uge.exports.re,lye=uge.exports.t,fye=uge.exports.comparatorTrimReplace,dye=uge.exports.tildeTrimReplace,hye=uge.exports.caretTrimReplace,pye=function(e){return"<0.0.0-0"===e.value},vye=function(e){return""===e.value},mye=function(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n},gye=function(e,t){return uye("comp",e,t),e=wye(e,t),uye("caret",e),e=bye(e,t),uye("tildes",e),e=kye(e,t),uye("xrange",e),e=Oye(e,t),uye("stars",e),e},yye=function(e){return!e||"x"===e.toLowerCase()||"*"===e},bye=function(e,t){return e.trim().split(/\s+/).map((function(e){return xye(e,t)})).join(" ")},xye=function(e,t){var n=t.loose?cye[lye.TILDELOOSE]:cye[lye.TILDE];return e.replace(n,(function(t,n,r,i,a){var o;return uye("tilde",e,t,n,r,i,a),yye(n)?o="":yye(r)?o=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):yye(i)?o=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):a?(uye("replaceTilde pr",a),o=">=".concat(n,".").concat(r,".").concat(i,"-").concat(a," <").concat(n,".").concat(+r+1,".0-0")):o=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),uye("tilde return",o),o}))},wye=function(e,t){return e.trim().split(/\s+/).map((function(e){return _ye(e,t)})).join(" ")},_ye=function(e,t){uye("caret",e,t);var n=t.loose?cye[lye.CARETLOOSE]:cye[lye.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,i,a,o){var u;return uye("caret",e,t,n,i,a,o),yye(n)?u="":yye(i)?u=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):yye(a)?u="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):o?(uye("replaceCaret pr",o),u="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(+n+1,".0.0-0")):(uye("no pr"),u="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a," <").concat(+n+1,".0.0-0")),uye("caret return",u),u}))},kye=function(e,t){return uye("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return Eye(e,t)})).join(" ")},Eye=function(e,t){e=e.trim();var n=t.loose?cye[lye.XRANGELOOSE]:cye[lye.XRANGE];return e.replace(n,(function(n,r,i,a,o,u){uye("xRange",e,n,r,i,a,o,u);var s=yye(i),c=s||yye(a),l=c||yye(o),f=l;return"="===r&&f&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(c&&(a=0),o=0,">"===r?(r=">=",c?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):"<="===r&&(r="<",c?i=+i+1:a=+a+1),"<"===r&&(u="-0"),n="".concat(r+i,".").concat(a,".").concat(o).concat(u)):c?n=">=".concat(i,".0.0").concat(u," <").concat(+i+1,".0.0-0"):l&&(n=">=".concat(i,".").concat(a,".0").concat(u," <").concat(i,".").concat(+a+1,".0-0")),uye("xRange return",n),n}))},Oye=function(e,t){return uye("replaceStars",e,t),e.trim().replace(cye[lye.STAR],"")},Sye=function(e,t){return uye("replaceGTE0",e,t),e.trim().replace(cye[t.includePrerelease?lye.GTE0PRE:lye.GTE0],"")},Aye=function(e){return function(t,n,r,i,a,o,u,s,c,l,f,d,h){return n=yye(r)?"":yye(i)?">=".concat(r,".0.0").concat(e?"-0":""):yye(a)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):o?">=".concat(n):">=".concat(n).concat(e?"-0":""),s=yye(c)?"":yye(l)?"<".concat(+c+1,".0.0-0"):yye(f)?"<".concat(c,".").concat(+l+1,".0-0"):d?"<=".concat(c,".").concat(l,".").concat(f,"-").concat(d):e?"<".concat(c,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(s),"".concat(n," ").concat(s).trim()}},Cye=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var i=0;i<e.length;i++)if(uye(e[i].semver),e[i].semver!==oye.ANY&&e[i].semver.prerelease.length>0){var a=e[i].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0},Dye=rye,jye=function(e,t,n){try{t=new Dye(t,n)}catch(Qwe){return!1}return t.test(e)};function Tye(e,t,n){var r=e.open(t),i=new URL(t).origin,a=40;e.addEventListener("message",(function t(n){n.source===r&&(a=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){a<=0||(r.postMessage(n,i),setTimeout(e,250),a-=1)}),250)}var Fye='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  outline: none;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid #0000;\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid #0000;\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function Pye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];Mye(e,o)}return e}function Mye(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];bk(e,i,t[i],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var Nye;function Rye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rye(Object(n),!0).forEach((function(t){Jve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bye=b,zye=x,Lye="undefined"!==typeof window?window:void 0;void 0===zye&&null!==Lye&&void 0!==Lye&&null!==(Nye=Lye.vl)&&void 0!==Nye&&Nye.compile&&(zye=Lye.vl);var Uye={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},qye={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Wye={vega:"Vega","vega-lite":"Vega-Lite"},Hye={vega:Bye.version,"vega-lite":zye?zye.version:"not available"},$ye={vega:function(e){return e},"vega-lite":function(e,t){return zye.compile(e,{config:t}).spec}},Vye='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',Gye="chart-wrapper";function Yye(e){return"function"===typeof e}function Kye(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),a="</code></pre>".concat(n,"</body></html>"),o=window.open("");o.document.write(i+e+a),o.document.title="".concat(Wye[r]," JSON Source")}function Xye(e,t){if(e.$schema){var n,r=vve(e.$schema);if(t&&t!==r.library)console.warn("The given visualization spec is written in ".concat(Wye[r.library],", but mode argument sets ").concat(null!==(n=Wye[t])&&void 0!==n?n:t,"."));var i=r.library;return jye(Hye[i],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(Wye[i]," ").concat(r.version,", but the current version of ").concat(Wye[i]," is v").concat(Hye[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==t&&void 0!==t?t:"vega"}function Qye(e){return(t=e)&&"load"in t?e:Bye.loader(e);var t}function Zye(e){var t;return null!==(t=e.usermeta&&e.usermeta.embedOptions)&&void 0!==t?t:{}}function Jye(){return Jye=tme(Fme.mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h=arguments;return Fme.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>2&&void 0!==h[2]?h[2]:{},!fE(n)){e.next=10;break}return u=Qye(a.loader),e.t0=JSON,e.next=6,u.load(n);case 6:e.t1=e.sent,o=e.t0.parse.call(e.t0,e.t1),e.next=11;break;case 10:o=n;case 11:return s=Zye(o).loader,u&&!s||(u=Qye(null!==(c=a.loader)&&void 0!==c?c:s)),e.next=15,ebe(Zye(o),u);case 15:return l=e.sent,e.next=18,ebe(a,u);case 18:return f=e.sent,d=Iye(Iye({},Pye(f,l)),{},{config:yk(null!==(r=f.config)&&void 0!==r?r:{},null!==(i=l.config)&&void 0!==i?i:{})}),e.next=22,rbe(t,o,d,u);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)}))),Jye.apply(this,arguments)}function ebe(e,t){return tbe.apply(this,arguments)}function tbe(){return tbe=tme(Fme.mark((function e(t,n){var r,i,a;return Fme.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fE(t.config)){e.next=8;break}return e.t1=JSON,e.next=4,n.load(t.config);case 4:e.t2=e.sent,e.t0=e.t1.parse.call(e.t1,e.t2),e.next=9;break;case 8:e.t0=null!==(r=t.config)&&void 0!==r?r:{};case 9:if(i=e.t0,!fE(t.patch)){e.next=18;break}return e.t4=JSON,e.next=14,n.load(t.patch);case 14:e.t5=e.sent,e.t3=e.t4.parse.call(e.t4,e.t5),e.next=19;break;case 18:e.t3=t.patch;case 19:return a=e.t3,e.abrupt("return",Iye(Iye(Iye({},t),a?{patch:a}:{}),i?{config:i}:{}));case 21:case"end":return e.stop()}}),e)}))),tbe.apply(this,arguments)}function nbe(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}function rbe(e,t){return ibe.apply(this,arguments)}function ibe(){return ibe=tme(Fme.mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y,b,x,_,k,E,O,S,A,C,D,j,T,F,P,M,N,R,I,B,z,L,U,q,W,H,$,V,G,Y,K,X,Q,Z,J=arguments;return Fme.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z=function(){z&&document.removeEventListener("click",z),P.finalize()},l=J.length>2&&void 0!==J[2]?J[2]:{},f=J.length>3?J[3]:void 0,d=l.theme?yk(w[l.theme],null!==(r=l.config)&&void 0!==r?r:{}):l.config,h=oE(l.actions)?l.actions:Pye({},Uye,null!==(i=l.actions)&&void 0!==i?i:{}),p=Iye(Iye({},qye),l.i18n),v=null!==(a=l.renderer)&&void 0!==a?a:"canvas",m=null!==(o=l.logLevel)&&void 0!==o?o:Bye.Warn,g=null!==(u=l.downloadFileName)&&void 0!==u?u:"visualization",y="string"===typeof t?document.querySelector(t):t){e.next=12;break}throw new Error("".concat(t," does not exist"));case 12:return!1!==l.defaultStyle&&(b="vega-embed-style",x=nbe(y),_=x.root,k=x.rootContainer,_.getElementById(b)||((E=document.createElement("style")).id=b,E.innerText=void 0===l.defaultStyle||!0===l.defaultStyle?Fye.toString():l.defaultStyle,k.appendChild(E))),O=Xye(n,l.mode),S=$ye[O](n,d),"vega-lite"===O&&S.$schema&&(A=vve(S.$schema),jye(Hye.vega,"^".concat(A.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(A.version,", but current version is v").concat(Hye.vega,"."))),y.classList.add("vega-embed"),h&&y.classList.add("has-actions"),y.innerHTML="",C=y,h&&((D=document.createElement("div")).classList.add(Gye),y.appendChild(D),C=D),(j=l.patch)&&(S=j instanceof Function?j(S):F_(S,j,!0,!1).newDocument),l.formatLocale&&Bye.formatLocale(l.formatLocale),l.timeFormatLocale&&Bye.timeFormatLocale(l.timeFormatLocale),T=l.ast,F=Bye.parse(S,"vega-lite"===O?{}:d,{ast:T}),(P=new(l.viewClass||Bye.View)(F,Iye({loader:f,logLevel:m,renderer:v},T?{expr:null!==(s=null!==(c=Bye.expressionInterpreter)&&void 0!==c?c:l.expr)&&void 0!==s?s:v9}:{}))).addSignalListener("autosize",(function(e,t){var n=t.type;"fit-x"==n?(C.classList.add("fit-x"),C.classList.remove("fit-y")):"fit-y"==n?(C.classList.remove("fit-x"),C.classList.add("fit-y")):"fit"==n?C.classList.add("fit-x","fit-y"):C.classList.remove("fit-x","fit-y")})),!1!==l.tooltip&&(M=Yye(l.tooltip)?l.tooltip:new Zve(!0===l.tooltip?{}:l.tooltip).call,P.tooltip(M)),void 0===(N=l.hover)&&(N="vega"===O),N&&(I=(R="boolean"===typeof N?{}:N).hoverSet,B=R.updateSet,P.hover(I,B)),l&&(null!=l.width&&P.width(l.width),null!=l.height&&P.height(l.height),null!=l.padding&&P.padding(l.padding)),e.next=36,P.initialize(C,l.bind).runAsync();case 36:if(!1!==h){if(L=y,!1!==l.defaultStyle&&((U=document.createElement("details")).title=p.CLICK_TO_VIEW_ACTIONS,y.append(U),L=U,(q=document.createElement("summary")).innerHTML=Vye,U.append(q),z=function(e){U.contains(e.target)||U.removeAttribute("open")},document.addEventListener("click",z)),W=document.createElement("div"),L.append(W),W.classList.add("vega-actions"),!0===h||!1!==h.export)for(H=function(){var e=V[$];if(!0===h||!0===h.export||h.export[e]){var t=p["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(g,".").concat(e),n.addEventListener("mousedown",function(){var t=tme(Fme.mark((function t(n){var r;return Fme.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,P.toImageURL(e,l.scaleFactor);case 3:r=t.sent,this.href=r;case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()),W.append(n)}},$=0,V=["svg","png"];$<V.length;$++)H();!0!==h&&!1===h.source||((G=document.createElement("a")).text=p.SOURCE_ACTION,G.href="#",G.addEventListener("click",(function(e){var t,r;Kye(V_()(n),null!==(t=l.sourceHeader)&&void 0!==t?t:"",null!==(r=l.sourceFooter)&&void 0!==r?r:"",O),e.preventDefault()})),W.append(G)),"vega-lite"!==O||!0!==h&&!1===h.compiled||((Y=document.createElement("a")).text=p.COMPILED_ACTION,Y.href="#",Y.addEventListener("click",(function(e){var t,n;Kye(V_()(S),null!==(t=l.sourceHeader)&&void 0!==t?t:"",null!==(n=l.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),W.append(Y)),!0!==h&&!1===h.editor||(X=null!==(K=l.editorUrl)&&void 0!==K?K:"https://vega.github.io/editor/",(Q=document.createElement("a")).text=p.EDITOR_ACTION,Q.href="#",Q.addEventListener("click",(function(e){Tye(window,X,{config:d,mode:O,renderer:v,spec:V_()(n)}),e.preventDefault()})),W.append(Q))}return e.abrupt("return",{view:P,spec:n,vgSpec:S,finalize:Z});case 38:case"end":return e.stop()}}),e)}))),ibe.apply(this,arguments)}function abe(e,t){Object.keys(t).forEach((function(n){!function(e,t,n){var r;n&&((r=n)&&"[object Function]"==={}.toString.call(r)?n(e.data(t)):e.change(t,Bye.changeset().remove((function(){return!0})).insert(n)))}(e,n,t[n])}))}function obe(e){var t=new Set;return e.forEach((function(e){Object.keys(e).forEach((function(e){t.add(e)}))})),t}var ube=function(){};function sbe(e,t){var n=Object.keys(t);return n.forEach((function(n){try{e.addSignalListener(n,t[n])}catch(J_){console.warn("Cannot add invalid signal listener.",J_)}})),n.length>0}function cbe(e,t){var n=Object.keys(t);return n.forEach((function(n){try{e.removeSignalListener(n,t[n])}catch(J_){console.warn("Cannot remove invalid signal listener.",J_)}})),n.length>0}function lbe(e){var t=e.spec,n=e.width,r=e.height;return"undefined"!==typeof n&&"undefined"!==typeof r?mu(mu({},t),{},{width:n,height:r}):"undefined"!==typeof n?mu(mu({},t),{},{width:n}):"undefined"!==typeof r?mu(mu({},t),{},{height:r}):t}var fbe=["spec","onNewView","signalListeners","width","height"];function dbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hbe=function(e){Ip(n,e);var t=qp(n);function n(){var e;au(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return dbe(ji(e=t.call.apply(t,[this].concat(i))),"containerRef",_.createRef()),dbe(ji(e),"resultPromise",void 0),dbe(ji(e),"handleError",(function(t){var n=e.props.onError;(void 0===n?ube:n)(t),console.warn(t)})),dbe(ji(e),"modifyView",(function(t){e.resultPromise&&e.resultPromise.then((function(e){return e&&t(e.view),!0})).catch(e.handleError)})),e}return uu(n,[{key:"componentDidMount",value:function(){this.createView()}},{key:"componentDidUpdate",value:function(e){var t=this,n=obe([this.props,e]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some((function(n){return t.props[n]!==e[n]})))this.clearView(),this.createView();else{var r=function(e,t){if(e===t)return!1;var n={width:!1,height:!1,isExpensive:!1},r=obe([e,t]);return!r.has("width")||"width"in e&&"width"in t&&e.width===t.width||("width"in e&&"number"===typeof e.width?n.width=e.width:n.isExpensive=!0),!r.has("height")||"height"in e&&"height"in t&&e.height===t.height||("height"in e&&"number"===typeof e.height?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),pu(r).some((function(n){return!(n in e)||!(n in t)||!b9()(e[n],t[n])}))&&(n.isExpensive=!0),!(!1===n.width&&!1===n.height&&!n.isExpensive)&&n}(lbe(this.props),lbe(e)),i=this.props.signalListeners,a=e.signalListeners;if(r)if(r.isExpensive)this.clearView(),this.createView();else{var o=!p_(i,a);this.modifyView((function(e){!1!==r.width&&e.width(r.width),!1!==r.height&&e.height(r.height),o&&(a&&cbe(e,a),i&&sbe(e,i)),e.run()}))}else p_(i,a)||this.modifyView((function(e){a&&cbe(e,a),i&&sbe(e,i),e.run()}))}}},{key:"componentWillUnmount",value:function(){this.clearView()}},{key:"createView",value:function(){var e=this.props,t=(e.spec,e.onNewView),n=e.signalListeners,r=void 0===n?{}:n,i=(e.width,e.height,d_(e,fbe));if(this.containerRef.current){var a=lbe(this.props);this.resultPromise=function(e,t){return Jye.apply(this,arguments)}(this.containerRef.current,a,i).then((function(e){if(e){var t=e.view;sbe(t,r)&&t.run()}return e})).catch(this.handleError),t&&this.modifyView(t)}}},{key:"clearView",value:function(){return this.resultPromise&&this.resultPromise.then((function(e){e&&e.finalize()})).catch(this.handleError),this.resultPromise=void 0,this}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style;return _.createElement("div",{ref:this.containerRef,className:t,style:n})}}]),n}(_.PureComponent);dbe(hbe,"propTypes",{className:Xg().string,onError:Xg().func});var pbe=["data"];function vbe(){return vbe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vbe.apply(this,arguments)}function mbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gbe=function(e){Ip(n,e);var t=qp(n);function n(){var e;au(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return mbe(ji(e=t.call.apply(t,[this].concat(i))),"vegaEmbed",_.createRef()),mbe(ji(e),"handleNewView",(function(t){e.update();var n=e.props.onNewView;(void 0===n?ube:n)(t)})),e}return uu(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(e){p_(this.props.data,e.data)||this.update()}},{key:"update",value:function(){var e=this.props.data;this.vegaEmbed.current&&e&&Object.keys(e).length>0&&this.vegaEmbed.current.modifyView((function(t){abe(t,e),t.resize().run()}))}},{key:"render",value:function(){var e=this.props,t=(e.data,d_(e,pbe));return _.createElement(hbe,vbe({ref:this.vegaEmbed},t,{onNewView:this.handleNewView}))}}]),n}(_.PureComponent);function ybe(){return ybe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ybe.apply(this,arguments)}function bbe(e){var t=e.mode,n=e.spec,r=function(e){Ip(i,e);var r=qp(i);function i(){return au(this,i),r.apply(this,arguments)}return uu(i,[{key:"render",value:function(){return _.createElement(gbe,ybe({mode:t,spec:n},this.props))}}]),i}(_.PureComponent);return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(r,"getSpec",(function(){return n})),r}mbe(gbe,"defaultProps",{data:{}});var xbe=bbe({spec:{$schema:"https://vega.github.io/schema/vega/v5.json",width:1e3,height:500,padding:20,autosize:"none",data:[{name:"tree",transform:[{type:"filter",expr:"selectedCategory != '' ? datum.type != 'group' || selectedCategory == datum.category : true"},{type:"window",sort:{field:"visits",order:"descending"},groupby:["type"],ops:["count"]},{type:"filter",expr:"datum.type != 'group' || datum.count < ".concat(500)},{type:"stratify",key:"id",parentKey:"parent"},{type:"formula",as:"scaledsize",expr:"datum.category === selectedCategory && datum.type === 'group' ?  (datum.size * (1/(datum.categorySize))) : datum.size"},{type:"formula",as:"scaledsize",expr:"pow(datum.scaledsize*1000, 0.8)"},{type:"pack",field:"scaledsize",padding:4,as:["x","y","r"],size:[{signal:"width"},{signal:"height*2"}]},{type:"formula",as:"y",expr:"datum.y / 2"},{type:"formula",as:"width",expr:"datum.r"},{type:"formula",as:"height",expr:"datum.r / 2"},{type:"filter",expr:"datum.type != 'root'"}]},{name:"with_image",source:"tree",transform:[{type:"filter",expr:"datum.type === 'group' && datum.count < ".concat(30)}]}],signals:[{name:"selectedCategory",value:""},{name:"selectedDatum",value:null,update:"data('tree') ? '' : ''",on:[{events:"click",update:"datum && datum.type == 'group' && (isValid(selectedDatum) ? selectedDatum.id !== datum.id : true) ? datum : ''",force:!1}]}],scales:[{name:"color",type:"ordinal",domain:{data:"tree",field:"category"},range:{scheme:"category20"}}],marks:[{type:"path",from:{data:"tree"},encode:{enter:{path:[{test:"true",value:"M-1 0 A1 1 0 1 1 -1 0.01 z"},{value:"M-1 -0.2 \n                        A0.8 0.8 0 0 1 -0.5 -0.7 \n                        L0.5 -0.7 \n                        A0.8 0.8 0 0 1 1 -0.2\n                        L1 0.2 \n                        A0.8 0.8 0 0 1 0.5 0.7\n                        L-0.5 0.7\n                        A0.8 0.8 0 0 1 -1 0.2\n                        z\n                        "}]},update:{tooltip:{signal:"datum.type === 'category' ? null : datum.label"},xc:{field:"x"},yc:{field:"y"},scaleX:{signal:"datum.width"},scaleY:{signal:"datum.height"},stroke:{value:"#ffffff55"},strokeWidth:[{test:"datum.type == 'category'",value:2},{value:.5}],fill:[{test:"datum.type === 'category' && (datum.category === selectedCategory || selectedCategory === '')",value:"transparent"},{test:"isValid(selectedDatum) && selectedDatum.id === datum.id",value:"white"},{scale:"color",field:"category"}]}}},{type:"image",name:"icon",from:{data:"with_image"},encode:{enter:{url:{field:"icon"},tooltip:{signal:"datum.label"}},update:{xc:{field:"x"},yc:{field:"y"},width:{signal:"min(datum.width,32)"},height:{signal:"min(datum.height,32)"}}}},{type:"text",name:"label",from:{data:"tree"},encode:{enter:{tooltip:{field:"label"}},update:{text:{signal:"(datum.type === 'group' && (datum.count > ".concat(30," || !datum.icon)) ? datum.label : null")},xc:{field:"x"},yc:{field:"y"},fontSize:{signal:"max(10,(datum.width/10)*(10/length(datum.label || '')))"},ellipsis:{value:"-"},align:{value:"center"},limit:{signal:"datum.width*1.8"},baseline:{value:"middle"},fill:{signal:"selectedCategory === datum.category && datum.type === 'category' ? '#00000096' : 'black'"}}}}]}}),wbe=function(e){var t=e.dashData,n=e.group,r=e.grouptype,i=e.inSelection,a=e.setOutSelection,o=D((0,_.useState)({tree:[]}),2),u=o[0],s=o[1],c=D((0,_.useState)([]),2),l=c[0],f=c[1],d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"domain",r=D((0,_.useState)([]),2),i=r[0],a=r[1],o=D((0,_.useState)(null),2),u=o[0],s=o[1],c=D((0,_.useState)(!1),2),l=c[0],f=c[1];return(0,_.useEffect)((function(){if(null!==e&&void 0!==e&&e.data){var n,r={},i=S(e.data);try{for(i.s();!(n=i.n()).done;){var a=n.value;null!==a&&void 0!==a&&a[t]&&!r[a[t]]&&(r[a[t]]=!0)}}catch(o){i.e(o)}finally{i.f()}s(Object.keys(r))}}),[null===e||void 0===e?void 0:e.data,t]),(0,_.useEffect)((function(){if(u&&0!==u.length){f(!1);var e=function(){var e=nu(iu().mark((function e(){var t;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,su(u,n);case 2:t=e.sent,a(t),f(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[u,n]),[i,l]}(t,n,r),h=D(d,2),p=h[0],v=h[1],m=D((0,_.useState)(!1),2),g=m[0],y=m[1];(0,_.useEffect)((function(){s(_be(t,n,i,p))}),[t,n,p,i,a,y]);var b=function(){var e=nu(iu().mark((function e(r){var i;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchValues([r.label],n);case 2:i=e.sent,a(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x={selectedDatum:function(e,t){t?b(t):a(null)},selectedCategory:function(e,t){return console.log(t)}};return(0,Jo.jsxs)("div",{style:{position:"relative"},children:[(0,Jo.jsx)(pd,{active:g||!v,children:(0,Jo.jsx)(Rh,{})}),(0,Jo.jsx)(xbe,{data:u,signalListeners:x,actions:!1,renderer:"svg"}),(0,Jo.jsx)(Gw,{dashData:t,deleteIds:l,setDeleteIds:f})]})},_be=function(e,t,n,r){var i=e.count(t,n);(i=Object.keys(i).map((function(e){return{name:e,count:i[e]}}))).sort((function(e,t){return t.count-e.count}));var a,o=[],u={},s={label:"root",type:"root",id:0,size:0},c=1,l=S(i);try{for(l.s();!(a=l.n()).done;){var f,d,h=a.value;s.size+=h.count;var p=null===(f=r[h.name])||void 0===f?void 0:f.category,v=null===(d=r[h.name])||void 0===d?void 0:d.icon;u[p]||(u[p]={id:c++,type:"category",label:p,size:0,parent:0,category:p}),u[p].size+=h.count,o.push({label:h.name,type:"group",parent:u[p].id,size:h.count,visits:h.count,category:p,icon:v})}}catch(m){l.e(m)}finally{l.f()}return o=o.map((function(e,t){return mu(mu({},e),{},{id:c++,size:e.size/s.size,categorySize:u[e.category].size/s.size})})),u=Object.values(u).map((function(e,t){return mu(mu({},e),{},{size:e.size/s.size})})),s.size=1,{tree:[s].concat(pu(u),pu(o))}},kbe=_.memo(wbe),Ebe="domain",Obe=["url","title"],Sbe=["date","title","url"];var Abe=function(e){var t=e.dashData,n=e.inSelection,r=e.setOutSelection;return t?(0,Jo.jsx)("div",{children:(0,Jo.jsx)(kbe,{dashData:t,group:Ebe,grouptype:"domain",inSelection:n,setOutSelection:r})}):null},Cbe=function(e,t){if(!e)return[];for(var n=e.count(Ebe,t),r=0,i=0,a=[],o=function(){var e=s[u];r+=n[e],i++;var t=a.findIndex((function(t){return t.count<n[e]}));if(t<0&&(t=a.length),t<5){var o={key:e,count:n[e],image:"https://icons.duckduckgo.com/ip3/".concat(e,".ico")};a.splice(t,0,o)}},u=0,s=Object.keys(n);u<s.length;u++)o();return a=a.slice(0,5),a=(0,Jo.jsx)(Mh,{children:a.map((function(e){return(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(kd,{style:{height:"20px",width:"20px"},src:e.image}),(0,Jo.jsx)(Mh.Content,{children:"".concat(e.key.replace(/www[^.]*\./,"")," (").concat(e.count,")")})]},e.key)}))}),[{label:"Visits",value:r},{label:i>1?"Top domains":"Domain",value:a}]},Dbe=bbe({spec:{$schema:"https://vega.github.io/schema/vega/v5.json",description:"A word cloud visualization depicting Vega research paper abstracts.",width:1e3,height:500,padding:50,data:[{name:"table",transform:[{type:"window",sort:{field:"visits",order:"descending"},groupby:["type"],ops:["count"]},{type:"filter",expr:"datum.count < 200"}]}],scales:[{name:"color",type:"ordinal",domain:{data:"table",field:"text"},range:["#e0ca8a","#8acce0","#bea5e9"]}],signals:[{name:"selectedWord",update:"data('table') ? '' : ''",on:[{events:"click",update:"!datum || datum.text === selectedWord ? '' : datum.text",force:!1}]}],marks:[{type:"text",from:{data:"table"},encode:{enter:{text:{field:"text"},align:{value:"center"},baseline:{value:"alphabetic"}},update:{fill:[{test:"selectedWord === datum.text",value:"white"},{scale:"color",field:"text"}],fillOpacity:{value:1}},hover:{fillOpacity:[{test:"selectedWord === datum.text",value:1},{value:.5}]}},transform:[{type:"wordcloud",size:[1e3,500],text:{field:"text"},rotate:{field:"datum.angle"},font:"Helvetica Neue, Arial",fontSize:{field:"datum.visits"},fontSizeRange:[12,56],padding:2}]}]}}),jbe=function(e){var t=e.dashData,n=e.group,r=e.inSelection,i=e.setOutSelection,a=D((0,_.useState)({table:[]}),2),o=a[0],u=a[1],s=D((0,_.useState)([]),2),c=s[0],l=s[1],f=D((0,_.useState)(!1),2),d=f[0],h=f[1];(0,_.useEffect)((function(){u(Tbe(t,n,r)),i(null)}),[t,n,r,i,h]);var p=function(){var e=nu(iu().mark((function e(r){var a;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchValues([r],n);case 2:a=e.sent,i(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={selectedWord:function(e,t){t?p(t):i(null)}};return(0,Jo.jsxs)("div",{style:{position:"relative"},children:[(0,Jo.jsx)(pd,{active:d,children:(0,Jo.jsx)(Rh,{})}),(0,Jo.jsx)(Dbe,{data:o,signalListeners:v,actions:!1,renderer:"svg"}),(0,Jo.jsx)(Gw,{dashData:t,deleteIds:c,setDeleteIds:l})]})},Tbe=function(e,t,n,r){var i=e.count(t,n);return{table:i=Object.keys(i).map((function(e){return{text:e,visits:i[e],angle:[-45,0,45][~~(3*Math.random())]}}))}},Fbe=_.memo(jbe),Pbe="channel",Mbe=["channel","title"],Nbe=["channel","title","date"];var Rbe=function(e){var t=e.dashData,n=e.inSelection,r=e.setOutSelection;return t?(0,Jo.jsx)("div",{children:(0,Jo.jsx)(Fbe,{dashData:t,group:Pbe,inSelection:n,setOutSelection:r})}):null},Ibe=function(e,t){if(!e)return[];for(var n=e.count(Pbe,t," "),r=e.N(t),i=[],a=function(){var e=u[o],t=i.findIndex((function(t){return t.count<n[e]}));if(t<0&&(t=i.length),t<5){var r={key:e,count:n[e]};i.splice(t,0,r)}},o=0,u=Object.keys(n);o<u.length;o++)a();return i=i.slice(0,5),[{label:"Total views",value:r},{label:"Top channel".concat(1===i.length?"":"s"),value:i=(0,Jo.jsx)(Mh,{children:i.map((function(e){return(0,Jo.jsx)(Mh.Item,{children:(0,Jo.jsx)(Mh.Content,{children:"".concat(e.key.replace(/www[^.]*\./,"")," (").concat(e.count,")")})},e.key)}))})}]},Bbe="word",zbe=["word"],Lbe=["query","date"];var Ube=function(e){var t=e.dashData,n=e.inSelection,r=e.setOutSelection;return t?(0,Jo.jsx)(Fbe,{dashData:t,group:Bbe,inSelection:n,setOutSelection:r}):null},qbe=function(e,t){if(!e)return[];for(var n=e.count(Bbe,t," "),r=e.N(t),i=[],a=function(){var e=u[o],t=i.findIndex((function(t){return t.count<n[e]}));if(t<0&&(t=i.length),t<5){var r={key:e,count:n[e]};i.splice(t,0,r)}},o=0,u=Object.keys(n);o<u.length;o++)a();return i=i.slice(0,5),[{label:"Total searches",value:r},{label:"Top queries",value:i=(0,Jo.jsx)(Mh,{children:i.map((function(e){return(0,Jo.jsx)(Mh.Item,{children:(0,Jo.jsx)(Mh.Content,{children:"".concat(e.key.replace(/www[^.]*\./,"")," (").concat(e.count,")")})},e.key)}))})}]};function Wbe(e){var t=e.slider,n=e.toggle,r=e.type,i=Ei(Wbe,e),a=!(t||n)||void 0;return _.createElement($w,j({},i,{type:r,radio:a,slider:t,toggle:n}))}Wbe.handledProps=["slider","toggle","type"],Wbe.propTypes={},Wbe.defaultProps={type:"radio"};var Hbe=Wbe;function $be(e){var t=e.children,n=e.className,r=e.content,i=e.control,a=e.disabled,o=e.error,u=e.inline,s=e.label,c=e.required,l=e.type,f=e.width,d=e.id,h=pi(gi(a,"disabled"),gi(o,"error"),gi(u,"inline"),gi(c,"required"),ki(f,"wide"),"field",n),p=Ei($be,e),v=Oi($be,e),m=Mr(o,"pointing","above"),g=bd.create(o,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:m,id:d?d+"-error-message":void 0,role:"alert","aria-atomic":!0}}),y=("below"===m||"right"===m)&&g,b=("above"===m||"left"===m)&&g;if(ta(i))return ta(s)?_.createElement(v,j({},p,{className:h,id:d}),Di(t)?r:t):_.createElement(v,j({},p,{className:h,id:d}),y,oa(s,{autoGenerateKey:!1}),b);var x={"aria-describedby":d&&o?d+"-error-message":null,"aria-invalid":!!o||void 0},w=j({},p,{content:r,children:t,disabled:a,required:c,type:l,id:d});return"input"!==i||"checkbox"!==l&&"radio"!==l?i===$w||i===Hbe?_.createElement(v,{className:h},y,(0,_.createElement)(i,j({},x,w,{label:s})),b):_.createElement(v,{className:h},oa(s,{defaultProps:{htmlFor:d},autoGenerateKey:!1}),y,(0,_.createElement)(i,j({},x,w)),b):_.createElement(v,{className:h},_.createElement("label",null,y,(0,_.createElement)(i,j({},x,w))," ",s,b))}$be.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],$be.propTypes={};var Vbe=$be;function Gbe(e){var t=e.control,n=Ei(Gbe,e),r=Oi(Gbe,e);return _.createElement(r,j({},n,{control:t}))}Gbe.handledProps=["as","control"],Gbe.propTypes={},Gbe.defaultProps={as:Vbe,control:Id};var Ybe=Gbe;function Kbe(e){var t=e.control,n=Ei(Kbe,e),r=Oi(Kbe,e);return _.createElement(r,j({},n,{control:t}))}Kbe.handledProps=["as","control"],Kbe.propTypes={},Kbe.defaultProps={as:Vbe,control:$w};var Xbe=Kbe;var Qbe=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var Zbe=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};var Jbe=function(e,t){var n=!0;return Yr(e,(function(e,r,i){return n=!!t(e,r,i)})),n};var exe=function(e,t,n){var r=Xt(e)?Zbe:Jbe;return n&&Ai(e,t,n)&&(t=void 0),r(e,Wr(t,3))};var txe=function(e){return function(t,n,r){var i=Object(t);if(!Bn(t)){var a=Wr(n,3);t=zn(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},nxe=Math.max;var rxe=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:qf(n);return i<0&&(i=nxe(r+i,0)),Mi(e,Wr(t,3),i)},ixe=txe(rxe);var axe=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:qf(t),Jr(e,0,(t=r-t)<0?0:t)):[]},oxe=Lr("length"),uxe="[\\ud800-\\udfff]",sxe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",cxe="\\ud83c[\\udffb-\\udfff]",lxe="[^\\ud800-\\udfff]",fxe="(?:\\ud83c[\\udde6-\\uddff]){2}",dxe="[\\ud800-\\udbff][\\udc00-\\udfff]",hxe="(?:"+sxe+"|"+cxe+")"+"?",pxe="[\\ufe0e\\ufe0f]?",vxe=pxe+hxe+("(?:\\u200d(?:"+[lxe,fxe,dxe].join("|")+")"+pxe+hxe+")*"),mxe="(?:"+[lxe+sxe+"?",sxe,fxe,dxe,uxe].join("|")+")",gxe=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+mxe+vxe,"g");var yxe=function(e){for(var t=gxe.lastIndex=0;gxe.test(e);)++t;return t};var bxe=function(e){return Va(e)?yxe(e):oxe(e)};var xxe=function(e){if(null==e)return 0;if(Bn(e))return Ji(e)?bxe(e):e.length;var t=ir(e);return"[object Map]"==t||"[object Set]"==t?e.size:In(e).length},wxe=fi((function(e,t){return Sw(e)?Ow(e,Yh(t,1,Sw,!0)):[]})),_xe=wxe,kxe=fi((function(e){return Wi(Yh(e,1,Sw,!0))}));var Exe=function(e,t){return lr(e,t)},Oxe=function(e){function t(){return e.apply(this,arguments)||this}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=pi(e.name,"flag",n),i=Ei(t,this.props),a=Oi(t,this.props);return _.createElement(a,j({},i,{className:r}))},t}(_.PureComponent);Oxe.handledProps=["as","className","name"],Oxe.propTypes={},Oxe.defaultProps={as:"i"},Oxe.create=ra(Oxe,(function(e){return{name:e}}));var Sxe=Oxe;function Axe(e){var t=pi("divider",e.className),n=Ei(Axe,e),r=Oi(Axe,e);return _.createElement(r,j({},n,{className:t}))}Axe.handledProps=["as","className"],Axe.propTypes={};var Cxe=Axe,Dxe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){di(t.props,"onClick",e,t.props)},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.disabled,u=e.description,s=e.flag,c=e.icon,l=e.image,f=e.label,d=e.selected,h=e.text,p=pi(gi(n,"active"),gi(o,"disabled"),gi(d,"selected"),"item",i),v=ta(c)?function(e,t){return Ci(_.Children.toArray(e),{type:t})}(r,"DropdownMenu")&&"dropdown":c,m=Ei(t,this.props),g=Oi(t,this.props),y={role:"option","aria-disabled":o,"aria-checked":n,"aria-selected":d};if(!Di(r))return _.createElement(g,j({},m,y,{className:p,onClick:this.handleClick}),r);var b=Sxe.create(s,{autoGenerateKey:!1}),x=po.create(v,{autoGenerateKey:!1}),w=kd.create(l,{autoGenerateKey:!1}),k=bd.create(f,{autoGenerateKey:!1}),E=na("span",(function(e){return{children:e}}),u,{defaultProps:{className:"description"},autoGenerateKey:!1}),O=na("span",(function(e){return{children:e}}),Di(a)?h:a,{defaultProps:{className:"text"},autoGenerateKey:!1});return _.createElement(g,j({},m,y,{className:p,onClick:this.handleClick}),w,x,b,k,E,O)},t}(_.Component);Dxe.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],Dxe.propTypes={},Dxe.create=ra(Dxe,(function(e){return e}));var jxe=Dxe;function Txe(e){var t=e.children,n=e.className,r=e.content,i=e.icon,a=pi("header",n),o=Ei(Txe,e),u=Oi(Txe,e);return Di(t)?_.createElement(u,j({},o,{className:a}),po.create(i,{autoGenerateKey:!1}),r):_.createElement(u,j({},o,{className:a}),t)}Txe.handledProps=["as","children","className","content","icon"],Txe.propTypes={},Txe.create=ra(Txe,(function(e){return{content:e}}));var Fxe=Txe;function Pxe(e){var t=e.children,n=e.className,r=e.content,i=e.direction,a=e.open,o=e.scrolling,u=pi(i,gi(a,"visible"),gi(o,"scrolling"),"menu transition",n),s=Ei(Pxe,e),c=Oi(Pxe,e);return _.createElement(c,j({},s,{className:u}),Di(t)?r:t)}Pxe.handledProps=["as","children","className","content","direction","open","scrolling"],Pxe.propTypes={};var Mxe=Pxe,Nxe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=Mr(e,"target.value");di(t.props,"onChange",e,j({},t.props,{value:n}))},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,r=e.className,i=e.tabIndex,a=e.type,o=e.value,u=pi("search",r),s=Ei(t,this.props);return _.createElement("input",j({},s,{"aria-autocomplete":"list",autoComplete:n,className:u,onChange:this.handleChange,tabIndex:i,type:a,value:o}))},t}(_.Component);Nxe.handledProps=["as","autoComplete","className","tabIndex","type","value"],Nxe.propTypes={},Nxe.defaultProps={autoComplete:"off",type:"text"},Nxe.create=ra(Nxe,(function(e){return{type:e}}));var Rxe=Nxe;function Ixe(e){var t=e.children,n=e.className,r=e.content,i=pi("divider",n),a=Ei(Ixe,e),o=Oi(Ixe,e);return _.createElement(o,j({"aria-atomic":!0,"aria-live":"polite",role:"alert"},a,{className:i}),Di(t)?r:t)}Ixe.handledProps=["as","children","className","content"],Ixe.propTypes={},Ixe.create=ra(Ixe,(function(e){return{content:e}}));var Bxe=Ixe,zxe=/[\\^$.*+?()[\]{}|]/g,Lxe=RegExp(zxe.source);var Uxe=function(e){return(e=jr(e))&&Lxe.test(e)?e.replace(zxe,"\\$&"):e};var qxe=function(e,t){var n=[];return Yr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};var Wxe=function(e,t){return(Xt(e)?Zt:qxe)(e,Wr(t,3))};function Hxe(e){var t=e.additionLabel,n=e.additionPosition,r=e.allowAdditions,i=e.deburr,a=e.multiple,o=e.options,u=e.search,s=e.searchQuery,c=e.value,l=o;if(a&&(l=Wxe(l,(function(e){return!Vf(c,e.value)}))),u&&s)if(Ze(u))l=u(l,s);else{var f=i?pa(s):s,d=new RegExp(Uxe(f),"i");l=Wxe(l,(function(e){return d.test(i?pa(e.text):e.text)}))}if(r&&u&&s&&!Ci(l,{text:s})){var h={key:"addition",text:[_.isValidElement(t)?_.cloneElement(t,{key:"addition-label"}):t||"",_.createElement("b",{key:"addition-query"},s)],value:s,className:"addition","data-additional":!0};"top"===n?l.unshift(h):l.push(h)}return l}function $xe(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,u=e.options,s=e.search,c=e.searchQuery,l=e.selectedIndex,f=e.value,d=Hxe({value:f,options:u,searchQuery:c,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:a,multiple:o,search:s}),h=Jh(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!l||l<0){var p=h[0];t=o?p:rxe(d,["value",f])||h[0]}else if(o)t=ixe(h,(function(e){return e>=l})),l>=d.length-1&&(t=h[h.length-1]);else{var v=rxe(d,["value",f]);t=Vf(h,v)?v:void 0}return(!t||t<0)&&(t=h[0]),t}Hxe.handledProps=[];var Vxe=function(e,t){return ta(e)?t:e},Gxe=function(e){return e?e.map((function(e){return Qh(e,["key","value"])})):e};function Yxe(e){var t=e.flag,n=e.image,r=e.text;return Ze(r)?r:{content:_.createElement(_.Fragment,null,Sxe.create(t),kd.create(n),r)}}var Kxe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).searchRef=(0,_.createRef)(),t.sizerRef=(0,_.createRef)(),t.ref=(0,_.createRef)(),t.handleChange=function(e,n){di(t.props,"onChange",e,j({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(Ti(r)?!i:r)&&t.close(e,Li)},t.closeOnEscape=function(e){t.props.closeOnEscape&&od().getCode(e)===od().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,a=r.selectOnNavigation;if(t.state.open){var o=((n={})[od().ArrowDown]=1,n[od().ArrowUp]=-1,n)[od().getCode(e)];if(void 0!==o){e.preventDefault();var u=t.getSelectedIndexAfterMove(o);!i&&a&&t.makeSelectedItemActive(e,u),t.setState({selectedIndex:u})}}},t.openOnSpace=function(e){var n,r,i,a=t.state.focus&&!t.state.open&&od().getCode(e)===od().Spacebar,o="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);a&&(o&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var a=od().getCode(e);a!==od().ArrowDown&&a!==od().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,a=r.value,o=t.props.multiple,u=t.getSelectedItem(n),s=Mr(u,"value"),c=Mr(u,"disabled");if(ta(s)||!i||c)return a;var l=o?kxe(a,[s]):s;return(o?!!_xe(l,a).length:l!==a)&&(t.setState({value:l}),t.handleChange(e,l),u["data-additional"]&&di(t.props,"onAddItem",e,j({},t.props,{value:s}))),a},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,a=r.selectedIndex;if(i&&(od().getCode(e)===od().Enter||!n&&od().getCode(e)===od().Spacebar)){e.preventDefault();var o=xxe(Hxe({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==o){var u=t.makeSelectedItemActive(e,a);t.setState({selectedIndex:$xe({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:a,value:u,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&di(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,a=t.state,o=a.searchQuery,u=a.value;if(od().getCode(e)===od().Backspace&&!o&&i&&r&&!tp(u)){e.preventDefault();var s=axe(u);t.setState({value:s}),t.handleChange(e,s)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&Vo(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,di(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,a=t.state,o=a.open,u=a.searchQuery;if(di(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);o?di(t.searchRef.current,"focus"):u.length>=r||1===r?t.open(e):di(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();di(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,a=r.search,o=t.state.value,u=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var s=n["data-additional"],c=i?kxe(t.state.value,[u]):u;(i?!!_xe(c,o).length:c!==o)&&(t.setState({value:c}),t.handleChange(e,c)),t.clearSearchQuery(),di(a?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),s&&di(t.props,"onAddItem",e,j({},t.props,{value:u}))}},t.handleFocus=function(e){t.state.focus||(di(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=Mr(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,a=r.multiple,o=r.selectOnBlur;t.isMouseDown||(di(t.props,"onBlur",e,t.props),o&&!a&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,a=t.state.open,o=r;di(t.props,"onSearchChange",e,j({},t.props,{searchQuery:o})),t.setState({searchQuery:o,selectedIndex:0}),!a&&o.length>=i?t.open():a&&1!==i&&o.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),di(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=Hxe({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return Mr(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return ixe(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,a=e.multiple,o={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=a),o},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),di(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=Cw(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=Hxe({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!exe(r,"disabled")){var i=r.length-1,a=n+e;return!t.props.wrapSelection&&(a>i||a<0)?a=n:a>i?a=0:a<0&&(a=i),r[a].disabled?t.getSelectedIndexAfterMove(e,a):a}},t.handleIconOverrides=function(e){return{className:pi(t.props.clearable&&t.hasValue()&&"clear",e.className),onClick:function(n){di(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return ta(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:ta(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){di(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!tp(n):!ta(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,a=n.top-r,o=i<0&&a>i;!o!==!t.state.upward&&t.setState({upward:o})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,a=r.search;i||(a&&di(t.searchRef.current,"focus"),di(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(di(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,a=n.search,o=n.text,u=t.state,s=u.searchQuery,c=u.selectedIndex,l=u.value,f=u.open,d=t.hasValue(),h=pi(i&&!d&&"default","text",a&&s&&"filtered"),p=i;return o?p=o:f&&!r?e=t.getSelectedItem(c):d&&(e=t.getItemByValue(l)),Bxe.create(e?Yxe(e):p,{defaultProps:{className:h}})},t.renderSearchInput=function(){var e=t.props,n=e.search,r=e.searchInput,i=t.state.searchQuery;return n&&_.createElement(Do,{innerRef:t.searchRef},Rxe.create(r,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:i},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,r=e.multiple;return n&&r&&_.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,a=i.selectedLabel,o=i.value;if(n&&!tp(o)){var u=Xr(o,t.getItemByValue);return Xr(Qbe(u),(function(e,n){var i={active:e.value===a,as:"a",key:Vxe(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return bd.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,r=e.multiple,i=e.search,a=e.noResultsMessage,o=t.state,u=o.open,s=o.selectedIndex,c=o.value;if(n&&!u)return null;var l=Hxe({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==a&&i&&tp(l))return _.createElement("div",{className:"message"},a);var f=r?function(e){return Vf(c,e)}:function(e){return e===c};return Xr(l,(function(e,n){return jxe.create(j({active:f(e.value),selected:s===n},e,{key:Vxe(e.key,e.value),style:j({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,r=e.direction,i=e.header,a=t.state.open,o=t.getDropdownMenuAriaOptions();if(!Di(n)){var u=_.Children.only(n),s=pi(r,gi(a,"visible"),u.props.className);return(0,_.cloneElement)(u,j({className:s},o))}return _.createElement(Mxe,j({},o,{direction:r,open:a}),Fxe.create(i,{autoGenerateKey:!1}),t.renderOptions())},t}_e(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!rp()(n.__value,t.value)||!Exe(Gxe(e.options),Gxe(n.__options)))&&(r.selectedIndex=$xe({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!rp()(e,this.props)||!rp()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,a=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var u=!o||o&&1===i&&!this.state.open;a&&u&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,r=e.button,i=e.className,a=e.compact,o=e.disabled,u=e.error,s=e.fluid,c=e.floating,l=e.icon,f=e.inline,d=e.item,h=e.labeled,p=e.loading,v=e.multiple,m=e.pointing,g=e.search,y=e.selection,b=e.scrolling,x=e.simple,w=e.trigger,k=this.state,E=k.focus,O=k.open,S=k.upward,A=pi("ui",gi(O,"active visible"),gi(o,"disabled"),gi(u,"error"),gi(p,"loading"),gi(n,"basic"),gi(r,"button"),gi(a,"compact"),gi(s,"fluid"),gi(c,"floating"),gi(f,"inline"),gi(h,"labeled"),gi(d,"item"),gi(v,"multiple"),gi(g,"search"),gi(y,"selection"),gi(x,"simple"),gi(b,"scrolling"),gi(S,"upward"),bi(m,"pointing"),"dropdown",i),C=Ei(t,this.props),D=Oi(t,this.props),T=this.getDropdownAriaOptions(D,this.props);return _.createElement(Do,{innerRef:this.ref},_.createElement(D,j({},C,T,{className:A,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),w||this.renderText(),po.create(l,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),O&&_.createElement(id(),{name:"keydown",on:this.closeOnEscape}),O&&_.createElement(id(),{name:"click",on:this.closeOnDocumentClick}),E&&_.createElement(id(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(Pi);function Xxe(e){var t=e.control,n=Ei(Xxe,e),r=Oi(Xxe,e);return _.createElement(r,j({},n,{control:t}))}Kxe.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],Kxe.propTypes={},Kxe.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:Yxe,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},Kxe.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],Kxe.Divider=Cxe,Kxe.Header=Fxe,Kxe.Item=jxe,Kxe.Menu=Mxe,Kxe.SearchInput=Rxe,Kxe.Text=Bxe,Xxe.handledProps=["as","control"],Xxe.propTypes={},Xxe.defaultProps={as:Vbe,control:Kxe};var Qxe=Xxe;function Zxe(e){var t=e.children,n=e.className,r=e.grouped,i=e.inline,a=e.unstackable,o=e.widths,u=pi(gi(r,"grouped"),gi(i,"inline"),gi(a,"unstackable"),ki(o,null,!0),"fields",n),s=Ei(Zxe,e),c=Oi(Zxe,e);return _.createElement(c,j({},s,{className:u}),t)}Zxe.handledProps=["as","children","className","grouped","inline","unstackable","widths"],Zxe.propTypes={};var Jxe=Zxe;function ewe(e){var t=e.control,n=Ei(ewe,e),r=Oi(ewe,e);return _.createElement(r,j({},n,{control:t}))}ewe.handledProps=["as","control"],ewe.propTypes={},ewe.defaultProps={as:Vbe,control:Jw};var twe=ewe;function nwe(e){var t=e.control,n=Ei(nwe,e),r=Oi(nwe,e);return _.createElement(r,j({},n,{control:t}))}nwe.handledProps=["as","control"],nwe.propTypes={},nwe.defaultProps={as:Vbe,control:Hbe};var rwe=nwe;function iwe(e){return _.createElement(Kxe,j({},e,{selection:!0}))}iwe.handledProps=["options"],iwe.propTypes={},iwe.Divider=Kxe.Divider,iwe.Header=Kxe.Header,iwe.Item=Kxe.Item,iwe.Menu=Kxe.Menu;var awe=iwe;function owe(e){var t=e.control,n=e.options,r=Ei(owe,e),i=Oi(owe,e);return _.createElement(i,j({},r,{control:t,options:n}))}owe.handledProps=["as","control","options"],owe.propTypes={},owe.defaultProps={as:Vbe,control:awe};var uwe=owe,swe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,_.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=Mr(e,"target.value");di(t.props,"onChange",e,j({},t.props,{value:n}))},t.handleInput=function(e){var n=Mr(e,"target.value");di(t.props,"onInput",e,j({},t.props,{value:n}))},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,r=e.value,i=Ei(t,this.props),a=Oi(t,this.props);return _.createElement(Do,{innerRef:this.ref},_.createElement(a,j({},i,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:r})))},t}(_.Component);swe.handledProps=["as","onChange","onInput","rows","value"],swe.propTypes={},swe.defaultProps={as:"textarea",rows:3};var cwe=swe;function lwe(e){var t=e.control,n=Ei(lwe,e),r=Oi(lwe,e);return _.createElement(r,j({},n,{control:t}))}lwe.handledProps=["as","control"],lwe.propTypes={},lwe.defaultProps={as:Vbe,control:cwe};var fwe=lwe,dwe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){var n=t.props.action;"string"!==typeof n&&di(e,"preventDefault");for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];di.apply(void 0,[t.props,"onSubmit",e,t.props].concat(i))},t}return _e(t,e),t.prototype.render=function(){var e=this.props,n=e.action,r=e.children,i=e.className,a=e.error,o=e.inverted,u=e.loading,s=e.reply,c=e.size,l=e.success,f=e.unstackable,d=e.warning,h=e.widths,p=pi("ui",c,gi(a,"error"),gi(o,"inverted"),gi(u,"loading"),gi(s,"reply"),gi(l,"success"),gi(f,"unstackable"),gi(d,"warning"),ki(h,null,!0),"form",i),v=Ei(t,this.props),m=Oi(t,this.props);return _.createElement(m,j({},v,{action:n,className:p,onSubmit:this.handleSubmit}),r)},t}(_.Component);dwe.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],dwe.propTypes={},dwe.defaultProps={as:"form"},dwe.Field=Vbe,dwe.Button=Ybe,dwe.Checkbox=Xbe,dwe.Dropdown=Qxe,dwe.Group=Jxe,dwe.Input=twe,dwe.Radio=rwe,dwe.Select=uwe,dwe.TextArea=fwe;var hwe=dwe,pwe=function(e){var t=e.setData,n=D((0,_.useState)(""),2),r=n[0],i=n[1],a=D((0,_.useState)("ready"),2),o=a[0],u=a[1],s=function(){var e=nu(iu().mark((function e(){var n,i,a,o,s,c;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("loading"),n=(n=r.split("\n").map((function(e){return e.trim()}))).filter((function(e){return e.length>=3})),e.next=5,Df.idb.data.toCollection().keys();case 5:i=e.sent,a={},o=S(i),e.prev=8,c=iu().mark((function e(){var r,i,o,u;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.value,e.next=3,Df.getData(r);case 3:i=e.sent,o=new o_(r,i.data,(function(e){var n=mu({},i.data);n[r]=e,t(n)})),u=n.length>0?o.search(n):[],o.subset(u),a[r]=o;case 8:case"end":return e.stop()}}),e)})),o.s();case 11:if((s=o.n()).done){e.next=15;break}return e.delegateYield(c(),"t0",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(8),o.e(e.t1);case 20:return e.prev=20,o.f(),e.finish(20);case 23:t(a),u("waiting input");case 25:case"end":return e.stop()}}),e,null,[[8,17,20,23]])})));return function(){return e.apply(this,arguments)}}();return(0,Jo.jsxs)(uw,{style:{margin:"50px",marginTop:"100px",padding:"20px",height:"100%",width:"25em"},children:[(0,Jo.jsx)(Dd,{style:{color:"white"},children:"Filter Terms"}),(0,Jo.jsxs)("ul",{style:{color:"white"},children:[(0,Jo.jsx)("li",{children:"Type one search term per row"}),(0,Jo.jsxs)("li",{children:[(0,Jo.jsx)("span",{style:{color:"yellow"},children:"secret"})," will also match"," ",(0,Jo.jsx)("span",{style:{color:"yellow"},children:"www.supersecret.com"})]}),(0,Jo.jsx)("li",{children:"Terms needs to be at least 3 characters long"})]}),(0,Jo.jsxs)(hwe,{children:[(0,Jo.jsx)(pd,{active:"loading"===o,children:(0,Jo.jsx)(Rh,{})}),(0,Jo.jsx)(cwe,{value:r,onChange:function(e,t){u("ready"),i(t.value)},rows:25,style:{width:"100%"}}),";",(0,Jo.jsxs)(Id,{size:"large",primary:!0,fluid:!0,disabled:"waiting input"===o,onClick:function(){return s()},children:[(0,Jo.jsx)(po,{size:"large",name:"search"}),"Search"]})]})]})},vwe=function(e){var t=e.title,n=e.dashData,r=D((0,_.useState)(null),2),i=r[0],a=r[1];return(0,_.useEffect)((function(){n.setData=function(e){return a(e)},a(n)}),[n]),i?(0,Jo.jsxs)(Nf.Row,{style:{minHeight:"70px",maxHeight:"340px",border:"5px solid #ffffff3f",marginTop:"10px",position:"relative"},children:[(0,Jo.jsx)(Dd,{style:{position:"absolute",fontSize:"1.8em",top:"5px",left:"5px",color:"#ffffff"},children:t}),(0,Jo.jsx)(Qw,{dashData:i})]}):null},mwe=function(){var e=D((0,_.useState)({}),2),t=e[0],n=e[1];return(0,Jo.jsx)(Ew,{background:Bd,color:"#000000b0",children:(0,Jo.jsxs)(Nf,{stackable:!0,style:{height:"100vh",width:"100vw"},children:[(0,Jo.jsxs)(Nf.Column,{width:6,children:[(0,Jo.jsx)(s_,{}),(0,Jo.jsx)(pwe,{setData:n})]}),(0,Jo.jsx)(Nf.Column,{width:10,style:{height:"100%",marginTop:"30px"},children:(0,Jo.jsx)(Nf,{children:Object.keys(t).map((function(e){return(0,Jo.jsx)(vwe,{title:e,dashData:t[e]},e)}))})})]})})},gwe=function(e){var t=e.setStep;return(0,Jo.jsx)(Uf,{style:{background:"white",height:"100%",color:"black",minHeight:"300px",overflow:"auto"},children:(0,Jo.jsx)(Nf,{verticalAlign:"middle",centered:!0,stackable:!0,style:{height:"100%"},children:(0,Jo.jsxs)(Nf.Column,{width:8,children:[(0,Jo.jsx)(Dd,{as:"h2",style:{textAlign:"center"},children:"About donating your data"}),(0,Jo.jsx)("p",{children:"We probably need to tell participants a little story or something about how and for what purpose we'll use their data. Before the actual donation (in the 'Complete donation') step people will then need to verify that they have seen this and give consent."}),(0,Jo.jsx)(Id,{fluid:!0,primary:!0,onClick:function(){return t(1)},style:{maxHeight:"3em"},children:"Continue with donation"})]})})})},ywe="Youtube",bwe="channel",xwe="title",wwe={question:"Some smart question to measure whether the channel covers news",answers:["Strongly Disagree","Disagree","Somewhat Disagree","Neither Agree nor Disagree","Somewhat Agree","Agree","Strongly Agree"]},_we=function(e){var t=e.data,n=e.setData,r=e.field,i=e.value,a=e.question,o=t.items.find((function(e){return e.name===i})),u=t.annotations[r][i].news_score;return(0,Jo.jsxs)(Nf.Row,{style:{paddingTop:"7px",paddingBottom:"0px"},children:[(0,Jo.jsx)(Nf.Column,{width:7,children:(0,Jo.jsxs)(Dd,{as:"h4",children:[o.name," "]})}),(0,Jo.jsx)(Nf.Column,{width:2,children:(0,Jo.jsx)(kwe,{item:o})}),(0,Jo.jsx)(Nf.Column,{width:7,children:(0,Jo.jsx)(Id.Group,{fluid:!0,size:"small",children:a.answers.map((function(e,i){return(0,Jo.jsx)(Jx,{trigger:(0,Jo.jsx)(Id,{active:u===e,onClick:function(){var i=mu({},t);i.annotations[r][o.name].news_score=e,n(i)},style:{padding:"8px 12px"},children:i+1},e),children:e},e+i)}))})})]})},kwe=function(e){var t=e.item;return t.details?(0,Jo.jsx)(Jx,{on:"click",style:{maxHeight:"300px",overflow:"auto"},wide:"very",trigger:(0,Jo.jsx)(Id,{size:"small",circular:!0,icon:"list ul",style:{cursor:"pointer"}}),children:(0,Jo.jsx)(Mh,{children:t.details.map((function(e,t){return(0,Jo.jsx)(Mh.Item,{children:e},e+t)}))})}):null},Ewe=function(){var e=nu(iu().mark((function e(t,n,r,i,a,o,u){var s,c,l,f,d,h,p,v,m,g;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df.getData(n);case 2:if(s=e.sent){e.next=8;break}return u("no data"),o(!0),a(null),e.abrupt("return");case 8:return c=s.data.reduce((function(e,t){return t[r]&&"undefined"!==t[r]?(e[t[r]]||(e[t[r]]={count:0,details:[]}),e[t[r]].count++,e[t[r]].details.push(t[i]),e):e}),{}),(c=Object.keys(c).map((function(e){return mu({name:e},c[e])}))).sort((function(e,t){return t.count-e.count})),e.next=13,Df.getDataAnnotations(n);case 13:for((l=e.sent)[r]||(l[r]={}),f={},d=0;d<c.length&&d<t;d++)h=c[d],f[h.name]=!0,l[r][h.name]||(l[r][h.name]={}),l[r][h.name].manually_added=!1,l[r][h.name].frequency_rank=d+1;for(p=0,v=Object.keys(l[r]);p<v.length;p++)m=v[p],l[r][m].manually_added||f[m]||delete l[r][m];g=c.reduce((function(e,t){return l[r][t.name]&&!l[r][t.name].manually_added||e.push({key:t.name,value:t.name,content:t.name,text:t.details.join(" ")}),e}),[]),a({items:c,annotations:l,dropdownOptions:g});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a,o,u){return e.apply(this,arguments)}}(),Owe=function(e){var t=e.setDone,n=D((0,_.useState)(null),2),r=n[0],i=n[1],a=D((0,_.useState)("idle"),2),o=a[0],u=a[1];(0,_.useEffect)((function(){Ewe(10,ywe,bwe,xwe,i,t,u)}),[t]),(0,_.useEffect)((function(){if(r){for(var e=!0,n=0,i=Object.values(r.annotations.channel);n<i.length;n++){i[n].news_score||(e=!1)}Df.setDataAnnotations(r.annotations,ywe),t(e)}}),[r,t]);if("no data"===o)return(0,Jo.jsx)("p",{style:{color:"red"},children:"No data available"});if(!r)return null;for(var s=[],c=0,l=Object.entries(r.annotations.channel);c<l.length;c++){var f=D(l[c],2),d=f[0];f[1].manually_added&&s.push(d)}return(0,Jo.jsxs)(Nf,{centered:!0,stackable:!0,children:[(0,Jo.jsx)(Nf.Row,{children:(0,Jo.jsxs)(Nf.Column,{width:10,children:[(0,Jo.jsxs)("p",{children:["Below you see a list of ",(0,Jo.jsx)("b",{children:"YouTube channels"}),". To help us understand whether and how YouTube is sometimes used as a source of news, please let us know to what extent you yourself consider these channels to be informative."]}),(0,Jo.jsxs)("p",{children:[(0,Jo.jsx)("b",{children:"Do any other news related channels come to mind that are not listed here?"})," If so, please select them in the following search box. (you can also search for the name of a video to find its channel)"]}),(0,Jo.jsx)(Kxe,{search:!0,fluid:!0,selection:!0,multiple:!0,options:(null===r||void 0===r?void 0:r.dropdownOptions)||[],renderLabel:function(e){return{content:e.value}},value:s,onChange:function(e,t){var n,a=S(t.value);try{for(a.s();!(n=a.n()).done;){var o=n.value;r.annotations.channel[o]||(r.annotations.channel[o]={manually_added:!0})}}catch(l){a.e(l)}finally{a.f()}for(var u=0,s=Object.keys(r.annotations.channel);u<s.length;u++){var c=s[u];r.annotations.channel[c].manually_added&&!t.value.includes(c)&&delete r.annotations.channel[c]}i(mu({},r))}}),(0,Jo.jsx)("br",{})]})}),(0,Jo.jsxs)(Nf.Row,{style:{background:"#737373",color:"white",borderRadius:"5px"},children:[(0,Jo.jsx)(Nf.Column,{width:7,children:(0,Jo.jsx)("b",{children:bwe.toUpperCase()})}),(0,Jo.jsxs)(Nf.Column,{width:2,children:[(0,Jo.jsx)("b",{children:xwe.toUpperCase()}),(0,Jo.jsx)("br",{}),(0,Jo.jsx)("b",{children:"LIST"})]}),(0,Jo.jsx)(Nf.Column,{width:7,children:(0,Jo.jsx)("b",{children:wwe.question.toUpperCase()})})]}),Object.keys(r.annotations.channel).map((function(e,t){return(0,Jo.jsx)(_we,{data:r,setData:i,field:bwe,value:e,question:wwe},e)}))]})},Swe=function(e){var t=e.done,n=e.setDone,r=e.setStep;return(0,Jo.jsx)(Uf,{style:{background:"white",height:"100%",color:"black",minHeight:"300px",overflow:"auto"},children:(0,Jo.jsxs)(Nf,{verticalAlign:"middle",centered:!0,stackable:!0,style:{height:"100%"},children:[(0,Jo.jsx)(Nf.Row,{children:(0,Jo.jsx)(Nf.Column,{width:16,children:(0,Jo.jsx)(Dd,{as:"h1",style:{textAlign:"center"},children:"Before submitting your data, we have one final request"})})}),(0,Jo.jsx)(Nf.Row,{children:(0,Jo.jsx)(Nf.Column,{width:14,children:(0,Jo.jsx)(Owe,{setDone:n})})}),(0,Jo.jsx)(Nf.Row,{children:(0,Jo.jsx)(Nf.Column,{width:8,children:(0,Jo.jsx)(Id,{disabled:!t,fluid:!0,primary:!0,onClick:function(){return r(2)},style:{maxHeight:"3em"},children:t?"Continue with donation":"Please answer all questions to continue"})})})]})})},Awe=function(){var e=nu(iu().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d,h,p,v;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t([]),e.next=3,Df.idb.meta.get(1);case 3:return n=e.sent,e.next=6,Df.idb.data.toCollection().keys();case 6:r=e.sent,i=S(r),e.prev=8,i.s();case 10:if((a=i.n()).done){e.next=36;break}return o=a.value,e.next=14,Df.getData(o);case 14:return u=e.sent,(s="test_user"===n.userId)&&(u.data=[{test:"test submission. Only number of items",rows:u.data.length}]),e.next=19,Cwe(o,n.userId,u.n_deleted,u.data,t);case 19:if(!u.annotations){e.next=34;break}u.annotations=JSON.parse(u.annotations),c=[],l=0,f=Object.keys(u.annotations);case 23:if(!(l<f.length)){e.next=32;break}if(d=f[l],!s){e.next=28;break}return c.push({field:d,value:"test submission. Only number of annotations",annotation:"".concat(Object.keys(u.annotations[d]).length," annotations")}),e.abrupt("continue",29);case 28:for(h=0,p=Object.keys(u.annotations[d]);h<p.length;h++)v=p[h],c.push({field:d,value:v,annotation:u.annotations[d][v]});case 29:l++,e.next=23;break;case 32:return e.next=34,Cwe(o+" annotations",n.userId,u.n_deleted,c,t);case 34:e.next=10;break;case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(8),i.e(e.t0);case 41:return e.prev=41,i.f(),e.finish(41);case 44:case"end":return e.stop()}}),e,null,[[8,38,41,44]])})));return function(t){return e.apply(this,arguments)}}(),Cwe=function(){var e=nu(iu().mark((function e(t,n,r,i,a){var o,u,s;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={filename:t,submission_id:n,n_deleted:r,entries:i},u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},e.prev=2,e.next=5,fetch("https://digitale-voetsporen.nl/browsing/upload",u);case 5:s=e.sent,console.log(s),a((function(e){return[].concat(pu(e),[{filename:t,success:!0}])})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),a((function(e){return[].concat(pu(e),[{filename:t,success:!1}])}));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),Dwe=Awe,jwe=["I have seen that I can search and delete items from my data, and understand that all items that have not been deleted will be submitted for donation","I have seen the explanation of how and for what purpose my data will be used, and give my consent to use it for this purpose"],Twe=function(e){var t=e.setConsent,n=D((0,_.useState)([]),2),r=n[0],i=n[1];return(0,_.useEffect)((function(){i(new Array(jwe.length).fill(!1))}),[]),(0,_.useEffect)((function(){var e,n=!0,i=S(r);try{for(i.s();!(e=i.n()).done;){e.value||(n=!1)}}catch(a){i.e(a)}finally{i.f()}t(n)}),[t,r]),(0,Jo.jsx)(hwe,{children:jwe.map((function(e,t){return(0,Jo.jsx)(Fwe,{content:e,consent:r[t],setConsent:function(e){r[t]=e,i(pu(r))}},e)}))})},Fwe=function(e){var t=e.content,n=e.consent,r=e.setConsent;return(0,Jo.jsx)(hwe.Field,{children:(0,Jo.jsx)($w,{label:t,checked:n,onChange:function(e,t){return r(t.checked)}})})},Pwe=function(){var e=D((0,_.useState)(!1),2),t=e[0],n=e[1],r=D((0,_.useState)([]),2),i=r[0],a=r[1],o=D((0,_.useState)(!1),2),u=o[0],s=o[1],c=function(){var e=nu(iu().mark((function e(){return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,Dwe(a);case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Jo.jsx)(Uf,{style:{background:"white",height:"100%",color:"black",minHeight:"300px",overflow:"auto"},children:(0,Jo.jsx)(Nf,{centered:!0,stackable:!0,verticalAlign:"middle",style:{height:"100%"},children:(0,Jo.jsxs)(Nf.Column,{width:8,stretched:!0,children:[(0,Jo.jsx)(Dd,{as:"h2",style:{textAlign:"center"},children:"Please confirm that you understand and agree with the following conditions"}),(0,Jo.jsx)("br",{}),(0,Jo.jsx)(Twe,{setConsent:n}),(0,Jo.jsx)("br",{}),(0,Jo.jsx)("br",{}),(0,Jo.jsx)(Id,{loading:u,primary:!0,disabled:!t,onClick:c,children:"Donate your data"}),(0,Jo.jsx)(Mh,{style:{marginLeft:"15%"},children:i.map((function(e){return(0,Jo.jsxs)(Mh.Item,{children:[(0,Jo.jsx)(Mh.Icon,{name:e.success?"check circle outline":"times circle outline",color:e.success?"green":"red"}),(0,Jo.jsx)(Mh.Content,{children:e.filename})]},e.filename)}))})]})})})},Mwe=function(e){var t=e.step,n=e.setStep,r=e.doneRequest,i=(0,_.useRef)(0);t>i.current&&(i.current=t);var a=function(e){e>i.current||n(e)};return(0,Jo.jsx)("div",{children:(0,Jo.jsxs)(Np.Group,{fluid:!0,children:[(0,Jo.jsxs)(Np,{active:0===t,completed:t>0,onClick:function(){return a(0)},children:[(0,Jo.jsx)(po,{name:"thumbs up"}),(0,Jo.jsxs)(Np.Content,{children:[(0,Jo.jsx)(Np.Title,{children:"Informed consent"}),(0,Jo.jsx)(Np.Description,{children:"Confirm that you agree to donate"})]})]}),(0,Jo.jsxs)(Np,{active:1===t,completed:t>1,onClick:function(){return a(1)},children:[(0,Jo.jsx)(po,{name:"clipboard"}),(0,Jo.jsxs)(Np.Content,{children:[(0,Jo.jsx)(Np.Title,{children:"Before you donate"}),(0,Jo.jsx)(Np.Description,{children:"One final request from the researchers"})]})]}),(0,Jo.jsxs)(Np,{active:2===t,completed:t>2,disabled:!r,onClick:function(){return a(2)},children:[(0,Jo.jsx)(po,{name:"student"}),(0,Jo.jsxs)(Np.Content,{children:[(0,Jo.jsx)(Np.Title,{children:"Complete donation"}),(0,Jo.jsx)(Np.Description,{children:"Finalize the data donation"})]})]})]})})},Nwe=function(){var e=D((0,_.useState)(0),2),t=e[0],n=e[1],r=D((0,_.useState)(!1),2),i=r[0],a=r[1];return(0,Jo.jsx)(Ew,{background:Bd,color:"#000000b0",children:(0,Jo.jsx)(Nf,{stackable:!0,style:{height:"calc(100vh - 38px)",width:"100vw"},children:(0,Jo.jsxs)(Nf.Column,{width:16,children:[(0,Jo.jsx)(s_,{}),(0,Jo.jsxs)(uw,{style:{height:"100%",marginTop:"70px",color:"white",fontSize:"1.5em",display:"flex",flexDirection:"column"},children:[(0,Jo.jsx)(Mwe,{step:t,setStep:n,doneRequest:i}),(0,Jo.jsx)("div",{style:{marginTop:"30px",height:"100%"},children:function(){switch(t){case 0:return(0,Jo.jsx)(gwe,{setStep:n});case 1:return(0,Jo.jsx)(Swe,{done:i,setDone:a,setStep:n});case 2:return(0,Jo.jsx)(Pwe,{});default:return null}}()})]})]})})})},Rwe=function(){var e=th((function(e){return e.persistent}));(0,_.useEffect)((function(){if(!e)return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[e]);var t=function(e){e.preventDefault();var t="Are you sure you want to leave? All provided data will be lost.";return e.returnValue=t,t};return null},Iwe=[{label:"Data square",path:"/datasquare",Component:aw},{label:"Browsing History",path:"/browsing",Component:function(){return(0,Jo.jsx)(f_,{dataName:"Browsing",searchOn:Obe,columns:Sbe,VisComponent:Abe,calcStatistics:Cbe})}},{label:"Search",path:"/search",Component:function(){return(0,Jo.jsx)(f_,{dataName:"Search",searchOn:zbe,columns:Lbe,VisComponent:Ube,calcStatistics:qbe})}},{label:"Youtube",path:"/youtube",Component:function(){return(0,Jo.jsx)(f_,{dataName:"Youtube",searchOn:Mbe,columns:Nbe,VisComponent:Rbe,calcStatistics:Ibe})}},{label:"Remove",path:"/remove",Component:mwe},{label:"Donate",path:"/donate",Component:Nwe}],Bwe=function(){Rwe();return(0,Jo.jsx)("div",{style:{background:"#0C1D35",height:"100%"},children:(0,Jo.jsx)(ge,{basename:"/DigitalFootprintsLab",children:(0,Jo.jsx)(eu,{items:Iwe,children:(0,Jo.jsxs)(G,{children:[(0,Jo.jsx)($,{exact:!0,path:"/",element:(0,Jo.jsx)(sh,{items:Iwe})}),Iwe.map((function(e){return(0,Jo.jsx)($,{path:e.path,element:(0,Jo.jsx)(ch,{children:(0,Jo.jsx)(e.Component,{})})},e.label)}))]})})})})};function zwe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Lwe="function"===typeof Symbol&&Symbol.observable||"@@observable",Uwe=function(){return Math.random().toString(36).substring(7).split("").join(".")},qwe={INIT:"@@redux/INIT"+Uwe(),REPLACE:"@@redux/REPLACE"+Uwe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Uwe()}};function Wwe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hwe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function $we(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Vwe=$we();Vwe.withExtraArgument=$we;var Gwe=Vwe,Ywe=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:qwe.INIT}))throw new Error(zwe(12));if("undefined"===typeof n(void 0,{type:qwe.PROBE_UNKNOWN_ACTION()}))throw new Error(zwe(13))}))}(n)}catch(Xwe){a=Xwe}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(zwe(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({dataStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_DATA_STATUS"===t.type?t.dataStatus:e},persistent:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_PERSISTENT"===t.type?t.persistent:e}}),Kwe=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(zwe(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(zwe(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(zwe(2));var a=t,o=n,u=[],s=u,c=!1;function l(){s===u&&(s=u.slice())}function f(){if(c)throw new Error(zwe(3));return o}function d(e){if("function"!==typeof e)throw new Error(zwe(4));if(c)throw new Error(zwe(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error(zwe(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),u=null}}}function h(e){if(!Wwe(e))throw new Error(zwe(7));if("undefined"===typeof e.type)throw new Error(zwe(8));if(c)throw new Error(zwe(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=u=s,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(zwe(10));a=e,h({type:qwe.REPLACE})}function v(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(zwe(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[Lwe]=function(){return this},e}return h({type:qwe.INIT}),(i={dispatch:h,subscribe:d,getState:f,replaceReducer:p})[Lwe]=v,i}(Ywe,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(zwe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Hwe.apply(void 0,a)(n.dispatch),mu(mu({},n),{},{dispatch:r})}}}(Gwe));k.render((0,Jo.jsx)(_.StrictMode,{children:(0,Jo.jsx)($d,{store:Kwe,children:(0,Jo.jsx)(Bwe,{})})}),document.querySelector("#root"))},5142:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.isForwardRef=function(e){return w(e)===d}},3033:function(e,t,n){"use strict";e.exports=n(5142)},6630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2618);n(2007);var i=n(2791);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return s(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var a=this.handlers[i];-1===t.indexOf(a)&&n.push(a)}return new e(n)}}]),e}();function v(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function m(e){return Array.isArray(e)?e:[e]}function g(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===a(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return s(e,[{key:"addHandlers",value:function(t,n){var r=v(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=v(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();c(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var b=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return s(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),x=function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=g(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new b(r);return t.targets.set(r,i),i})),c(this,"removeTarget",(function(e){t.targets.delete(g(e))}))}return s(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o;this.getTarget(a).addHandlers(u,e,m(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o,s=this.getTarget(a,!1);s&&(s.removeHandlers(u,e,m(t)),s.hasHandlers()||this.removeTarget(a))}}}]),e}(),w=new x,_=function(e){function t(){return o(this,t),h(this,f(t).apply(this,arguments))}return l(t,i.PureComponent),s(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();c(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=w,t.default=_},6775:function(e,t,n){"use strict";var r;r=n(6630),e.exports=r.default,e.exports.instance=r.instance},4959:function(e,t,n){var r=n(2777),i=n(371),a=n(5327),o=n(5768),u=n(6090),s=n(3730),c=n(6365),l=n(2640),f=n(1985),d=n(2155),h=n(4545),p=n(8853),v=n(18),m=n(5788),g=n(5345),y=n(7514),b=n(1764),x=n(5114),w=n(6738),_=n(3960),k=n(8318),E=new r;E.addFormats([x,b,k,d,y,m,h,c,_,w,s,g,f,v,l,o,u]),E.Parser=r,E.Format=i,E.LocaleHelper=a,E.defaultLocale=p,E.fromString=Date.fromString=E.exportAsFunction(),E.fromAny=Date.fromAny=E.exportAsFunctionAny(),"undefined"!==typeof window&&(window.anyDateParser=E),e.exports=E},371:function(e,t,n){var r=n(4575).default,i=n(3913).default,a=n(5327),o=n(8853),u=function(){"use strict";function e(t){var n=t.template,i=void 0===n?null:n,a=t.matcher,o=void 0===a?null:a,u=t.units,s=void 0===u?null:u,c=t.handler,l=void 0===c?null:c,f=t.locales,d=void 0===f?null:f;if(r(this,e),!Array.isArray(s)&&"function"!==typeof l)throw new Error('new Format must receive a "units" array or "handler" function');if("string"!==typeof i&&!(o instanceof RegExp))throw new Error('new Format must receive a "template" string or "matcher" RegExp');this.template=i,this.units=s,this.matcher=o,this.handler=l,this.locales=d,this.regexByLocale={}}return i(e,[{key:"getRegExp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.template?(this.regexByLocale[e]||(this.regexByLocale[e]=a.factory(e).compile(this.template)),this.regexByLocale[e]):this.matcher}},{key:"getMatches",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return e.match(this.getRegExp(t))}},{key:"toDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=a.factory(t);if(this.units)return n.getObject(this.units,e);var r=this.handler(e,t);return!r||r.invalid?r:n.castObject(r)}},{key:"attempt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;e=String(e).trim();var n=this.getMatches(e,t);if(n){var r=this.toDateTime(n,t);if(r&&!r.invalid)return r}return null}},{key:"now",value:function(){return new Date}}]),e}();e.exports=u},5327:function(e,t,n){var r=n(3038).default,i=n(1109).default,a=n(4575).default,o=n(3913).default,u=n(8686),s=n(3239),c=s.latn,l=s.other,f=n(4495).buildDigits,d=n(8853),h=n(2131),p={},v=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;a(this,e),this.locale=t,this.lookups=i({},u),this.vars=i({},c);var n=new Intl.NumberFormat(this.locale);this.numberingSystem=n.resolvedOptions().numberingSystem,this.build()}return o(e,[{key:"toInt",value:function(e){if("number"===typeof e)return e;if("latn"===this.numberingSystem)return parseInt(e,10);for(var t="",n=0;n<e.length;n++)t+=String(this.lookups.digit[e[n]]);return parseInt(t,10)}},{key:"build",value:function(){"latn"!==this.numberingSystem&&this.buildNumbers(),/^en/i.test(this.locale)||(this.buildMonthNames(),this.buildDaynames(),this.buildMeridiems())}},{key:"buildNumbers",value:function(){var e=this.numberingSystem,t=f(e),n=t.group,r=t.lookup;for(var i in this.lookups.digit=r,l)l.hasOwnProperty(i)&&(this.vars[i]=l[i].replace(/\*/g,n))}},{key:"buildMonthNames",value:function(){var e={},t={};if(/^fi/i.test(this.locale)){"tammi|helmi|maalis|huhti|touko|kes\xe4|hein\xe4|elo|syys|loka|marras|joulu".split("|").forEach((function(n,r){["","k","kuu","kuuta"].forEach((function(i,a){e[n+i+(a<2?"\\.?":"")]=!0,t[n+i]=r+1}))}))}else{for(var n=[],r=function(e){return"month"===e.type},i=0;i<12;i++)n.push(new Date(2017,i,1));for(var a=0,o=["full","long","medium"];a<o.length;a++)for(var u=o[a],s=Intl.DateTimeFormat(this.locale,{dateStyle:u}),c=0;c<12;c++){var l=s.formatToParts(n[c]).find(r).value.toLowerCase();if(/^ko/i.test(this.locale)&&(l+="\uc6d4"),"medium"===u){if(/^ar|zh/i.test(this.locale))return;l=l.replace(/\.$/,""),e["".concat(l,"\\.?")]=!0}else e[l]=!0;t[l]=c+1}for(var f=Intl.DateTimeFormat(this.locale,{month:"short"}),d=0;d<12;d++){var h=f.formatToParts(n[d]).find(r).value.toLowerCase();h=h.replace(/\.$/,""),e["".concat(h,"\\.?")]=!0,t[h]=d+1}}this.vars.MONTHNAME=Object.keys(e).join("|"),this.lookups.month=t}},{key:"buildDaynames",value:function(){for(var e=[],t=function(e){return"weekday"===e.type},n=0;n<7;n++)e.push(new Date(2017,0,n+1));for(var r=[],i={},a=0,o=["long","short"];a<o.length;a++)for(var u=o[a],s=Intl.DateTimeFormat(this.locale,{weekday:u}),c=0;c<7;c++){var l=s.formatToParts(e[c]).find(t).value.toLowerCase();"short"===u?(l=l.replace(/\.$/,""),r.push("".concat(l,"\\.?"))):r.push(l),i[l]=c}this.vars.DAYNAME=r.join("|"),this.lookups.dayname=i}},{key:"buildMeridiems",value:function(){for(var e=[new Date(2017,0,1),new Date(2017,0,1,23,0,0)],t=function(e){return"dayPeriod"===e.type},n=[],r={},i=Intl.DateTimeFormat(this.locale,{timeStyle:"long"}),a=0;a<2;a++){var o=i.formatToParts(e[a]).find(t);if(!o)return;var u=o.value.toLowerCase();n.push(u),r[u]=12*a}this.vars.MERIDIEM=n.join("|"),this.lookups.meridiem=r}},{key:"getObject",value:function(e,t){var n=this,r={};return e.forEach((function(e,i){if(e){var a=t[i+1];a=(a=a.toLowerCase()).replace(/\.$/,""),"offset"===e?r.offset=n.offsetToMinutes(a):n.lookups[e]?r[e]=n.lookups[e][a]||n.toInt(a):r[e]=n.toInt(a)}})),r}},{key:"castObject",value:function(e){var t=this,n={};return h.forEach((function(r){r in e&&(n[r]=t.toInt(e[r]))})),"string"===typeof e.offset?n.offset=this.offsetToMinutes(e.offset):"number"===typeof e.offset&&(n.offset=e.offset),n}},{key:"offsetToMinutes",value:function(e){var t=e.match(/^([+-])(..?):?(..)?$/);if(t){var n=r(t,4),i=n[1],a=n[2],o=n[3];return("-"===i?-1:1)*(60*this.toInt(a)+this.toInt(o||0))}return 0}},{key:"compile",value:function(e){var t=this,n=e.replace(/_([A-Z0-9]+)_/g,(function(e,n){if(!t.vars[n])throw new Error("Template string contains invalid variable _".concat(n,"_"));return t.vars[n]}));return new RegExp(n,"i")}}],[{key:"factory",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return p[t.toLowerCase()]||(p[t.toLowerCase()]=new e(t)),p[t.toLowerCase()]}}]),e}();e.exports=v},2777:function(e,t,n){var r=n(3269).default,i=n(4575).default,a=n(3913).default,o=n(8853),u=(n(371),n(3079)),s=n(2356),c=function(){"use strict";function e(){i(this,e),this.formats=[]}return a(e,[{key:"addFormat",value:function(e){return this.formats.push(e),e.parser=this,this}},{key:"addFormats",value:function(e){var t=this;return e.forEach((function(e){return t.addFormat(e)})),this}},{key:"removeFormat",value:function(e){var t=this.formats.indexOf(e);if(t>-1){var n=this.formats[t];return this.formats.splice(t,1),n.parser=null,!0}return!1}},{key:"attempt",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=r(this.formats);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!(Array.isArray(a.locales)&&a.locales.length>0)||a.locales.includes(new Intl.Locale(n).baseName)){var u=a.attempt(e,n);if(u)return u}}}catch(c){i.e(c)}finally{i.f()}var s=String(e).slice(0,200);return""===s&&(s="empty string"),{invalid:"Unable to parse ".concat(s)}}},{key:"exportAsFunction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return u(this,e)}},{key:"exportAsFunctionAny",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return s(u(this,e))}}]),e}();e.exports=c},8686:function(e,t,n){var r=n(2326),i={zone:n(2849),year:r,meridiem:{am:0,pm:12,"a.m.":0,"p.m.":12},month:{january:1,jan:1,february:2,feb:2,march:3,mar:3,april:4,apr:4,may:5,june:6,jun:6,july:7,jul:7,august:8,aug:8,september:9,sep:9,october:10,oct:10,november:11,nov:11,december:12,dec:12},dayname:{sunday:0,sun:0,monday:1,mon:1,tuesday:2,tue:2,wednesday:3,wed:3,thursday:4,thu:4,friday:5,fri:5,saturday:6,sat:6},digit:{}};e.exports=i},8853:function(e,t,n){var r,i=n(8562);if("undefined"!==typeof navigator){var a=navigator;r=Array.isArray(a.languages)?a.languages[0]:a.language}else if("undefined"!==typeof process){var o={NODE_ENV:"production",PUBLIC_URL:"/DigitalFootprintsLab",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"236272166265-60vj7njr09rj4kdg9tnfdup3av3bpht9.apps.googleusercontent.com"};r=o.LC_ALL||o.LC_MESSAGES||o.LANG||o.LANGUAGE}r||(r="en-US"),e.exports=i(r)},8562:function(e){e.exports=function(e){e=(e=e.replace(/_/g,"-")).replace(/[.:][\w-]*$/,"");try{return new Intl.Locale(e).baseName}catch(t){return"en-US"}}},4495:function(e,t,n){var r=n(1109).default,i={arab:1632,arabext:1776,bali:6992,beng:2534,deva:2406,fullwide:65296,gujr:2790,khmr:6112,knda:3302,laoo:3792,limb:6470,mlym:3430,mong:6160,mymr:4160,orya:2918,tamldec:3046,telu:3174,thai:3664,tibt:3872},a="[\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\\d]",o={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"\uff10":0,"\uff11":1,"\uff12":2,"\uff13":3,"\uff14":4,"\uff15":5,"\uff16":6,"\uff17":7,"\uff18":8,"\uff19":9,"\u3007":0,"\u4e00":1,"\u4e8c":2,"\u4e09":3,"\u56db":4,"\u4e94":5,"\u516d":6,"\u4e03":7,"\u516b":8,"\u4e5d":9},u={};e.exports={chineseGroup:a,defaultLookup:o,startCodes:i,buildDigits:function(e){if(u[e])return u[e];if("fullwide"===e||"hanidec"===e)return{group:a,lookup:r({},o)};var t=i[e];if(!t)return{group:"\\d",lookup:r({},o)};for(var n=String.fromCharCode(t),s=String.fromCharCode(t+9),c={},l=0;l<10;l++)c[String.fromCharCode(t+l)]=l;return u[e]={group:"[".concat(n,"-").concat(s,"]"),lookup:c},u[e]}}},3239:function(e,t,n){var r=n(1109).default,i=n(2849),a={MONTHNAME:"january|february|march|april|may|june|july|august|september|october|november|december|jan\\.?|feb\\.?|mar\\.?|apr\\.?|may\\.?|jun\\.?|jul\\.?|aug\\.?|sep\\.?|oct\\.?|nov\\.?|dec\\.?",DAYNAME:"sunday|monday|tuesday|wednesday|thursday|friday|saturday|sun\\.?|mon\\.?|tue\\.?|wed\\.?|thu\\.?|fri\\.?|sat\\.?",ZONE:"\\(?("+Object.keys(i).join("|")+")\\)?",MERIDIEM:"[ap]\\.?m?\\.?",ORDINAL:"st|nd|rd|th|\\.",YEAR:"[1-9]\\d{3}|\\d{2}",MONTH:"1[0-2]|0?[1-9]",MONTH2:"1[0-2]|0[1-9]",DAY:"3[01]|[12]\\d|0?[1-9]",DAY2:"3[01]|[12]\\d|0[1-9]",OFFSET:"[+-][01]?\\d?\\:?(?:[0-5]\\d)?",H24:"[01]\\d|2[0-3]",H12:"0?[1-9]|1[012]",MIN:"[0-5]\\d",SEC:"[0-5]\\d|60",MS:"\\d{9}|\\d{6}|\\d{1,3}",SPACE:"[\\s,-]"},o=r(r({},a),{},{YEAR:"*{4}|*{2}",MONTH:"*{1,2}",MONTH2:"*{2}",DAY:"*{1,2}",DAY2:"*{2}",OFFSET:"[+-]*{1,2}\\:?*{0,2}",H24:"*{2}",H12:"*{1,2}",MIN:"*{2}",SEC:"*{2}",MS:"*{9}|*{6}|*{3}"});e.exports={latn:a,other:o}},2849:function(e){e.exports={"Eastern Daylight Time":-240,"Eastern Standard Time":-300,"Central Daylight Time":-300,"Central Standard Time":-360,"Mountain Daylight Time":-360,"Mountain Standard Time":-420,"Pacific Daylight Time":-420,"Pacific Standard Time":-480,ACDT:630,ACST:570,ACT:480,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,AMST:-180,AMT:-240,ART:-180,AST:180,AWDT:540,AWST:480,AZOST:-60,AZT:240,BDT:360,BIOT:360,BIT:-720,BOT:-240,BRST:-120,BRT:-180,BTT:360,CAT:120,CCT:390,CDT:-300,CEDT:120,CEST:120,CET:60,CHADT:825,CHAST:765,CHOT:480,ChST:600,CHUT:600,CIST:-480,CIT:480,CKT:-600,CLST:-180,CLT:-240,COST:-240,COT:-300,CST:-360,CT:480,CVT:-60,CXT:420,DAVT:420,DDUT:600,DFT:60,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEDT:180,EEST:180,EET:120,EGST:0,EGT:-60,EIT:540,EST:-300,FET:180,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GIT:-540,GMT:0,GST:-120,GYT:-240,HADT:-540,HAEC:120,HAST:-600,HKT:480,HMT:300,HOVT:420,HST:-600,IBST:0,ICT:420,IDT:180,IOT:180,IRDT:270,IRKT:480,IRST:210,IST:120,JST:540,KGT:360,KOST:660,KRAT:420,KST:540,LHST:630,LINT:840,MAGT:720,MART:-510,MAWT:300,MDT:-360,MET:60,MEST:120,MHT:720,MIST:660,MIT:-510,MMT:390,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:660,NPT:345,NST:-150,NT:-150,NUT:-660,NZDT:780,NZST:720,OMST:360,ORAT:300,PDT:-420,PET:-300,PETT:720,PGT:600,PHOT:780,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PYST:-180,PYT:-240,RET:240,ROTT:-180,SAKT:660,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SLST:330,SRET:660,SRT:-180,SST:480,SYOT:180,TAHT:-600,THA:420,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TOT:780,TVT:720,UCT:0,ULAT:480,USZ1:120,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-240,VLAT:600,VOLT:240,VOST:360,VUT:660,WAKT:720,WAST:120,WAT:60,WEDT:60,WEST:60,WET:0,WIT:420,WST:480,YAKT:540,YEKT:300,Z:0}},2326:function(e){for(var t={},n=1;n<100;n++){t[(n<9?"0":"")+n]=n+(n>51?1900:2e3)}e.exports=t},3801:function(e){e.exports={y:"year",M:"month",d:"day",w:"week",h:"hour",m:"minute",s:"second",ms:"millisecond"}},2131:function(e){e.exports=["year","month","day","hour","minute","second","millisecond"]},3730:function(e,t,n){var r=n(3038).default,i=n(371),a=n(3801),o=new i({matcher:/^(\+|-|in|) ?([\d.]+) ?(years?|months?|weeks?|days?|hours?|minutes?|seconds?|milliseconds?|ms|s|m|h|w|d|M|y)( ago)?$/i,handler:function(e){var t=r(e,5),n=t[1],i=t[2],o=t[3],u=t[4];i=parseFloat(i),"week"===(o=o.length<=2?a[o]:(o=o.replace(/s$/,"")).toLowerCase())&&(o="day",i*=7),("-"===n||u)&&(i*=-1);var s=this.now();return"millisecond"===o?s.setUTCMilliseconds(s.getUTCMilliseconds()+i):"second"===o?s.setUTCSeconds(s.getUTCSeconds()+i):"minute"===o?s.setUTCMinutes(s.getUTCMinutes()+i):"hour"===o?s.setUTCHours(s.getUTCHours()+i):"day"===o?s.setUTCDate(s.getUTCDate()+i):"month"===o?s.setUTCMonth(s.getUTCMonth()+i):"year"===o&&s.setUTCFullYear(s.getUTCFullYear()+i),{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds()}}});e.exports=o},5768:function(e,t,n){var r=new(n(371))({template:"^@(\\d+)$",handler:function(e){var t=parseInt(e[1],10),n=new Date(1e3*t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds()}}});e.exports=r},6365:function(e,t,n){var r,i=n(3038).default,a=n(371),o=n(5327),u=n(4495).chineseGroup,s=new a({template:"^(".concat(u,"{4}|").concat(u,"{2})\\s*\u5e74\\s*(").concat(u,"{1,2})\\s*\u6708\\s*(").concat(u,"{1,2})\\s*\u65e5$"),handler:function(e){var t=i(e,4),n=t[1],a=t[2],u=t[3];return r||((r=new o("zh")).numberingSystem="hanidec",r.buildNumbers()),r.castObject({year:n,month:a,day:u})}});e.exports=s},2640:function(e,t,n){var r=new(n(371))({template:"^(_DAY_)[\\/. ](_MONTH_)$",units:["day","month"]});e.exports=r},4545:function(e,t,n){var r=new(n(371))({template:"^(_DAY_)([\\/. -])(_MONTH_)\\2(_YEAR_)$",units:["day",null,"month","year"]});e.exports=r},1985:function(e,t,n){var r=new(n(371))({template:"^(_DAY_)(?:_ORDINAL_)?[ -](_MONTHNAME_)$",units:["day","month"]});e.exports=r},2155:function(e,t,n){var r=new(n(371))({template:"^(?:(?:_DAYNAME_),? )?(_DAY_)(?:_ORDINAL_)?([ -])(_MONTHNAME_)\\2(_YEAR_)$",units:["day",null,"month","year"]});e.exports=r},6090:function(e,t,n){var r=new(n(371))({matcher:/^\/Date\((\d+)([+-]\d{4})?\)\/$/,handler:function(e){var t=parseInt(e[1],10),n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds(),offset:e[2]||0}}});e.exports=r},18:function(e,t,n){var r=new(n(371))({template:"^(_MONTH_)(?:[\\/-])(_DAY_)$",units:["month","day"]});e.exports=r},5788:function(e,t,n){var r=new(n(371))({template:"^(_MONTH_)([\\/-])(_DAY_)\\2(_YEAR_)$",units:["month",null,"day","year"],locales:["ee-TG","en-AS","en-CA","en-FM","en-GH","en-GU","en-KE","en-KY","en-MH","en-MP","en-US","en-VI","en-WS","sm-AS","sm-SM"]});e.exports=r},5345:function(e,t,n){var r=new(n(371))({template:"^(?:(?:_DAYNAME_),? )?(_MONTHNAME_)? (_DAY_)(?:_ORDINAL_)?$",units:["month","day"]});e.exports=r},7514:function(e,t,n){var r=new(n(371))({template:"^(?:(?:_DAYNAME_),? )?(_MONTHNAME_)? (_DAY_)(?:_ORDINAL_)?,? (_YEAR_)$",units:["month","day","year"]});e.exports=r},1764:function(e,t,n){var r=n(3038).default,i=n(5327),a=new(n(371))({template:"^(.*?)_SPACE_*(?:at|on|T|)_SPACE_*(_H12_|_H24_)(?:\\:(_MIN_)(?:\\:(_SEC_))?)?_SPACE_*(_MERIDIEM_)$",handler:function(e,t){var n=r(e,6),a=n[1],o=n[2],u=n[3],s=n[4],c=n[5],l={};if(a&&(l=this.parser.attempt(a,t)).invalid)return null;var f=i.factory(t);if(c){var d=f.lookups.meridiem[c.toLowerCase()]||0;12===(o=parseFloat(o))?o=d:o+=o>12&&12===d?0:d}return l.hour=o,u&&(l.minute=u),s&&(l.second=s),l}});e.exports=a},5114:function(e,t,n){var r=n(3038).default,i=n(5327),a=n(371),o=n(2849),u=new a({template:"^(.*?)_SPACE_*(?:at|on|T|)_SPACE_*(_H24_)\\:(_MIN_)(?:\\:(_SEC_)(?:[\\.,](_MS_))?)?_SPACE_*(?:GMT)?_SPACE_*(_OFFSET_)?_SPACE_*(_ZONE_)?$",handler:function(e,t){var n=r(e,8),a=n[1],u=n[2],s=n[3],c=n[4],l=n[5],f=n[6],d=n[7],h={};if(a&&(h=this.parser.attempt(a,t)).invalid)return h;if(h.hour=u,h.minute=s,c&&(h.second=c),l&&l.length>3?h.millisecond=l.slice(0,3):l&&(h.millisecond=l),d&&!f&&d in o)h.offset=o[d];else if(f){var p=i.factory(t);h.offset=p.offsetToMinutes(f)}return h}});e.exports=u},6738:function(e,t,n){var r=new(n(371))({matcher:/^(now|today|tomorrow|yesterday)/i,handler:function(e){var t=this.now(),n=e[1].toLowerCase();switch(n){case"tomorrow":t.setUTCDate(t.getUTCDate()+1);break;case"yesterday":t.setUTCDate(t.getUTCDate()-1)}var r={year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()};return"now"===n&&(r.hour=t.getUTCHours(),r.minute=t.getUTCMinutes(),r.second=t.getUTCSeconds(),r.millisecond=t.getUTCMilliseconds()),r}});e.exports=r},3960:function(e,t,n){var r=new(n(371))({template:"^(?:_DAYNAME_) (_MONTHNAME_) (_DAY_) (_H24_):(_MIN_):(_SEC_) (_OFFSET_) (_YEAR_)$",units:["month","day","hour","minute","second","offset","year"]});e.exports=r},8318:function(e,t,n){var r=new(n(371))({template:"^(_YEAR_)(-?)(_MONTH_)\\2(_DAY_)$",units:["year",null,"month","day"]});e.exports=r},2356:function(e){e.exports=function(e){return function(t,n){return t instanceof Date?t:"number"===typeof t?new Date(t):e(t,n)}}},3079:function(e){e.exports=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=e.attempt(n,r);if(i.invalid)return i;var a=new Date(2e3,0,1);return"number"===typeof i.day&&a.setUTCDate(i.day),"number"===typeof i.year&&a.setUTCFullYear(i.year),"number"===typeof i.month&&a.setUTCMonth(i.month-1),a.setUTCHours(i.hour||0),a.setUTCMinutes(i.minute||0),a.setUTCSeconds(i.second||0),a.setUTCMilliseconds(i.millisecond||0),"number"===typeof i.offset?new Date(a-60*i.offset*1e3):a}}},9998:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}},7622:function(e){var t=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(u){t=function(){}}try{n=Set}catch(u){n=function(){}}try{r=Promise}catch(u){r=function(){}}function i(a,u,s,c,l){"object"===typeof u&&(s=u.depth,c=u.prototype,l=u.includeNonEnumerable,u=u.circular);var f=[],d=[],h="undefined"!=typeof Buffer;return"undefined"==typeof u&&(u=!0),"undefined"==typeof s&&(s=1/0),function a(s,p){if(null===s)return null;if(0===p)return s;var v,m;if("object"!=typeof s)return s;if(e(s,t))v=new t;else if(e(s,n))v=new n;else if(e(s,r))v=new r((function(e,t){s.then((function(t){e(a(t,p-1))}),(function(e){t(a(e,p-1))}))}));else if(i.__isArray(s))v=[];else if(i.__isRegExp(s))v=new RegExp(s.source,o(s)),s.lastIndex&&(v.lastIndex=s.lastIndex);else if(i.__isDate(s))v=new Date(s.getTime());else{if(h&&Buffer.isBuffer(s))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(v),v;e(s,Error)?v=Object.create(s):"undefined"==typeof c?(m=Object.getPrototypeOf(s),v=Object.create(m)):(v=Object.create(c),m=c)}if(u){var g=f.indexOf(s);if(-1!=g)return d[g];f.push(s),d.push(v)}for(var y in e(s,t)&&s.forEach((function(e,t){var n=a(t,p-1),r=a(e,p-1);v.set(n,r)})),e(s,n)&&s.forEach((function(e){var t=a(e,p-1);v.add(t)})),s){var b;m&&(b=Object.getOwnPropertyDescriptor(m,y)),b&&null==b.set||(v[y]=a(s[y],p-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(s);for(y=0;y<x.length;y++){var w=x[y];(!(k=Object.getOwnPropertyDescriptor(s,w))||k.enumerable||l)&&(v[w]=a(s[w],p-1),k.enumerable||Object.defineProperty(v,w,{enumerable:!1}))}}if(l){var _=Object.getOwnPropertyNames(s);for(y=0;y<_.length;y++){var k,E=_[y];(k=Object.getOwnPropertyDescriptor(s,E))&&k.enumerable||(v[E]=a(s[E],p-1),Object.defineProperty(v,E,{enumerable:!1}))}}return v}(a,s)}function a(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=a,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===a(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===a(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===a(e)},i.__getRegExpFlags=o,i}();e.exports&&(e.exports=t)},6724:function(e,t,n){var r=n(6840),i=n(9218),a=n(1772),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a function")}},611:function(e,t,n){var r=n(6840),i=n(1219),a=n(1772),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a constructor")}},6299:function(e,t,n){var r=n(6840),i=n(9218),a=r.String,o=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},5679:function(e,t,n){var r=n(5028),i=n(4385),a=n(1592),o=r("unscopables"),u=Array.prototype;void 0==u[o]&&a.f(u,o,{configurable:!0,value:i(null)}),e.exports=function(e){u[o][e]=!0}},5466:function(e,t,n){"use strict";var r=n(8424).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},4817:function(e,t,n){var r=n(6840),i=n(8946),a=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw a("Incorrect invocation")}},5884:function(e,t,n){var r=n(6840),i=n(3931),a=r.String,o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not an object")}},488:function(e,t,n){var r=n(5770),i=n(1823),a=n(3385),o=function(e){return function(t,n,o){var u,s=r(t),c=a(s),l=i(o,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2241:function(e,t,n){"use strict";var r=n(2837);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},4512:function(e,t,n){var r=n(6840),i=n(6724),a=n(8385),o=n(1036),u=n(3385),s=r.TypeError,c=function(e){return function(t,n,r,c){i(n);var l=a(t),f=o(l),d=u(l),h=e?d-1:0,p=e?-1:1;if(r<2)for(;;){if(h in f){c=f[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw s("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in f&&(c=n(c,f[h],h,l));return c}};e.exports={left:c(!1),right:c(!0)}},3278:function(e,t,n){var r=n(6840),i=n(1823),a=n(3385),o=n(3055),u=r.Array,s=Math.max;e.exports=function(e,t,n){for(var r=a(e),c=i(t,r),l=i(void 0===n?r:n,r),f=u(s(l-c,0)),d=0;c<l;c++,d++)o(f,d,e[c]);return f.length=d,f}},5618:function(e,t,n){var r=n(4932);e.exports=r([].slice)},6225:function(e,t,n){var r=n(5028)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(u){}return n}},2933:function(e,t,n){var r=n(4932),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},7205:function(e,t,n){var r=n(6840),i=n(6042),a=n(9218),o=n(2933),u=n(5028)("toStringTag"),s=r.Object,c="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),u))?n:c?o(t):"Object"==(r=o(t))&&a(t.callee)?"Arguments":r}},189:function(e,t,n){var r=n(3013),i=n(7273),a=n(2573),o=n(1592);e.exports=function(e,t,n){for(var u=i(t),s=o.f,c=a.f,l=0;l<u.length;l++){var f=u[l];r(e,f)||n&&r(n,f)||s(e,f,c(t,f))}}},2525:function(e,t,n){var r=n(5028)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},1586:function(e,t,n){var r=n(2837);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1949:function(e,t,n){"use strict";var r=n(7022).IteratorPrototype,i=n(4385),a=n(2037),o=n(3370),u=n(9706),s=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),u[l]=s,e}},3873:function(e,t,n){var r=n(1196),i=n(1592),a=n(2037);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},2037:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3055:function(e,t,n){"use strict";var r=n(4655),i=n(1592),a=n(2037);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},2170:function(e,t,n){"use strict";var r=n(7768),i=n(8513),a=n(3608),o=n(3211),u=n(9218),s=n(1949),c=n(4305),l=n(4381),f=n(3370),d=n(3873),h=n(2422),p=n(5028),v=n(9706),m=n(7022),g=o.PROPER,y=o.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),_="keys",k="values",E="entries",O=function(){return this};e.exports=function(e,t,n,o,p,m,S){s(n,t,o);var A,C,D,j=function(e){if(e===p&&N)return N;if(!x&&e in P)return P[e];switch(e){case _:case k:case E:return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",F=!1,P=e.prototype,M=P[w]||P["@@iterator"]||p&&P[p],N=!x&&M||j(p),R="Array"==t&&P.entries||M;if(R&&(A=c(R.call(new e)))!==Object.prototype&&A.next&&(a||c(A)===b||(l?l(A,b):u(A[w])||h(A,w,O)),f(A,T,!0,!0),a&&(v[T]=O)),g&&p==k&&M&&M.name!==k&&(!a&&y?d(P,"name",k):(F=!0,N=function(){return i(M,this)})),p)if(C={values:j(k),keys:m?N:j(_),entries:j(E)},S)for(D in C)(x||F||!(D in P))&&h(P,D,C[D]);else r({target:t,proto:!0,forced:x||F},C);return a&&!S||P[w]===N||h(P,w,N,{name:p}),v[t]=N,C}},1196:function(e,t,n){var r=n(2837);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},937:function(e,t,n){var r=n(6840),i=n(3931),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},650:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2752:function(e,t,n){var r=n(937)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},4163:function(e){e.exports="object"==typeof window},1070:function(e,t,n){var r=n(4839),i=n(6840);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},3929:function(e,t,n){var r=n(4839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},1653:function(e,t,n){var r=n(2933),i=n(6840);e.exports="process"==r(i.process)},1785:function(e,t,n){var r=n(4839);e.exports=/web0s(?!.*chrome)/i.test(r)},4839:function(e,t,n){var r=n(1240);e.exports=r("navigator","userAgent")||""},5372:function(e,t,n){var r,i,a=n(6840),o=n(4839),u=a.process,s=a.Deno,c=u&&u.versions||s&&s.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},2080:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7768:function(e,t,n){var r=n(6840),i=n(2573).f,a=n(3873),o=n(2422),u=n(9870),s=n(189),c=n(6673);e.exports=function(e,t){var n,l,f,d,h,p=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[p]||u(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(h=i(n,l))&&h.value:n[l],!c(v?l:p+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(n,l,d,e)}}},2837:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},8093:function(e,t,n){"use strict";n(447);var r=n(4932),i=n(2422),a=n(4087),o=n(2837),u=n(5028),s=n(3873),c=u("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=u(e),h=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=h&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!h||!p||n){var v=r(/./[d]),m=t(d,""[e],(function(e,t,n,i,o){var u=r(e),s=t.exec;return s===a||s===l.exec?h&&!o?{done:!0,value:v(t,n,i)}:{done:!0,value:u(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(l,d,m[1])}f&&s(l[d],"sham",!0)}},6339:function(e,t,n){var r=n(4138),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},5851:function(e,t,n){var r=n(4932),i=n(6724),a=n(4138),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},4138:function(e,t,n){var r=n(2837);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8513:function(e,t,n){var r=n(4138),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},3211:function(e,t,n){var r=n(1196),i=n(3013),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,u=i(a,"name"),s=u&&"something"===function(){}.name,c=u&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:u,PROPER:s,CONFIGURABLE:c}},4932:function(e,t,n){var r=n(4138),i=Function.prototype,a=i.bind,o=i.call,u=r&&a.bind(o,o);e.exports=r?function(e){return e&&u(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},1240:function(e,t,n){var r=n(6840),i=n(9218),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},443:function(e,t,n){var r=n(7205),i=n(3863),a=n(9706),o=n(5028)("iterator");e.exports=function(e){if(void 0!=e)return i(e,o)||i(e,"@@iterator")||a[r(e)]}},8131:function(e,t,n){var r=n(6840),i=n(8513),a=n(6724),o=n(5884),u=n(1772),s=n(443),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(a(n))return o(i(n,e));throw c(u(e)+" is not iterable")}},3863:function(e,t,n){var r=n(6724);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7794:function(e,t,n){var r=n(4932),i=n(8385),a=Math.floor,o=r("".charAt),u=r("".replace),s=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var h=n+e.length,p=r.length,v=l;return void 0!==f&&(f=i(f),v=c),u(d,v,(function(i,u){var c;switch(o(u,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,n);case"'":return s(t,h);case"<":c=f[s(u,1,-1)];break;default:var l=+u;if(0===l)return i;if(l>p){var d=a(l/10);return 0===d?i:d<=p?void 0===r[d-1]?o(u,1):r[d-1]+o(u,1):i}c=r[l-1]}return void 0===c?"":c}))}},6840:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},3013:function(e,t,n){var r=n(4932),i=n(8385),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},6196:function(e){e.exports={}},5995:function(e,t,n){var r=n(6840);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},2012:function(e,t,n){var r=n(1240);e.exports=r("document","documentElement")},6707:function(e,t,n){var r=n(1196),i=n(2837),a=n(937);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1036:function(e,t,n){var r=n(6840),i=n(4932),a=n(2837),o=n(2933),u=r.Object,s=i("".split);e.exports=a((function(){return!u("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):u(e)}:u},1527:function(e,t,n){var r=n(9218),i=n(3931),a=n(4381);e.exports=function(e,t,n){var o,u;return a&&r(o=t.constructor)&&o!==n&&i(u=o.prototype)&&u!==n.prototype&&a(e,u),e}},8589:function(e,t,n){var r=n(4932),i=n(9218),a=n(4460),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},9671:function(e,t,n){var r,i,a,o=n(5242),u=n(6840),s=n(4932),c=n(3931),l=n(3873),f=n(3013),d=n(4460),h=n(9378),p=n(6196),v="Object already initialized",m=u.TypeError,g=u.WeakMap;if(o||d.state){var y=d.state||(d.state=new g),b=s(y.get),x=s(y.has),w=s(y.set);r=function(e,t){if(x(y,e))throw new m(v);return t.facade=e,w(y,e,t),t},i=function(e){return b(y,e)||{}},a=function(e){return x(y,e)}}else{var _=h("state");p[_]=!0,r=function(e,t){if(f(e,_))throw new m(v);return t.facade=e,l(e,_,t),t},i=function(e){return f(e,_)?e[_]:{}},a=function(e){return f(e,_)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},8205:function(e,t,n){var r=n(5028),i=n(9706),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},9218:function(e){e.exports=function(e){return"function"==typeof e}},1219:function(e,t,n){var r=n(4932),i=n(2837),a=n(9218),o=n(7205),u=n(1240),s=n(8589),c=function(){},l=[],f=u("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),p=!d.exec(c),v=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,s(e))}catch(t){return!0}};m.sham=!0,e.exports=!f||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?m:v},6673:function(e,t,n){var r=n(2837),i=n(9218),a=/#|\.prototype\./,o=function(e,t){var n=s[u(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},u=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},3931:function(e,t,n){var r=n(9218);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},3608:function(e){e.exports=!1},670:function(e,t,n){var r=n(3931),i=n(2933),a=n(5028)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},8287:function(e,t,n){var r=n(6840),i=n(1240),a=n(9218),o=n(8946),u=n(7611),s=r.Object;e.exports=u?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return a(t)&&o(t.prototype,s(e))}},4439:function(e,t,n){var r=n(6840),i=n(5851),a=n(8513),o=n(5884),u=n(1772),s=n(8205),c=n(3385),l=n(8946),f=n(8131),d=n(443),h=n(9053),p=r.TypeError,v=function(e,t){this.stopped=e,this.result=t},m=v.prototype;e.exports=function(e,t,n){var r,g,y,b,x,w,_,k=n&&n.that,E=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),A=i(t,k),C=function(e){return r&&h(r,"normal",e),new v(!0,e)},D=function(e){return E?(o(e),S?A(e[0],e[1],C):A(e[0],e[1])):S?A(e,C):A(e)};if(O)r=e;else{if(!(g=d(e)))throw p(u(e)+" is not iterable");if(s(g)){for(y=0,b=c(e);b>y;y++)if((x=D(e[y]))&&l(m,x))return x;return new v(!1)}r=f(e,g)}for(w=r.next;!(_=a(w,r)).done;){try{x=D(_.value)}catch(j){h(r,"throw",j)}if("object"==typeof x&&x&&l(m,x))return x}return new v(!1)}},9053:function(e,t,n){var r=n(8513),i=n(5884),a=n(3863);e.exports=function(e,t,n){var o,u;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(s){u=!0,o=s}if("throw"===t)throw n;if(u)throw o;return i(o),n}},7022:function(e,t,n){"use strict";var r,i,a,o=n(2837),u=n(9218),s=n(4385),c=n(4305),l=n(2422),f=n(5028),d=n(3608),h=f("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(r=i):p=!0),void 0==r||o((function(){var e={};return r[h].call(e)!==e}))?r={}:d&&(r=s(r)),u(r[h])||l(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},9706:function(e){e.exports={}},3385:function(e,t,n){var r=n(2347);e.exports=function(e){return r(e.length)}},4410:function(e,t,n){var r,i,a,o,u,s,c,l,f=n(6840),d=n(5851),h=n(2573).f,p=n(1625).set,v=n(3929),m=n(1070),g=n(1785),y=n(1653),b=f.MutationObserver||f.WebKitMutationObserver,x=f.document,w=f.process,_=f.Promise,k=h(f,"queueMicrotask"),E=k&&k.value;E||(r=function(){var e,t;for(y&&(e=w.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},v||y||g||!b||!x?!m&&_&&_.resolve?((c=_.resolve(void 0)).constructor=_,l=d(c.then,c),o=function(){l(r)}):y?o=function(){w.nextTick(r)}:(p=d(p,f),o=function(){p(r)}):(u=!0,s=x.createTextNode(""),new b(r).observe(s,{characterData:!0}),o=function(){s.data=u=!u})),e.exports=E||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},5794:function(e,t,n){var r=n(6840);e.exports=r.Promise},3991:function(e,t,n){var r=n(5372),i=n(2837);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5242:function(e,t,n){var r=n(6840),i=n(9218),a=n(8589),o=r.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},246:function(e,t,n){"use strict";var r=n(6724),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},9693:function(e,t,n){var r=n(6840),i=n(670),a=r.TypeError;e.exports=function(e){if(i(e))throw a("The method doesn't accept regular expressions");return e}},4385:function(e,t,n){var r,i=n(5884),a=n(1697),o=n(2080),u=n(6196),s=n(2012),c=n(937),l=n(9378),f=l("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?p(r):function(){var e,t=c("iframe");return t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F}():p(r);for(var e=o.length;e--;)delete v.prototype[o[e]];return v()};u[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[f]=e):n=v(),void 0===t?n:a.f(n,t)}},1697:function(e,t,n){var r=n(1196),i=n(6056),a=n(1592),o=n(5884),u=n(5770),s=n(8084);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=u(t),i=s(t),c=i.length,l=0;c>l;)a.f(e,n=i[l++],r[n]);return e}},1592:function(e,t,n){var r=n(6840),i=n(1196),a=n(6707),o=n(6056),u=n(5884),s=n(4655),c=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=i?o?function(e,t,n){if(u(e),t=s(t),u(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var r=f(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:h in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(u(e),t=s(t),u(n),a)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2573:function(e,t,n){var r=n(1196),i=n(8513),a=n(8306),o=n(2037),u=n(5770),s=n(4655),c=n(3013),l=n(6707),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=s(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},3772:function(e,t,n){var r=n(3080),i=n(2080).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},400:function(e,t){t.f=Object.getOwnPropertySymbols},4305:function(e,t,n){var r=n(6840),i=n(3013),a=n(9218),o=n(8385),u=n(9378),s=n(1586),c=u("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},8946:function(e,t,n){var r=n(4932);e.exports=r({}.isPrototypeOf)},3080:function(e,t,n){var r=n(4932),i=n(3013),a=n(5770),o=n(488).indexOf,u=n(6196),s=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(u,n)&&i(r,n)&&s(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(l,n)||s(l,n));return l}},8084:function(e,t,n){var r=n(3080),i=n(2080);e.exports=Object.keys||function(e){return r(e,i)}},8306:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},4381:function(e,t,n){var r=n(4932),i=n(5884),a=n(6299);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},7772:function(e,t,n){var r=n(6840),i=n(8513),a=n(9218),o=n(3931),u=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&a(n=e.toString)&&!o(r=i(n,e)))return r;if(a(n=e.valueOf)&&!o(r=i(n,e)))return r;if("string"!==t&&a(n=e.toString)&&!o(r=i(n,e)))return r;throw u("Can't convert object to primitive value")}},7273:function(e,t,n){var r=n(1240),i=n(4932),a=n(3772),o=n(400),u=n(5884),s=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(u(e)),n=o.f;return n?s(t,n(e)):t}},3752:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},6321:function(e,t,n){var r=n(5884),i=n(3931),a=n(246);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},9033:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7513:function(e,t,n){var r=n(2422);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},2422:function(e,t,n){var r=n(6840),i=n(9218),a=n(3013),o=n(3873),u=n(9870),s=n(8589),c=n(9671),l=n(3211).CONFIGURABLE,f=c.get,d=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,s){var c,f=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,v=!!s&&!!s.noTargetGet,m=s&&void 0!==s.name?s.name:t;i(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(n,"name")||l&&n.name!==m)&&o(n,"name",m),(c=d(n)).source||(c.source=h.join("string"==typeof m?m:""))),e!==r?(f?!v&&e[t]&&(p=!0):delete e[t],p?e[t]=n:o(e,t,n)):p?e[t]=n:u(t,n)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||s(this)}))},2781:function(e,t,n){var r=n(6840),i=n(8513),a=n(5884),o=n(9218),u=n(2933),s=n(4087),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var r=i(n,e,t);return null!==r&&a(r),r}if("RegExp"===u(e))return i(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},4087:function(e,t,n){"use strict";var r=n(8513),i=n(4932),a=n(6124),o=n(7687),u=n(8596),s=n(1778),c=n(4385),l=n(9671).get,f=n(2047),d=n(2063),h=s("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,m=i("".charAt),g=i("".indexOf),y=i("".replace),b=i("".slice),x=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=u.BROKEN_CARET,_=void 0!==/()??/.exec("")[1];(x||_||w||f||d)&&(v=function(e){var t,n,i,u,s,f,d,k=this,E=l(k),O=a(e),S=E.raw;if(S)return S.lastIndex=k.lastIndex,t=r(v,S,O),k.lastIndex=S.lastIndex,t;var A=E.groups,C=w&&k.sticky,D=r(o,k),j=k.source,T=0,F=O;if(C&&(D=y(D,"y",""),-1===g(D,"g")&&(D+="g"),F=b(O,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==m(O,k.lastIndex-1))&&(j="(?: "+j+")",F=" "+F,T++),n=new RegExp("^(?:"+j+")",D)),_&&(n=new RegExp("^"+j+"$(?!\\s)",D)),x&&(i=k.lastIndex),u=r(p,C?n:k,F),C?u?(u.input=b(u.input,T),u[0]=b(u[0],T),u.index=k.lastIndex,k.lastIndex+=u[0].length):k.lastIndex=0:x&&u&&(k.lastIndex=k.global?u.index+u[0].length:i),_&&u&&u.length>1&&r(h,u[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(u[s]=void 0)})),u&&A)for(u.groups=f=c(null),s=0;s<A.length;s++)f[(d=A[s])[0]]=u[d[1]];return u}),e.exports=v},7687:function(e,t,n){"use strict";var r=n(5884);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},8596:function(e,t,n){var r=n(2837),i=n(6840).RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),u=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:u,MISSED_STICKY:o,UNSUPPORTED_Y:a}},2047:function(e,t,n){var r=n(2837),i=n(6840).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},2063:function(e,t,n){var r=n(2837),i=n(6840).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},2244:function(e,t,n){var r=n(6840).TypeError;e.exports=function(e){if(void 0==e)throw r("Can't call method on "+e);return e}},9870:function(e,t,n){var r=n(6840),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},2267:function(e,t,n){"use strict";var r=n(1240),i=n(1592),a=n(5028),o=n(1196),u=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[u]&&n(t,u,{configurable:!0,get:function(){return this}})}},3370:function(e,t,n){var r=n(1592).f,i=n(3013),a=n(5028)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,a)&&r(e,a,{configurable:!0,value:t})}},9378:function(e,t,n){var r=n(1778),i=n(6520),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},4460:function(e,t,n){var r=n(6840),i=n(9870),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},1778:function(e,t,n){var r=n(3608),i=n(4460);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},917:function(e,t,n){var r=n(5884),i=n(611),a=n(5028)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},8424:function(e,t,n){var r=n(4932),i=n(2128),a=n(6124),o=n(2244),u=r("".charAt),s=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(o(t)),d=i(n),h=f.length;return d<0||d>=h?e?"":void 0:(r=s(f,d))<55296||r>56319||d+1===h||(l=s(f,d+1))<56320||l>57343?e?u(f,d):r:e?c(f,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},1879:function(e,t,n){var r=n(3211).PROPER,i=n(2837),a=n(5450);e.exports=function(e){return i((function(){return!!a[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&a[e].name!==e}))}},6889:function(e,t,n){var r=n(4932),i=n(2244),a=n(6124),o=n(5450),u=r("".replace),s="["+o+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e){return function(t){var n=a(i(t));return 1&e&&(n=u(n,c,"")),2&e&&(n=u(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},1625:function(e,t,n){var r,i,a,o,u=n(6840),s=n(6339),c=n(5851),l=n(9218),f=n(3013),d=n(2837),h=n(2012),p=n(5618),v=n(937),m=n(3929),g=n(1653),y=u.setImmediate,b=u.clearImmediate,x=u.process,w=u.Dispatch,_=u.Function,k=u.MessageChannel,E=u.String,O=0,S={},A="onreadystatechange";try{r=u.location}catch(F){}var C=function(e){if(f(S,e)){var t=S[e];delete S[e],t()}},D=function(e){return function(){C(e)}},j=function(e){C(e.data)},T=function(e){u.postMessage(E(e),r.protocol+"//"+r.host)};y&&b||(y=function(e){var t=p(arguments,1);return S[++O]=function(){s(l(e)?e:_(e),void 0,t)},i(O),O},b=function(e){delete S[e]},g?i=function(e){x.nextTick(D(e))}:w&&w.now?i=function(e){w.now(D(e))}:k&&!m?(o=(a=new k).port2,a.port1.onmessage=j,i=c(o.postMessage,o)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!d(T)?(i=T,u.addEventListener("message",j,!1)):i=A in v("script")?function(e){h.appendChild(v("script")).onreadystatechange=function(){h.removeChild(this),C(e)}}:function(e){setTimeout(D(e),0)}),e.exports={set:y,clear:b}},1823:function(e,t,n){var r=n(2128),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},5770:function(e,t,n){var r=n(1036),i=n(2244);e.exports=function(e){return r(i(e))}},2128:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!==r||0===r?0:(r>0?n:t)(r)}},2347:function(e,t,n){var r=n(2128),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},8385:function(e,t,n){var r=n(6840),i=n(2244),a=r.Object;e.exports=function(e){return a(i(e))}},6740:function(e,t,n){var r=n(6840),i=n(8513),a=n(3931),o=n(8287),u=n(3863),s=n(7772),c=n(5028),l=r.TypeError,f=c("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var n,r=u(e,f);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!a(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4655:function(e,t,n){var r=n(6740),i=n(8287);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},6042:function(e,t,n){var r={};r[n(5028)("toStringTag")]="z",e.exports="[object z]"===String(r)},6124:function(e,t,n){var r=n(6840),i=n(7205),a=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},1772:function(e,t,n){var r=n(6840).String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},6520:function(e,t,n){var r=n(4932),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},7611:function(e,t,n){var r=n(3991);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6056:function(e,t,n){var r=n(1196),i=n(2837);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5028:function(e,t,n){var r=n(6840),i=n(1778),a=n(3013),o=n(6520),u=n(3991),s=n(7611),c=i("wks"),l=r.Symbol,f=l&&l.for,d=s?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!u&&"string"!=typeof c[e]){var t="Symbol."+e;u&&a(l,e)?c[e]=l[e]:c[e]=s&&f?f(t):d(t)}return c[e]}},5450:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},8887:function(e,t,n){"use strict";var r=n(5770),i=n(5679),a=n(9706),o=n(9671),u=n(1592).f,s=n(2170),c=n(3608),l=n(1196),f="Array Iterator",d=o.set,h=o.getterFor(f);e.exports=s(Array,"Array",(function(e,t){d(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==p.name)try{u(p,"name",{value:"values"})}catch(v){}},2603:function(e,t,n){"use strict";var r=n(7768),i=n(4512).left,a=n(2241),o=n(5372),u=n(1653);r({target:"Array",proto:!0,forced:!a("reduce")||!u&&o>79&&o<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},7675:function(e,t,n){"use strict";var r,i,a,o,u=n(7768),s=n(3608),c=n(6840),l=n(1240),f=n(8513),d=n(5794),h=n(2422),p=n(7513),v=n(4381),m=n(3370),g=n(2267),y=n(6724),b=n(9218),x=n(3931),w=n(4817),_=n(8589),k=n(4439),E=n(6225),O=n(917),S=n(1625).set,A=n(4410),C=n(6321),D=n(5995),j=n(246),T=n(3752),F=n(9033),P=n(9671),M=n(6673),N=n(5028),R=n(4163),I=n(1653),B=n(5372),z=N("species"),L="Promise",U=P.getterFor(L),q=P.set,W=P.getterFor(L),H=d&&d.prototype,$=d,V=H,G=c.TypeError,Y=c.document,K=c.process,X=j.f,Q=X,Z=!!(Y&&Y.createEvent&&c.dispatchEvent),J=b(c.PromiseRejectionEvent),ee="unhandledrejection",te=!1,ne=M(L,(function(){var e=_($),t=e!==String($);if(!t&&66===B)return!0;if(s&&!V.finally)return!0;if(B>=51&&/native code/.test(e))return!1;var n=new $((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[z]=r,!(te=n.then((function(){}))instanceof r)||!t&&R&&!J})),re=ne||!E((function(e){$.all(e).catch((function(){}))})),ie=function(e){var t;return!(!x(e)||!b(t=e.then))&&t},ae=function(e,t){var n,r,i,a=t.value,o=1==t.state,u=o?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{u?(o||(2===t.rejection&&le(t),t.rejection=1),!0===u?n=a:(l&&l.enter(),n=u(a),l&&(l.exit(),i=!0)),n===e.promise?c(G("Promise-chain cycle")):(r=ie(n))?f(r,n,s,c):s(n)):c(a)}catch(d){l&&!i&&l.exit(),c(d)}},oe=function(e,t){e.notified||(e.notified=!0,A((function(){for(var n,r=e.reactions;n=r.get();)ae(n,e);e.notified=!1,t&&!e.rejection&&se(e)})))},ue=function(e,t,n){var r,i;Z?((r=Y.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!J&&(i=c["on"+e])?i(r):e===ee&&D("Unhandled promise rejection",n)},se=function(e){f(S,c,(function(){var t,n=e.facade,r=e.value;if(ce(e)&&(t=T((function(){I?K.emit("unhandledRejection",r,n):ue(ee,n,r)})),e.rejection=I||ce(e)?2:1,t.error))throw t.value}))},ce=function(e){return 1!==e.rejection&&!e.parent},le=function(e){f(S,c,(function(){var t=e.facade;I?K.emit("rejectionHandled",t):ue("rejectionhandled",t,e.value)}))},fe=function(e,t,n){return function(r){e(t,r,n)}},de=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,oe(e,!0))},he=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw G("Promise can't be resolved itself");var i=ie(n);i?A((function(){var r={done:!1};try{f(i,n,fe(e,r,t),fe(de,r,t))}catch(a){de(r,a,t)}})):(t.value=n,t.state=1,oe(t,!1))}catch(a){de({done:!1},a,t)}}};if(ne&&(V=($=function(e){w(this,V),y(e),f(r,this);var t=U(this);try{e(fe(he,t),fe(de,t))}catch(n){de(t,n)}}).prototype,(r=function(e){q(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=p(V,{then:function(e,t){var n=W(this),r=X(O(this,$));return n.parent=!0,r.ok=!b(e)||e,r.fail=b(t)&&t,r.domain=I?K.domain:void 0,0==n.state?n.reactions.add(r):A((function(){ae(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=U(e);this.promise=e,this.resolve=fe(he,t),this.reject=fe(de,t)},j.f=X=function(e){return e===$||e===a?new i(e):Q(e)},!s&&b(d)&&H!==Object.prototype)){o=H.then,te||(h(H,"then",(function(e,t){var n=this;return new $((function(e,t){f(o,n,e,t)})).then(e,t)}),{unsafe:!0}),h(H,"catch",V.catch,{unsafe:!0}));try{delete H.constructor}catch(pe){}v&&v(H,V)}u({global:!0,wrap:!0,forced:ne},{Promise:$}),m($,L,!1,!0),g(L),a=l(L),u({target:L,stat:!0,forced:ne},{reject:function(e){var t=X(this);return f(t.reject,void 0,e),t.promise}}),u({target:L,stat:!0,forced:s||ne},{resolve:function(e){return C(s&&this===a?$:this,e)}}),u({target:L,stat:!0,forced:re},{all:function(e){var t=this,n=X(t),r=n.resolve,i=n.reject,a=T((function(){var n=y(t.resolve),a=[],o=0,u=1;k(e,(function(e){var s=o++,c=!1;u++,f(n,t,e).then((function(e){c||(c=!0,a[s]=e,--u||r(a))}),i)})),--u||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=X(t),r=n.reject,i=T((function(){var i=y(t.resolve);k(e,(function(e){f(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},5979:function(e,t,n){var r=n(1196),i=n(6840),a=n(4932),o=n(6673),u=n(1527),s=n(3873),c=n(1592).f,l=n(3772).f,f=n(8946),d=n(670),h=n(6124),p=n(7687),v=n(8596),m=n(2422),g=n(2837),y=n(3013),b=n(9671).enforce,x=n(2267),w=n(5028),_=n(2047),k=n(2063),E=w("match"),O=i.RegExp,S=O.prototype,A=i.SyntaxError,C=a(p),D=a(S.exec),j=a("".charAt),T=a("".replace),F=a("".indexOf),P=a("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,R=/a/g,I=new O(N)!==N,B=v.MISSED_STICKY,z=v.UNSUPPORTED_Y,L=r&&(!I||B||_||k||g((function(){return R[E]=!1,O(N)!=N||O(R)==R||"/a/i"!=O(N,"i")})));if(o("RegExp",L)){for(var U=function(e,t){var n,r,i,a,o,c,l=f(S,this),p=d(e),v=void 0===t,m=[],g=e;if(!l&&p&&v&&e.constructor===U)return e;if((p||f(S,e))&&(e=e.source,v&&(t="flags"in g?g.flags:C(g))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),g=e,_&&"dotAll"in N&&(r=!!t&&F(t,"s")>-1)&&(t=T(t,/s/g,"")),n=t,B&&"sticky"in N&&(i=!!t&&F(t,"y")>-1)&&z&&(t=T(t,/y/g,"")),k&&(a=function(e){for(var t,n=e.length,r=0,i="",a=[],o={},u=!1,s=!1,c=0,l="";r<=n;r++){if("\\"===(t=j(e,r)))t+=j(e,++r);else if("]"===t)u=!1;else if(!u)switch(!0){case"["===t:u=!0;break;case"("===t:D(M,P(e,r+1))&&(r+=2,s=!0),i+=t,c++;continue;case">"===t&&s:if(""===l||y(o,l))throw new A("Invalid capture group name");o[l]=!0,a[a.length]=[l,c],s=!1,l="";continue}s?l+=t:i+=t}return[i,a]}(e),e=a[0],m=a[1]),o=u(O(e,t),l?this:S,U),(r||i||m.length)&&(c=b(o),r&&(c.dotAll=!0,c.raw=U(function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)"\\"!==(t=j(e,r))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+j(e,++r);return i}(e),n)),i&&(c.sticky=!0),m.length&&(c.groups=m)),e!==g)try{s(o,"source",""===g?"(?:)":g)}catch(x){}return o},q=function(e){e in U||c(U,e,{configurable:!0,get:function(){return O[e]},set:function(t){O[e]=t}})},W=l(O),H=0;W.length>H;)q(W[H++]);S.constructor=U,U.prototype=S,m(i,"RegExp",U)}x("RegExp")},447:function(e,t,n){"use strict";var r=n(7768),i=n(4087);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},4208:function(e,t,n){"use strict";var r=n(4932),i=n(3211).PROPER,a=n(2422),o=n(5884),u=n(8946),s=n(6124),c=n(2837),l=n(7687),f="toString",d=RegExp.prototype,h=d.toString,p=r(l),v=c((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),m=i&&h.name!=f;(v||m)&&a(RegExp.prototype,f,(function(){var e=o(this),t=s(e.source),n=e.flags;return"/"+t+"/"+s(void 0===n&&u(d,e)&&!("flags"in d)?p(e):n)}),{unsafe:!0})},4121:function(e,t,n){"use strict";var r=n(7768),i=n(4932),a=n(9693),o=n(2244),u=n(6124),s=n(2525),c=i("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~c(u(o(this)),u(a(e)),arguments.length>1?arguments[1]:void 0)}})},1504:function(e,t,n){"use strict";var r=n(7768),i=n(6840),a=n(8513),o=n(4932),u=n(2244),s=n(9218),c=n(670),l=n(6124),f=n(3863),d=n(7687),h=n(7794),p=n(5028),v=n(3608),m=p("replace"),g=RegExp.prototype,y=i.TypeError,b=o(d),x=o("".indexOf),w=o("".replace),_=o("".slice),k=Math.max,E=function(e,t,n){return n>e.length?-1:""===t?n:x(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,i,o,d,p,O,S,A,C=u(this),D=0,j=0,T="";if(null!=e){if((n=c(e))&&(r=l(u("flags"in g?e.flags:b(e))),!~x(r,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(i=f(e,m))return a(i,e,C,t);if(v&&n)return w(l(C),e,t)}for(o=l(C),d=l(e),(p=s(t))||(t=l(t)),O=d.length,S=k(1,O),D=E(o,d,0);-1!==D;)A=p?l(t(d,D,o)):h(d,o,D,[],void 0,t),T+=_(o,j,D)+A,j=D+O,D=E(o,d,D+S);return j<o.length&&(T+=_(o,j)),T}})},4178:function(e,t,n){"use strict";var r=n(6339),i=n(8513),a=n(4932),o=n(8093),u=n(2837),s=n(5884),c=n(9218),l=n(2128),f=n(2347),d=n(6124),h=n(2244),p=n(5466),v=n(3863),m=n(7794),g=n(2781),y=n(5028)("replace"),b=Math.max,x=Math.min,w=a([].concat),_=a([].push),k=a("".indexOf),E=a("".slice),O="$0"==="a".replace(/./,"$0"),S=!!/./[y]&&""===/./[y]("a","$0");o("replace",(function(e,t,n){var a=S?"$":"$0";return[function(e,n){var r=h(this),a=void 0==e?void 0:v(e,y);return a?i(a,e,r,n):i(t,d(r),e,n)},function(e,i){var o=s(this),u=d(e);if("string"==typeof i&&-1===k(i,a)&&-1===k(i,"$<")){var h=n(t,o,u,i);if(h.done)return h.value}var v=c(i);v||(i=d(i));var y=o.global;if(y){var O=o.unicode;o.lastIndex=0}for(var S=[];;){var A=g(o,u);if(null===A)break;if(_(S,A),!y)break;""===d(A[0])&&(o.lastIndex=p(u,f(o.lastIndex),O))}for(var C,D="",j=0,T=0;T<S.length;T++){for(var F=d((A=S[T])[0]),P=b(x(l(A.index),u.length),0),M=[],N=1;N<A.length;N++)_(M,void 0===(C=A[N])?C:String(C));var R=A.groups;if(v){var I=w([F],M,P,u);void 0!==R&&_(I,R);var B=d(r(i,void 0,I))}else B=m(F,u,P,M,R,i);P>=j&&(D+=E(u,j,P)+B,j=P+F.length)}return D+E(u,j)}]}),!!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||S)},2872:function(e,t,n){"use strict";var r=n(6339),i=n(8513),a=n(4932),o=n(8093),u=n(670),s=n(5884),c=n(2244),l=n(917),f=n(5466),d=n(2347),h=n(6124),p=n(3863),v=n(3278),m=n(2781),g=n(4087),y=n(8596),b=n(2837),x=y.UNSUPPORTED_Y,w=4294967295,_=Math.min,k=[].push,E=a(/./.exec),O=a(k),S=a("".slice),A=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=h(c(this)),o=void 0===n?w:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!u(e))return i(t,a,e,o);for(var s,l,f,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,p+"g");(s=i(g,y,a))&&!((l=y.lastIndex)>m&&(O(d,S(a,m,s.index)),s.length>1&&s.index<a.length&&r(k,d,v(s,1)),f=s[0].length,m=l,d.length>=o));)y.lastIndex===s.index&&y.lastIndex++;return m===a.length?!f&&E(y,"")||O(d,""):O(d,S(a,m)),d.length>o?v(d,0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),o=void 0==t?void 0:p(t,e);return o?i(o,t,r,n):i(a,h(r),t,n)},function(e,r){var i=s(this),o=h(e),u=n(a,i,o,r,a!==t);if(u.done)return u.value;var c=l(i,RegExp),p=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(x?"g":"y"),g=new c(x?"^(?:"+i.source+")":i,v),y=void 0===r?w:r>>>0;if(0===y)return[];if(0===o.length)return null===m(g,o)?[o]:[];for(var b=0,k=0,E=[];k<o.length;){g.lastIndex=x?0:k;var A,C=m(g,x?S(o,k):o);if(null===C||(A=_(d(g.lastIndex+(x?k:0)),o.length))===b)k=f(o,k,p);else{if(O(E,S(o,b,k)),E.length===y)return E;for(var D=1;D<=C.length-1;D++)if(O(E,C[D]),E.length===y)return E;k=b=A}}return O(E,S(o,b)),E}]}),!A,x)},2934:function(e,t,n){"use strict";var r=n(7768),i=n(6889).trim;r({target:"String",proto:!0,forced:n(1879)("trim")},{trim:function(){return i(this)}})},1225:function(e,t,n){n(1504)},1740:function(e,t,n){var r=n(6840),i=n(650),a=n(2752),o=n(8887),u=n(3873),s=n(5028),c=s("iterator"),l=s("toStringTag"),f=o.values,d=function(e,t){if(e){if(e[c]!==f)try{u(e,c,f)}catch(r){e[c]=f}if(e[l]||u(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{u(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var h in i)d(r[h]&&r[h].prototype,h);d(a,"DOMTokenList")},1578:function(e,t,n){"use strict";var r=n(7757),i=n(3269).default,a=n(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.allowedFiles,n=e.setAcceptedFiles,r=e.devmode,i=(0,u.useDropzone)(w(t)),a=i.getRootProps,s=i.getInputProps,c=i.acceptedFiles,l=i.isFocused,f=i.isDragAccept,d=i.isDragReject,p=(0,o.useMemo)((function(){return h(h(h(h({},v),l?m:{}),f?g:{}),d?y:{})}),[l,f,d]);return(0,o.useEffect)((function(){b(c,n,t,r)}),[c,n,t,r]),o.default.createElement("div",a({style:p}),o.default.createElement("input",s()),o.default.createElement("p",null,"Drag a file or folder into this area, or click here to select a file"))},n(7675),n(1740),n(447),n(2603),n(2872),n(4121);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),u=n(7831),s=l(n(5587)),c=l(n(5380));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={alignItems:"center",textAlign:"center",padding:"20px",fontSize:"15px",textShadow:"0px 0px 10px #12263bf7",borderWidth:3,borderRadius:"20px",borderColor:"black",borderStyle:"dashed",backgroundColor:"#2185d0",color:"white",outline:"none",cursor:"pointer",transition:"border .24s ease-in-out"},m={},g={},y={};var b=function(){var e=a(r.mark((function e(t,n,a,o){var u,s,l,f,d,h,p,v;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=[],s=i(t),e.prev=2,s.s();case 4:if((l=s.n()).done){e.next=19;break}if(f=l.value,!/\.zip$/.test(f.name.toLowerCase())){e.next=14;break}return e.next=9,x(f,a);case 9:d=e.sent,h=i(d);try{for(h.s();!(p=h.n()).done;)v=p.value,u.push(v)}catch(r){h.e(r)}finally{h.f()}e.next=17;break;case 14:if(!o||_(f.path,a)){e.next=16;break}return e.abrupt("continue",17);case 16:u.push(new c.default(f.name,f.path,f));case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:n(u);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),x=function(){var e=a(r.mark((function e(t,n){var i,a,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new s.default,e.next=3,i.loadAsync(t);case 3:return a=e.sent,o=Object.values(a.files),e.abrupt("return",o.reduce((function(e,t){if(!_(t.name,n))return e;var r=t.name.split("/").splice(-1)[0];return e.push(new c.default(r,t.name,t,a)),e}),[]));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e,t){if(!e||t)return{};return{validator:function(t){return/\.zip$/.test(t.name.toLowerCase())||_(t.path,e)?null:{code:"file-not-allowed",message:"File doesn't match any of the allowed filenames"}}}},_=function(e,t){if(0===t.length)return!0;var n,r=i(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e.toLowerCase().includes(a.toLowerCase()))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}},5380:function(e,t,n){"use strict";var r=n(7757),i=n(8926).default,a=n(4575).default,o=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(7675);var u,s=(u=n(1025))&&u.__esModule?u:{default:u};var c=function(){function e(t,n,r){a(this,e);var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.name=t,this.path=n,this.blob=r,this.zipped=i}return o(e,[{key:"read",value:function(){var e=this;if(this.zipped)return this.zipped.file(this.path).async("text");var t=new FileReader;return new Promise((function(n,r){t.onerror=function(){t.abort(),r(new DOMException("Problem parsing input file."))},t.onload=function(){n(t.result)},t.readAsText(e.blob)}))}},{key:"parse",value:function(){var e=i(r.mark((function e(t){var n,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this.read();case 4:i=e.sent,"json"===t&&(n=JSON.parse(i)),"html"===t&&(n=(new DOMParser).parseFromString(i,"text/html")),"csv"===t&&(n=s.default.parse(i,{header:!0}).data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(this.name,e.t0);case 13:if(null!==n){e.next=17;break}return e.abrupt("return",{content:n,filetype:t,message:"Failed to parse file as ".concat(t)});case 17:return e.abrupt("return",{content:n,filetype:t,message:"parsed file as ".concat(t)});case 18:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=c},6811:function(e,t,n){"use strict";Object.defineProperty(t,"rE",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"p0",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return i.default}});var r=o(n(1578)),i=o(n(6908)),a=o(n(6517));function o(e){return e&&e.__esModule?e:{default:e}}},8645:function(e,t,n){"use strict";var r=n(3038).default,i=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n.length)return[];var u=Array.from(e.querySelectorAll(t));o&&(u=u.slice(0,5));if(!u||0===u.length)return[];var s=u.map((function(e){var t,o={},u=i(n);try{for(u.s();!(t=u.n()).done;){var s=t.value;if("FULL_ROW_OBJECT"!==s){var c=s.split("@"),l=r(c,2),f=l[0],d=l[1],h=""===f?e:e.querySelector(f);if(h)if(d)if("OUTER"===d)o[s]=h.outerHTML;else if("INNER"===d)o[s]=h.innerHTML;else if("TEXT"===d)o[s]=a(h);else{var p,v;o[s]=null===(p=h.attributes)||void 0===p||null===(v=p[d])||void 0===v?void 0:v.textContent}else o[s]=h.textContent}else o[s]=e.outerHTML}}catch(m){u.e(m)}finally{u.f()}return o}));return s},n(1740),n(447),n(2872),n(2934);var a=function(e){var t,n=[],r=i(e.childNodes);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.nodeType===Node.TEXT_NODE&&n.push(a.textContent.trim())}}catch(o){r.e(o)}finally{r.f()}return n.join(" ")}},766:function(e,t,n){"use strict";var r=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n.length)return[];var o=!1,u=(0,i.JSONPath)({path:t||"$.",json:e,wrap:o});a&&(u=u.slice(0,5));if(!u)return[];var s=u.map((function(e){var t,a={},u=r(n);try{for(u.s();!(t=u.n()).done;){var s=t.value;"FULL_ROW_OBJECT"!==s?a[s]=(0,i.JSONPath)({path:s,json:e,wrap:o}):a[s]=JSON.stringify(e,null,2)}}catch(c){u.e(c)}finally{u.f()}return a}));return s},n(1740);var i=n(6251)},9045:function(e,t,n){"use strict";var r=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=(0,o.default)(t);var c=[];if(null===(n=t)||void 0===n||!n.columns)return[];var l,f=[],d={},h=r(t.columns);try{for(h.s();!(l=h.n()).done;){var p=l.value,v=Array.isArray(p.selector)?p.selector:[p.selector];if(""!==p.name&&0!==v.length){var m,g=r(v);try{for(g.s();!(m=g.n()).done;){var y=m.value;f.includes(y)||f.push(y),d[y]||(d[y]=[]),d[y].push(p.name)}}catch(M){g.e(M)}finally{g.f()}}}}catch(M){h.e(M)}finally{h.f()}u&&(f.push("FULL_ROW_OBJECT"),d.FULL_ROW_OBJECT=["FULL ROW OBJECT"]);try{var b=Array.isArray(t.rows_selector)?t.rows_selector:[t.rows_selector];0===b.length&&(b=[null]);var x,w=r(b);try{for(w.s();!(x=w.n()).done;){var _=x.value,k=void 0;"json"===t.filetype&&(k=(0,a.default)(e.content,_,f,s)),"html"===t.filetype&&(k=(0,i.default)(e.content,_,f,s));var E,O=r(k);try{for(O.s();!(E=O.n()).done;){for(var S=E.value,A={},C=0,D=Object.keys(S);C<D.length;C++){var j,T=D[C],F=r(d[T]);try{for(F.s();!(j=F.n()).done;){var P=j.value;A[P]=S[T]}}catch(M){F.e(M)}finally{F.f()}}c.push(A)}}catch(M){O.e(M)}finally{O.f()}}}catch(M){w.e(M)}finally{w.f()}}catch(N){console.log(N),c=null}return c},n(1740);var i=u(n(8645)),a=u(n(766)),o=u(n(265));function u(e){return e&&e.__esModule?e:{default:e}}},6517:function(e,t,n){"use strict";var r=n(319).default,i=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n={recipes:[],files:[]},a=i(e);try{for(a.s();!(t=a.n()).done;){var u=t.value,s=(0,o.default)(u);n.recipes.push(s),n.files=[].concat(r(n.files),r(s.file))}}catch(c){a.e(c)}finally{a.f()}return n},n(1740);var a,o=(a=n(265))&&a.__esModule?a:{default:a}},6908:function(e,t,n){"use strict";var r=n(7757),i=n(8926).default,a=n(4575).default,o=n(3913).default,u=n(319).default,s=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1740),n(4121),n(7675);var c=f(n(9045)),l=f(n(9563));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n){a(this,e),this.recipe=t,this.files=n}return o(e,[{key:"cook",value:function(){var e=i(r.mark((function e(){var t,n,i,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.files.length){e.next=2;break}return e.abrupt("return",{data:[],status:"no files"});case 2:t=s(this.files),e.prev=3,t.s();case 5:if((n=t.n()).done){e.next=21;break}return i=n.value,e.prev=7,e.next=10,i.parse(this.recipe.filetype);case 10:return a=e.sent,a=(0,c.default)(a,this.recipe),a=(0,l.default)(a,this.recipe),e.abrupt("return",{data:a,status:"success"});case 16:e.prev=16,e.t0=e.catch(7),console.log("Could not cook ".concat(this.recipe.name," with ").concat(i.name));case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(3),t.e(e.t1);case 26:return e.prev=26,t.f(),e.finish(26);case 29:return e.abrupt("return",{data:[],status:"failed"});case 30:case"end":return e.stop()}}),e,this,[[3,23,26,29],[7,16]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),h=function(e,t){var n,r=[],i=s(e.recipes);try{for(i.s();!(n=i.n()).done;){var a,o=n.value,c=[],l=s(o.file);try{var f=function(){var e=a.value,n=t.filter((function(t){return t.path.toLowerCase().includes(e.toLowerCase())}));c=[].concat(u(c),u(n))};for(l.s();!(a=l.n()).done;)f()}catch(h){l.e(h)}finally{l.f()}r.push(new d(o,c))}}catch(h){i.e(h)}finally{i.f()}return r};t.default=h},265:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e){return Array.isArray(e)?e:[e]};e.file=t(e.file)||[],e.filetype=e.filetype||"json",e.rows_selector=t(e.rows_selector)||[],e.columns=e.columns||[];for(var n=0;n<e.columns.length;n++)e.columns[n].selector=t(e.columns[n].selector)||[];return e.transformers=e.transformers||[],e}},8363:function(e,t,n){"use strict";var r=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.transformerFunctions=void 0,n(5979),n(447),n(4208),n(4178),n(1225),n(1740),n(2934);var i=u(n(7892)),a=u(n(8808)),o=u(n(4959));function u(e){return e&&e.__esModule?e:{default:e}}i.default.extend(a.default);var s={replace:{label:"replace",description:"Replace a matched regular expression",arguments:[{name:"regex",type:"string",default:""},{name:"replacement",type:"string",default:""},{name:"case sensitive",type:"bool",default:!1}],transform:function(e,t,n,r){var i=new RegExp(t,r?"g":"gi");return e.replaceAll(i,n)}},int_to_date:{label:"date from integer",description:"Read a date formatted as [units] since UNIX epoch",arguments:[{name:"unit",type:"option",options:["microsecond","millisecond","second"],default:"millisecond"}],transform:function(e,t){return"microsecond"===t&&(e/=1e3),"second"===t&&(e*=1e3),new Date(e)}},str_to_date:{label:"date from string",description:"Transform string to date",arguments:[{name:"format",type:"string_multiple",link:"https://day.js.org/docs/en/parse/string-format",placeholder:"Add formats (one per line)",default:[]},{name:"auto parse",type:"bool",default:!0}],transform:function(e,t,n){var a,u=r(t).filter((function(e){return""!==e}));return(a=u&&0!==u.length?(0,i.default)(e,u):(0,i.default)(e)).isValid()?a.toDate():(n&&(a=o.default.fromString(e)),a instanceof Date?a:"invalid date: ".concat(e))}},trim:{label:"trim",description:"remove leading and trailing whitespace",arguments:[],transform:function(e){return e.trim()}}};t.transformerFunctions=s},9563:function(e,t,n){"use strict";var r=n(319).default,i=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(t=(0,u.default)(t)).transformers;if(!n)return e;var a,c=i(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;try{if(!l.column||!l.transformer)continue;for(var f=o.transformerFunctions[l.transformer].transform,d=s(l.transformer,l.arguments),h=0;h<e.length;h++){var p=e[h][l.column];if(null!=p){var v=l.new_column||l.column;e[h][v]=f.apply(void 0,[p].concat(r(d)))}}}catch(m){console.log(m)}}}catch(g){c.e(g)}finally{c.f()}return e},n(1740);var a,o=n(8363),u=(a=n(265))&&a.__esModule?a:{default:a};var s=function(e,t){return o.transformerFunctions[e].arguments.map((function(e){var n,r=null!==(n=t[e.name])&&void 0!==n?n:e.default;return"string_multiple"!==e.type||Array.isArray(r)||(r=[r]),r}))}},7892:function(e){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",i="day",a="week",o="month",u="quarter",s="year",c="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},p={s:h,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+h(r,2,"0")+":"+h(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,o),a=n-i<0,u=t.clone().add(r+(a?-1:1),o);return+(-(r+(n-i)/(a?i-u:u-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:o,y:s,w:a,d:i,D:c,h:r,m:n,s:t,ms:e,Q:u}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",m={};m[v]=d;var g=function(e){return e instanceof w},y=function(e,t,n){var r;if(!e)return v;if("string"==typeof e)m[e]&&(r=e),t&&(m[e]=t,r=e);else{var i=e.name;m[i]=e,r=i}return!n&&r&&(v=r),r||!n&&v},b=function(e,t){if(g(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},x=p;x.l=y,x.i=g,x.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function d(e){this.$L=y(e.locale,null,!0),this.parse(e)}var h=d.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return x},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var n=b(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return b(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<b(e)},h.$g=function(e,t,n){return x.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,u){var l=this,f=!!x.u(u)||u,d=x.p(e),h=function(e,t){var n=x.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return f?n:n.endOf(i)},p=function(e,t){return x.w(l.toDate()[e].apply(l.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},v=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case s:return f?h(1,0):h(31,11);case o:return f?h(1,m):h(0,m+1);case a:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return h(f?g-w:g+(6-w),m);case i:case c:return p(y+"Hours",0);case r:return p(y+"Minutes",1);case n:return p(y+"Seconds",2);case t:return p(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(a,u){var l,f=x.p(a),d="set"+(this.$u?"UTC":""),h=(l={},l[i]=d+"Date",l[c]=d+"Date",l[o]=d+"Month",l[s]=d+"FullYear",l[r]=d+"Hours",l[n]=d+"Minutes",l[t]=d+"Seconds",l[e]=d+"Milliseconds",l)[f],p=f===i?this.$D+(u-this.$W):u;if(f===o||f===s){var v=this.clone().set(c,1);v.$d[h](p),v.init(),this.$d=v.set(c,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[x.p(e)]()},h.add=function(e,u){var c,l=this;e=Number(e);var f=x.p(u),d=function(t){var n=b(l);return x.w(n.date(n.date()+Math.round(t*e)),l)};if(f===o)return this.set(o,this.$M+e);if(f===s)return this.set(s,this.$y+e);if(f===i)return d(1);if(f===a)return d(7);var h=(c={},c[n]=6e4,c[r]=36e5,c[t]=1e3,c)[f]||1,p=this.$d.getTime()+e*h;return x.w(p,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=x.z(this),i=this.$locale(),a=this.$H,o=this.$m,u=this.$M,s=i.weekdays,c=i.months,l=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].substr(0,a)},d=function(e){return x.s(a%12||12,e,"0")},h=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:x.s(u+1,2,"0"),MMM:l(i.monthsShort,u,c,3),MMMM:l(c,u),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,s,2),ddd:l(i.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(a),HH:x.s(a,2,"0"),h:d(1),hh:d(2),a:h(a,o,!0),A:h(a,o,!1),m:String(o),mm:x.s(o,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:r};return n.replace(f,(function(e,t){return t||p[e]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,c,l){var f,d=x.p(c),h=b(e),p=6e4*(h.utcOffset()-this.utcOffset()),v=this-h,m=x.m(this,h);return m=(f={},f[s]=m/12,f[o]=m,f[u]=m/3,f[a]=(v-p)/6048e5,f[i]=(v-p)/864e5,f[r]=v/36e5,f[n]=v/6e4,f[t]=v/1e3,f)[d]||v,l?m:x.a(m)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return m[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=y(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return x.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},d}(),_=w.prototype;return b.prototype=_,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W",i],["$M",o],["$y",s],["$D",c]].forEach((function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),b.extend=function(e,t){return e.$i||(e(t,w,b),e.$i=!0),b},b.locale=y,b.isDayjs=g,b.unix=function(e){return b(1e3*e)},b.en=m[v],b.Ls=m,b.p={},b}()},8808:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var a=i&&i.toUpperCase();return r||n[i]||e[i]||n[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))},n=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,i=/\d\d?/,a=/\d*[^\s\d-_:/()]+/,o={},u=function(e){return function(t){this[e]=+t}},s=[/[+-]\d\d:?(\d\d)?/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},f={A:[a,function(e){this.afternoon=l(e,!1)}],a:[a,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,u("seconds")],ss:[i,u("seconds")],m:[i,u("minutes")],mm:[i,u("minutes")],H:[i,u("hours")],h:[i,u("hours")],HH:[i,u("hours")],hh:[i,u("hours")],D:[i,u("day")],DD:[r,u("day")],Do:[a,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[i,u("month")],MM:[r,u("month")],MMM:[a,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.substr(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[a,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(e){e=+e,this.year=e+(e>68?1900:2e3)}],YYYY:[/\d{4}/,u("year")],Z:s,ZZ:s},d=function(e,r,i){try{var a=function(e){for(var r=(e=t(e,o&&o.formats)).match(n),i=r.length,a=0;a<i;a+=1){var u=r[a],s=f[u],c=s&&s[0],l=s&&s[1];r[a]=l?{regex:c,parser:l}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,a=0;n<i;n+=1){var o=r[n];if("string"==typeof o)a+=o.length;else{var u=o.regex,s=o.parser,c=e.substr(a),l=u.exec(c)[0];s.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}(r)(e),u=a.year,s=a.month,c=a.day,l=a.hours,d=a.minutes,h=a.seconds,p=a.milliseconds,v=a.zone,m=new Date,g=c||(u||s?1:m.getDate()),y=u||m.getFullYear(),b=0;u&&!s||(b=s>0?s-1:m.getMonth());var x=l||0,w=d||0,_=h||0,k=p||0;return v?new Date(Date.UTC(y,b,g,x,w,_,k+60*v.offset*1e3)):i?new Date(Date.UTC(y,b,g,x,w,_,k)):new Date(y,b,g,x,w,_,k)}catch(e){return new Date("")}};return function(e,t,n){n.p.customParseFormat=!0;var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var u=a[1];if("string"==typeof u){var s=!0===a[2],c=!0===a[3],l=s||c,f=a[2];c&&(f=a[2]),o=this.$locale(),!s&&f&&(o=n.Ls[f]),this.$d=d(t,u,r),this.init(),f&&!0!==f&&(this.$L=this.locale(f).$L),l&&t!==this.format(u)&&(this.$d=new Date("")),o={}}else if(u instanceof Array)for(var h=u.length,p=1;p<=h;p+=1){a[1]=u[p-1];var v=n.apply(this,a);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}p===h&&(this.$d=new Date(""))}else i.call(this,e)}}}()},2618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},1132:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},u=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},s=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,c,l,f=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"===typeof f&&(p=f,f=arguments[1]||{},d=2),(null==f||"object"!==typeof f&&"function"!==typeof f)&&(f={});d<h;++d)if(null!=(t=arguments[d]))for(n in t)r=s(f,n),f!==(i=s(t,n))&&(p&&i&&(o(i)||(c=a(i)))?(c?(c=!1,l=r&&a(r)?r:[]):l=r&&o(r)?r:{},u(f,{name:n,newValue:e(p,l,i)})):"undefined"!==typeof i&&u(f,{name:n,newValue:i}));return f}},7488:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1809),a=n(6145),o=n(525),u=n(4333),s=n(1654),c=n(8829),l=n(1889),f=function(e){return e.source instanceof a.default?e.source:e.source.objectStore},d=function(e,t,n){var a,u,s,c,l=void 0!==e?e.lower:void 0,f=void 0!==e?e.upper:void 0;try{for(var d=r(t),h=d.next();!h.done;h=d.next()){var p=h.value;void 0!==p&&(void 0!==l&&1!==o.default(l,p)||(l=p))}}catch(y){a={error:y}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(a)throw a.error}}try{for(var v=r(n),m=v.next();!m.done;m=v.next()){var g=m.value;void 0!==g&&(void 0!==f&&-1!==o.default(f,g)||(f=g))}}catch(b){s={error:b}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(s)throw s.error}}return void 0!==l&&void 0!==f?i.default.bound(l,f):void 0!==l?i.default.lowerBound(l):void 0!==f?i.default.upperBound(f):void 0},h=function(){function e(e,t,n,r,i){void 0===n&&(n="next"),void 0===i&&(i=!1),this._gotValue=!1,this._position=void 0,this._objectStorePosition=void 0,this._keyOnly=!1,this._key=void 0,this._primaryKey=void 0,this._range=t,this._source=e,this._direction=n,this._request=r,this._keyOnly=i}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryKey",{get:function(){return this._primaryKey},set:function(e){},enumerable:!0,configurable:!0}),e.prototype._iterate=function(e,t){var n,i,u,s,l,f,h,p,v,m,g=this.source instanceof a.default,y=this.source instanceof a.default?this.source._rawObjectStore.records:this.source._rawIndex.records;if("next"===this.direction){var b=d(this._range,[e,this._position],[]);try{for(var x=r(y.values(b)),w=x.next();!w.done;w=x.next()){var _=w.value,k=void 0!==e?o.default(_.key,e):void 0,E=void 0!==this._position?o.default(_.key,this._position):void 0;if(void 0===e||-1!==k){if(void 0!==t){if(-1===k)continue;var O=o.default(_.value,t);if(0===k&&-1===O)continue}if(void 0===this._position||!g||1===E){if(void 0!==this._position&&!g){if(-1===E)continue;if(0===E&&1!==o.default(_.value,this._objectStorePosition))continue}if(void 0===this._range||this._range.includes(_.key)){v=_;break}}}}}catch(M){n={error:M}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}}else if("nextunique"===this.direction){b=d(this._range,[e,this._position],[]);try{for(var S=r(y.values(b)),A=S.next();!A.done;A=S.next()){_=A.value;if((void 0===e||-1!==o.default(_.key,e))&&((void 0===this._position||1===o.default(_.key,this._position))&&(void 0===this._range||this._range.includes(_.key)))){v=_;break}}}catch(N){u={error:N}}finally{try{A&&!A.done&&(s=S.return)&&s.call(S)}finally{if(u)throw u.error}}}else if("prev"===this.direction){b=d(this._range,[],[e,this._position]);try{for(var C=r(y.values(b,"prev")),D=C.next();!D.done;D=C.next()){_=D.value,k=void 0!==e?o.default(_.key,e):void 0,E=void 0!==this._position?o.default(_.key,this._position):void 0;if(void 0===e||1!==k){if(void 0!==t){if(1===k)continue;O=o.default(_.value,t);if(0===k&&1===O)continue}if(void 0===this._position||!g||-1===E){if(void 0!==this._position&&!g){if(1===E)continue;if(0===E&&-1!==o.default(_.value,this._objectStorePosition))continue}if(void 0===this._range||this._range.includes(_.key)){v=_;break}}}}}catch(R){l={error:R}}finally{try{D&&!D.done&&(f=C.return)&&f.call(C)}finally{if(l)throw l.error}}}else if("prevunique"===this.direction){var j=void 0;b=d(this._range,[],[e,this._position]);try{for(var T=r(y.values(b,"prev")),F=T.next();!F.done;F=T.next()){_=F.value;if((void 0===e||1!==o.default(_.key,e))&&((void 0===this._position||-1===o.default(_.key,this._position))&&(void 0===this._range||this._range.includes(_.key)))){j=_;break}}}catch(I){h={error:I}}finally{try{F&&!F.done&&(p=T.return)&&p.call(T)}finally{if(h)throw h.error}}j&&(v=y.get(j.key))}if(v){if(this._position=v.key,g||(this._objectStorePosition=v.value),this._key=v.key,g)this._primaryKey=c.default(v.key),this._keyOnly||"[object IDBCursorWithValue]"!==this.toString()||(this.value=c.default(v.value));else if(this._primaryKey=c.default(v.value),!this._keyOnly&&"[object IDBCursorWithValue]"===this.toString()){if(this.source instanceof a.default)throw new Error("This should never happen");var P=this.source.objectStore._rawObjectStore.getValue(v.value);this.value=c.default(P)}this._gotValue=!0,m=this}else this._key=void 0,g||(this._objectStorePosition=void 0),this._keyOnly||"[object IDBCursorWithValue]"!==this.toString()||(this.value=void 0),m=null;return m},e.prototype.update=function(e){if(void 0===e)throw new TypeError;var t=f(this),n=this.source.hasOwnProperty("_rawIndex")?this.primaryKey:this._position,r=t.transaction;if("active"!==r._state)throw new u.TransactionInactiveError;if("readonly"===r.mode)throw new u.ReadOnlyError;if(t._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(!this._gotValue||!this.hasOwnProperty("value"))throw new u.InvalidStateError;var i=c.default(e);if(null!==t.keyPath){var l=void 0;try{l=s.default(t.keyPath,i)}catch(h){}if(0!==o.default(l,n))throw new u.DataError}var d={key:n,value:i};return r._execRequestAsync({operation:t._rawObjectStore.storeRecord.bind(t._rawObjectStore,d,!1,r._rollbackLog),source:this})},e.prototype.advance=function(e){var t=this;if(!Number.isInteger(e)||e<=0)throw new TypeError;var n=f(this),r=n.transaction;if("active"!==r._state)throw new u.TransactionInactiveError;if(n._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(!this._gotValue)throw new u.InvalidStateError;this._request&&(this._request.readyState="pending"),r._execRequestAsync({operation:function(){for(var n,r=0;r<e&&(n=t._iterate());r++);return n},request:this._request,source:this.source}),this._gotValue=!1},e.prototype.continue=function(e){var t=f(this),n=t.transaction;if("active"!==n._state)throw new u.TransactionInactiveError;if(t._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(!this._gotValue)throw new u.InvalidStateError;if(void 0!==e){e=l.default(e);var r=o.default(e,this._position);if(r<=0&&("next"===this.direction||"nextunique"===this.direction)||r>=0&&("prev"===this.direction||"prevunique"===this.direction))throw new u.DataError}this._request&&(this._request.readyState="pending"),n._execRequestAsync({operation:this._iterate.bind(this,e),request:this._request,source:this.source}),this._gotValue=!1},e.prototype.continuePrimaryKey=function(e,t){var n=f(this),r=n.transaction;if("active"!==r._state)throw new u.TransactionInactiveError;if(n._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(this.source instanceof a.default||"next"!==this.direction&&"prev"!==this.direction)throw new u.InvalidAccessError;if(!this._gotValue)throw new u.InvalidStateError;if(void 0===e||void 0===t)throw new u.DataError;e=l.default(e);var i=o.default(e,this._position);if(-1===i&&"next"===this.direction||1===i&&"prev"===this.direction)throw new u.DataError;var s=o.default(t,this._objectStorePosition);if(0===i&&(s<=0&&"next"===this.direction||s>=0&&"prev"===this.direction))throw new u.DataError;this._request&&(this._request.readyState="pending"),r._execRequestAsync({operation:this._iterate.bind(this,e,t),request:this._request,source:this.source}),this._gotValue=!1},e.prototype.delete=function(){var e=f(this),t=this.source.hasOwnProperty("_rawIndex")?this.primaryKey:this._position,n=e.transaction;if("active"!==n._state)throw new u.TransactionInactiveError;if("readonly"===n.mode)throw new u.ReadOnlyError;if(e._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(!this._gotValue||!this.hasOwnProperty("value"))throw new u.InvalidStateError;return n._execRequestAsync({operation:e._rawObjectStore.deleteRecord.bind(e._rawObjectStore,t,n._rollbackLog),source:this})},e.prototype.toString=function(){return"[object IDBCursor]"},e}();t.default=h},3169:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r,i)||this;return a.value=void 0,a}return r(t,e),t.prototype.toString=function(){return"[object IDBCursorWithValue]"},t}(n(7488).default);t.default=i},7595:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5986),o=n(4333),u=n(7610),s=n(2201),c=n(9239),l=n(4801),f=n(8137),d=function(e){if(!e._runningVersionchangeTransaction)throw new o.InvalidStateError;var t=e._rawDatabase.transactions.filter((function(e){return"versionchange"===e.mode})),n=t[t.length-1];if(!n||"finished"===n._state)throw new o.InvalidStateError;if("active"!==n._state)throw new o.TransactionInactiveError;return n},h=function e(t){t._closePending=!0,t._rawDatabase.transactions.every((function(e){return"finished"===e._state}))?(t._closed=!0,t._rawDatabase.connections=t._rawDatabase.connections.filter((function(e){return t!==e}))):l.queueTask((function(){e(t)}))},p=function(e){function t(t){var n=e.call(this)||this;return n._closePending=!1,n._closed=!1,n._runningVersionchangeTransaction=!1,n._rawDatabase=t,n._rawDatabase.connections.push(n),n.name=t.name,n.version=t.version,n.objectStoreNames=u.default(Array.from(t.rawObjectStores.keys())).sort(),n}return r(t,e),t.prototype.createObjectStore=function(e,t){var n=this;if(void 0===t&&(t={}),void 0===e)throw new TypeError;var r=d(this),i=null!==t&&void 0!==t.keyPath?t.keyPath:null,a=null!==t&&void 0!==t.autoIncrement&&t.autoIncrement;if(null!==i&&f.default(i),this._rawDatabase.rawObjectStores.has(e))throw new o.ConstraintError;if(a&&(""===i||Array.isArray(i)))throw new o.InvalidAccessError;var s=this.objectStoreNames.slice();r._rollbackLog.push((function(){var t=n._rawDatabase.rawObjectStores.get(e);t&&(t.deleted=!0),n.objectStoreNames=u.default(s),r._scope.delete(e),n._rawDatabase.rawObjectStores.delete(e)}));var l=new c.default(this._rawDatabase,e,i,a);return this.objectStoreNames.push(e),this.objectStoreNames.sort(),r._scope.add(e),this._rawDatabase.rawObjectStores.set(e,l),r.objectStoreNames=u.default(this.objectStoreNames.slice()),r.objectStore(e)},t.prototype.deleteObjectStore=function(e){var t=this;if(void 0===e)throw new TypeError;var n=d(this),r=this._rawDatabase.rawObjectStores.get(e);if(void 0===r)throw new o.NotFoundError;this.objectStoreNames=u.default(this.objectStoreNames.filter((function(t){return t!==e}))),n.objectStoreNames=u.default(this.objectStoreNames.slice()),n._rollbackLog.push((function(){r.deleted=!1,t._rawDatabase.rawObjectStores.set(e,r),t.objectStoreNames.push(e),t.objectStoreNames.sort()})),r.deleted=!0,this._rawDatabase.rawObjectStores.delete(e),n._objectStoresCache.delete(e)},t.prototype.transaction=function(e,t){var n,r,u=this;if("readonly"!==(t=void 0!==t?t:"readonly")&&"readwrite"!==t&&"versionchange"!==t)throw new TypeError("Invalid mode: "+t);if(this._rawDatabase.transactions.some((function(e){return"active"===e._state&&"versionchange"===e.mode&&e.db===u})))throw new o.InvalidStateError;if(this._closePending)throw new o.InvalidStateError;if(Array.isArray(e)||(e=[e]),0===e.length&&"versionchange"!==t)throw new o.InvalidAccessError;try{for(var s=i(e),c=s.next();!c.done;c=s.next()){var l=c.value;if(this.objectStoreNames.indexOf(l)<0)throw new o.NotFoundError("No objectStore named "+l+" in this database")}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var f=new a.default(e,t,this);return this._rawDatabase.transactions.push(f),this._rawDatabase.processTransactions(),f},t.prototype.close=function(){h(this)},t.prototype.toString=function(){return"[object IDBDatabase]"},t}(s.default);t.default=p},9662:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7595),o=n(3852),u=n(7898),s=n(525),c=n(6936),l=n(6409),f=n(4333),d=n(5018),h=n(4801),p=function e(t,n,r,i){r.some((function(e){return!e._closed&&!e._closePending}))?h.queueTask((function(){return e(t,n,r,i)})):(t.delete(n),i(null))},v=function(e,t,n,i){var a,o;try{var s=e.get(t);if(void 0===s)return void i(null);s.deletePending=!0;var c=s.connections.filter((function(e){return!e._closed&&!e._closePending}));try{for(var l=r(c),f=l.next();!f.done;f=l.next()){var d=f.value;if(!d._closePending){var h=new u.default("versionchange",{newVersion:null,oldVersion:s.version});d.dispatchEvent(h)}}}catch(g){a={error:g}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}var v=c.some((function(e){return!e._closed&&!e._closePending}));if(n&&v){var m=new u.default("blocked",{newVersion:null,oldVersion:s.version});n.dispatchEvent(m)}p(e,t,c,i)}catch(y){i(y)}},m=function(e,t,n,i,o){var s=e.get(t);if(void 0===s&&(s=new c.default(t,0),e.set(t,s)),void 0===n&&(n=0!==s.version?s.version:1),s.version>n)return o(new f.VersionError);var l=new a.default(s);s.version<n?function(e,t,n,i){var a,o;e._runningVersionchangeTransaction=!0;var s=e.version,c=e._rawDatabase.connections.filter((function(t){return e!==t}));try{for(var l=r(c),d=l.next();!d.done;d=l.next()){var p=d.value;if(!p._closed&&!p._closePending){var v=new u.default("versionchange",{newVersion:t,oldVersion:s});p.dispatchEvent(v)}}}catch(g){a={error:g}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}if(c.some((function(e){return!e._closed&&!e._closePending}))){var m=new u.default("blocked",{newVersion:t,oldVersion:s});n.dispatchEvent(m)}!function r(){var a=c.some((function(e){return!e._closed&&!e._closePending}));if(a)h.queueTask(r);else{e._rawDatabase.version=t,e.version=t;var o=e.transaction(e.objectStoreNames,"versionchange");n.result=e,n.readyState="done",n.transaction=o,o._rollbackLog.push((function(){e._rawDatabase.version=s,e.version=s}));var l=new u.default("upgradeneeded",{newVersion:t,oldVersion:s});n.dispatchEvent(l),o.addEventListener("error",(function(){e._runningVersionchangeTransaction=!1})),o.addEventListener("abort",(function(){e._runningVersionchangeTransaction=!1,n.transaction=null,h.queueTask((function(){i(new f.AbortError)}))})),o.addEventListener("complete",(function(){e._runningVersionchangeTransaction=!1,n.transaction=null,h.queueTask((function(){e._closePending?i(new f.AbortError):i(null)}))}))}}()}(l,n,i,(function(e){if(e)return o(e);o(null,l)})):o(null,l)},g=function(){function e(){this.cmp=s.default,this._databases=new Map}return e.prototype.deleteDatabase=function(e){var t=this,n=new o.default;return n.source=null,h.queueTask((function(){var r=t._databases.get(e),i=void 0!==r?r.version:0;v(t._databases,e,n,(function(e){if(e){n.error=new Error,n.error.name=e.name,n.readyState="done";var t=new d.default("error",{bubbles:!0,cancelable:!0});return t.eventPath=[],void n.dispatchEvent(t)}n.result=void 0,n.readyState="done";var r=new u.default("success",{newVersion:null,oldVersion:i});n.dispatchEvent(r)}))})),n},e.prototype.open=function(e,t){var n=this;if(arguments.length>1&&void 0!==t&&(t=l.default(t,"MAX_SAFE_INTEGER")),0===t)throw new TypeError;var r=new o.default;return r.source=null,h.queueTask((function(){m(n._databases,e,t,r,(function(e,t){if(e){r.result=void 0,r.readyState="done",r.error=new Error,r.error.name=e.name;var n=new d.default("error",{bubbles:!0,cancelable:!0});return n.eventPath=[],void r.dispatchEvent(n)}r.result=t,r.readyState="done";var i=new d.default("success");i.eventPath=[],r.dispatchEvent(i)}))})),r},e.prototype.databases=function(){var e=this;return new Promise((function(t){var n,a,o=[];try{for(var u=r(e._databases),s=u.next();!s.done;s=u.next()){var c=i(s.value,2),l=c[0],f=c[1];o.push({name:l,version:f.version})}}catch(d){n={error:d}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}t(o)}))},e.prototype.toString=function(){return"[object IDBFactory]"},e}();t.default=g},8008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7488),i=n(3169),a=n(1809),o=n(9677),u=n(6409),s=n(4333),c=n(7610),l=n(1889),f=n(3217),d=function(e){if(e._rawIndex.deleted||e.objectStore._rawObjectStore.deleted)throw new s.InvalidStateError;if("active"!==e.objectStore.transaction._state)throw new s.TransactionInactiveError},h=function(){function e(e,t){this._rawIndex=t,this._name=t.name,this.objectStore=e,this.keyPath=t.keyPath,this.multiEntry=t.multiEntry,this.unique=t.unique}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){var t=this,n=this.objectStore.transaction;if(!n.db._runningVersionchangeTransaction)throw new s.InvalidStateError;if("active"!==n._state)throw new s.TransactionInactiveError;if(this._rawIndex.deleted||this.objectStore._rawObjectStore.deleted)throw new s.InvalidStateError;if((e=String(e))!==this._name){if(this.objectStore.indexNames.indexOf(e)>=0)throw new s.ConstraintError;var r=this._name,i=this.objectStore.indexNames.slice();this._name=e,this._rawIndex.name=e,this.objectStore._indexesCache.delete(r),this.objectStore._indexesCache.set(e,this),this.objectStore._rawObjectStore.rawIndexes.delete(r),this.objectStore._rawObjectStore.rawIndexes.set(e,this._rawIndex),this.objectStore.indexNames=c.default(Array.from(this.objectStore._rawObjectStore.rawIndexes.keys()).filter((function(e){var n=t.objectStore._rawObjectStore.rawIndexes.get(e);return n&&!n.deleted}))).sort(),n._rollbackLog.push((function(){t._name=r,t._rawIndex.name=r,t.objectStore._indexesCache.delete(e),t.objectStore._indexesCache.set(r,t),t.objectStore._rawObjectStore.rawIndexes.delete(e),t.objectStore._rawObjectStore.rawIndexes.set(r,t._rawIndex),t.objectStore.indexNames=c.default(i)}))}},enumerable:!0,configurable:!0}),e.prototype.openCursor=function(e,t){d(this),null===e&&(e=void 0),void 0===e||e instanceof a.default||(e=a.default.only(l.default(e)));var n=new o.default;n.source=this,n.transaction=this.objectStore.transaction;var r=new i.default(this,e,t,n);return this.objectStore.transaction._execRequestAsync({operation:r._iterate.bind(r),request:n,source:this})},e.prototype.openKeyCursor=function(e,t){d(this),null===e&&(e=void 0),void 0===e||e instanceof a.default||(e=a.default.only(l.default(e)));var n=new o.default;n.source=this,n.transaction=this.objectStore.transaction;var i=new r.default(this,e,t,n,!0);return this.objectStore.transaction._execRequestAsync({operation:i._iterate.bind(i),request:n,source:this})},e.prototype.get=function(e){return d(this),e instanceof a.default||(e=l.default(e)),this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getValue.bind(this._rawIndex,e),source:this})},e.prototype.getAll=function(e,t){arguments.length>1&&void 0!==t&&(t=u.default(t,"unsigned long")),d(this);var n=f.default(e);return this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getAllValues.bind(this._rawIndex,n,t),source:this})},e.prototype.getKey=function(e){return d(this),e instanceof a.default||(e=l.default(e)),this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getKey.bind(this._rawIndex,e),source:this})},e.prototype.getAllKeys=function(e,t){arguments.length>1&&void 0!==t&&(t=u.default(t,"unsigned long")),d(this);var n=f.default(e);return this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getAllKeys.bind(this._rawIndex,n,t),source:this})},e.prototype.count=function(e){var t=this;return d(this),null===e&&(e=void 0),void 0===e||e instanceof a.default||(e=a.default.only(l.default(e))),this.objectStore.transaction._execRequestAsync({operation:function(){for(var n=0,i=new r.default(t,e);null!==i._iterate();)n+=1;return n},source:this})},e.prototype.toString=function(){return"[object IDBIndex]"},e}();t.default=h},1809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(525),i=n(4333),a=n(1889),o=function(){function e(e,t,n,r){this.lower=e,this.upper=t,this.lowerOpen=n,this.upperOpen=r}return e.only=function(t){if(0===arguments.length)throw new TypeError;return new e(t=a.default(t),t,!1,!1)},e.lowerBound=function(t,n){if(void 0===n&&(n=!1),0===arguments.length)throw new TypeError;return new e(t=a.default(t),void 0,n,!0)},e.upperBound=function(t,n){if(void 0===n&&(n=!1),0===arguments.length)throw new TypeError;return new e(void 0,t=a.default(t),!0,n)},e.bound=function(t,n,o,u){if(void 0===o&&(o=!1),void 0===u&&(u=!1),arguments.length<2)throw new TypeError;var s=r.default(t,n);if(1===s||0===s&&(o||u))throw new i.DataError;return new e(t=a.default(t),n=a.default(n),o,u)},e.prototype.includes=function(e){if(0===arguments.length)throw new TypeError;var t;if((e=a.default(e),void 0!==this.lower)&&(1===(t=r.default(this.lower,e))||0===t&&this.lowerOpen))return!1;if(void 0!==this.upper&&(-1===(t=r.default(this.upper,e))||0===t&&this.upperOpen))return!1;return!0},e.prototype.toString=function(){return"[object IDBKeyRange]"},e}();t.default=o},6145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7488),i=n(3169),a=n(8008),o=n(1809),u=n(9677),s=n(748),c=n(6409),l=n(4333),f=n(1654),d=n(7610),h=n(3523),p=n(8829),v=n(8137),m=n(1889),g=n(3217),y=function(e){if(e._rawObjectStore.deleted)throw new l.InvalidStateError;if("active"!==e.transaction._state)throw new l.TransactionInactiveError},b=function(e,t,n){if(y(e),"readonly"===e.transaction.mode)throw new l.ReadOnlyError;if(null!==e.keyPath&&void 0!==n)throw new l.DataError;var r=p.default(t);if(null!==e.keyPath){var i=f.default(e.keyPath,r);if(void 0!==i)m.default(i);else{if(!e._rawObjectStore.keyGenerator)throw new l.DataError;if(!s.default(e.keyPath,r))throw new l.DataError}}if(null===e.keyPath&&null===e._rawObjectStore.keyGenerator&&void 0===n)throw new l.DataError;return void 0!==n&&(n=m.default(n)),{key:n,value:r}},x=function(){function e(e,t){this._indexesCache=new Map,this._rawObjectStore=t,this._name=t.name,this.keyPath=t.keyPath,this.autoIncrement=t.autoIncrement,this.transaction=e,this.indexNames=d.default(Array.from(t.rawIndexes.keys())).sort()}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){var t=this,n=this.transaction;if(!n.db._runningVersionchangeTransaction)throw new l.InvalidStateError;if(y(this),(e=String(e))!==this._name){if(this._rawObjectStore.rawDatabase.rawObjectStores.has(e))throw new l.ConstraintError;var r=this._name,i=n.db.objectStoreNames.slice();this._name=e,this._rawObjectStore.name=e,this.transaction._objectStoresCache.delete(r),this.transaction._objectStoresCache.set(e,this),this._rawObjectStore.rawDatabase.rawObjectStores.delete(r),this._rawObjectStore.rawDatabase.rawObjectStores.set(e,this._rawObjectStore),n.db.objectStoreNames=d.default(Array.from(this._rawObjectStore.rawDatabase.rawObjectStores.keys()).filter((function(e){var n=t._rawObjectStore.rawDatabase.rawObjectStores.get(e);return n&&!n.deleted}))).sort();var a=new Set(n._scope),o=n.objectStoreNames.slice();this.transaction._scope.delete(r),n._scope.add(e),n.objectStoreNames=d.default(Array.from(n._scope).sort()),n._rollbackLog.push((function(){t._name=r,t._rawObjectStore.name=r,t.transaction._objectStoresCache.delete(e),t.transaction._objectStoresCache.set(r,t),t._rawObjectStore.rawDatabase.rawObjectStores.delete(e),t._rawObjectStore.rawDatabase.rawObjectStores.set(r,t._rawObjectStore),n.db.objectStoreNames=d.default(i),n._scope=a,n.objectStoreNames=d.default(o)}))}},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){if(0===arguments.length)throw new TypeError;var n=b(this,e,t);return this.transaction._execRequestAsync({operation:this._rawObjectStore.storeRecord.bind(this._rawObjectStore,n,!1,this.transaction._rollbackLog),source:this})},e.prototype.add=function(e,t){if(0===arguments.length)throw new TypeError;var n=b(this,e,t);return this.transaction._execRequestAsync({operation:this._rawObjectStore.storeRecord.bind(this._rawObjectStore,n,!0,this.transaction._rollbackLog),source:this})},e.prototype.delete=function(e){if(0===arguments.length)throw new TypeError;if(y(this),"readonly"===this.transaction.mode)throw new l.ReadOnlyError;return e instanceof o.default||(e=m.default(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.deleteRecord.bind(this._rawObjectStore,e,this.transaction._rollbackLog),source:this})},e.prototype.get=function(e){if(0===arguments.length)throw new TypeError;return y(this),e instanceof o.default||(e=m.default(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.getValue.bind(this._rawObjectStore,e),source:this})},e.prototype.getAll=function(e,t){arguments.length>1&&void 0!==t&&(t=c.default(t,"unsigned long")),y(this);var n=g.default(e);return this.transaction._execRequestAsync({operation:this._rawObjectStore.getAllValues.bind(this._rawObjectStore,n,t),source:this})},e.prototype.getKey=function(e){if(0===arguments.length)throw new TypeError;return y(this),e instanceof o.default||(e=m.default(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.getKey.bind(this._rawObjectStore,e),source:this})},e.prototype.getAllKeys=function(e,t){arguments.length>1&&void 0!==t&&(t=c.default(t,"unsigned long")),y(this);var n=g.default(e);return this.transaction._execRequestAsync({operation:this._rawObjectStore.getAllKeys.bind(this._rawObjectStore,n,t),source:this})},e.prototype.clear=function(){if(y(this),"readonly"===this.transaction.mode)throw new l.ReadOnlyError;return this.transaction._execRequestAsync({operation:this._rawObjectStore.clear.bind(this._rawObjectStore,this.transaction._rollbackLog),source:this})},e.prototype.openCursor=function(e,t){y(this),null===e&&(e=void 0),void 0===e||e instanceof o.default||(e=o.default.only(m.default(e)));var n=new u.default;n.source=this,n.transaction=this.transaction;var r=new i.default(this,e,t,n);return this.transaction._execRequestAsync({operation:r._iterate.bind(r),request:n,source:this})},e.prototype.openKeyCursor=function(e,t){y(this),null===e&&(e=void 0),void 0===e||e instanceof o.default||(e=o.default.only(m.default(e)));var n=new u.default;n.source=this,n.transaction=this.transaction;var i=new r.default(this,e,t,n,!0);return this.transaction._execRequestAsync({operation:i._iterate.bind(i),request:n,source:this})},e.prototype.createIndex=function(e,t,n){var r=this;if(void 0===n&&(n={}),arguments.length<2)throw new TypeError;var i=void 0!==n.multiEntry&&n.multiEntry,o=void 0!==n.unique&&n.unique;if("versionchange"!==this.transaction.mode)throw new l.InvalidStateError;if(y(this),this.indexNames.indexOf(e)>=0)throw new l.ConstraintError;if(v.default(t),Array.isArray(t)&&i)throw new l.InvalidAccessError;var u=this.indexNames.slice();this.transaction._rollbackLog.push((function(){var t=r._rawObjectStore.rawIndexes.get(e);t&&(t.deleted=!0),r.indexNames=d.default(u),r._rawObjectStore.rawIndexes.delete(e)}));var s=new h.default(this._rawObjectStore,e,t,i,o);return this.indexNames.push(e),this.indexNames.sort(),this._rawObjectStore.rawIndexes.set(e,s),s.initialize(this.transaction),new a.default(this,s)},e.prototype.index=function(e){if(0===arguments.length)throw new TypeError;if(this._rawObjectStore.deleted||"finished"===this.transaction._state)throw new l.InvalidStateError;var t=this._indexesCache.get(e);if(void 0!==t)return t;var n=this._rawObjectStore.rawIndexes.get(e);if(this.indexNames.indexOf(e)<0||void 0===n)throw new l.NotFoundError;var r=new a.default(this,n);return this._indexesCache.set(e,r),r},e.prototype.deleteIndex=function(e){var t=this;if(0===arguments.length)throw new TypeError;if("versionchange"!==this.transaction.mode)throw new l.InvalidStateError;y(this);var n=this._rawObjectStore.rawIndexes.get(e);if(void 0===n)throw new l.NotFoundError;this.transaction._rollbackLog.push((function(){n.deleted=!1,t._rawObjectStore.rawIndexes.set(e,n),t.indexNames.push(e),t.indexNames.sort()})),this.indexNames=d.default(this.indexNames.filter((function(t){return t!==e}))),n.deleted=!0,this.transaction._execRequestAsync({operation:function(){var r=t._rawObjectStore.rawIndexes.get(e);n===r&&t._rawObjectStore.rawIndexes.delete(e)},source:this})},e.prototype.count=function(e){var t=this;return y(this),null===e&&(e=void 0),void 0===e||e instanceof o.default||(e=o.default.only(m.default(e))),this.transaction._execRequestAsync({operation:function(){for(var n=0,i=new r.default(t,e);null!==i._iterate();)n+=1;return n},source:this})},e.prototype.toString=function(){return"[object IDBObjectStore]"},e}();t.default=x},3852:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onupgradeneeded=null,t.onblocked=null,t}return r(t,e),t.prototype.toString=function(){return"[object IDBOpenDBRequest]"},t}(n(9677).default);t.default=i},9677:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(4333),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._result=null,t._error=null,t.source=null,t.transaction=null,t.readyState="pending",t.onsuccess=null,t.onerror=null,t}return r(t,e),Object.defineProperty(t.prototype,"error",{get:function(){if("pending"===this.readyState)throw new i.InvalidStateError;return this._error},set:function(e){this._error=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"result",{get:function(){if("pending"===this.readyState)throw new i.InvalidStateError;return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"[object IDBRequest]"},t}(n(2201).default);t.default=a},5986:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6145),o=n(9677),u=n(4333),s=n(7610),c=n(5018),l=n(2201),f=n(4801),d=function(e){function t(t,n,r){var i=e.call(this)||this;return i._state="active",i._started=!1,i._rollbackLog=[],i._objectStoresCache=new Map,i.error=null,i.onabort=null,i.oncomplete=null,i.onerror=null,i._requests=[],i._scope=new Set(t),i.mode=n,i.db=r,i.objectStoreNames=s.default(Array.from(i._scope).sort()),i}return r(t,e),t.prototype._abort=function(e){var t,n,r,a,o=this;try{for(var s=i(this._rollbackLog.reverse()),l=s.next();!l.done;l=s.next()){(0,l.value)()}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}if(null!==e){var d=new Error;d.name=e,this.error=d}try{for(var h=i(this._requests),p=h.next();!p.done;p=h.next()){var v=p.value.request;if("done"!==v.readyState&&(v.readyState="done",v.source)){v.result=void 0,v.error=new u.AbortError;var m=new c.default("error",{bubbles:!0,cancelable:!0});m.eventPath=[this.db,this],v.dispatchEvent(m)}}}catch(y){r={error:y}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}f.queueTask((function(){var e=new c.default("abort",{bubbles:!0,cancelable:!1});e.eventPath=[o.db],o.dispatchEvent(e)})),this._state="finished"},t.prototype.abort=function(){if("committing"===this._state||"finished"===this._state)throw new u.InvalidStateError;this._state="active",this._abort(null)},t.prototype.objectStore=function(e){if("active"!==this._state)throw new u.InvalidStateError;var t=this._objectStoresCache.get(e);if(void 0!==t)return t;var n=this.db._rawDatabase.rawObjectStores.get(e);if(!this._scope.has(e)||void 0===n)throw new u.NotFoundError;var r=new a.default(this,n);return this._objectStoresCache.set(e,r),r},t.prototype._execRequestAsync=function(e){var t=e.source,n=e.operation,r=e.hasOwnProperty("request")?e.request:null;if("active"!==this._state)throw new u.TransactionInactiveError;return r||(t?((r=new o.default).source=t,r.transaction=t.transaction):r=new o.default),this._requests.push({operation:n,request:r}),r},t.prototype._start=function(){var e,t;for(this._started=!0;this._requests.length>0;){var n=this._requests.shift();if(n&&"done"!==n.request.readyState){t=n.request,e=n.operation;break}}if(t&&e){if(t.source){var r,i=void 0;try{var a=e();t.readyState="done",t.result=a,t.error=void 0,"inactive"===this._state&&(this._state="active"),r=new c.default("success",{bubbles:!1,cancelable:!1})}catch(u){t.readyState="done",t.result=void 0,t.error=u,"inactive"===this._state&&(this._state="active"),r=new c.default("error",{bubbles:!0,cancelable:!0}),i=this._abort.bind(this,u.name)}try{r.eventPath=[this.db,this],t.dispatchEvent(r)}catch(u){throw"committing"!==this._state&&this._abort("AbortError"),u}r.canceled||i&&i()}else e();f.queueTask(this._start.bind(this))}else if("finished"!==this._state&&(this._state="finished",!this.error)){var o=new c.default("complete");this.dispatchEvent(o)}},t.prototype.commit=function(){if("active"!==this._state)throw new u.InvalidStateError;this._state="committing"},t.prototype.toString=function(){return"[object IDBRequest]"},t}(l.default);t.default=d},7898:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,t)||this;return r.newVersion=void 0!==n.newVersion?n.newVersion:null,r.oldVersion=void 0!==n.oldVersion?n.oldVersion:0,r}return r(t,e),t.prototype.toString=function(){return"[object IDBVersionChangeEvent]"},t}(n(5018).default);t.default=i},1626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(9662).default);t.default=r},2575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1626);e.exports=r.default},6936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4801),i=function(){function e(e,t){this.deletePending=!1,this.transactions=[],this.rawObjectStores=new Map,this.connections=[],this.name=e,this.version=t,this.processTransactions=this.processTransactions.bind(this)}return e.prototype.processTransactions=function(){var e=this;r.queueTask((function(){if(!e.transactions.some((function(e){return e._started&&"finished"!==e._state}))){var t=e.transactions.find((function(e){return!e._started&&"finished"!==e._state}));t&&(t.addEventListener("complete",e.processTransactions),t.addEventListener("abort",e.processTransactions),t._start())}}))},e}();t.default=i},5018:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===t&&(t={}),this.eventPath=[],this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.canceled=!1,this.initialized=!0,this.dispatched=!1,this.target=null,this.currentTarget=null,this.eventPhase=0,this.defaultPrevented=!1,this.isTrusted=!1,this.timeStamp=Date.now(),this.type=e,this.bubbles=void 0!==t.bubbles&&t.bubbles,this.cancelable=void 0!==t.cancelable&&t.cancelable}return e.prototype.preventDefault=function(){this.cancelable&&(this.canceled=!0)},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.stopImmediatePropagation=function(){this.propagationStopped=!0,this.immediatePropagationStopped=!0},e}();t.default=n},2201:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4333),a=function(e,t){return e.immediatePropagationStopped||e.eventPhase===e.CAPTURING_PHASE&&!1===t.capture||e.eventPhase===e.BUBBLING_PHASE&&!0===t.capture},o=function(e,t){var n,i;e.currentTarget=t;try{for(var o=r(t.listeners.slice()),u=o.next();!u.done;u=o.next()){var s=u.value;e.type!==s.type||a(e,s)||s.callback.call(e.currentTarget,e)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}var c={abort:"onabort",blocked:"onblocked",complete:"oncomplete",error:"onerror",success:"onsuccess",upgradeneeded:"onupgradeneeded",versionchange:"onversionchange"}[e.type];if(void 0===c)throw new Error('Unknown event type: "'+e.type+'"');var l=e.currentTarget[c];if(l){s={callback:l,capture:!1,type:e.type};a(e,s)||s.callback.call(e.currentTarget,e)}},u=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e,t,n){void 0===n&&(n=!1),this.listeners.push({callback:t,capture:n,type:e})},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!1);var r=this.listeners.findIndex((function(r){return r.type===e&&r.callback===t&&r.capture===n}));this.listeners.splice(r,1)},e.prototype.dispatchEvent=function(e){var t,n,a,u;if(e.dispatched||!e.initialized)throw new i.InvalidStateError("The object is in an invalid state.");e.isTrusted=!1,e.dispatched=!0,e.target=this,e.eventPhase=e.CAPTURING_PHASE;try{for(var s=r(e.eventPath),c=s.next();!c.done;c=s.next()){var l=c.value;e.propagationStopped||o(e,l)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}if(e.eventPhase=e.AT_TARGET,e.propagationStopped||o(e,e.target),e.bubbles){e.eventPath.reverse(),e.eventPhase=e.BUBBLING_PHASE;try{for(var f=r(e.eventPath),d=f.next();!d.done;d=f.next()){l=d.value;e.propagationStopped||o(e,l)}}catch(p){a={error:p}}finally{try{d&&!d.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}}return e.dispatched=!1,e.eventPhase=e.NONE,e.currentTarget=null,!e.canceled},e}();t.default=u},3523:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4333),a=n(1654),o=n(7321),u=n(8829),s=n(1889),c=function(){function e(e,t,n,r,i){this.deleted=!1,this.initialized=!1,this.records=new o.default,this.rawObjectStore=e,this.name=t,this.keyPath=n,this.multiEntry=r,this.unique=i}return e.prototype.getKey=function(e){var t=this.records.get(e);return void 0!==t?t.value:void 0},e.prototype.getAllKeys=function(e,t){var n,i;void 0!==t&&0!==t||(t=1/0);var a=[];try{for(var o=r(this.records.values(e)),s=o.next();!s.done;s=o.next()){var c=s.value;if(a.push(u.default(c.value)),a.length>=t)break}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.getValue=function(e){var t=this.records.get(e);return void 0!==t?this.rawObjectStore.getValue(t.value):void 0},e.prototype.getAllValues=function(e,t){var n,i;void 0!==t&&0!==t||(t=1/0);var a=[];try{for(var o=r(this.records.values(e)),u=o.next();!u.done;u=o.next()){var s=u.value;if(a.push(this.rawObjectStore.getValue(s.value)),a.length>=t)break}}catch(c){n={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.storeRecord=function(e){var t,n,o,u,c,l,f;try{f=a.default(this.keyPath,e.value)}catch(w){if("DataError"===w.name)return;throw w}if(this.multiEntry&&Array.isArray(f)){var d=[];try{for(var h=r(f),p=h.next();!p.done;p=h.next()){var v=p.value;if(d.indexOf(v)<0)try{d.push(s.default(v))}catch(w){}}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}f=d}else try{s.default(f)}catch(k){return}if(this.multiEntry&&Array.isArray(f)){if(this.unique)try{for(var m=r(f),g=m.next();!g.done;g=m.next()){var y=g.value;if(this.records.get(y))throw new i.ConstraintError}}catch(E){o={error:E}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}}else if(this.unique&&this.records.get(f))throw new i.ConstraintError;if(this.multiEntry&&Array.isArray(f))try{for(var b=r(f),x=b.next();!x.done;x=b.next()){y=x.value;this.records.add({key:y,value:e.key})}}catch(O){c={error:O}}finally{try{x&&!x.done&&(l=b.return)&&l.call(b)}finally{if(c)throw c.error}}else this.records.add({key:f,value:e.key})},e.prototype.initialize=function(e){var t=this;if(this.initialized)throw new Error("Index already initialized");e._execRequestAsync({operation:function(){var n,i;try{try{for(var a=r(t.rawObjectStore.records.values()),o=a.next();!o.done;o=a.next()){var u=o.value;t.storeRecord(u)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}t.initialized=!0}catch(c){e._abort(c.name)}},source:null})},e}();t.default=c},8269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4333),i=9007199254740992,a=function(){function e(){this.num=0}return e.prototype.next=function(){if(this.num>=i)throw new r.ConstraintError;return this.num+=1,this.num},e.prototype.setIfLarger=function(e){var t=Math.floor(Math.min(e,i))-1;t>=this.num&&(this.num=t+1)},e}();t.default=a},9239:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4333),a=n(1654),o=n(8269),u=n(7321),s=n(8829),c=function(){function e(e,t,n,r){this.deleted=!1,this.records=new u.default,this.rawIndexes=new Map,this.rawDatabase=e,this.keyGenerator=!0===r?new o.default:null,this.deleted=!1,this.name=t,this.keyPath=n,this.autoIncrement=r}return e.prototype.getKey=function(e){var t=this.records.get(e);return void 0!==t?s.default(t.key):void 0},e.prototype.getAllKeys=function(e,t){var n,i;void 0!==t&&0!==t||(t=1/0);var a=[];try{for(var o=r(this.records.values(e)),u=o.next();!u.done;u=o.next()){var c=u.value;if(a.push(s.default(c.key)),a.length>=t)break}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.getValue=function(e){var t=this.records.get(e);return void 0!==t?s.default(t.value):void 0},e.prototype.getAllValues=function(e,t){var n,i;void 0!==t&&0!==t||(t=1/0);var a=[];try{for(var o=r(this.records.values(e)),u=o.next();!u.done;u=o.next()){var c=u.value;if(a.push(s.default(c.value)),a.length>=t)break}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.storeRecord=function(e,t,n){var o,u,s=this;if(null!==this.keyPath){var c=a.default(this.keyPath,e.value);void 0!==c&&(e.key=c)}if(null!==this.keyGenerator&&void 0===e.key){if(n){var l=this.keyGenerator.num;n.push((function(){s.keyGenerator&&(s.keyGenerator.num=l)}))}if(e.key=this.keyGenerator.next(),null!==this.keyPath){if(Array.isArray(this.keyPath))throw new Error("Cannot have an array key path in an object store with a key generator");for(var f=this.keyPath,d=e.value,h=void 0,p=0;p>=0;){if("object"!==typeof d)throw new i.DataError;(p=f.indexOf("."))>=0&&(h=f.slice(0,p),f=f.slice(p+1),d.hasOwnProperty(h)||(d[h]={}),d=d[h])}d[h=f]=e.key}}else null!==this.keyGenerator&&"number"===typeof e.key&&this.keyGenerator.setIfLarger(e.key);if(this.records.get(e.key)){if(t)throw new i.ConstraintError;this.deleteRecord(e.key,n)}this.records.add(e),n&&n.push((function(){s.deleteRecord(e.key)}));try{for(var v=r(this.rawIndexes.values()),m=v.next();!m.done;m=v.next()){var g=m.value;g.initialized&&g.storeRecord(e)}}catch(y){o={error:y}}finally{try{m&&!m.done&&(u=v.return)&&u.call(v)}finally{if(o)throw o.error}}return e.key},e.prototype.deleteRecord=function(e,t){var n,i,a,o,u=this,s=this.records.delete(e);if(t){var c=function(e){t.push((function(){u.storeRecord(e,!0)}))};try{for(var l=r(s),f=l.next();!f.done;f=l.next()){c(f.value)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}try{for(var d=r(this.rawIndexes.values()),h=d.next();!h.done;h=d.next()){h.value.records.deleteByValue(e)}}catch(v){a={error:v}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}},e.prototype.clear=function(e){var t,n,i,a,o=this,u=this.records.clear();if(e){var s=function(t){e.push((function(){o.storeRecord(t,!0)}))};try{for(var c=r(u),l=c.next();!l.done;l=c.next()){s(l.value)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}try{for(var f=r(this.rawIndexes.values()),d=f.next();!d.done;d=f.next()){d.value.records.clear()}}catch(p){i={error:p}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}},e}();t.default=c},7321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1809),i=n(1403),a=n(525),o=function(){function e(){this.records=[]}return e.prototype.get=function(e){return e instanceof r.default?i.getByKeyRange(this.records,e):i.getByKey(this.records,e)},e.prototype.add=function(e){var t;if(0===this.records.length)t=0;else if(-1===(t=i.getIndexByKeyGTE(this.records,e.key)))t=this.records.length;else for(;t<this.records.length&&0===a.default(this.records[t].key,e.key)&&-1===a.default(this.records[t].value,e.value);)t+=1;this.records.splice(t,0,e)},e.prototype.delete=function(e){for(var t=[],n=e instanceof r.default;;){var a=n?i.getIndexByKeyRange(this.records,e):i.getIndexByKey(this.records,e);if(-1===a)break;t.push(this.records[a]),this.records.splice(a,1)}return t},e.prototype.deleteByValue=function(e){var t=e instanceof r.default?e:r.default.only(e),n=[];return this.records=this.records.filter((function(e){var r=t.includes(e.value);return r&&n.push(e),!r})),n},e.prototype.clear=function(){var e=this.records.slice();return this.records=[],e},e.prototype.values=function(e,t){var n,r=this;return void 0===t&&(t="next"),(n={})[Symbol.iterator]=function(){var n;if("next"===t){if(n=0,void 0!==e&&void 0!==e.lower)for(;void 0!==r.records[n];){if(1===(i=a.default(r.records[n].key,e.lower))||0===i&&!e.lowerOpen)break;n+=1}}else if(n=r.records.length-1,void 0!==e&&void 0!==e.upper)for(;void 0!==r.records[n];){var i;if(-1===(i=a.default(r.records[n].key,e.upper))||0===i&&!e.upperOpen)break;n-=1}return{next:function(){var i,o,u;"next"===t?(o=r.records[n],i=n>=r.records.length,n+=1,i||void 0===e||void 0===e.upper||(i=1===(u=a.default(o.key,e.upper))||0===u&&e.upperOpen)&&(o=void 0)):(o=r.records[n],i=n<0,n-=1,i||void 0===e||void 0===e.lower||(i=-1===(u=a.default(o.key,e.lower))||0===u&&e.lowerOpen)&&(o=void 0));return{done:i,value:o}}}},n},e}();t.default=o},1403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(525);function i(e,t){for(var n,i=0,a=e.length;i<a;)n=i+a>>>1,r.default(e[n].key,t)<0?i=n+1:a=n;return i}function a(e,t){var n=i(e,t),a=e[n];return a&&0===r.default(a.key,t)?n:-1}function o(e,t){for(var n="undefined"===typeof t.lower?0:i(e,t.lower),r="undefined"===typeof t.upper?e.length-1:i(e,t.upper),a=n;a<=r;a++){var o=e[a];if(o&&t.includes(o.key))return a}return-1}t.getIndexByKey=a,t.getByKey=function(e,t){return e[a(e,t)]},t.getIndexByKeyRange=o,t.getByKeyRange=function(e,t){return e[o(e,t)]},t.getIndexByKeyGTE=function(e,t){var n=i(e,t),a=e[n];return a&&r.default(a.key,t)>=0?n:-1}},748:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var r,i;if(Array.isArray(e))throw new Error("The key paths used in this section are always strings and never sequences, since it is not possible to create a object store which has a key generator and also has a key path that is a sequence.");var a=e.split(".");if(0===a.length)throw new Error("Assert: identifiers is not empty");a.pop();try{for(var o=n(a),u=o.next();!u.done;u=o.next()){var s=u.value;if("object"!==typeof t&&!Array.isArray(t))return!1;if(!t.hasOwnProperty(s))return!0;t=t[s]}}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return"object"===typeof t||Array.isArray(t)}},525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4333),i=n(1889),a=function(e){if("number"===typeof e)return"Number";if(e instanceof Date)return"Date";if(Array.isArray(e))return"Array";if("string"===typeof e)return"String";if(e instanceof ArrayBuffer)return"Binary";throw new r.DataError};t.default=function e(t,n){if(void 0===n)throw new TypeError;t=i.default(t),n=i.default(n);var r=a(t),o=a(n);if(r!==o)return"Array"===r?1:("Binary"!==r||"String"!==o&&"Date"!==o&&"Number"!==o)&&("String"!==r||"Date"!==o&&"Number"!==o)?"Date"===r&&"Number"===o?1:-1:1;if("Binary"===r&&(t=new Uint8Array(t),n=new Uint8Array(n)),"Array"===r||"Binary"===r){for(var u=Math.min(t.length,n.length),s=0;s<u;s++){var c=e(t[s],n[s]);if(0!==c)return c}return t.length>n.length?1:t.length<n.length?-1:0}if("Date"===r){if(t.getTime()===n.getTime())return 0}else if(t===n)return 0;return t>n?1:-1}},6409:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n="unsigned long"===t?4294967295:9007199254740991;if(isNaN(e)||e<0||e>n)throw new TypeError;if(e>=0)return Math.floor(e)}},4333:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r="A request was aborted, for example through a call to IDBTransaction.abort.",i="A mutation operation in the transaction failed because a constraint was not satisfied. For example, an object such as an object store or index already exists and a request attempted to create a new one.",a="The data being stored could not be cloned by the internal structured cloning algorithm.",o="Data provided to an operation does not meet requirements.",u="An invalid operation was performed on an object. For example transaction creation attempt was made, but an empty scope was provided.",s="An operation was called on an object on which it is not allowed or at a time when it is not allowed. Also occurs if a request is made on a source object that has been deleted or removed. Use TransactionInactiveError or ReadOnlyError when possible, as they are more specific variations of InvalidStateError.",c="The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",l='The mutating operation was attempted in a "readonly" transaction.',f="A request was placed against a transaction which is currently not active, or which is finished.",d="An attempt was made to open a database using a lower version than the existing version.",h=function(e){function t(t){void 0===t&&(t=r);var n=e.call(this)||this;return n.name="AbortError",n.message=t,n}return n(t,e),t}(Error);t.AbortError=h;var p=function(e){function t(t){void 0===t&&(t=i);var n=e.call(this)||this;return n.name="ConstraintError",n.message=t,n}return n(t,e),t}(Error);t.ConstraintError=p;var v=function(e){function t(t){void 0===t&&(t=a);var n=e.call(this)||this;return n.name="DataCloneError",n.message=t,n}return n(t,e),t}(Error);t.DataCloneError=v;var m=function(e){function t(t){void 0===t&&(t=o);var n=e.call(this)||this;return n.name="DataError",n.message=t,n}return n(t,e),t}(Error);t.DataError=m;var g=function(e){function t(t){void 0===t&&(t=u);var n=e.call(this)||this;return n.name="InvalidAccessError",n.message=t,n}return n(t,e),t}(Error);t.InvalidAccessError=g;var y=function(e){function t(t){void 0===t&&(t=s);var n=e.call(this)||this;return n.name="InvalidStateError",n.message=t,n}return n(t,e),t}(Error);t.InvalidStateError=y;var b=function(e){function t(t){void 0===t&&(t=c);var n=e.call(this)||this;return n.name="NotFoundError",n.message=t,n}return n(t,e),t}(Error);t.NotFoundError=b;var x=function(e){function t(t){void 0===t&&(t=l);var n=e.call(this)||this;return n.name="ReadOnlyError",n.message=t,n}return n(t,e),t}(Error);t.ReadOnlyError=x;var w=function(e){function t(t){void 0===t&&(t=f);var n=e.call(this)||this;return n.name="TransactionInactiveError",n.message=t,n}return n(t,e),t}(Error);t.TransactionInactiveError=w;var _=function(e){function t(t){void 0===t&&(t=d);var n=e.call(this)||this;return n.name="VersionError",n.message=t,n}return n(t,e),t}(Error);t.VersionError=_},1654:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1889);t.default=function e(t,n){var a,o;if(Array.isArray(t)){var u=[];try{for(var s=r(t),c=s.next();!c.done;c=s.next()){var l=c.value;void 0!==l&&null!==l&&"string"!==typeof l&&l.toString&&(l=l.toString()),u.push(i.default(e(l,n)))}}catch(v){a={error:v}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}return u}if(""===t)return n;for(var f=t,d=n;null!==f;){var h=void 0,p=f.indexOf(".");if(p>=0?(h=f.slice(0,p),f=f.slice(p+1)):(h=f,f=null),!d.hasOwnProperty(h))return;d=d[h]}return d}},7610:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.slice();return Object.defineProperty(t,"contains",{value:function(e){return t.indexOf(e)>=0}}),Object.defineProperty(t,"item",{value:function(e){return t[e]}}),t}},4801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof n.g)return n.g;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;throw new Error("unable to locate global object")}();t.queueTask=r.setImmediate||("undefined"!==typeof navigator&&/jsdom/.test(navigator.userAgent)?new(0,Node.constructor)("return setImmediate")():void 0)||function(e){return setTimeout(e,0)}},8829:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5715),i=n(4333);t.default=function(e){try{return r(e)}catch(t){throw new i.DataCloneError}}},8137:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r){var i,a,o,u;if(void 0===t||null===t||"string"===typeof t||!t.toString||"array"!==r&&Array.isArray(t)||(t=t.toString()),"string"===typeof t){if(""===t&&"string"!==r)return;try{if(t.length>=1&&/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])(?:[\$0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])*$/.test(t))return}catch(d){throw new SyntaxError(d.message)}if(t.indexOf(" ")>=0)throw new SyntaxError("The keypath argument contains an invalid key path (no spaces allowed).")}if(Array.isArray(t)&&t.length>0){if(r)throw new SyntaxError("The keypath argument contains an invalid key path (nested arrays).");try{for(var s=n(t),c=s.next();!c.done;c=s.next()){e(c.value,"array")}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}else{if(!("string"===typeof t&&t.indexOf(".")>=0))throw new SyntaxError;t=t.split(".");try{for(var l=n(t),f=l.next();!f.done;f=l.next()){e(f.value,"string")}}catch(p){o={error:p}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}}}},1889:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4333);t.default=function e(t,n){if("number"===typeof t){if(isNaN(t))throw new r.DataError;return t}if(t instanceof Date){var i=t.valueOf();if(isNaN(i))throw new r.DataError;return new Date(i)}if("string"===typeof t)return t;if(t instanceof ArrayBuffer||"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t))return t instanceof ArrayBuffer?new Uint8Array(t).buffer:new Uint8Array(t.buffer).buffer;if(Array.isArray(t)){if(void 0===n)n=new Set;else if(n.has(t))throw new r.DataError;n.add(t);for(var a=[],o=0;o<t.length;o++){if(!t.hasOwnProperty(o))throw new r.DataError;var u=e(t[o],n);a.push(u)}return a}throw new r.DataError}},3217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1809),i=n(4333),a=n(1889);t.default=function(e,t){if(void 0===t&&(t=!1),e instanceof r.default)return e;if(null===e||void 0===e){if(t)throw new i.DataError;return new r.default(void 0,void 0,!1,!1)}var n=a.default(e);return r.default.only(n)}},3017:function(e,t,n){e.exports=n(1809).default},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},2248:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=a.push(t)-1,s=Object.keys(t).sort(i&&i(t));for(o="",n=0;n<s.length;n++){var c=s[n],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return a.splice(u,1),"{"+o+"}"}}(e)}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},1065:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,s=/^\s+|\s+$/g,c="";function l(e){return e?e.replace(s,c):c}e.exports=function(e,s){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];s=s||{};var f=1,d=1;function h(e){var t=e.match(n);t&&(f+=t.length);var r=e.lastIndexOf("\n");d=~r?e.length-r:d+e.length}function p(){var e={line:f,column:d};return function(t){return t.position=new v(e),b(),t}}function v(e){this.start=e,this.end={line:f,column:d},this.source=s.source}v.prototype.content=e;var m=[];function g(t){var n=new Error(s.source+":"+f+":"+d+": "+t);if(n.reason=t,n.filename=s.source,n.line=f,n.column=d,n.source=e,!s.silent)throw n;m.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function b(){y(r)}function x(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return g("End of comment missing");var r=e.slice(2,n-2);return d+=2,h(r),e=e.slice(n),d+=2,t({type:"comment",comment:r})}}function _(){var e=p(),n=y(i);if(n){if(w(),!y(a))return g("property missing ':'");var r=y(o),s=e({type:"declaration",property:l(n[0].replace(t,c)),value:r?l(r[0].replace(t,c)):c});return y(u),s}}return b(),function(){var e,t=[];for(x(t);e=_();)!1!==e&&(t.push(e),x(t));return t}()}},5586:function(e){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},5587:function(e,t,n){e.exports=function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,u,s,c,l=[],f=0,d=e.length,h=d,p="string"!==r.getTypeOf(e);f<e.length;)h=d-f,i=p?(t=e[f++],n=f<d?e[f++]:0,f<d?e[f++]:0):(t=e.charCodeAt(f++),n=f<d?e.charCodeAt(f++):0,f<d?e.charCodeAt(f++):0),o=t>>2,u=(3&t)<<4|n>>4,s=1<h?(15&n)<<2|i>>6:64,c=2<h?63&i:64,l.push(a.charAt(o)+a.charAt(u)+a.charAt(s)+a.charAt(c));return l.join("")},n.decode=function(e){var t,n,r,o,u,s,c=0,l=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=a.indexOf(e.charAt(c++))<<2|(o=a.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(u=a.indexOf(e.charAt(c++)))>>2,r=(3&u)<<6|(s=a.indexOf(e.charAt(c++))),d[l++]=t,64!==u&&(d[l++]=n),64!==s&&(d[l++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function u(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}u.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var u=r;u<o;u++)e=e>>>8^a[255&(e^t[u])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var u=r;u<o;u++)e=e>>>8^a[255&(e^t.charCodeAt(u))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),u=r?"uint8array":"array";function s(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(s,o),s.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(u,e.data),!1)},s.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},s.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new s("Deflate",e)},n.uncompressWorker=function(){return new s("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,l){var f,d,h=e.file,p=e.compression,v=l!==u.utf8encode,m=a.transformTo("string",l(h.name)),g=a.transformTo("string",u.utf8encode(h.name)),y=h.comment,b=a.transformTo("string",l(y)),x=a.transformTo("string",u.utf8encode(y)),w=g.length!==h.name.length,_=x.length!==y.length,k="",E="",O="",S=h.dir,A=h.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),v||!w&&!_||(D|=2048);var j=0,T=0;S&&(j|=16),"UNIX"===o?(T=798,j|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,S)):(T=20,j|=function(e){return 63&(e||0)}(h.dosPermissions)),f=A.getUTCHours(),f<<=6,f|=A.getUTCMinutes(),f<<=5,f|=A.getUTCSeconds()/2,d=A.getUTCFullYear()-1980,d<<=4,d|=A.getUTCMonth()+1,d<<=5,d|=A.getUTCDate(),w&&(E=r(1,1)+r(s(m),4)+g,k+="up"+r(E.length,2)+E),_&&(O=r(1,1)+r(s(b),4)+x,k+="uc"+r(O.length,2)+O);var F="";return F+="\n\0",F+=r(D,2),F+=p.magic,F+=r(f,2),F+=r(d,2),F+=r(C.crc32,4),F+=r(C.compressedSize,4),F+=r(C.uncompressedSize,4),F+=r(m.length,2),F+=r(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+F+m+k,dirRecord:c.CENTRAL_FILE_HEADER+r(T,2)+F+r(b.length,2)+"\0\0\0\0"+r(j,4)+r(i,4)+m+k+b}}var a=e("../utils"),o=e("../stream/GenericWorker"),u=e("../utf8"),s=e("../crc32"),c=e("../signature");function l(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(l,o),l.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var u=a.transformTo("string",o(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(u.length,2)+u}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},l.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),u=n.options.compressionOptions||t.compressionOptions||{},s=n.dir,c=n.date;n._compressWorker(i,u).withStreamInfo("file",{name:e,dir:s,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.7.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),u=e("./stream/Crc32Probe"),s=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new u);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),s.isNode&&s.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(c(r[a]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,a=0;a<i.length;a++){var o=i[a];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=a.getTypeOf(t),u=a.extend(n||{},s);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(e=v(e)),u.createFolders&&(r=p(e))&&m.call(this,r,!0);var f="string"===i&&!1===u.binary&&!1===u.base64;n&&void 0!==n.binary||(u.binary=!f),(t instanceof c&&0===t.uncompressedSize||u.dir||!t||0===t.length)&&(u.base64=!1,u.binary=!0,t="",u.compression="STORE",i="string");var g=null;g=t instanceof c||t instanceof o?t:d.isNode&&d.isStream(t)?new h(e,t):a.prepareContent(e,t,u.binary,u.optimizedBinaryString,u.base64);var y=new l(e,g,u);this.files[e]=y}var i=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),s=e("./defaults"),c=e("./compressedObject"),l=e("./zipObject"),f=e("./generate"),d=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:s.createFolders,e=v(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=f.generateWorker(this,n,r)}catch(e){(t=new o("error")).error(e)}return new u(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),u=e("./NodeBufferReader"),s=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new u(e):i.uint8array?new s(r.transformTo("uint8array",e)):new a(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function a(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),u=e("../support"),s=e("../external"),c=null;if(u.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,t){return new s.Promise((function(n,i){var a=[],u=e._internalType,s=e._outputType,c=e._mimeType;e.on("data",(function(e,n){a.push(e),t&&t(n)})).on("error",(function(e){a=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return r.transformTo(e,t)}}(s,function(e,t){var n,r=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(u,a),c);n(e)}catch(e){i(e)}a=[]})).resume()}))}function f(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),u=new Array(256),s=0;s<256;s++)u[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function l(){o.call(this,"utf-8 encode")}u[254]=u[254]=1,n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,r,a,o,u=e.length,s=0;for(a=0;a<u;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<u&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(s):new Array(s),a=o=0;o<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<u&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,a,o=e.length,s=new Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)s[n++]=i;else if(4<(a=u[i]))s[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),r.applyFromCharCode(s)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,o),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+u[e[n]]>t?n:t}(t),s=t;o!==t.length&&(i.uint8array?(s=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(s=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(l,o),l.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),o=e("set-immediate-shim"),u=e("./external");function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function f(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return l.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=f;var h={};h.string={string:s,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},h.array={string:f,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},h.arraybuffer={string:function(e){return f(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},h.nodebuffer={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return h[r][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&a.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){o((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,o,s){return u.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new u.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var l=n.getTypeOf(t);return l?("arraybuffer"===l?t=n.transformTo("uint8array",t):"string"===l&&(s?t=i.decode(t):a&&!0!==o&&(t=function(e){return c(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):u.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),u=(e("./utf8"),e("./support"));function s(e){this.files=[],this.loadOptions=e}s.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=u.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=s},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),u=e("./utf8"),s=e("./compressions"),c=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t].magic===e)return s[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:u.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:u.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),u=e("./compressedObject"),s=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof u&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof s?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)r.prototype[c[f]]=l;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(l),u=e.document.createTextNode("");o.observe(u,{characterData:!0}),n=function(){u.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var s=new e.MessageChannel;s.port1.onmessage=l,n=function(){s.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var a={},o=["REJECTED"],u=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return a.reject(e,r)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=p((function(){t(i,r)}));"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===u||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==s?f(n,this.state===u?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){a.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=u,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),u=0,s=-1,c=new this(i);++s<n;)l(e[s],s);return c;function l(e,i){t.resolve(e).then((function(e){o[i]=e,++u!==n||r||(r=!0,a.resolve(c,o))}),(function(e){r||(r=!0,a.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o,u=-1,s=new this(i);++u<n;)o=e[u],t.resolve(o).then((function(e){r||(r=!0,a.resolve(s,e))}),(function(e){r||(r=!0,a.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),u=e("./zlib/zstream"),s=Object.prototype.toString,c=0,l=-1,f=0,d=8;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({level:l,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(o[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(e,t){var n,o,u=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?u.input=a.string2buf(e):"[object ArrayBuffer]"===s.call(e)?u.input=new Uint8Array(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new i.Buf8(l),u.next_out=0,u.avail_out=l),1!==(n=r.deflate(u,o))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==u.avail_out&&(0!==u.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(u.output,u.next_out))):this.onData(i.shrinkBuf(u.output,u.next_out)))}while((0<u.avail_in||0===u.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),!(u.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),u=e("./zlib/messages"),s=e("./zlib/zstream"),c=e("./zlib/gzheader"),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(u[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}f.prototype.push=function(e,t){var n,u,s,c,f,d,h=this.strm,p=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;u=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?h.input=a.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&v&&(d="string"==typeof v?a.string2buf(v):"[object ArrayBuffer]"===l.call(v)?new Uint8Array(v):v,n=r.inflateSetDictionary(this.strm,d)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==o.Z_STREAM_END&&(0!==h.avail_in||u!==o.Z_FINISH&&u!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(s=a.utf8border(h.output,h.next_out),c=h.next_out-s,f=a.buf2string(h.output,s),h.next_out=c,h.avail_out=p-c,c&&i.arraySet(h.output,h.output,s,c,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(u=o.Z_FINISH),u===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):u!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(h.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new r.Buf8(256),u=0;u<256;u++)o[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function s(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,u=e.length,s=0;for(a=0;a<u;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<u&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(s),a=o=0;o<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<u&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return s(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,u=t||e.length,c=new Array(2*u);for(n=r=0;n<u;)if((i=e[n++])<128)c[r++]=i;else if(4<(a=o[i]))c[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&n<u;)i=i<<6|63&e[n++],a--;1<a?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return s(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+t[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var u=i;u<o;u++)e=e>>>8^a[255&(e^t[u])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),u=e("./crc32"),s=e("./messages"),c=0,l=4,f=0,d=-2,h=-1,p=4,v=2,m=8,g=9,y=286,b=30,x=19,w=2*y+1,_=15,k=3,E=258,O=E+k+1,S=42,A=113,C=1,D=2,j=3,T=4;function F(e,t){return e.msg=s[t],t}function P(e){return(e<<1)-(4<e?9:0)}function M(e){for(var t=e.length;0<=--t;)e[t]=0}function N(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function R(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,N(e.strm)}function I(e,t){e.pending_buf[e.pending++]=t}function B(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function z(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,u=e.nice_match,s=e.strstart>e.w_size-O?e.strstart-(e.w_size-O):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+E,h=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(i>>=2),u>e.lookahead&&(u=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===h&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<d);if(r=E-(d-a),a=d-E,o<r){if(e.match_start=t,u<=(o=r))break;h=c[a+o-1],p=c[a+o]}}}while((t=f[t&l])>s&&0!=--i);return o<=e.lookahead?o:e.lookahead}function L(e){var t,n,r,a,s,c,l,f,d,h,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-O)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);a+=p}if(0===e.strm.avail_in)break;if(c=e.strm,l=e.window,f=e.strstart+e.lookahead,h=void 0,(d=a)<(h=c.avail_in)&&(h=d),n=0===h?0:(c.avail_in-=h,i.arraySet(l,c.input,c.next_in,h,f),1===c.state.wrap?c.adler=o(c.adler,l,h,f):2===c.state.wrap&&(c.adler=u(c.adler,l,h,f)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=k)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+k-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<O&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<O){if(L(e),e.lookahead<O&&t===c)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-O&&(e.match_length=z(e,n)),e.match_length>=k)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(R(e,!1),0===e.strm.avail_out))return C}return e.insert=e.strstart<k-1?e.strstart:k-1,t===l?(R(e,!0),0===e.strm.avail_out?j:T):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?C:D}function q(e,t){for(var n,r,i;;){if(e.lookahead<O){if(L(e),e.lookahead<O&&t===c)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-O&&(e.match_length=z(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-k,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(R(e,!1),0===e.strm.avail_out))return C}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&R(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return C}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===l?(R(e,!0),0===e.strm.avail_out?j:T):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?C:D}function W(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*w),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*x+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(_+1),this.heap=new i.Buf16(2*y+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=v,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?S:A,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),f):F(e,d)}function V(e){var t=$(e);return t===f&&function(e){e.window_size=2*e.w_size,M(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function G(e,t,n,r,a,o){if(!e)return d;var u=1;if(t===h&&(t=6),r<0?(u=0,r=-r):15<r&&(u=2,r-=16),a<1||g<a||n!==m||r<8||15<r||t<0||9<t||o<0||p<o)return F(e,d);8===r&&(r=9);var s=new H;return(e.state=s).strm=e,s.wrap=u,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+k-1)/k),s.window=new i.Buf8(2*s.w_size),s.head=new i.Buf16(s.hash_size),s.prev=new i.Buf16(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new i.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,V(e)}r=[new W(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(L(e),0===e.lookahead&&t===c)return C;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,R(e,!1),0===e.strm.avail_out))return C;if(e.strstart-e.block_start>=e.w_size-O&&(R(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===l?(R(e,!0),0===e.strm.avail_out?j:T):(e.strstart>e.block_start&&(R(e,!1),e.strm.avail_out),C)})),new W(4,4,8,4,U),new W(4,5,16,8,U),new W(4,6,32,32,U),new W(4,4,16,16,q),new W(8,16,32,32,q),new W(8,16,128,128,q),new W(8,32,128,256,q),new W(32,128,258,1024,q),new W(32,258,258,4096,q)],n.deflateInit=function(e,t){return G(e,t,m,15,8,0)},n.deflateInit2=G,n.deflateReset=V,n.deflateResetKeep=$,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,f):d},n.deflate=function(e,t){var n,i,o,s;if(!e||!e.state||5<t||t<0)return e?F(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==l)return F(e,0===e.avail_out?-5:d);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===S)if(2===i.wrap)e.adler=0,I(i,31),I(i,139),I(i,8),i.gzhead?(I(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),I(i,255&i.gzhead.time),I(i,i.gzhead.time>>8&255),I(i,i.gzhead.time>>16&255),I(i,i.gzhead.time>>24&255),I(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),I(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(I(i,255&i.gzhead.extra.length),I(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=u(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(I(i,0),I(i,0),I(i,0),I(i,0),I(i,0),I(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),I(i,3),i.status=A);else{var h=m+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=A,B(i,h),0!==i.strstart&&(B(i,e.adler>>>16),B(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),N(e),o=i.pending,i.pending!==i.pending_buf_size));)I(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),N(e),o=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,I(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),N(e),o=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,I(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),0===s&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&N(e),i.pending+2<=i.pending_buf_size&&(I(i,255&e.adler),I(i,e.adler>>8&255),e.adler=0,i.status=A)):i.status=A),0!==i.pending){if(N(e),0===e.avail_out)return i.last_flush=-1,f}else if(0===e.avail_in&&P(t)<=P(n)&&t!==l)return F(e,-5);if(666===i.status&&0!==e.avail_in)return F(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(L(e),0===e.lookahead)){if(t===c)return C;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(R(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===l?(R(e,!0),0===e.strm.avail_out?j:T):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?C:D}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,u=e.window;;){if(e.lookahead<=E){if(L(e),e.lookahead<=E&&t===c)return C;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(r=u[i=e.strstart-1])===u[++i]&&r===u[++i]&&r===u[++i]){o=e.strstart+E;do{}while(r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&i<o);e.match_length=E-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=a._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(R(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===l?(R(e,!0),0===e.strm.avail_out?j:T):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?C:D}(i,t):r[i.level].func(i,t);if(p!==j&&p!==T||(i.status=666),p===C||p===j)return 0===e.avail_out&&(i.last_flush=-1),f;if(p===D&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(M(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),N(e),0===e.avail_out))return i.last_flush=-1,f}return t!==l?f:i.wrap<=0?1:(2===i.wrap?(I(i,255&e.adler),I(i,e.adler>>8&255),I(i,e.adler>>16&255),I(i,e.adler>>24&255),I(i,255&e.total_in),I(i,e.total_in>>8&255),I(i,e.total_in>>16&255),I(i,e.total_in>>24&255)):(B(i,e.adler>>>16),B(i,65535&e.adler)),N(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?f:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==S&&69!==t&&73!==t&&91!==t&&103!==t&&t!==A&&666!==t?F(e,d):(e.state=null,t===A?F(e,-3):f):d},n.deflateSetDictionary=function(e,t){var n,r,a,u,s,c,l,h,p=t.length;if(!e||!e.state)return d;if(2===(u=(n=e.state).wrap)||1===u&&n.status!==S||n.lookahead)return d;for(1===u&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===u&&(M(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=p,e.next_in=0,e.input=t,L(n);n.lookahead>=k;){for(r=n.strstart,a=n.lookahead-(k-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--a;);n.strstart=r,n.lookahead=k-1,L(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,n.wrap=u,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y,b,x,w,_,k,E,O,S;n=e.state,r=e.next_in,O=e.input,i=r+(e.avail_in-5),a=e.next_out,S=e.output,o=a-(t-e.avail_out),u=a+(e.avail_out-257),s=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,d=n.window,h=n.hold,p=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=O[r++]<<p,p+=8,h+=O[r++]<<p,p+=8),b=v[h&g];t:for(;;){if(h>>>=x=b>>>24,p-=x,0===(x=b>>>16&255))S[a++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=v[(65535&b)+(h&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(x&=15)&&(p<x&&(h+=O[r++]<<p,p+=8),w+=h&(1<<x)-1,h>>>=x,p-=x),p<15&&(h+=O[r++]<<p,p+=8,h+=O[r++]<<p,p+=8),b=m[h&y];n:for(;;){if(h>>>=x=b>>>24,p-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=m[(65535&b)+(h&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,p<(x&=15)&&(h+=O[r++]<<p,(p+=8)<x&&(h+=O[r++]<<p,p+=8)),s<(_+=h&(1<<x)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=x,p-=x,(x=a-o)<_){if(l<(x=_-x)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=d,(k=0)===f){if(k+=c-x,x<w){for(w-=x;S[a++]=d[k++],--x;);k=a-_,E=S}}else if(f<x){if(k+=c+f-x,(x-=f)<w){for(w-=x;S[a++]=d[k++],--x;);if(k=0,f<w){for(w-=x=f;S[a++]=d[k++],--x;);k=a-_,E=S}}}else if(k+=f-x,x<w){for(w-=x;S[a++]=d[k++],--x;);k=a-_,E=S}for(;2<w;)S[a++]=E[k++],S[a++]=E[k++],S[a++]=E[k++],w-=3;w&&(S[a++]=E[k++],1<w&&(S[a++]=E[k++]))}else{for(k=a-_;S[a++]=S[k++],S[a++]=S[k++],S[a++]=S[k++],2<(w-=3););w&&(S[a++]=S[k++],1<w&&(S[a++]=S[k++]))}break}}break}}while(r<i&&a<u);r-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<u?u-a+257:257-(a-u),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),o=e("./inffast"),u=e("./inftrees"),s=1,c=2,l=0,f=-2,d=1,h=852,p=592;function v(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,l):f}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):f}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?f:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):f}function x(e,t){var n,r;return e?(r=new m,(e.state=r).window=null,(n=b(e,t))!==l&&(e.state=null),n):f}var w,_,k=!0;function E(e){if(k){var t;for(w=new r.Buf32(512),_=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(u(s,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;u(c,e.lens,0,32,_,0,e.work,{bits:5}),k=!1}e.lencode=w,e.lenbits=9,e.distcode=_,e.distbits=5}function O(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=g,n.inflateInit=function(e){return x(e,15)},n.inflateInit2=x,n.inflate=function(e,t){var n,h,p,m,g,y,b,x,w,_,k,S,A,C,D,j,T,F,P,M,N,R,I,B,z=0,L=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return f;12===(n=e.state).mode&&(n.mode=13),g=e.next_out,p=e.output,b=e.avail_out,m=e.next_in,h=e.input,y=e.avail_in,x=n.hold,w=n.bits,_=y,k=b,R=l;e:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(2&n.wrap&&35615===x){L[n.check=0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0),w=x=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",n.mode=30;break}if(w-=4,N=8+(15&(x>>>=4)),0===n.wbits)n.wbits=N;else if(N>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<N,e.adler=n.check=1,n.mode=512&x?10:12,w=x=0;break;case 2:for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(n.flags=x,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=x>>8&1),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0,n.mode=3;case 3:for(;w<32;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.head&&(n.head.time=x),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,L[2]=x>>>16&255,L[3]=x>>>24&255,n.check=a(n.check,L,4,0)),w=x=0,n.mode=4;case 4:for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.head&&(n.head.xflags=255&x,n.head.os=x>>8),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.length=x,n.head&&(n.head.extra_len=x),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(S=n.length)&&(S=y),S&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,m,S,N)),512&n.flags&&(n.check=a(n.check,h,S,m)),y-=S,m+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(S=0;N=h[m+S++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N)),N&&S<y;);if(512&n.flags&&(n.check=a(n.check,h,S,m)),y-=S,m+=S,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(S=0;N=h[m+S++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N)),N&&S<y;);if(512&n.flags&&(n.check=a(n.check,h,S,m)),y-=S,m+=S,N)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(x!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}w=x=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;w<32;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}e.adler=n.check=v(x),w=x=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){x>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}switch(n.last=1&x,w-=1,3&(x>>>=1)){case 0:n.mode=14;break;case 1:if(E(n),n.mode=20,6!==t)break;x>>>=2,w-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}x>>>=2,w-=2;break;case 14:for(x>>>=7&w,w-=7&w;w<32;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&x,w=x=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(y<S&&(S=y),b<S&&(S=b),0===S)break e;r.arraySet(p,h,m,S,g),y-=S,m+=S,b-=S,g+=S,n.length-=S;break}n.mode=12;break;case 17:for(;w<14;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(n.nlen=257+(31&x),x>>>=5,w-=5,n.ndist=1+(31&x),x>>>=5,w-=5,n.ncode=4+(15&x),x>>>=4,w-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.lens[U[n.have++]]=7&x,x>>>=3,w-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},R=u(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;j=(z=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,T=65535&z,!((D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(T<16)x>>>=D,w-=D,n.lens[n.have++]=T;else{if(16===T){for(B=D+2;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(x>>>=D,w-=D,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}N=n.lens[n.have-1],S=3+(3&x),x>>>=2,w-=2}else if(17===T){for(B=D+3;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}w-=D,N=0,S=3+(7&(x>>>=D)),x>>>=3,w-=3}else{for(B=D+7;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}w-=D,N=0,S=11+(127&(x>>>=D)),x>>>=7,w-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;S--;)n.lens[n.have++]=N}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},R=u(s,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},R=u(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=b){e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,o(e,k),g=e.next_out,p=e.output,b=e.avail_out,m=e.next_in,h=e.input,y=e.avail_in,x=n.hold,w=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;j=(z=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,T=65535&z,!((D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(j&&0==(240&j)){for(F=D,P=j,M=T;j=(z=n.lencode[M+((x&(1<<F+P)-1)>>F)])>>>16&255,T=65535&z,!(F+(D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}x>>>=F,w-=F,n.back+=F}if(x>>>=D,w-=D,n.back+=D,n.length=T,0===j){n.mode=26;break}if(32&j){n.back=-1,n.mode=12;break}if(64&j){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&j,n.mode=22;case 22:if(n.extra){for(B=n.extra;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.length+=x&(1<<n.extra)-1,x>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;j=(z=n.distcode[x&(1<<n.distbits)-1])>>>16&255,T=65535&z,!((D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(0==(240&j)){for(F=D,P=j,M=T;j=(z=n.distcode[M+((x&(1<<F+P)-1)>>F)])>>>16&255,T=65535&z,!(F+(D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}x>>>=F,w-=F,n.back+=F}if(x>>>=D,w-=D,n.back+=D,64&j){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&j,n.mode=24;case 24:if(n.extra){for(B=n.extra;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.offset+=x&(1<<n.extra)-1,x>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(S=k-b,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}A=S>n.wnext?(S-=n.wnext,n.wsize-S):n.wnext-S,S>n.length&&(S=n.length),C=n.window}else C=p,A=g-n.offset,S=n.length;for(b<S&&(S=b),b-=S,n.length-=S;p[g++]=C[A++],--S;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;p[g++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===y)break e;y--,x|=h[m++]<<w,w+=8}if(k-=b,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?a(n.check,p,k,g-k):i(n.check,p,k,g-k)),k=b,(n.flags?x:v(x))!==n.check){e.msg="incorrect data check",n.mode=30;break}w=x=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(x!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}w=x=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return f}return e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&O(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,k-=e.avail_out,e.total_in+=_,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?a(n.check,p,k,e.next_out-k):i(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==_&&0===k||4===t)&&R===l&&(R=-5),R)},n.inflateEnd=function(e){if(!e||!e.state)return f;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?f:((n.head=t).done=!1,l):f},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?f:11===n.mode&&i(1,t,r,0)!==n.check?-3:O(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,l):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,s,c,l,f,d){var h,p,v,m,g,y,b,x,w,_=d.bits,k=0,E=0,O=0,S=0,A=0,C=0,D=0,j=0,T=0,F=0,P=null,M=0,N=new r.Buf16(16),R=new r.Buf16(16),I=null,B=0;for(k=0;k<=15;k++)N[k]=0;for(E=0;E<s;E++)N[t[n+E]]++;for(A=_,S=15;1<=S&&0===N[S];S--);if(S<A&&(A=S),0===S)return c[l++]=20971520,c[l++]=20971520,d.bits=1,0;for(O=1;O<S&&0===N[O];O++);for(A<O&&(A=O),k=j=1;k<=15;k++)if(j<<=1,(j-=N[k])<0)return-1;if(0<j&&(0===e||1!==S))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+N[k];for(E=0;E<s;E++)0!==t[n+E]&&(f[R[t[n+E]]++]=E);if(y=0===e?(P=I=f,19):1===e?(P=i,M-=257,I=a,B-=257,256):(P=o,I=u,-1),k=O,g=l,D=E=F=0,v=-1,m=(T=1<<(C=A))-1,1===e&&852<T||2===e&&592<T)return 1;for(;;){for(b=k-D,w=f[E]<y?(x=0,f[E]):f[E]>y?(x=I[B+f[E]],P[M+f[E]]):(x=96,0),h=1<<k-D,O=p=1<<C;c[g+(F>>D)+(p-=h)]=b<<24|x<<16|w|0,0!==p;);for(h=1<<k-1;F&h;)h>>=1;if(0!==h?(F&=h-1,F+=h):F=0,E++,0==--N[k]){if(k===S)break;k=t[n+f[E]]}if(A<k&&(F&m)!==v){for(0===D&&(D=A),g+=O,j=1<<(C=k-D);C+D<S&&!((j-=N[C+D])<=0);)C++,j<<=1;if(T+=1<<C,1===e&&852<T||2===e&&592<T)return 1;c[v=F&m]=A<<24|C<<16|g-l|0}}return 0!==F&&(c[g+F]=k-D<<24|64<<16|0),d.bits=A,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,a=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var u=0,s=29,c=256,l=c+1+s,f=30,d=19,h=2*l+1,p=15,v=16,m=7,g=256,y=16,b=17,x=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(l+2));o(O);var S=new Array(2*f);o(S);var A=new Array(512);o(A);var C=new Array(256);o(C);var D=new Array(s);o(D);var j,T,F,P=new Array(f);function M(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function N(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function R(e){return e<256?A[e]:A[256+(e>>>7)]}function I(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,n){e.bi_valid>v-n?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>v-e.bi_valid,e.bi_valid+=n-v):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function z(e,t,n){B(e,n[2*t],n[2*t+1])}function L(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function U(e,t,n){var r,i,a=new Array(p+1),o=0;for(r=1;r<=p;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var u=e[2*i+1];0!==u&&(e[2*i]=L(a[u]++,u))}}function q(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function $(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function V(e,t,n){var r,i,a,o,u=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?z(e,i,t):(z(e,(a=C[i])+c+1,t),0!==(o=w[a])&&B(e,i-=D[a],o),z(e,a=R(--r),n),0!==(o=_[a])&&B(e,r-=P[a],o)),u<e.last_lit;);z(e,g,t)}function G(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,u=t.stat_desc.has_stree,s=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<s;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,u&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)$(e,a,n);for(i=s;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,$(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,u,s=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=p;a++)e.bl_count[a]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)m<(a=s[2*s[2*(r=e.heap[n])+1]+1]+1)&&(a=m,g++),s[2*r+1]=a,c<r||(e.bl_count[a]++,o=0,v<=r&&(o=d[r-v]),u=s[2*r],e.opt_len+=u*(a+o),f&&(e.static_len+=u*(l[2*r+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(a=m;0!==a;a--)for(r=e.bl_count[a];0!==r;)c<(i=e.heap[--n])||(s[2*i+1]!==a&&(e.opt_len+=(a-s[2*i+1])*s[2*i],s[2*i+1]=a),r--)}}(e,t),U(a,c,e.bl_count)}function Y(e,t,n){var r,i,a=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++u<s&&i===o||(u<c?e.bl_tree[2*i]+=u:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):u<=10?e.bl_tree[2*b]++:e.bl_tree[2*x]++,a=i,c=(u=0)===o?(s=138,3):i===o?(s=6,3):(s=7,4))}function K(e,t,n){var r,i,a=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++u<s&&i===o)){if(u<c)for(;z(e,i,e.bl_tree),0!=--u;);else 0!==i?(i!==a&&(z(e,i,e.bl_tree),u--),z(e,y,e.bl_tree),B(e,u-3,2)):u<=10?(z(e,b,e.bl_tree),B(e,u-3,3)):(z(e,x,e.bl_tree),B(e,u-11,7));a=i,c=(u=0)===o?(s=138,3):i===o?(s=6,3):(s=7,4)}}o(P);var X=!1;function Q(e,t,n,i){B(e,(u<<1)+(i?1:0),3),function(e,t,n,i){W(e),i&&(I(e,n),I(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){X||(function(){var e,t,n,r,i,a=new Array(p+1);for(r=n=0;r<s-1;r++)for(D[r]=n,e=0;e<1<<w[r];e++)C[n++]=r;for(C[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,e=0;e<1<<_[r];e++)A[i++]=r;for(i>>=7;r<f;r++)for(P[r]=i<<7,e=0;e<1<<_[r]-7;e++)A[256+i++]=r;for(t=0;t<=p;t++)a[t]=0;for(e=0;e<=143;)O[2*e+1]=8,e++,a[8]++;for(;e<=255;)O[2*e+1]=9,e++,a[9]++;for(;e<=279;)O[2*e+1]=7,e++,a[7]++;for(;e<=287;)O[2*e+1]=8,e++,a[8]++;for(U(O,l+1,a),e=0;e<f;e++)S[2*e+1]=5,S[2*e]=L(e,5);j=new M(O,w,c+1,l,p),T=new M(S,_,0,f,p),F=new M(new Array(0),k,0,d,m)}(),X=!0),e.l_desc=new N(e.dyn_ltree,j),e.d_desc=new N(e.dyn_dtree,T),e.bl_desc=new N(e.bl_tree,F),e.bi_buf=0,e.bi_valid=0,q(e)},n._tr_stored_block=Q,n._tr_flush_block=function(e,t,n,r){var o,u,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return a;return i}(e)),G(e,e.l_desc),G(e,e.d_desc),s=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(u=e.static_len+3+7>>>3)<=o&&(o=u)):o=u=n+5,n+4<=o&&-1!==t?Q(e,t,n,r):4===e.strategy||u===o?(B(e,2+(r?1:0),3),V(e,O,S)):(B(e,4+(r?1:0),3),function(e,t,n,r){var i;for(B(e,t-257,5),B(e,n-1,5),B(e,r-4,4),i=0;i<r;i++)B(e,e.bl_tree[2*E[i]+1],3);K(e,e.dyn_ltree,t-1),K(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),V(e,e.dyn_ltree,e.dyn_dtree)),q(e),r&&W(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(C[n]+c+1)]++,e.dyn_dtree[2*R(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){B(e,2,3),z(e,g,O),function(e){16===e.bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},7854:function(e){"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var a=i+65;n[a]=[String.fromCharCode(a+32),String.fromCharCode(a)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},2366:function(e){"use strict";var t={};function n(e,r,i){var a,o,u,s,c,l="";for("string"!==typeof r&&(i=r,r=n.defaultChars),"undefined"===typeof i&&(i=!0),c=function(e){var n,r,i=t[e];if(i)return i;for(i=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)i[e.charCodeAt(n)]=e[n];return i}(r),a=0,o=e.length;a<o;a++)if(u=e.charCodeAt(a),i&&37===u&&a+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(a+1,a+3)))l+=e.slice(a,a+3),a+=2;else if(u<128)l+=c[u];else if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&a+1<o&&(s=e.charCodeAt(a+1))>=56320&&s<=57343){l+=encodeURIComponent(e[a]+e[a+1]),a++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[a]);return l}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},1025:function(e,t){var n,r,i;r=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),i={},a=0,o={parse:function(n,r){var u=(r=r||{}).dynamicTyping||!1;if(w(u)&&(r.dynamicTypingFunction=u,u={}),r.dynamicTyping=u,r.transform=!!w(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var s=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,u=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),s=new t.Worker(u);return s.onmessage=m,s.id=a++,i[s.id]=s}();return s.userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void s.postMessage({input:n,config:r,workerId:s.id})}var h=null;return o.NODE_STREAM_INPUT,"string"==typeof n?h=r.download?new c(r):new f(r):!0===n.readable&&w(n.read)&&w(n.on)?h=new d(r):(t.File&&n instanceof File||n instanceof Object)&&(h=new l(r)),h.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",a="\r\n",u='"',s=u+u,c=!1,l=null,f=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(u=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");l=t.columns}void 0!==t.escapeChar&&(s=t.escapeChar+u),"boolean"==typeof t.escapeFormulae&&(f=t.escapeFormulae)}}();var d=new RegExp(p(u),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(l||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var u=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(u&&r){for(var c=0;c<e.length;c++)0<c&&(o+=i),o+=v(e[c],c);0<t.length&&(o+=a)}for(var l=0;l<t.length;l++){var f=u?e.length:t[l].length,d=!1,h=u?0===Object.keys(t[l]).length:0===t[l].length;if(n&&!u&&(d="greedy"===n?""===t[l].join("").trim():1===t[l].length&&0===t[l][0].length),"greedy"===n&&u){for(var p=[],m=0;m<f;m++){var g=s?e[m]:m;p.push(t[l][g])}d=""===p.join("").trim()}if(!d){for(var y=0;y<f;y++){0<y&&!h&&(o+=i);var b=u&&s?e[y]:y;o+=v(t[l][b],y)}l<t.length-1&&(!n||0<f&&!h)&&(o+=a)}}return o}function v(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===f&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var r=e.toString().replace(d,s),a="boolean"==typeof n&&n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(r,o.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1);return a?u+r+u:r}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=v,o.ParserHandle=h,o.NetworkStreamer=c,o.FileStreamer=l,o.StringStreamer=f,o.ReadableStreamStreamer=d,t.jQuery){var u=t.jQuery;u.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==u(this).prop("tagName").toUpperCase()||"file"!==u(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:u.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,s,c=r[0];if(w(e.before)){var l=e.before(c.file,c.inputElem);if("object"==typeof l){if("abort"===l.action)return t="AbortError",n=c.file,i=c.inputElem,s=l.reason,void(w(e.error)&&e.error({name:t},n,i,s));if("skip"===l.action)return void a();"object"==typeof l.config&&(c.instanceConfig=u.extend(c.instanceConfig,l.config))}else if("skip"===l)return void a()}var f=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(f)&&f(e,c.file,c.inputElem),a()},o.parse(c.file,c.instanceConfig)}else w(e.complete)&&e.complete()}function a(){r.splice(0,1),i()}}}function s(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var u=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=u.meta.cursor;this._finished||(this._partialLine=a.substring(s-this._baseIndex),this._baseIndex=s),u&&u.data&&(this._rowCount+=u.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:u,workerId:o.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(u,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);u=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(u.data),this._completeResults.errors=this._completeResults.errors.concat(u.errors),this._completeResults.meta=u.meta),this._completed||!c||!w(this._config.complete)||u&&u.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||u&&u.meta.paused||this._nextChunk(),u}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),s.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function l(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),s.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var a=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;s.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){s.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=x((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=x((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=x((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=x((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,i=Math.pow(2,53),a=-i,u=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,s=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,c=this,l=0,f=0,d=!1,h=!1,m=[],g={data:[],errors:[],meta:{}};if(w(e.step)){var y=e.step;e.step=function(t){if(g=t,k())_();else{if(_(),0===g.data.length)return;l+=t.data.length,e.preview&&l>e.preview?n.abort():(g.data=g.data[0],y(g,c))}}}function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){if(g&&r&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<g.data.length;t++)x(g.data[t])&&g.data.splice(t--,1);return k()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;k()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),m.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var a=r,o=t[r];e.header&&(a=r>=m.length?"__parsed_extra":m[r]),e.transform&&(o=e.transform(o,a)),o=E(a,o),"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(o)):i[a]=o}return e.header&&(r>m.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+r,f+n):r<m.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+r,f+n)),i}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=m),f+=n,g}()}function k(){return e.header&&0===m.length}function E(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(u.test(e)){var t=parseFloat(e);if(a<t&&t<i)return!0}return!1}(n)?parseFloat(n):s.test(n)?new Date(n):""===n?null:n):n;var r}function O(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),g.errors.push(i)}this.parse=function(i,a,u){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),a=1<i.length&&i[0].length<r[0].length;if(1===r.length||a)return"\n";for(var o=0,u=0;u<r.length;u++)"\n"===r[u][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,s)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),g.meta.delimiter=e.delimiter);else{var c=function(t,n,r,i,a){var u,s,c,l;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var f=0;f<a.length;f++){var d=a[f],h=0,p=0,m=0;c=void 0;for(var g=new v({comments:i,delimiter:d,newline:n,preview:10}).parse(t),y=0;y<g.data.length;y++)if(r&&x(g.data[y]))m++;else{var b=g.data[y].length;p+=b,void 0!==c?0<b&&(h+=Math.abs(b-c),c=b):c=b}0<g.data.length&&(p/=g.data.length-m),(void 0===s||h<=s)&&(void 0===l||l<p)&&1.99<p&&(s=h,u=d,l=p)}return{successful:!!(e.delimiter=u),bestDelimiter:u}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),g.meta.delimiter=e.delimiter}var l=b(e);return e.preview&&e.header&&l.preview++,t=i,n=new v(l),g=n.parse(t,a,u),_(),d?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(d=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),g.meta.aborted=!0,w(e.complete)&&e.complete(g),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,a=e.step,u=e.preview,s=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,f=!1;this.parse=function(e,o,d){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,v=n.length,m=r.length,g=i.length,y=w(a),b=[],x=[],_=[],k=l=0;if(!e)return R();if(s||!1!==s&&-1===e.indexOf(t)){for(var E=e.split(r),O=0;O<E.length;O++){if(_=E[O],l+=_.length,O!==E.length-1)l+=r.length;else if(d)return R();if(!i||_.substring(0,g)!==i){if(y){if(b=[],F(_.split(n)),I(),f)return R()}else F(_.split(n));if(u&&u<=O)return b=b.slice(0,u),R(!0)}}return R()}for(var S=e.indexOf(n,l),A=e.indexOf(r,l),C=new RegExp(p(c)+p(t),"g"),D=e.indexOf(t,l);;)if(e[l]!==t)if(i&&0===_.length&&e.substring(l,l+g)===i){if(-1===A)return R();l=A+m,A=e.indexOf(r,l),S=e.indexOf(n,l)}else if(-1!==S&&(S<A||-1===A))_.push(e.substring(l,S)),l=S+v,S=e.indexOf(n,l);else{if(-1===A)break;if(_.push(e.substring(l,A)),N(A+m),y&&(I(),f))return R();if(u&&b.length>=u)return R(!0)}else for(D=l,l++;;){if(-1===(D=e.indexOf(t,D+1)))return d||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:l}),M();if(D===h-1)return M(e.substring(l,D).replace(C,t));if(t!==c||e[D+1]!==c){if(t===c||0===D||e[D-1]!==c){-1!==S&&S<D+1&&(S=e.indexOf(n,D+1)),-1!==A&&A<D+1&&(A=e.indexOf(r,D+1));var j=P(-1===A?S:Math.min(S,A));if(e[D+1+j]===n){_.push(e.substring(l,D).replace(C,t)),e[l=D+1+j+v]!==t&&(D=e.indexOf(t,l)),S=e.indexOf(n,l),A=e.indexOf(r,l);break}var T=P(A);if(e.substring(D+1+T,D+1+T+m)===r){if(_.push(e.substring(l,D).replace(C,t)),N(D+1+T+m),S=e.indexOf(n,l),D=e.indexOf(t,l),y&&(I(),f))return R();if(u&&b.length>=u)return R(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:l}),D++}}else D++}return M();function F(e){b.push(e),k=l}function P(t){var n=0;if(-1!==t){var r=e.substring(D+1,t);r&&""===r.trim()&&(n=r.length)}return n}function M(t){return d||(void 0===t&&(t=e.substring(l)),_.push(t),l=h,F(_),y&&I()),R()}function N(t){l=t,F(_),_=[],A=e.indexOf(r,l)}function R(e){return{data:b,errors:x,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!e,cursor:k+(o||0)}}}function I(){a(R()),b=[],x=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return l}}function m(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){r=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},a),!r);o++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&g(t.workerId,t.results)}function g(e,t){var n=i[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function x(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(s.prototype)).constructor=c,(l.prototype=Object.create(s.prototype)).constructor=l,(f.prototype=Object.create(f.prototype)).constructor=f,(d.prototype=Object.create(s.prototype)).constructor=d,o},void 0===(i="function"===typeof n?n.apply(t,r):n)||(e.exports=i)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,k=60106,E=60107,O=60108,S=60114,A=60109,C=60110,D=60112,j=60113,T=60120,F=60115,P=60116,M=60121,N=60128,R=60129,I=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;_=z("react.element"),k=z("react.portal"),E=z("react.fragment"),O=z("react.strict_mode"),S=z("react.profiler"),A=z("react.provider"),C=z("react.context"),D=z("react.forward_ref"),j=z("react.suspense"),T=z("react.suspense_list"),F=z("react.memo"),P=z("react.lazy"),M=z("react.block"),z("react.scope"),N=z("react.opaque.id"),R=z("react.debug_trace_mode"),I=z("react.offscreen"),B=z("react.legacy_hidden")}var L,U="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function W(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var H=!1;function $(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function V(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 22:return e=$(e.type._render,!1);case 1:return e=$(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case S:return"Profiler";case O:return"StrictMode";case j:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case F:return G(e.type);case M:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Oe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ce=null,De=null;function je(e){if(e=ri(e)){if("function"!==typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ae(e.stateNode,e.type,t))}}function Te(e){Ce?De?De.push(e):De=[e]:Ce=e}function Fe(){if(Ce){var e=Ce,t=De;if(De=Ce=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Pe(e,t){return e(t)}function Me(e,t,n,r,i){return e(t,n,r,i)}function Ne(){}var Re=Pe,Ie=!1,Be=!1;function ze(){null===Ce&&null===De||(Ne(),Fe())}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Ue=!1}function We(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,$e=null,Ve=!1,Ge=null,Ye={onError:function(e){He=!0,$e=e}};function Ke(e,t,n,r,i,a,o,u,s){He=!1,$e=null,We.apply(Ye,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Xe(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&yt(ut)&&(ut=null),null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Ot={},St={};function At(e){if(Ot[e])return Ot[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Ot[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=At("animationend"),Dt=At("animationiteration"),jt=At("animationstart"),Tt=At("transitionend"),Ft=new Map,Pt=new Map,Mt=["abort","abort",Ct,"animationEnd",Dt,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ft.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Rt=8;function It(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Rt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=It(s),i=Rt):0!==(u&=a)&&(r=It(u),i=Rt)}else 0!==(a=n&~o)?(r=It(a),i=Rt):0!==u&&(r=It(u),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(It(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Lt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Lt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Lt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Vt|0)|0},$t=Math.log,Vt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Kt=!0;function Xt(e,t,n,r){Ie||Ne();var i=Zt,a=Ie;Ie=!0;try{Me(i,e,t,n,r)}finally{(Ie=a)||ze()}}function Qt(e,t,n,r){Yt(Gt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Nr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Qe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Nr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=i({},dn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(mn),yn=sn(i({},mn,{dataTransfer:0})),bn=sn(i({},pn,{relatedTarget:0})),xn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),kn=sn(i({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},On={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return An}var Dn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?On[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=sn(Dn),Tn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(Mn),Rn=[9,13,27,32],In=f&&"CompositionEvent"in window,Bn=null;f&&"documentMode"in document&&(Bn=document.documentMode);var zn=f&&"TextEvent"in window&&!Bn,Ln=f&&(!In||Bn&&8<Bn&&11>=Bn),Un=String.fromCharCode(32),qn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Yn(e,t,n,r){Te(r),0<(t=Ir(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Xn=null;function Qn(e){Dr(e,0)}function Zn(e){if(Q(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",ar),Xn=Kn=null)}function ar(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];if(Yn(t,Xn,e,Se(e)),e=Qn,Ie)e(t);else{Ie=!0;try{Pe(e,t)}finally{Ie=!1,ze()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Kn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function sr(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==br||br!==Z(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Ir(xr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Mt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Or=0;Or<Er.length;Or++)Pt.set(Er[Or],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ke.apply(this,arguments),He){if(!He)throw Error(o(198));var l=$e;He=!1,$e=null,Ve||(Ve=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ve)throw e=Ge,Ve=!1,Ge=null,e}function jr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){e[Tr]||(e[Tr]=!0,u.forEach((function(t){Ar.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Mr(a,e,i,t),o.add(u))}function Mr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Qt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{Re(e,t,n)}finally{Be=!1,ze()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Ft.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=jn;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Fn;break;case Ct:case Dt:case jt:s=xn;break;case Tt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Le(p,d))&&l.push(Rr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=gn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ii(s),h=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,ni(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Br(h))p++;for(h=0,v=d;v;v=Br(v))h++;for(;0<p-h;)l=Br(l),p--;for(;0<h-p;)d=Br(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Br(l),d=Br(d)}l=null}else l=null;null!==s&&zr(o,u,s,l,!1),null!==c&&null!==f&&zr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Gn(u))if(er)m=cr;else{m=ur;var g=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Yn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ie(u,"number",u.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(br=g,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $n?Wn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&($n||"onCompositionStart"!==b?"onCompositionEnd"===b&&$n&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,$n=!0)),0<(g=Ir(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(qn=!0,Un);case"textInput":return(e=t.data)===Un&&qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!In&&Wn(e,t)?(e=rn(),nn=tn=en=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ir(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Dr(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Rr(e,a,i)),null!=(a=Le(e,t))&&r.push(Rr(e,a,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Le(n,a))&&o.unshift(Rr(n,s,u)):i||null!=(s=Le(n,a))&&o.push(Rr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Lr(){}var Ur=null,qr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Qr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Qr,Jr="__reactProps$"+Qr,ei="__reactContainer$"+Qr,ti="__reactEvents$"+Qr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Zr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Jr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var di={},hi=ci(di),pi=ci(!1),vi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(hi)}function bi(e,t,n){if(hi.current!==di)throw Error(o(168));fi(hi,t),fi(pi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,vi=hi.current,fi(hi,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),fi(hi,e)):li(pi),fi(pi,n)}var ki=null,Ei=null,Oi=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Di=a.unstable_requestPaint,ji=a.unstable_now,Ti=a.unstable_getCurrentPriorityLevel,Fi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Mi=a.unstable_NormalPriority,Ni=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Ii={},Bi=void 0!==Di?Di:function(){},zi=null,Li=null,Ui=!1,qi=ji(),Wi=1e4>qi?ji:function(){return ji()-qi};function Hi(){switch(Ti()){case Fi:return 99;case Pi:return 98;case Mi:return 97;case Ni:return 96;case Ri:return 95;default:throw Error(o(332))}}function $i(e){switch(e){case 99:return Fi;case 98:return Pi;case 97:return Mi;case 96:return Ni;case 95:return Ri;default:throw Error(o(332))}}function Vi(e,t){return e=$i(e),Oi(e,t)}function Gi(e,t,n){return e=$i(e),Si(e,t,n)}function Yi(){if(null!==Li){var e=Li;Li=null,Ai(e)}Ki()}function Ki(){if(!Ui&&null!==zi){Ui=!0;var e=0;try{var t=zi;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Si(Fi,Yi),n}finally{Ui=!1}}}var Xi=w.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),Ji=null,ea=null,ta=null;function na(){ta=ea=Ji=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Ji=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Io=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Ji)throw Error(o(308));ea=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=a.baseState,u=0,f=l=c=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break e;d=i({},d,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=d),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Uu|=u,e.lanes=u,e.memoizedState=d}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ds(),r=hs(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,a))}function ba(e,t,n){var r=!1,i=di,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:hi.current,i.context=mi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Oa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ka(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ys(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=ka(e,null,t),n.return=e,n;case k:return(t=Qs(t,e.mode,n)).return=e,t}if(_a(t)||q(t))return(t=Ys(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null}if(_a(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,c))&&(u=a(y,u,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=a(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ka(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Ys(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=ka(e,r,a),s.return=e,e=s)}return u(e);case k:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(_a(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Oa(!0),Aa=Oa(!1),Ca={},Da=ci(Ca),ja=ci(Ca),Ta=ci(Ca);function Fa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ta,t),fi(ja,e),fi(Da,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Da),fi(Da,t)}function Ma(){li(Da),li(ja),li(Ta)}function Na(e){Fa(Ta.current);var t=Fa(Da.current),n=pe(t,e.type);t!==n&&(fi(ja,e),fi(Da,n))}function Ra(e){ja.current===e&&(li(Da),li(ja))}var Ia=ci(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=null,La=null,Ua=!1;function qa(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ua){var t=La;if(t){var n=t;if(!Wa(e,t)){if(!(t=Yr(n.nextSibling))||!Wa(e,t))return e.flags=-1025&e.flags|2,Ua=!1,void(za=e);qa(za,n)}za=e,La=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Ua=!1,za=e}}function $a(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;za=e}function Va(e){if(e!==za)return!1;if(!Ua)return $a(e),Ua=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=La;t;)qa(e,t),t=Yr(t.nextSibling);if($a(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){La=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}La=null}}else La=za?Yr(e.stateNode.nextSibling):null;return!0}function Ga(){La=za=null,Ua=!1}var Ya=[];function Ka(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Xa=w.ReactCurrentDispatcher,Qa=w.ReactCurrentBatchConfig,Za=0,Ja=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Po:Mo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=No,e=n(r,i)}while(ro)}if(Xa.current=Fo,t=null!==eo&&null!==eo.next,Za=0,to=eo=Ja=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Ja.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Ja.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Ja.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Ja.lanes|=l,Uu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Io=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Io=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Ja;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=hs(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Ht(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hs(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=To.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=To.bind(null,Ja,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},uo().memoizedState=e}function bo(){return so().memoizedState}function xo(e,t,n,r){var i=uo();Ja.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Ja.flags|=e,i.memoizedState=go(1|t,n,a,r)}function _o(e,t){return xo(516,4,e,t)}function ko(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Oo.bind(null,t,e),n)}function Ao(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Do(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jo(e,t){var n=Hi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Qa.transition;Qa.transition=1;try{e(!1),t()}finally{Qa.transition=n}}))}function To(e,t,n){var r=ds(),i=hs(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Fo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,2,Oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=To.bind(null,Ja,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:Ao,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=jo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ua){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,go(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:Co,useContext:oa,useEffect:ko,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Do,useReducer:lo,useRef:bo,useState:function(){return lo(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[bo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},No={readContext:oa,useCallback:Co,useContext:oa,useEffect:ko,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Do,useReducer:fo,useRef:bo,useState:function(){return fo(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[bo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Io=!1;function Bo(e,t,n,r){t.child=null===e?Aa(t,null,n,r):Sa(t,e.child,n,r)}function zo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Io?(t.flags|=1,Bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Lo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||$s(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Uo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Vs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Uo(e,t,n,r,i,a){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Io=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Io=!0)}return Ho(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Bo(e,t,i,n),t.child}function Wo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=gi(n)?vi:hi.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Io?(t.flags|=1,Bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function $o(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ba(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xa(t,o,r,c),ua=!1;var d=t.memoizedState;o.state=d,ha(t,r,o,i),s=t.memoizedState,u!==r||d!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ya(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Qi(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=gi(n)?vi:hi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&xa(t,o,r,s),ua=!1,d=t.memoizedState,o.state=d,ha(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||pi.current||ua?("function"===typeof h&&(ma(t,n,h,r),p=t.memoizedState),(c=ua||ya(t,n,c,r,d,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){Wo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),au(e,t,a);r=t.stateNode,Ro.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Bo(e,t,u,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Pa(e,t.containerInfo)}var Yo,Ko,Xo,Qo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Ia.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ia,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,t.lanes=33554432,e):((n=Ks({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Qo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Jo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ks(t,i,0,null),n=Ys(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Vs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vs(o,u),null!==e?r=Vs(e,r):(r=Ys(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Bo(e,t,r.children,n),0!==(2&(r=Ia.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ia,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ua)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Ma(),li(pi),li(hi),Ka(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ra(t);var a=Fa(Ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Fa(Da.current),Va(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Zr]=t,r[Jr]=u,n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)jr(Sr[e],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":ee(r,u),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},jr("invalid",r);break;case"textarea":se(r,u),jr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&jr("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[Jr]=r,Yo(e,t),t.stateNode=e,c=Oe(n,r),n){case"dialog":jr("cancel",e),jr("close",e),a=r;break;case"iframe":case"object":case"embed":jr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)jr(Sr[a],e);a=r;break;case"source":jr("error",e),a=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),a=r;break;case"details":jr("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),jr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),jr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),jr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&jr("scroll",e):null!=f&&x(e,u,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Lr)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Fa(Ta.current),Fa(Da.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Ia),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ia.current)?0===Bu&&(Bu=3):(0!==Bu&&3!==Bu||(Bu=4),null===Pu||0===(134217727&Uu)&&0===(134217727&qu)||ys(Pu,Nu))),(r||n)&&(t.flags|=4),null);case 4:return Ma(),null===e&&Fr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ia),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Bu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ba(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ia,1&Ia.current|2),t.child}e=e.sibling}null!==r.tail&&Wi()>Vu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ba(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ua)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=Ia.current,fi(Ia,u?1&t|2:1&t),n):null;case 23:case 24:return ks(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ma(),li(pi),li(hi),Ka(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ra(e),null;case 13:return li(Ia),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ia),null;case 4:return Ma(),null;case 10:return ra(e),null;case 23:case 24:return ks(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Fa(Da.current);var o,u=null;switch(n){case"input":a=J(e,a),r=J(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Lr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&jr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===N?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Qu=r),lu(0,t)},n}function hu(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zu?Zu=new Set([this]):Zu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ls(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Is(n,e),Rs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function yu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bu(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(ki,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Is(t,n);else{r=t;try{i()}catch(a){Ls(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ls(t,a)}break;case 5:vu(t);break;case 4:Ou(e,t)}}function xu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ku(e,n,t):Eu(e,n,t)}function ku(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lr));else if(4!==r&&null!==(e=e.child))for(ku(e,t,n),e=e.sibling;null!==e;)ku(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Ou(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(bu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Oe(e,i),t=Oe(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?ye(n,s):x(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&($u=Wi(),yu(t.child,!0)),void Au(t);case 19:return void Au(t);case 23:case 24:return void yu(t,null!==t.memoizedState)}throw Error(o(163))}function Au(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Du=Math.ceil,ju=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Fu=0,Pu=null,Mu=null,Nu=0,Ru=0,Iu=ci(0),Bu=0,zu=null,Lu=0,Uu=0,qu=0,Wu=0,Hu=null,$u=0,Vu=1/0;function Gu(){Vu=Wi()+500}var Yu,Ku=null,Xu=!1,Qu=null,Zu=null,Ju=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function ds(){return 0!==(48&Fu)?Wi():-1!==us?us:us=Wi()}function hs(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===ss&&(ss=Lu),0!==Xi.transition){0!==cs&&(cs=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Fu)&&98===e?e=Lt(12,ss):e=Lt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;Wt(e,t,n),e===Pu&&(qu|=t,4===Bu&&ys(e,Nu));var r=Hi();1===t?0!==(8&Fu)&&0===(48&Fu)?bs(e):(ms(e,n),0===Fu&&(Gu(),Yi())):(0===(4&Fu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,It(c);var f=Rt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Bt(e,e===Pu?Nu:0),t=Rt,0===r)null!==n&&(n!==Ii&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ii&&Ai(n)}15===t?(n=bs.bind(null,e),null===zi?(zi=[n],Li=Si(Fi,Ki)):zi.push(n),n=Ii):14===t?n=Gi(99,bs.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gs(e){if(us=-1,cs=ss=0,0!==(48&Fu))throw Error(o(327));var t=e.callbackNode;if(Ns()&&e.callbackNode!==t)return null;var n=Bt(e,e===Pu?Nu:0);if(0===n)return null;var r=n,i=Fu;Fu|=16;var a=Ss();for(Pu===e&&Nu===r||(Gu(),Es(e,r));;)try{Ds();break}catch(s){Os(e,s)}if(na(),ju.current=a,Fu=i,null!==Mu?r=0:(Pu=null,Nu=0,r=Bu),0!==(Lu&qu))Es(e,0);else if(0!==r){if(2===r&&(Fu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=zt(e))&&(r=As(e,n))),1===r)throw t=zu,Es(e,0),ys(e,n),ms(e,Wi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Fs(e);break;case 3:if(ys(e,n),(62914560&n)===n&&10<(r=$u+500-Wi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ds(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(Fs.bind(null,e),r);break}Fs(e);break;case 4:if(ys(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Ht(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Du(n/1960))-n)){e.timeoutHandle=$r(Fs.bind(null,e),n);break}Fs(e);break;default:throw Error(o(329))}}return ms(e,Wi()),e.callbackNode===t?gs.bind(null,e):null}function ys(e,t){for(t&=~Wu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function bs(e){if(0!==(48&Fu))throw Error(o(327));if(Ns(),e===Pu&&0!==(e.expiredLanes&Nu)){var t=Nu,n=As(e,t);0!==(Lu&qu)&&(n=As(e,t=Bt(e,t)))}else n=As(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Fu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=zt(e))&&(n=As(e,t))),1===n)throw n=zu,Es(e,0),ys(e,t),ms(e,Wi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e),ms(e,Wi()),null}function xs(e,t){var n=Fu;Fu|=1;try{return e(t)}finally{0===(Fu=n)&&(Gu(),Yi())}}function ws(e,t){var n=Fu;Fu&=-2,Fu|=8;try{return e(t)}finally{0===(Fu=n)&&(Gu(),Yi())}}function _s(e,t){fi(Iu,Ru),Ru|=t,Lu|=t}function ks(){Ru=Iu.current,li(Iu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Mu)for(n=Mu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Ma(),li(pi),li(hi),Ka();break;case 5:Ra(r);break;case 4:Ma();break;case 13:case 19:li(Ia);break;case 10:ra(r);break;case 23:case 24:ks()}n=n.return}Pu=e,Mu=Vs(e.current,null),Nu=Ru=Lu=t,Bu=0,zu=null,Wu=qu=Uu=0}function Os(e,t){for(;;){var n=Mu;try{if(na(),Xa.current=Fo,no){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=Ja=null,ro=!1,Tu.current=null,null===n||null===n.return){Bu=1,zu=t,Mu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Nu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ia.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=la(-1,1);y.tag=2,fa(u,y)}u.lanes|=1;break e}s=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new fu,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var x=Us.bind(null,a,c,u);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bu&&(Bu=2),s=cu(s,u),d=o;do{switch(d.tag){case 3:a=s,d.flags|=4096,t&=-t,d.lanes|=t,da(d,du(0,a,t));break e;case 1:a=s;var w=d.type,_=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Zu||!Zu.has(_)))){d.flags|=4096,t&=-t,d.lanes|=t,da(d,hu(d,a,t));break e}}d=d.return}while(null!==d)}Ts(n)}catch(k){t=k,Mu===n&&null!==n&&(Mu=n=n.return);continue}break}}function Ss(){var e=ju.current;return ju.current=Fo,null===e?Fo:e}function As(e,t){var n=Fu;Fu|=16;var r=Ss();for(Pu===e&&Nu===t||Es(e,t);;)try{Cs();break}catch(i){Os(e,i)}if(na(),Fu=n,ju.current=r,null!==Mu)throw Error(o(261));return Pu=null,Nu=0,Bu}function Cs(){for(;null!==Mu;)js(Mu)}function Ds(){for(;null!==Mu&&!Ci();)js(Mu)}function js(e){var t=Yu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?Ts(e):Mu=t,Tu.current=null}function Ts(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Ru)))return void(Mu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ru)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Mu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Mu=t);Mu=t=e}while(null!==t);0===Bu&&(Bu=5)}function Fs(e){var t=Hi();return Vi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ns()}while(null!==es);if(0!==(48&Fu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Mu=Pu=null,Nu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Fu,Fu|=32,Tu.current=null,Ur=Kt,gr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=u,g=null;t:for(;;){for(var y;m!==s||0!==a&&3!==m.nodeType||(d=f+a),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===u)break t;if(g===s&&++p===a&&(d=f),g===c&&++v===l&&(h=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Kt=!1,ls=null,fs=!1,Ku=r;do{try{Ms()}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);ls=null,Ku=r;do{try{for(u=e;null!==Ku;){var b=Ku.flags;if(16&b&&ye(Ku.stateNode,""),128&b){var x=Ku.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:_u(Ku),Ku.flags&=-3;break;case 6:_u(Ku),Ku.flags&=-3,Su(Ku.alternate,Ku);break;case 1024:Ku.flags&=-1025;break;case 1028:Ku.flags&=-1025,Su(Ku.alternate,Ku);break;case 4:Su(Ku.alternate,Ku);break;case 8:Ou(u,s=Ku);var _=s.alternate;xu(s),null!==_&&xu(_)}Ku=Ku.nextEffect}}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);if(w=qr,x=mr(),b=w.focusedElem,u=w.selectionRange,x!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==u&&gr(b)&&(x=u.start,void 0===(w=u.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),s=b.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=pr(b,_),a=pr(b,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((x=x.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(x),w.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Ur,qr=Ur=null,e.current=n,Ku=r;do{try{for(b=e;null!==Ku;){var k=Ku.flags;if(36&k&&gu(b,Ku.alternate,Ku),128&k){x=void 0;var E=Ku.ref;if(null!==E){var O=Ku.stateNode;Ku.tag,x=O,"function"===typeof E?E(x):E.current=x}}Ku=Ku.nextEffect}}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);Ku=null,Bi(),Fu=i}else e.current=n;if(Ju)Ju=!1,es=e,ts=t;else for(Ku=r;null!==Ku;)t=Ku.nextEffect,Ku.nextEffect=null,8&Ku.flags&&((k=Ku).sibling=null,k.stateNode=null),Ku=t;if(0===(r=e.pendingLanes)&&(Zu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,Wi()),Xu)throw Xu=!1,e=Qu,Qu=null,e;return 0!==(8&Fu)||Yi(),null}function Ms(){for(;null!==Ku;){var e=Ku.alternate;fs||null===ls||(0!==(8&Ku.flags)?et(Ku,ls)&&(fs=!0):13===Ku.tag&&Cu(e,Ku)&&et(Ku,ls)&&(fs=!0));var t=Ku.flags;0!==(256&t)&&mu(e,Ku),0===(512&t)||Ju||(Ju=!0,Gi(97,(function(){return Ns(),null}))),Ku=Ku.nextEffect}}function Ns(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Vi(e,Bs)}return!1}function Rs(e,t){ns.push(t,e),Ju||(Ju=!0,Gi(97,(function(){return Ns(),null})))}function Is(e,t){rs.push(t,e),Ju||(Ju=!0,Gi(97,(function(){return Ns(),null})))}function Bs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Fu))throw Error(o(331));var t=Fu;Fu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Ls(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Ls(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Fu=t,Yi(),!0}function zs(e,t,n){fa(e,t=du(0,t=cu(n,t),1)),t=ds(),null!==(e=vs(e,1))&&(Wt(e,1,t),ms(e,t))}function Ls(e,t){if(3===e.tag)zs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r))){var i=hu(n,e=cu(t,e),1);if(fa(n,i),i=ds(),null!==(n=vs(n,1)))Wt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Us(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ds(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Bu||3===Bu&&(62914560&Nu)===Nu&&500>Wi()-$u?Es(e,0):Wu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===ss&&(ss=Lu),0===(t=Ut(62914560&~ss))&&(t=4194304))),n=ds(),null!==(e=vs(e,t))&&(Wt(e,t,n),ms(e,n))}function Ws(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new Ws(e,t,n,r)}function $s(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vs(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)$s(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Ys(n.children,i,a,t);case R:u=8,i|=16;break;case O:u=8,i|=1;break;case S:return(e=Hs(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case j:return(e=Hs(13,n,t,i)).type=j,e.elementType=j,e.lanes=a,e;case T:return(e=Hs(19,n,t,i)).elementType=T,e.lanes=a,e;case I:return Ks(n,i,a,t);case B:return(e=Hs(24,n,t,i)).elementType=B,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case C:u=9;break e;case D:u=11;break e;case F:u=14;break e;case P:u=16,r=null;break e;case M:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ys(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Ks(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=I,e.lanes=n,e}function Xs(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Qs(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Js(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=ds(),u=hs(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=xi(n,c,s);break e}}n=s}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zs(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Fr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Js(e,t,null,n)}Yu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Io=!0;else{if(0===(n&r)){switch(Io=!1,t.tag){case 3:Go(t),Ga();break;case 5:Na(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fi(Ia,1&Ia.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ia,1&Ia.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ia,Ia.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Io=0!==(16384&e.flags)}else Io=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,Bo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return $s(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===F)return 14}return 2}(i),e=Qi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=$o(null,t,i,e,n);break e;case 11:t=zo(null,t,i,e,n);break e;case 14:t=Lo(null,t,i,Qi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,$o(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(La=Yr(t.stateNode.containerInfo.firstChild),za=t,a=Ua=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ya.push(a);for(n=Aa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Bo(e,t,r,n),Ga();t=t.child}return t;case 5:return Na(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Hr(r,i)?u=null:null!==a&&Hr(r,a)&&(t.flags|=16),Wo(e,t),Bo(e,t,u,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Zo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Zi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Bo(e,t,r,n),t.child;case 14:return a=Qi(i=t.type,t.pendingProps),Lo(e,t,i,a=Qi(i.type,a),r,n);case 15:return Uo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ba(t,r,i),wa(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,ds()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,ds()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=ds(),n=hs(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=xs,Me=function(e,t,n,r,i){var a=Fu;Fu|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Fu=a)&&(Gu(),Yi())}},Ne=function(){0===(49&Fu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,Wi())}))}Yi()}(),Ns())},Re=function(e,t){var n=Fu;Fu|=2;try{return e(t)}finally{0===(Fu=n)&&(Gu(),Yi())}};var sc={Events:[ri,ii,ai,Te,Fe,Ns,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ki=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Fu;if(0!==(48&n))return e(t);Fu|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Fu=n,Yi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},7831:function(e,t,n){"use strict";n.r(t),n.d(t,{ErrorCode:function(){return M},default:function(){return pe},useDropzone:function(){return me}});var r=n(2791),i=n(2007),a=n.n(i);function o(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}Object.create;var c=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function l(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=c.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var f=[".DS_Store","Thumbs.db"];function d(e){return"object"===typeof e&&null!==e}function h(e){return g(e.target.files).map((function(e){return l(e)}))}function p(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return l(e)}))]}}))}))}function v(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return null===e?[2,[]]:e.items?(n=g(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(y))]):[3,2];case 1:return[2,m(b(r.sent()))];case 2:return[2,m(g(e.files).map((function(e){return l(e)})))]}}))}))}function m(e){return e.filter((function(e){return-1===f.indexOf(e.name)}))}function g(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function y(e){if("function"!==typeof e.webkitGetAsEntry)return x(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?_(t):x(e)}function b(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(e,Array.isArray(t)?b(t):[t])}),[])}function x(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=l(t);return Promise.resolve(n)}function w(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){return[2,e.isDirectory?_(e):k(e)]}))}))}function _(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return o(a,void 0,void 0,(function(){var a,o,s;return u(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=u.sent(),e(a),[3,4];case 3:return o=u.sent(),n(o),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(w)),r.push(s),i(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function k(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=l(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var E=n(9998);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j="file-invalid-type",T="file-too-large",F="file-too-small",P="too-many-files",M={FileInvalidType:j,FileTooLarge:T,FileTooSmall:F,TooManyFiles:P},N=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:j,message:"File type must be ".concat(t)}},R=function(e){return{code:T,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},I=function(e){return{code:F,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},B={code:P,message:"Too many files"};function z(e,t){var n="application/x-moz-file"===e.type||(0,E.Z)(e,t);return[n,n?null:N(t)]}function L(e,t,n){if(U(e.size))if(U(t)&&U(n)){if(e.size>n)return[!1,R(n)];if(e.size<t)return[!1,I(t)]}else{if(U(t)&&e.size<t)return[!1,I(t)];if(U(n)&&e.size>n)return[!1,R(n)]}return[!0,null]}function U(e){return void 0!==e&&null!==e}function q(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every((function(e){var t=C(z(e,n),1)[0],a=C(L(e,r,i),1)[0];return t&&a}))}function W(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function H(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function $(e){e.preventDefault()}function V(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function G(e){return-1!==e.indexOf("Edge/")}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return V(e)||G(e)}function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!W(e)&&t&&t.apply(void 0,[e].concat(r)),W(e)}))}}function X(){return"showOpenFilePicker"in window}function Q(e){return e="string"===typeof e?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter((function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)})).reduce((function(e,t){return S(S({},e),{},A({},t,[]))}),{}):{}}]}function Z(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function J(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}var ee=["children"],te=["open"],ne=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],re=["refKey","onChange","onClick"];function ie(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var de=(0,r.forwardRef)((function(e,t){var n=e.children,i=me(fe(e,ee)),a=i.open,o=fe(i,te);return(0,r.useImperativeHandle)(t,(function(){return{open:a}}),[a]),r.createElement(r.Fragment,null,n(ce(ce({},o),{},{open:a})))}));de.displayName="Dropzone";var he={disabled:!1,getFilesFromEvent:function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){return d(e)&&d(e.dataTransfer)?[2,v(e.dataTransfer,e.type)]:function(e){return d(e)&&d(e.target)}(e)?[2,h(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,p(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};de.defaultProps=he,de.propTypes={children:a().func,accept:a().oneOfType([a().string,a().arrayOf(a().string)]),multiple:a().bool,preventDropOnDocument:a().bool,noClick:a().bool,noKeyboard:a().bool,noDrag:a().bool,noDragEventsBubbling:a().bool,minSize:a().number,maxSize:a().number,maxFiles:a().number,disabled:a().bool,getFilesFromEvent:a().func,onFileDialogCancel:a().func,onFileDialogOpen:a().func,useFsAccessApi:a().bool,onDragEnter:a().func,onDragLeave:a().func,onDragOver:a().func,onDrop:a().func,onDropAccepted:a().func,onDropRejected:a().func,validator:a().func};var pe=de,ve={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ce(ce({},he),e),n=t.accept,i=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,u=t.minSize,s=t.multiple,c=t.maxFiles,l=t.onDragEnter,f=t.onDragLeave,d=t.onDragOver,h=t.onDrop,p=t.onDropAccepted,v=t.onDropRejected,m=t.onFileDialogCancel,g=t.onFileDialogOpen,y=t.useFsAccessApi,b=t.preventDropOnDocument,x=t.noClick,w=t.noKeyboard,_=t.noDrag,k=t.noDragEventsBubbling,E=t.validator,O=(0,r.useMemo)((function(){return"function"===typeof g?g:ye}),[g]),S=(0,r.useMemo)((function(){return"function"===typeof m?m:ye}),[m]),A=(0,r.useRef)(null),C=(0,r.useRef)(null),D=(0,r.useReducer)(ge,ve),j=ae(D,2),T=j[0],F=j[1],P=T.isFocused,M=T.isFileDialogActive,N=T.draggedFiles,R=(0,r.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&X()),I=function(){!R.current&&M&&setTimeout((function(){C.current&&(C.current.files.length||(F({type:"closeDialog"}),S()))}),300)};(0,r.useEffect)((function(){return window.addEventListener("focus",I,!1),function(){window.removeEventListener("focus",I,!1)}}),[C,M,S,R]);var U=(0,r.useRef)([]),V=function(e){A.current&&A.current.contains(e.target)||(e.preventDefault(),U.current=[])};(0,r.useEffect)((function(){return b&&(document.addEventListener("dragover",$,!1),document.addEventListener("drop",V,!1)),function(){b&&(document.removeEventListener("dragover",$),document.removeEventListener("drop",V))}}),[A,b]);var G=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),ke(e),U.current=[].concat(ie(U.current),[e.target]),H(e)&&Promise.resolve(a(e)).then((function(t){W(e)&&!k||(F({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e))}))}),[a,l,k]),ee=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),ke(e);var t=H(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&d&&d(e),!1}),[d,k]),te=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),ke(e);var t=U.current.filter((function(e){return A.current&&A.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),U.current=t,t.length>0||(F({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),H(e)&&f&&f(e))}),[A,f,k]),oe=(0,r.useCallback)((function(e,t){var r=[],i=[];e.forEach((function(e){var t=ae(z(e,n),2),a=t[0],s=t[1],c=ae(L(e,u,o),2),l=c[0],f=c[1],d=E?E(e):null;if(a&&l&&!d)r.push(e);else{var h=[s,f];d&&(h=h.concat(d)),i.push({file:e,errors:h.filter((function(e){return e}))})}})),(!s&&r.length>1||s&&c>=1&&r.length>c)&&(r.forEach((function(e){i.push({file:e,errors:[B]})})),r.splice(0)),F({acceptedFiles:r,fileRejections:i,type:"setFiles"}),h&&h(r,i,t),i.length>0&&v&&v(i,t),r.length>0&&p&&p(r,t)}),[F,s,n,u,o,c,h,p,v,E]),ue=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),ke(e),U.current=[],H(e)&&Promise.resolve(a(e)).then((function(t){W(e)&&!k||oe(t,e)})),F({type:"reset"})}),[a,oe,k]),se=(0,r.useCallback)((function(){if(R.current){F({type:"openDialog"}),O();var e={multiple:s,types:Q(n)};window.showOpenFilePicker(e).then((function(e){return a(e)})).then((function(e){oe(e,null),F({type:"closeDialog"})})).catch((function(e){Z(e)?(S(e),F({type:"closeDialog"})):J(e)&&(R.current=!1,C.current&&(C.current.value=null,C.current.click()))}))}else C.current&&(F({type:"openDialog"}),O(),C.current.value=null,C.current.click())}),[F,O,S,y,oe,n,s]),de=(0,r.useCallback)((function(e){A.current&&A.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),se()))}),[A,se]),pe=(0,r.useCallback)((function(){F({type:"focus"})}),[]),me=(0,r.useCallback)((function(){F({type:"blur"})}),[]),be=(0,r.useCallback)((function(){x||(Y()?setTimeout(se,0):se())}),[x,se]),xe=function(e){return i?null:e},we=function(e){return w?null:xe(e)},_e=function(e){return _?null:xe(e)},ke=function(e){k&&e.stopPropagation()},Ee=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,a=e.onKeyDown,o=e.onFocus,u=e.onBlur,s=e.onClick,c=e.onDragEnter,l=e.onDragOver,f=e.onDragLeave,d=e.onDrop,h=fe(e,ne);return ce(ce(le({onKeyDown:we(K(a,de)),onFocus:we(K(o,pe)),onBlur:we(K(u,me)),onClick:xe(K(s,be)),onDragEnter:_e(K(c,G)),onDragOver:_e(K(l,ee)),onDragLeave:_e(K(f,te)),onDrop:_e(K(d,ue)),role:"string"===typeof r&&""!==r?r:"button"},n,A),i||w?{}:{tabIndex:0}),h)}}),[A,de,pe,me,be,G,ee,te,ue,w,_,i]),Oe=(0,r.useCallback)((function(e){e.stopPropagation()}),[]),Se=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,i=e.onChange,a=e.onClick,o=fe(e,re),u=le({accept:n,multiple:s,type:"file",style:{display:"none"},onChange:xe(K(i,ue)),onClick:xe(K(a,Oe)),autoComplete:"off",tabIndex:-1},r,C);return ce(ce({},u),o)}}),[C,n,s,ue,i]),Ae=N.length,Ce=Ae>0&&q({files:N,accept:n,minSize:u,maxSize:o,multiple:s,maxFiles:c}),De=Ae>0&&!Ce;return ce(ce({},T),{},{isDragAccept:Ce,isDragReject:De,isFocused:P&&!i,getRootProps:Ee,getInputProps:Se,rootRef:A,inputRef:C,open:xe(se)})}function ge(e,t){switch(t.type){case"focus":return ce(ce({},e),{},{isFocused:!0});case"blur":return ce(ce({},e),{},{isFocused:!1});case"openDialog":return ce(ce({},ve),{},{isFileDialogActive:!0});case"closeDialog":return ce(ce({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return ce(ce({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return ce(ce({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return ce({},ve);default:return e}}function ye(){}},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var u,s,c,l;if(Array.isArray(e)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!o.has(s.value[0]))return!1;for(l=e.entries();!(s=l.next()).done;)if(!a(s.value[1],o.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(e[s]!==o[s])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((u=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(o,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!a(e[c[s]],o[c[s]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case h:case d:case u:return e;default:return t}}case r:return t}}}var w=u,_=n,k=c,E=i,O=h,S=d,A=r,C=o,D=a,j=l;t.ContextConsumer=s,t.ContextProvider=w,t.Element=_,t.ForwardRef=k,t.Fragment=E,t.Lazy=O,t.Memo=S,t.Portal=A,t.Profiler=C,t.StrictMode=D,t.Suspense=j,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return x(e)===s},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===c},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===h},t.isMemo=function(e){return x(e)===d},t.isPortal=function(e){return x(e)===r},t.isProfiler=function(e){return x(e)===o},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===l},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===g||e===a||e===l||e===f||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===d||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=x},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),A(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=A(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var j={current:null};function T(){var e=j.current;if(null===e)throw Error(h(321));return e}var F={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},5715:function(e,t,n){e.exports=function(){var e;return function(){function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,r){"use strict";e("core-js/fn/array/includes"),e("core-js/fn/object/values");var i=e("domexception"),a=e("typeson"),o=e("typeson-registry/dist/presets/structured-cloning-throwing"),u="undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof n.g?n.g:Function("return this;")();u.DOMException||(u.DOMException=i);var s=(new a).register(o);function c(e){return s.revive(s.encapsulate(e))}t.exports=c},{"core-js/fn/array/includes":2,"core-js/fn/object/values":3,domexception:46,typeson:49,"typeson-registry/dist/presets/structured-cloning-throwing":48}],2:[function(e,t,n){"use strict";e("../../modules/es7.array.includes"),t.exports=e("../../modules/_core").Array.includes},{"../../modules/_core":9,"../../modules/es7.array.includes":41}],3:[function(e,t,n){"use strict";e("../../modules/es7.object.values"),t.exports=e("../../modules/_core").Object.values},{"../../modules/_core":9,"../../modules/es7.object.values":42}],4:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],5:[function(e,t,n){"use strict";var r=e("./_wks")("unscopables"),i=Array.prototype;void 0==i[r]&&e("./_hide")(i,r,{}),t.exports=function(e){i[r][e]=!0}},{"./_hide":20,"./_wks":40}],6:[function(e,t,n){"use strict";var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":23}],7:[function(e,t,n){"use strict";var r=e("./_to-iobject"),i=e("./_to-length"),a=e("./_to-absolute-index");t.exports=function(e){return function(t,n,o){var u,s=r(t),c=i(s.length),l=a(o,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":34,"./_to-iobject":36,"./_to-length":37}],8:[function(e,t,n){"use strict";var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],9:[function(e,t,n){"use strict";var r=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},{}],10:[function(e,t,n){"use strict";var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":4}],11:[function(e,t,n){"use strict";t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],12:[function(e,t,n){"use strict";t.exports=!e("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":16}],13:[function(e,t,n){"use strict";var r=e("./_is-object"),i=e("./_global").document,a=r(i)&&r(i.createElement);t.exports=function(e){return a?i.createElement(e):{}}},{"./_global":18,"./_is-object":23}],14:[function(e,t,n){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],15:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_core"),a=e("./_hide"),o=e("./_redefine"),u=e("./_ctx"),s="prototype",c=function e(t,n,c){var l,f,d,h,p=t&e.F,v=t&e.G,m=t&e.P,g=t&e.B,y=v?r:t&e.S?r[n]||(r[n]={}):(r[n]||{})[s],b=v?i:i[n]||(i[n]={}),x=b[s]||(b[s]={});for(l in v&&(c=n),c)d=((f=!p&&y&&void 0!==y[l])?y:c)[l],h=g&&f?u(d,r):m&&"function"==typeof d?u(Function.call,d):d,y&&o(y,l,d,t&e.U),b[l]!=d&&a(b,l,h),m&&x[l]!=d&&(x[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":9,"./_ctx":10,"./_global":18,"./_hide":20,"./_redefine":31}],16:[function(e,t,n){"use strict";t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],17:[function(e,t,n){"use strict";t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":33}],18:[function(e,t,n){"use strict";var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],19:[function(e,t,n){"use strict";var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],20:[function(e,t,n){"use strict";var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":12,"./_object-dp":25,"./_property-desc":30}],21:[function(e,t,n){"use strict";t.exports=!e("./_descriptors")&&!e("./_fails")((function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":12,"./_dom-create":13,"./_fails":16}],22:[function(e,t,n){"use strict";var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":8}],23:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){return"object"===("undefined"===typeof e?"undefined":r(e))?null!==e:"function"===typeof e}},{}],24:[function(e,t,n){"use strict";t.exports=!1},{}],25:[function(e,t,n){"use strict";var r=e("./_an-object"),i=e("./_ie8-dom-define"),a=e("./_to-primitive"),o=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":6,"./_descriptors":12,"./_ie8-dom-define":21,"./_to-primitive":38}],26:[function(e,t,n){"use strict";var r=e("./_has"),i=e("./_to-iobject"),a=e("./_array-includes")(!1),o=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,u=i(e),s=0,c=[];for(n in u)n!=o&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~a(c,n)||c.push(n));return c}},{"./_array-includes":7,"./_has":19,"./_shared-key":32,"./_to-iobject":36}],27:[function(e,t,n){"use strict";var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":14,"./_object-keys-internal":26}],28:[function(e,t,n){"use strict";n.f={}.propertyIsEnumerable},{}],29:[function(e,t,n){"use strict";var r=e("./_descriptors"),i=e("./_object-keys"),a=e("./_to-iobject"),o=e("./_object-pie").f;t.exports=function(e){return function(t){for(var n,u=a(t),s=i(u),c=s.length,l=0,f=[];c>l;)n=s[l++],r&&!o.call(u,n)||f.push(e?[n,u[n]]:u[n]);return f}}},{"./_descriptors":12,"./_object-keys":27,"./_object-pie":28,"./_to-iobject":36}],30:[function(e,t,n){"use strict";t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],31:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_hide"),a=e("./_has"),o=e("./_uid")("src"),u=e("./_function-to-string"),s="toString",c=(""+u).split(s);e("./_core").inspectSource=function(e){return u.call(e)},(t.exports=function(e,t,n,u){var s="function"==typeof n;s&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(s&&(a(n,o)||i(n,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[o]||u.call(this)}))},{"./_core":9,"./_function-to-string":17,"./_global":18,"./_has":19,"./_hide":20,"./_uid":39}],32:[function(e,t,n){"use strict";var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":33,"./_uid":39}],33:[function(e,t,n){"use strict";var r=e("./_core"),i=e("./_global"),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"./_core":9,"./_global":18,"./_library":24}],34:[function(e,t,n){"use strict";var r=e("./_to-integer"),i=Math.max,a=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},{"./_to-integer":35}],35:[function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],36:[function(e,t,n){"use strict";var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":11,"./_iobject":22}],37:[function(e,t,n){"use strict";var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./_to-integer":35}],38:[function(e,t,n){"use strict";var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":23}],39:[function(e,t,n){"use strict";var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],40:[function(e,t,n){"use strict";var r=e("./_shared")("wks"),i=e("./_uid"),a=e("./_global").Symbol,o="function"==typeof a;(t.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},{"./_global":18,"./_shared":33,"./_uid":39}],41:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-includes")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":5,"./_array-includes":7,"./_export":15}],42:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_object-to-array")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{"./_export":15,"./_object-to-array":29}],43:[function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("./legacy-error-codes.json"),u=e("./utils.js");n.implementation=function(){function e(t){var n=r(t,2),i=n[0],o=n[1];a(this,e),this.name=o,this.message=i}return i(e,[{key:"code",get:function(){return o[this.name]||0}}]),e}(),n.init=function(e){if(Error.captureStackTrace){var t=u.wrapperForImpl(e);Error.captureStackTrace(t,t.constructor)}}},{"./legacy-error-codes.json":45,"./utils.js":47}],44:[function(e,t,n){"use strict";var r=e("webidl-conversions"),i=e("./utils.js"),a=i.implSymbol;function o(){for(var e=[],t=0;t<arguments.length&&t<2;++t)e[t]=arguments[t];void 0!==e[0]?e[0]=r.DOMString(e[0],{context:"Failed to construct 'DOMException': parameter 1"}):e[0]="",void 0!==e[1]?e[1]=r.DOMString(e[1],{context:"Failed to construct 'DOMException': parameter 2"}):e[1]="Error",u.setup(this,e)}Object.defineProperty(o,"prototype",{value:o.prototype,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(o.prototype,"name",{get:function(){return this[a].name},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"message",{get:function(){return this[a].message},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"code",{get:function(){return this[a].code},enumerable:!0,configurable:!0}),Object.defineProperty(o,"INDEX_SIZE_ERR",{value:1,enumerable:!0}),Object.defineProperty(o.prototype,"INDEX_SIZE_ERR",{value:1,enumerable:!0}),Object.defineProperty(o,"DOMSTRING_SIZE_ERR",{value:2,enumerable:!0}),Object.defineProperty(o.prototype,"DOMSTRING_SIZE_ERR",{value:2,enumerable:!0}),Object.defineProperty(o,"HIERARCHY_REQUEST_ERR",{value:3,enumerable:!0}),Object.defineProperty(o.prototype,"HIERARCHY_REQUEST_ERR",{value:3,enumerable:!0}),Object.defineProperty(o,"WRONG_DOCUMENT_ERR",{value:4,enumerable:!0}),Object.defineProperty(o.prototype,"WRONG_DOCUMENT_ERR",{value:4,enumerable:!0}),Object.defineProperty(o,"INVALID_CHARACTER_ERR",{value:5,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_CHARACTER_ERR",{value:5,enumerable:!0}),Object.defineProperty(o,"NO_DATA_ALLOWED_ERR",{value:6,enumerable:!0}),Object.defineProperty(o.prototype,"NO_DATA_ALLOWED_ERR",{value:6,enumerable:!0}),Object.defineProperty(o,"NO_MODIFICATION_ALLOWED_ERR",{value:7,enumerable:!0}),Object.defineProperty(o.prototype,"NO_MODIFICATION_ALLOWED_ERR",{value:7,enumerable:!0}),Object.defineProperty(o,"NOT_FOUND_ERR",{value:8,enumerable:!0}),Object.defineProperty(o.prototype,"NOT_FOUND_ERR",{value:8,enumerable:!0}),Object.defineProperty(o,"NOT_SUPPORTED_ERR",{value:9,enumerable:!0}),Object.defineProperty(o.prototype,"NOT_SUPPORTED_ERR",{value:9,enumerable:!0}),Object.defineProperty(o,"INUSE_ATTRIBUTE_ERR",{value:10,enumerable:!0}),Object.defineProperty(o.prototype,"INUSE_ATTRIBUTE_ERR",{value:10,enumerable:!0}),Object.defineProperty(o,"INVALID_STATE_ERR",{value:11,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_STATE_ERR",{value:11,enumerable:!0}),Object.defineProperty(o,"SYNTAX_ERR",{value:12,enumerable:!0}),Object.defineProperty(o.prototype,"SYNTAX_ERR",{value:12,enumerable:!0}),Object.defineProperty(o,"INVALID_MODIFICATION_ERR",{value:13,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_MODIFICATION_ERR",{value:13,enumerable:!0}),Object.defineProperty(o,"NAMESPACE_ERR",{value:14,enumerable:!0}),Object.defineProperty(o.prototype,"NAMESPACE_ERR",{value:14,enumerable:!0}),Object.defineProperty(o,"INVALID_ACCESS_ERR",{value:15,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_ACCESS_ERR",{value:15,enumerable:!0}),Object.defineProperty(o,"VALIDATION_ERR",{value:16,enumerable:!0}),Object.defineProperty(o.prototype,"VALIDATION_ERR",{value:16,enumerable:!0}),Object.defineProperty(o,"TYPE_MISMATCH_ERR",{value:17,enumerable:!0}),Object.defineProperty(o.prototype,"TYPE_MISMATCH_ERR",{value:17,enumerable:!0}),Object.defineProperty(o,"SECURITY_ERR",{value:18,enumerable:!0}),Object.defineProperty(o.prototype,"SECURITY_ERR",{value:18,enumerable:!0}),Object.defineProperty(o,"NETWORK_ERR",{value:19,enumerable:!0}),Object.defineProperty(o.prototype,"NETWORK_ERR",{value:19,enumerable:!0}),Object.defineProperty(o,"ABORT_ERR",{value:20,enumerable:!0}),Object.defineProperty(o.prototype,"ABORT_ERR",{value:20,enumerable:!0}),Object.defineProperty(o,"URL_MISMATCH_ERR",{value:21,enumerable:!0}),Object.defineProperty(o.prototype,"URL_MISMATCH_ERR",{value:21,enumerable:!0}),Object.defineProperty(o,"QUOTA_EXCEEDED_ERR",{value:22,enumerable:!0}),Object.defineProperty(o.prototype,"QUOTA_EXCEEDED_ERR",{value:22,enumerable:!0}),Object.defineProperty(o,"TIMEOUT_ERR",{value:23,enumerable:!0}),Object.defineProperty(o.prototype,"TIMEOUT_ERR",{value:23,enumerable:!0}),Object.defineProperty(o,"INVALID_NODE_TYPE_ERR",{value:24,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_NODE_TYPE_ERR",{value:24,enumerable:!0}),Object.defineProperty(o,"DATA_CLONE_ERR",{value:25,enumerable:!0}),Object.defineProperty(o.prototype,"DATA_CLONE_ERR",{value:25,enumerable:!0}),Object.defineProperty(o.prototype,Symbol.toStringTag,{value:"DOMException",writable:!1,enumerable:!1,configurable:!0});var u={mixedInto:[],is:function(e){if(e){if(e[a]instanceof s.implementation)return!0;for(var n=0;n<t.exports.mixedInto.length;++n)if(e instanceof t.exports.mixedInto[n])return!0}return!1},isImpl:function(e){if(e){if(e instanceof s.implementation)return!0;for(var n=i.wrapperForImpl(e),r=0;r<t.exports.mixedInto.length;++r)if(n instanceof t.exports.mixedInto[r])return!0}return!1},convert:function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,r=void 0===n?"The provided value":n;if(t.exports.is(e))return i.implForWrapper(e);throw new TypeError(r+" is not of type 'DOMException'.")},create:function(e,t){var n=Object.create(o.prototype);return this.setup(n,e,t),n},createImpl:function(e,t){var n=Object.create(o.prototype);return this.setup(n,e,t),i.implForWrapper(n)},_internalSetup:function(e){},setup:function(e,t,n){n||(n={}),n.wrapper=e,this._internalSetup(e),Object.defineProperty(e,a,{value:new s.implementation(t,n),writable:!1,enumerable:!1,configurable:!0}),e[a][i.wrapperSymbol]=e,s.init&&s.init(e[a],n)},interface:o,expose:{Window:{DOMException:o},Worker:{DOMException:o}}};t.exports=u;var s=e(".//DOMException-impl.js")},{".//DOMException-impl.js":43,"./utils.js":47,"webidl-conversions":50}],45:[function(e,t,n){t.exports={IndexSizeError:1,DOMStringSizeError:2,HierarchyRequestError:3,WrongDocumentError:4,InvalidCharacterError:5,NoDataAllowedError:6,NoModificationAllowedError:7,NotFoundError:8,NotSupportedError:9,InUseAttributeError:10,InvalidStateError:11,SyntaxError:12,InvalidModificationError:13,NamespaceError:14,InvalidAccessError:15,ValidationError:16,TypeMismatchError:17,SecurityError:18,NetworkError:19,AbortError:20,URLMismatchError:21,QuotaExceededError:22,TimeoutError:23,InvalidNodeTypeError:24,DataCloneError:25}},{}],46:[function(e,t,n){"use strict";t.exports=e("./DOMException").interface,Object.setPrototypeOf(t.exports.prototype,Error.prototype)},{"./DOMException":44}],47:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return"object"===("undefined"===typeof e?"undefined":r(e))&&null!==e||"function"===typeof e}function a(e){return Object.getPrototypeOf(e)===Buffer.prototype?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength)}function o(e){return Buffer.from(a(e))}function u(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;++r)n[r]in e||Object.defineProperty(e,n[r],Object.getOwnPropertyDescriptor(t,n[r]))}var s=Symbol("wrapper"),c=Symbol("impl"),l=Symbol("SameObject caches");function f(e,t,n){return e[l]||(e[l]=Object.create(null)),t in e[l]||(e[l][t]=n()),e[l][t]}function d(e){return e?e[s]:null}function h(e){return e?e[c]:null}function p(e){var t=d(e);return t||e}function v(e){var t=h(e);return t||e}var m=Symbol("internal"),g=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));t.exports={isObject:i,getReferenceToBytes:a,getCopyToBytes:o,mixin:u,wrapperSymbol:s,implSymbol:c,getSameObject:f,wrapperForImpl:d,implForWrapper:h,tryWrapperForImpl:p,tryImplForWrapper:v,iterInternalSymbol:m,IteratorPrototype:g}},{}],48:[function(t,r,i){"use strict";var a,o,u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a=void 0,o=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"===typeof e?"undefined":u(e)})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return(c="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"===typeof e?"undefined":u(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function e(t){l(this,e),this.p=new Promise(t)};b.__typeson__type__="TypesonPromise","undefined"!=typeof Symbol&&(b.prototype[Symbol.toStringTag]="TypesonPromise"),b.prototype.then=function(e,t){var n=this;return new b((function(r,i){n.p.then((function(t){r(e?e(t):t)})).catch((function(e){return t?t(e):Promise.reject(e)})).then(r,i)}))},b.prototype.catch=function(e){return this.then(null,e)},b.resolve=function(e){return new b((function(t){t(e)}))},b.reject=function(e){return new b((function(t,n){n(e)}))},["all","race"].forEach((function(e){b[e]=function(t){return new b((function(n,r){Promise[e](t.map((function(e){return e&&e.constructor&&"TypesonPromise"===e.constructor.__typeson__type__?e.p:e}))).then(n,r)}))}}));var x={}.toString,w={}.hasOwnProperty,_=Object.getPrototypeOf,k=w.toString;function E(e,t){return C(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function O(e){return x.call(e).slice(8,-1)}function S(e,t){if(!e||"object"!==c(e))return!1;var n=_(e);if(!n)return null===t;var r=w.call(n,"constructor")&&n.constructor;return"function"!=typeof r?null===t:t===r||null!==t&&k.call(r)===k.call(t)||"function"==typeof t&&"string"==typeof r.__typeson__type__&&r.__typeson__type__===t.__typeson__type__}function A(e){return!(!e||"Object"!==O(e))&&(!_(e)||S(e,Object))}function C(e){return e&&"object"===c(e)}function D(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function j(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function T(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[j(t.slice(0,n))];return void 0===r?void 0:T(r,t.slice(n+1))}return e[j(t)]}function F(e,t,n){if(""===t)return n;var r=t.indexOf(".");return r>-1?F(e[j(t.slice(0,r))],t.slice(r+1),n):(e[j(t)]=n,e)}function P(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var M=Object.keys,N=Array.isArray,R={}.hasOwnProperty,I=["type","replaced","iterateIn","iterateUnsetNumeric"];function B(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function z(e,t){if(""===e.keypath)return-1;var n=e.keypath.match(/\./g)||0,r=t.keypath.match(/\./g)||0;return n&&(n=n.length),r&&(r=r.length),n>r?-1:n<r?1:e.keypath<t.keypath?-1:e.keypath>t.keypath}var L=function(){function e(t){l(this,e),this.options=t,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"stringify",value:function(e,t,n,r){r=p(p(p({},this.options),r),{},{stringification:!0});var i=this.encapsulate(e,null,r);return N(i)?JSON.stringify(i[0],t,n):i.then((function(e){return JSON.stringify(e,t,n)}))}},{key:"stringifySync",value:function(e,t,n,r){return this.stringify(e,t,n,p(p({throwOnBadSyncType:!0},r),{},{sync:!0}))}},{key:"stringifyAsync",value:function(e,t,n,r){return this.stringify(e,t,n,p(p({throwOnBadSyncType:!0},r),{},{sync:!1}))}},{key:"parse",value:function(e,t,n){return n=p(p(p({},this.options),n),{},{parse:!0}),this.revive(JSON.parse(e,t),n)}},{key:"parseSync",value:function(e,t,n){return this.parse(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"parseAsync",value:function(e,t,n){return this.parse(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"specialTypeNames",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)}},{key:"rootTypeName",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)}},{key:"encapsulate",value:function(t,n,r){var i=B((function(e,t){return P(Promise.all(t.map((function(e){return e[1].p}))),(function(n){return P(Promise.all(n.map(B((function(n){var r=!1,a=[],o=v(t.splice(0,1),1),u=v(o[0],7),s=u[0],c=u[2],l=u[3],f=u[4],d=u[5],h=u[6],p=w(s,n,c,l,a,!0,h),m=S(p,b);return function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}((function(){if(s&&m)return P(p.p,(function(t){return f[d]=t,r=!0,i(e,a)}))}),(function(t){return r?t:(s?f[d]=p:e=m?p.p:p,i(e,a))}))})))),(function(){return e}))}))})),a=(r=p(p({sync:!0},this.options),r)).sync,o=this,u={},s=[],l=[],f=[],d=!("cyclic"in r)||r.cyclic,h=r.encapsulateObserver,g=w("",t,d,n||{},f);function y(t){var n=Object.values(u);if(r.iterateNone)return n.length?n[0]:e.getJSONType(t);if(n.length){if(r.returnTypeNames)return m(new Set(n));t&&A(t)&&!R.call(t,"$types")?t.$types=u:t={$:t,$types:{$:u}}}else C(t)&&R.call(t,"$types")&&(t={$:t,$types:!0});return!r.returnTypeNames&&t}function x(e,t,n){Object.assign(e,t);var r=I.map((function(t){var n=e[t];return delete e[t],n}));n(),I.forEach((function(t,n){e[t]=r[n]}))}function w(t,n,i,a,f,d,p){var v,m={},g=c(n),y=h?function(r){var o=p||a.type||e.getJSONType(n);h(Object.assign(r||m,{keypath:t,value:n,cyclic:i,stateObj:a,promisesData:f,resolvingTypesonPromise:d,awaitingTypesonPromise:S(n,b)},{type:o}))}:null;if(["string","boolean","number","undefined"].includes(g))return void 0===n||Number.isNaN(n)||n===Number.NEGATIVE_INFINITY||n===Number.POSITIVE_INFINITY?(v=a.replaced?n:_(t,n,a,f,!1,d,y))!==n&&(m={replaced:v}):v=n,y&&y(),v;if(null===n)return y&&y(),n;if(i&&!a.iterateIn&&!a.iterateUnsetNumeric&&n&&"object"===c(n)){var k=s.indexOf(n);if(!(k<0))return u[t]="#",y&&y({cyclicKeypath:l[k]}),"#"+l[k];!0===i&&(s.push(n),l.push(t))}var E,O=A(n),C=N(n),j=(O||C)&&(!o.plainObjectReplacers.length||a.replaced)||a.iterateIn?n:_(t,n,a,f,O||C,null,y);if(j!==n?(v=j,m={replaced:j}):""===t&&S(n,b)?(f.push([t,n,i,a,void 0,void 0,a.type]),v=n):C&&"object"!==a.iterateIn||"array"===a.iterateIn?(E=new Array(n.length),m={clone:E}):(["function","symbol"].includes(c(n))||"toJSON"in n||S(n,b)||S(n,Promise)||S(n,ArrayBuffer))&&!O&&"object"!==a.iterateIn?v=n:(E={},a.addLength&&(E.length=n.length),m={clone:E}),y&&y(),r.iterateNone)return E||v;if(!E)return v;if(a.iterateIn){var T=function(e){var r={ownKeys:R.call(n,e)};x(a,r,(function(){var r=t+(t?".":"")+D(e),o=w(r,n[e],Boolean(i),a,f,d);S(o,b)?f.push([r,o,Boolean(i),a,E,e,a.type]):void 0!==o&&(E[e]=o)}))};for(var F in n)T(F);y&&y({endIterateIn:!0,end:!0})}else M(n).forEach((function(e){var r=t+(t?".":"")+D(e);x(a,{ownKeys:!0},(function(){var t=w(r,n[e],Boolean(i),a,f,d);S(t,b)?f.push([r,t,Boolean(i),a,E,e,a.type]):void 0!==t&&(E[e]=t)}))})),y&&y({endIterateOwn:!0,end:!0});if(a.iterateUnsetNumeric){for(var P=n.length,I=function(e){if(!(e in n)){var r=t+(t?".":"")+e;x(a,{ownKeys:!1},(function(){var t=w(r,void 0,Boolean(i),a,f,d);S(t,b)?f.push([r,t,Boolean(i),a,E,e,a.type]):void 0!==t&&(E[e]=t)}))}},B=0;B<P;B++)I(B);y&&y({endIterateUnsetNumeric:!0,end:!0})}return E}function _(e,t,n,r,i,s,c){for(var l=i?o.plainObjectReplacers:o.nonplainObjectReplacers,f=l.length;f--;){var h=l[f];if(h.test(t,n)){var p=h.type;if(o.revivers[p]){var v=u[e];u[e]=v?[p].concat(v):p}return Object.assign(n,{type:p,replaced:!0}),!a&&h.replaceAsync||h.replace?(c&&c({replacing:!0}),w(e,h[a||!h.replaceAsync?"replace":"replaceAsync"](t,n),d&&"readonly",n,r,s,p)):(c&&c({typeDetected:!0}),w(e,t,d&&"readonly",n,r,s,p))}}return t}return f.length?a&&r.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(i(g,f)).then(y):!a&&r.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r.stringification&&a?[y(g)]:a?y(g):Promise.resolve(y(g))}},{key:"encapsulateSync",value:function(e,t,n){return this.encapsulate(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(e,t,n){return this.encapsulate(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"revive",value:function(e,t){var n=e&&e.$types;if(!n)return e;if(!0===n)return e.$;var r=(t=p(p({sync:!0},this.options),t)).sync,i=[],a={},o=!0;n.$&&A(n.$)&&(e=e.$,n=n.$,o=!1);var u=this;function s(e,t){var n=v(u.revivers[e]||[],1)[0];if(!n)throw new Error("Unregistered type: "+e);return r&&!("revive"in n)?t:n[r&&n.revive?"revive":!r&&n.reviveAsync?"reviveAsync":"revive"](t,a)}var c=[];function l(e){return S(e,U)?void 0:e}var f,d=function(){var t=[];if(Object.entries(n).forEach((function(e){var r=v(e,2),i=r[0],a=r[1];"#"!==a&&[].concat(a).forEach((function(e){v(u.revivers[e]||[null,{}],2)[1].plain&&(t.push({keypath:i,type:e}),delete n[i])}))})),t.length)return t.sort(z).reduce((function t(n,r){var i=r.keypath,a=r.type;if(E(n))return n.then((function(e){return t(e,{keypath:i,type:a})}));var o=T(e,i);if(S(o=s(a,o),b))return o.then((function(t){var n=F(e,i,t);n===t&&(e=n)}));var u=F(e,i,o);u===o&&(e=u)}),void 0)}();return S(d,b)?f=d.then((function(){return e})):(f=function e(t,r,a,u,l){if(!o||"$types"!==t){var f=n[t],d=N(r);if(d||A(r)){var h=d?new Array(r.length):{};for(M(r).forEach((function(n){var i=e(t+(t?".":"")+D(n),r[n],a||h,h,n),o=function(e){return S(e,U)?h[n]=void 0:void 0!==e&&(h[n]=e),e};S(i,b)?c.push(i.then((function(e){return o(e)}))):o(i)})),r=h;i.length;){var p=v(i[0],4),m=p[0],g=p[1],y=p[2],x=p[3],w=T(m,g);if(void 0===w)break;y[x]=w,i.splice(0,1)}}if(!f)return r;if("#"===f){var _=T(a,r.slice(1));return void 0===_&&i.push([a,r.slice(1),u,l]),_}return[].concat(f).reduce((function e(t,n){return S(t,b)?t.then((function(t){return e(t,n)})):s(n,t)}),r)}}("",e,null),c.length&&(f=b.resolve(f).then((function(e){return b.all([e].concat(c))})).then((function(e){return v(e,1)[0]})))),E(f)?r&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():S(f,b)?f.p.then(l):f:!r&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r?l(f):Promise.resolve(l(f))}},{key:"reviveSync",value:function(e,t){return this.revive(e,p(p({throwOnBadSyncType:!0},t),{},{sync:!0}))}},{key:"reviveAsync",value:function(e,t){return this.revive(e,p(p({throwOnBadSyncType:!0},t),{},{sync:!1}))}},{key:"register",value:function(t,n){return n=n||{},[].concat(t).forEach((function t(r){var i=this;if(N(r))return r.map((function(e){return t.call(i,e)}));r&&M(r).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(e.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var i=r[t],a=i&&i.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,o=a.filter((function(e){return e.type===t}));if(o.length&&(a.splice(a.indexOf(o[0]),1),delete this.revivers[t],delete this.types[t]),"function"==typeof i){var u=i;i={test:function(e){return e&&e.constructor===u},replace:function(e){return p({},e)},revive:function(e){return Object.assign(Object.create(u.prototype),e)}}}else if(N(i)){var s=v(i,3);i={test:s[0],replace:s[1],revive:s[2]}}if(i&&i.test){var c={type:t,test:i.test.bind(i)};i.replace&&(c.replace=i.replace.bind(i)),i.replaceAsync&&(c.replaceAsync=i.replaceAsync.bind(i));var l="number"==typeof n.fallback?n.fallback:n.fallback?0:Number.POSITIVE_INFINITY;if(i.testPlainObjects?this.plainObjectReplacers.splice(l,0,c):this.nonplainObjectReplacers.splice(l,0,c),i.revive||i.reviveAsync){var f={};i.revive&&(f.revive=i.revive.bind(i)),i.reviveAsync&&(f.reviveAsync=i.reviveAsync.bind(i)),this.revivers[t]=[f,{plain:i.testPlainObjects}]}this.types[t]=i}}),this)}),this),this}}]),e}(),U=function e(){l(this,e)};U.__typeson__type__="TypesonUndefined",L.Undefined=U,L.Promise=b,L.isThenable=E,L.toStringTag=O,L.hasConstructorOf=S,L.isObject=C,L.isPlainObject=A,L.isUserObject=function e(t){if(!t||"Object"!==O(t))return!1;var n=_(t);return!n||S(t,Object)||e(n)},L.escapeKeyPathComponent=D,L.unescapeKeyPathComponent=j,L.getByKeyPath=T,L.getJSONType=function(e){return null===e?"null":Array.isArray(e)?"array":c(e)},L.JSON_TYPES=["null","boolean","number","string","array","object"];for(var q={userObject:{test:function(e,t){return L.isUserObject(e)},replace:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)},revive:function(e){return e}}},W=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(e,t){return!!Array.isArray(e)&&(Object.keys(e).some((function(e){return String(Number.parseInt(e))!==e}))&&(t.iterateIn="object",t.addLength=!0),!0)},replace:function(e,t){return t.iterateUnsetNumeric=!0,e},revive:function(e){if(Array.isArray(e))return e;var t=[];return Object.keys(e).forEach((function(n){var r=e[n];t[n]=r})),t}}},{sparseUndefined:{test:function(e,t){return void 0===e&&!1===t.ownKeys},replace:function(e){return 0},revive:function(e){}}}],H={undef:{test:function(e,t){return void 0===e&&(t.ownKeys||!("ownKeys"in t))},replace:function(e){return 0},revive:function(e){return new L.Undefined}}},$={StringObject:{test:function(t){return"String"===L.toStringTag(t)&&"object"===e(t)},replace:function(e){return String(e)},revive:function(e){return new String(e)}},BooleanObject:{test:function(t){return"Boolean"===L.toStringTag(t)&&"object"===e(t)},replace:function(e){return Boolean(e)},revive:function(e){return new Boolean(e)}},NumberObject:{test:function(t){return"Number"===L.toStringTag(t)&&"object"===e(t)},replace:function(e){return Number(e)},revive:function(e){return new Number(e)}}},V=[{nan:{test:function(e){return Number.isNaN(e)},replace:function(e){return"NaN"},revive:function(e){return Number.NaN}}},{infinity:{test:function(e){return e===Number.POSITIVE_INFINITY},replace:function(e){return"Infinity"},revive:function(e){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(e){return e===Number.NEGATIVE_INFINITY},replace:function(e){return"-Infinity"},revive:function(e){return Number.NEGATIVE_INFINITY}}}],G={date:{test:function(e){return"Date"===L.toStringTag(e)},replace:function(e){var t=e.getTime();return Number.isNaN(t)?"NaN":t},revive:function(e){return"NaN"===e?new Date(Number.NaN):new Date(e)}}},Y={regexp:{test:function(e){return"RegExp"===L.toStringTag(e)},replace:function(e){return{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")}},revive:function(e){var t=e.source,n=e.flags;return new RegExp(t,n)}}},K={map:{test:function(e){return"Map"===L.toStringTag(e)},replace:function(e){return o(e.entries())},revive:function(e){return new Map(e)}}},X={set:{test:function(e){return"Set"===L.toStringTag(e)},replace:function(e){return o(e.values())},revive:function(e){return new Set(e)}}},Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=new Uint8Array(256),J=0;J<Q.length;J++)Z[Q.charCodeAt(J)]=J;var ee=function(e,t,n){null==n&&(n=e.byteLength);for(var r=new Uint8Array(e,t||0,n),i=r.length,a="",o=0;o<i;o+=3)a+=Q[r[o]>>2],a+=Q[(3&r[o])<<4|r[o+1]>>4],a+=Q[(15&r[o+1])<<2|r[o+2]>>6],a+=Q[63&r[o+2]];return i%3==2?a=a.slice(0,-1)+"=":i%3==1&&(a=a.slice(0,-2)+"=="),a},te=function(e){var t,n,r,i,a=e.length,o=.75*e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);for(var s=new ArrayBuffer(o),c=new Uint8Array(s),l=0;l<a;l+=4)t=Z[e.charCodeAt(l)],n=Z[e.charCodeAt(l+1)],r=Z[e.charCodeAt(l+2)],i=Z[e.charCodeAt(l+3)],c[u++]=t<<2|n>>4,c[u++]=(15&n)<<4|r>>2,c[u++]=(3&r)<<6|63&i;return s},ne={arraybuffer:{test:function(e){return"ArrayBuffer"===L.toStringTag(e)},replace:function(e,t){t.buffers||(t.buffers=[]);var n=t.buffers.indexOf(e);return n>-1?{index:n}:(t.buffers.push(e),ee(e))},revive:function(t,n){if(n.buffers||(n.buffers=[]),"object"===e(t))return n.buffers[t.index];var r=te(t);return n.buffers.push(r),r}}},re="undefined"==typeof self?n.g:self,ie={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,n=re[t];n&&(ie[e.toLowerCase()]={test:function(e){return L.toStringTag(e)===t},replace:function(e,t){var n=e.buffer,r=e.byteOffset,i=e.length;t.buffers||(t.buffers=[]);var a=t.buffers.indexOf(n);return a>-1?{index:a,byteOffset:r,length:i}:(t.buffers.push(n),{encoded:ee(n),byteOffset:r,length:i})},revive:function(e,t){t.buffers||(t.buffers=[]);var r,i=e.byteOffset,a=e.length,o=e.encoded,u=e.index;return"index"in e?r=t.buffers[u]:(r=te(o),t.buffers.push(r)),new n(r,i,a)}})}));var ae={dataview:{test:function(e){return"DataView"===L.toStringTag(e)},replace:function(e,t){var n=e.buffer,r=e.byteOffset,i=e.byteLength;t.buffers||(t.buffers=[]);var a=t.buffers.indexOf(n);return a>-1?{index:a,byteOffset:r,byteLength:i}:(t.buffers.push(n),{encoded:ee(n),byteOffset:r,byteLength:i})},revive:function(e,t){t.buffers||(t.buffers=[]);var n,r=e.byteOffset,i=e.byteLength,a=e.encoded,o=e.index;return"index"in e?n=t.buffers[o]:(n=te(a),t.buffers.push(n)),new DataView(n,r,i)}}},oe={IntlCollator:{test:function(e){return L.hasConstructorOf(e,Intl.Collator)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.Collator(e.locale,e)}},IntlDateTimeFormat:{test:function(e){return L.hasConstructorOf(e,Intl.DateTimeFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.DateTimeFormat(e.locale,e)}},IntlNumberFormat:{test:function(e){return L.hasConstructorOf(e,Intl.NumberFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.NumberFormat(e.locale,e)}}};function ue(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}var se={file:{test:function(e){return"File"===L.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad File access: "+t.status);return{type:e.type,stringContents:t.responseText,name:e.name,lastModified:e.lastModified}},revive:function(e){var t=e.name,n=e.type,r=e.stringContents,i=e.lastModified;return new File([ue(r)],t,{type:n,lastModified:i})},replaceAsync:function(e){return new L.Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result,name:e.name,lastModified:e.lastModified})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsBinaryString(e)}))}}},ce={bigint:{test:function(e){return"bigint"==typeof e},replace:function(e){return String(e)},revive:function(e){return BigInt(e)}}},le={bigintObject:{test:function(t){return"object"===e(t)&&L.hasConstructorOf(t,BigInt)},replace:function(e){return String(e)},revive:function(e){return new Object(BigInt(e))}}},fe={cryptokey:{test:function(e){return"CryptoKey"===L.toStringTag(e)&&e.extractable},replaceAsync:function(e){return new L.Promise((function(t,n){crypto.subtle.exportKey("jwk",e).catch((function(e){n(e)})).then((function(n){t({jwk:n,algorithm:e.algorithm,usages:e.usages})}))}))},revive:function(e){var t=e.jwk,n=e.algorithm,r=e.usages;return crypto.subtle.importKey("jwk",t,n,!0,r)}}};return[q,H,W,$,V,G,Y,{imagedata:{test:function(e){return"ImageData"===L.toStringTag(e)},replace:function(e){return{array:o(e.data),width:e.width,height:e.height}},revive:function(e){return new ImageData(new Uint8ClampedArray(e.array),e.width,e.height)}}},{imagebitmap:{test:function(e){return"ImageBitmap"===L.toStringTag(e)||e&&e.dataset&&"ImageBitmap"===e.dataset.toStringTag},replace:function(e){var t=document.createElement("canvas");return t.getContext("2d").drawImage(e,0,0),t.toDataURL()},revive:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.addEventListener("load",(function(){n.drawImage(r,0,0)})),r.src=e,t},reviveAsync:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.addEventListener("load",(function(){n.drawImage(r,0,0)})),r.src=e,createImageBitmap(t)}}},se,{file:se.file,filelist:{test:function(e){return"FileList"===L.toStringTag(e)},replace:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.item(n);return t},revive:function(e){return new(function(){function e(){t(this,e),this._files=arguments[0],this.length=this._files.length}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"item",value:function(e){return this._files[e]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),e}())(e)}}},{blob:{test:function(e){return"Blob"===L.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return{type:e.type,stringContents:t.responseText}},revive:function(e){var t=e.type,n=e.stringContents;return new Blob([ue(n)],{type:t})},replaceAsync:function(e){return new L.Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsBinaryString(e)}))}}}].concat("function"==typeof Map?K:[],"function"==typeof Set?X:[],"function"==typeof ArrayBuffer?ne:[],"function"==typeof Uint8Array?ie:[],"function"==typeof DataView?ae:[],"undefined"!=typeof Intl?oe:[],"undefined"!=typeof crypto?fe:[],"undefined"!=typeof BigInt?[ce,le]:[]).concat({checkDataCloneException:{test:function(t){var n={}.toString.call(t).slice(8,-1);if(["symbol","function"].includes(e(t))||["Arguments","Module","Error","Promise","WeakMap","WeakSet","Event","MessageChannel"].includes(n)||t&&"object"===e(t)&&"number"==typeof t.nodeType&&"function"==typeof t.insertBefore)throw new DOMException("The object cannot be cloned.","DataCloneError");return!1}}})},"object"==("undefined"===typeof i?"undefined":u(i))&&"undefined"!=typeof r?r.exports=o():"function"==typeof e&&e.amd?e(o):((a="undefined"!=typeof globalThis?globalThis:a||self).Typeson=a.Typeson||{},a.Typeson.presets=a.Typeson.presets||{},a.Typeson.presets.structuredCloningThrowing=o())},{}],49:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return(i="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"===typeof e?"undefined":r(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function e(t){a(this,e),this.p=new Promise(t)};p.__typeson__type__="TypesonPromise","undefined"!=typeof Symbol&&(p.prototype[Symbol.toStringTag]="TypesonPromise"),p.prototype.then=function(e,t){var n=this;return new p((function(r,i){n.p.then((function(t){r(e?e(t):t)})).catch((function(e){return t?t(e):Promise.reject(e)})).then(r,i)}))},p.prototype.catch=function(e){return this.then(null,e)},p.resolve=function(e){return new p((function(t){t(e)}))},p.reject=function(e){return new p((function(t,n){n(e)}))},["all","race","allSettled"].forEach((function(e){p[e]=function(t){return new p((function(n,r){Promise[e](t.map((function(e){return e&&e.constructor&&"TypesonPromise"===e.constructor.__typeson__type__?e.p:e}))).then(n,r)}))}}));var v={}.toString,m={}.hasOwnProperty,g=Object.getPrototypeOf,y=m.toString;function b(e,t){return k(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function x(e){return v.call(e).slice(8,-1)}function w(e,t){if(!e||"object"!==i(e))return!1;var n=g(e);if(!n)return null===t;var r=m.call(n,"constructor")&&n.constructor;return"function"!=typeof r?null===t:t===r||null!==t&&y.call(r)===y.call(t)||"function"==typeof t&&"string"==typeof r.__typeson__type__&&r.__typeson__type__===t.__typeson__type__}function _(e){return!(!e||"Object"!==x(e))&&(!g(e)||w(e,Object))}function k(e){return e&&"object"===i(e)}function E(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function O(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function S(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[O(t.slice(0,n))];return void 0===r?void 0:S(r,t.slice(n+1))}return e[O(t)]}function A(e,t,n){if(""===t)return n;var r=t.indexOf(".");return r>-1?A(e[O(t.slice(0,r))],t.slice(r+1),n):(e[O(t)]=n,e)}function C(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var D=Object.keys,j=Array.isArray,T={}.hasOwnProperty,F=["type","replaced","iterateIn","iterateUnsetNumeric"];function P(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function M(e,t){if(""===e.keypath)return-1;var n=e.keypath.match(/\./g)||0,r=t.keypath.match(/\./g)||0;return n&&(n=n.length),r&&(r=r.length),n>r?-1:n<r?1:e.keypath<t.keypath?-1:e.keypath>t.keypath}var N=function(){function e(t){a(this,e),this.options=t,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"stringify",value:function(e,t,n,r){r=c(c(c({},this.options),r),{},{stringification:!0});var i=this.encapsulate(e,null,r);return j(i)?JSON.stringify(i[0],t,n):i.then((function(e){return JSON.stringify(e,t,n)}))}},{key:"stringifySync",value:function(e,t,n,r){return this.stringify(e,t,n,c(c({throwOnBadSyncType:!0},r),{},{sync:!0}))}},{key:"stringifyAsync",value:function(e,t,n,r){return this.stringify(e,t,n,c(c({throwOnBadSyncType:!0},r),{},{sync:!1}))}},{key:"parse",value:function(e,t,n){return n=c(c(c({},this.options),n),{},{parse:!0}),this.revive(JSON.parse(e,t),n)}},{key:"parseSync",value:function(e,t,n){return this.parse(e,t,c(c({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"parseAsync",value:function(e,t,n){return this.parse(e,t,c(c({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"specialTypeNames",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)}},{key:"rootTypeName",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)}},{key:"encapsulate",value:function(t,n,r){var a=P((function(e,t){return C(Promise.all(t.map((function(e){return e[1].p}))),(function(n){return C(Promise.all(n.map(P((function(n){var r=!1,i=[],o=l(t.splice(0,1),1),u=l(o[0],7),s=u[0],c=u[2],f=u[3],d=u[4],h=u[5],v=u[6],m=O(s,n,c,f,i,!0,v),g=w(m,p);return function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}((function(){if(s&&g)return C(m.p,(function(t){return d[h]=t,r=!0,a(e,i)}))}),(function(t){return r?t:(s?d[h]=m:e=g?m.p:m,a(e,i))}))})))),(function(){return e}))}))})),o=(r=c(c({sync:!0},this.options),r)).sync,u=this,s={},d=[],h=[],v=[],m=!("cyclic"in r)||r.cyclic,g=r.encapsulateObserver,y=O("",t,m,n||{},v);function b(t){var n=Object.values(s);if(r.iterateNone)return n.length?n[0]:e.getJSONType(t);if(n.length){if(r.returnTypeNames)return f(new Set(n));t&&_(t)&&!T.call(t,"$types")?t.$types=s:t={$:t,$types:{$:s}}}else k(t)&&T.call(t,"$types")&&(t={$:t,$types:!0});return!r.returnTypeNames&&t}function x(e,t,n){Object.assign(e,t);var r=F.map((function(t){var n=e[t];return delete e[t],n}));n(),F.forEach((function(t,n){e[t]=r[n]}))}function O(t,n,a,o,c,l,f){var v,m={},y=i(n),b=g?function(r){var i=f||o.type||e.getJSONType(n);g(Object.assign(r||m,{keypath:t,value:n,cyclic:a,stateObj:o,promisesData:c,resolvingTypesonPromise:l,awaitingTypesonPromise:w(n,p)},{type:i}))}:null;if(["string","boolean","number","undefined"].includes(y))return void 0===n||Number.isNaN(n)||n===Number.NEGATIVE_INFINITY||n===Number.POSITIVE_INFINITY?(v=o.replaced?n:S(t,n,o,c,!1,l,b))!==n&&(m={replaced:v}):v=n,b&&b(),v;if(null===n)return b&&b(),n;if(a&&!o.iterateIn&&!o.iterateUnsetNumeric&&n&&"object"===i(n)){var k=d.indexOf(n);if(!(k<0))return s[t]="#",b&&b({cyclicKeypath:h[k]}),"#"+h[k];!0===a&&(d.push(n),h.push(t))}var A,C=_(n),F=j(n),P=(C||F)&&(!u.plainObjectReplacers.length||o.replaced)||o.iterateIn?n:S(t,n,o,c,C||F,null,b);if(P!==n?(v=P,m={replaced:P}):""===t&&w(n,p)?(c.push([t,n,a,o,void 0,void 0,o.type]),v=n):F&&"object"!==o.iterateIn||"array"===o.iterateIn?(A=new Array(n.length),m={clone:A}):(["function","symbol"].includes(i(n))||"toJSON"in n||w(n,p)||w(n,Promise)||w(n,ArrayBuffer))&&!C&&"object"!==o.iterateIn?v=n:(A={},o.addLength&&(A.length=n.length),m={clone:A}),b&&b(),r.iterateNone)return A||v;if(!A)return v;if(o.iterateIn){var M=function(e){var r={ownKeys:T.call(n,e)};x(o,r,(function(){var r=t+(t?".":"")+E(e),i=O(r,n[e],Boolean(a),o,c,l);w(i,p)?c.push([r,i,Boolean(a),o,A,e,o.type]):void 0!==i&&(A[e]=i)}))};for(var N in n)M(N);b&&b({endIterateIn:!0,end:!0})}else D(n).forEach((function(e){var r=t+(t?".":"")+E(e);x(o,{ownKeys:!0},(function(){var t=O(r,n[e],Boolean(a),o,c,l);w(t,p)?c.push([r,t,Boolean(a),o,A,e,o.type]):void 0!==t&&(A[e]=t)}))})),b&&b({endIterateOwn:!0,end:!0});if(o.iterateUnsetNumeric){for(var R=n.length,I=function(e){if(!(e in n)){var r=t+(t?".":"")+e;x(o,{ownKeys:!1},(function(){var t=O(r,void 0,Boolean(a),o,c,l);w(t,p)?c.push([r,t,Boolean(a),o,A,e,o.type]):void 0!==t&&(A[e]=t)}))}},B=0;B<R;B++)I(B);b&&b({endIterateUnsetNumeric:!0,end:!0})}return A}function S(e,t,n,r,i,a,c){for(var l=i?u.plainObjectReplacers:u.nonplainObjectReplacers,f=l.length;f--;){var d=l[f];if(d.test(t,n)){var h=d.type;if(u.revivers[h]){var p=s[e];s[e]=p?[h].concat(p):h}return Object.assign(n,{type:h,replaced:!0}),!o&&d.replaceAsync||d.replace?(c&&c({replacing:!0}),O(e,d[o||!d.replaceAsync?"replace":"replaceAsync"](t,n),m&&"readonly",n,r,a,h)):(c&&c({typeDetected:!0}),O(e,t,m&&"readonly",n,r,a,h))}}return t}return v.length?o&&r.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(a(y,v)).then(b):!o&&r.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r.stringification&&o?[b(y)]:o?b(y):Promise.resolve(b(y))}},{key:"encapsulateSync",value:function(e,t,n){return this.encapsulate(e,t,c(c({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(e,t,n){return this.encapsulate(e,t,c(c({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"revive",value:function(e,t){var n=e&&e.$types;if(!n)return e;if(!0===n)return e.$;var r=(t=c(c({sync:!0},this.options),t)).sync,i=[],a={},o=!0;n.$&&_(n.$)&&(e=e.$,n=n.$,o=!1);var u=this;function s(e,t){var n=l(u.revivers[e]||[],1)[0];if(!n)throw new Error("Unregistered type: "+e);return r&&!("revive"in n)?t:n[r&&n.revive?"revive":!r&&n.reviveAsync?"reviveAsync":"revive"](t,a)}var f=[];function d(e){return w(e,R)?void 0:e}var h,v=function(){var t=[];if(Object.entries(n).forEach((function(e){var r=l(e,2),i=r[0],a=r[1];"#"!==a&&[].concat(a).forEach((function(e){l(u.revivers[e]||[null,{}],2)[1].plain&&(t.push({keypath:i,type:e}),delete n[i])}))})),t.length)return t.sort(M).reduce((function t(n,r){var i=r.keypath,a=r.type;if(b(n))return n.then((function(e){return t(e,{keypath:i,type:a})}));var o=S(e,i);if(w(o=s(a,o),p))return o.then((function(t){var n=A(e,i,t);n===t&&(e=n)}));var u=A(e,i,o);u===o&&(e=u)}),void 0)}();return w(v,p)?h=v.then((function(){return e})):(h=function e(t,r,a,u,c){if(!o||"$types"!==t){var d=n[t],h=j(r);if(h||_(r)){var v=h?new Array(r.length):{};for(D(r).forEach((function(n){var i=e(t+(t?".":"")+E(n),r[n],a||v,v,n),o=function(e){return w(e,R)?v[n]=void 0:void 0!==e&&(v[n]=e),e};w(i,p)?f.push(i.then((function(e){return o(e)}))):o(i)})),r=v;i.length;){var m=l(i[0],4),g=m[0],y=m[1],b=m[2],x=m[3],k=S(g,y);if(void 0===k)break;b[x]=k,i.splice(0,1)}}if(!d)return r;if("#"===d){var O=S(a,r.slice(1));return void 0===O&&i.push([a,r.slice(1),u,c]),O}return[].concat(d).reduce((function e(t,n){return w(t,p)?t.then((function(t){return e(t,n)})):s(n,t)}),r)}}("",e,null),f.length&&(h=p.resolve(h).then((function(e){return p.all([e].concat(f))})).then((function(e){return l(e,1)[0]})))),b(h)?r&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():w(h,p)?h.p.then(d):h:!r&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r?d(h):Promise.resolve(d(h))}},{key:"reviveSync",value:function(e,t){return this.revive(e,c(c({throwOnBadSyncType:!0},t),{},{sync:!0}))}},{key:"reviveAsync",value:function(e,t){return this.revive(e,c(c({throwOnBadSyncType:!0},t),{},{sync:!1}))}},{key:"register",value:function(t,n){return n=n||{},[].concat(t).forEach((function t(r){var i=this;if(j(r))return r.map((function(e){return t.call(i,e)}));r&&D(r).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(e.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var i=r[t],a=i&&i.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,o=a.filter((function(e){return e.type===t}));if(o.length&&(a.splice(a.indexOf(o[0]),1),delete this.revivers[t],delete this.types[t]),"function"==typeof i){var u=i;i={test:function(e){return e&&e.constructor===u},replace:function(e){return c({},e)},revive:function(e){return Object.assign(Object.create(u.prototype),e)}}}else if(j(i)){var s=l(i,3);i={test:s[0],replace:s[1],revive:s[2]}}if(i&&i.test){var f={type:t,test:i.test.bind(i)};i.replace&&(f.replace=i.replace.bind(i)),i.replaceAsync&&(f.replaceAsync=i.replaceAsync.bind(i));var d="number"==typeof n.fallback?n.fallback:n.fallback?0:Number.POSITIVE_INFINITY;if(i.testPlainObjects?this.plainObjectReplacers.splice(d,0,f):this.nonplainObjectReplacers.splice(d,0,f),i.revive||i.reviveAsync){var h={};i.revive&&(h.revive=i.revive.bind(i)),i.reviveAsync&&(h.reviveAsync=i.reviveAsync.bind(i)),this.revivers[t]=[h,{plain:i.testPlainObjects}]}this.types[t]=i}}),this)}),this),this}}]),e}(),R=function e(){a(this,e)};R.__typeson__type__="TypesonUndefined",N.Undefined=R,N.Promise=p,N.isThenable=b,N.toStringTag=x,N.hasConstructorOf=w,N.isObject=k,N.isPlainObject=_,N.isUserObject=function e(t){if(!t||"Object"!==x(t))return!1;var n=g(t);return!n||w(t,Object)||e(n)},N.escapeKeyPathComponent=E,N.unescapeKeyPathComponent=O,N.getByKeyPath=S,N.getJSONType=function(e){return null===e?"null":Array.isArray(e)?"array":i(e)},N.JSON_TYPES=["null","boolean","number","string","array","object"],t.exports=N},{}],50:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){return(t&&t.context?t.context:"Value")+" "+e+"."}function a(e){if(null===e)return"Null";switch("undefined"===typeof e?"undefined":r(e)){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";default:return"Object"}}function o(e){return l(e>0&&e%1===.5&&0===(1&e)||e<0&&e%1===-.5&&1===(1&e)?Math.floor(e):Math.round(e))}function u(e){return l(Math.trunc(e))}function s(e){return e<0?-1:1}function c(e,t){var n=e%t;return s(t)!==s(n)?n+t:n}function l(e){return 0===e?0:e}function f(e,t){var n=!t.unsigned,r=void 0,a=void 0;64===e?(a=Math.pow(2,53)-1,r=n?1-Math.pow(2,53):0):n?(r=-Math.pow(2,e-1),a=Math.pow(2,e-1)-1):(r=0,a=Math.pow(2,e)-1);var s=Math.pow(2,e),f=Math.pow(2,e-1);return function(e,t){void 0===t&&(t={});var d=+e;if(d=l(d),t.enforceRange){if(!Number.isFinite(d))throw new TypeError(i("is not a finite number",t));if((d=u(d))<r||d>a)throw new TypeError(i("is outside the accepted range of "+r+" to "+a+", inclusive",t));return d}return!Number.isNaN(d)&&t.clamp?d=o(d=Math.min(Math.max(d,r),a)):Number.isFinite(d)&&0!==d?(d=u(d))>=r&&d<=a?d:(d=c(d,s),n&&d>=f?d-s:d):0}}function d(e,t){if("function"!==typeof e)throw new TypeError(i("is not a function",t));return e}n.any=function(e){return e},n.void=function(){},n.boolean=function(e){return!!e},n.byte=f(8,{unsigned:!1}),n.octet=f(8,{unsigned:!0}),n.short=f(16,{unsigned:!1}),n["unsigned short"]=f(16,{unsigned:!0}),n.long=f(32,{unsigned:!1}),n["unsigned long"]=f(32,{unsigned:!0}),n["long long"]=f(64,{unsigned:!1}),n["unsigned long long"]=f(64,{unsigned:!0}),n.double=function(e,t){var n=+e;if(!Number.isFinite(n))throw new TypeError(i("is not a finite floating-point value",t));return n},n["unrestricted double"]=function(e){return+e},n.float=function(e,t){var n=+e;if(!Number.isFinite(n))throw new TypeError(i("is not a finite floating-point value",t));if(Object.is(n,-0))return n;var r=Math.fround(n);if(!Number.isFinite(r))throw new TypeError(i("is outside the range of a single-precision floating-point value",t));return r},n["unrestricted float"]=function(e){var t=+e;return isNaN(t)||Object.is(t,-0)?t:Math.fround(t)},n.DOMString=function(e,t){if(void 0===t&&(t={}),t.treatNullAsEmptyString&&null===e)return"";if("symbol"===("undefined"===typeof e?"undefined":r(e)))throw new TypeError(i("is a symbol, which cannot be converted to a string",t));return String(e)},n.ByteString=function(e,t){for(var r=n.DOMString(e,t),a=void 0,o=0;void 0!==(a=r.codePointAt(o));++o)if(a>255)throw new TypeError(i("is not a valid ByteString",t));return r},n.USVString=function(e,t){for(var r=n.DOMString(e,t),i=r.length,a=[],o=0;o<i;++o){var u=r.charCodeAt(o);if(u<55296||u>57343)a.push(String.fromCodePoint(u));else if(56320<=u&&u<=57343)a.push(String.fromCodePoint(65533));else if(o===i-1)a.push(String.fromCodePoint(65533));else{var s=r.charCodeAt(o+1);if(56320<=s&&s<=57343){var c=1023&u,l=1023&s;a.push(String.fromCodePoint(65536+1024*c+l)),++o}else a.push(String.fromCodePoint(65533))}}return a.join("")},n.object=function(e,t){if("Object"!==a(e))throw new TypeError(i("is not an object",t));return e},[Error,ArrayBuffer,DataView,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach((function(e){var t=e.name,r=/^[AEIOU]/.test(t)?"an":"a";n[t]=function(n,a){if(!(n instanceof e))throw new TypeError(i("is not "+r+" "+t+" object",a));return n}})),n.ArrayBufferView=function(e,t){if(!ArrayBuffer.isView(e))throw new TypeError(i("is not a view on an ArrayBuffer object",t));return e},n.BufferSource=function(e,t){if(!(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))throw new TypeError(i("is not an ArrayBuffer object or a view on one",t));return e},n.DOMTimeStamp=n["unsigned long long"],n.Function=d,n.VoidFunction=d},{}]},{},[1])(1)}()},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=O(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(D([])));w&&w!==n&&r.call(w,a)&&(b=w);var _=y.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function D(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:j}}function j(){return{value:t,done:!0}}return g.prototype=y,s(_,"constructor",y),s(y,"constructor",g),g.displayName=s(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=D,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=d((function(){e(t.unstable_now())}),n)},i=function(){h(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<O(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>O(o,n))void 0!==s&&0>O(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>O(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],A=[],C=1,D=null,j=3,T=!1,F=!1,P=!1;function M(e){for(var t=k(A);null!==t;){if(null===t.callback)E(A);else{if(!(t.startTime<=e))break;E(A),t.sortIndex=t.expirationTime,_(S,t)}t=k(A)}}function N(e){if(P=!1,M(e),!F)if(null!==k(S))F=!0,n(R);else{var t=k(A);null!==t&&r(N,t.startTime-e)}}function R(e,n){F=!1,P&&(P=!1,i()),T=!0;var a=j;try{for(M(n),D=k(S);null!==D&&(!(D.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=D.callback;if("function"===typeof o){D.callback=null,j=D.priorityLevel;var u=o(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?D.callback=u:D===k(S)&&E(S),M(n)}else E(S);D=k(S)}if(null!==D)var s=!0;else{var c=k(A);null!==c&&r(N,c.startTime-n),s=!1}return s}finally{D=null,j=a,T=!1}}var I=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){F||T||(F=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return k(S)},t.unstable_next=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(A,e),null===k(S)&&e===k(A)&&(P?i():P=!0,r(N,o-u))):(e.sortIndex=s,_(S,e),F||T||(F=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},6426:function(e,t,n){var r=n(1065);e.exports=function(e,t){var n,i=null;if(!e||"string"!==typeof e)return i;for(var a,o,u=r(e),s="function"===typeof t,c=0,l=u.length;c<l;c++)a=(n=u[c]).property,o=n.value,s?t(a,o,n):o&&(i||(i={}),i[a]=o);return i}},7346:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_chrome.49848bff6abc55f5f16c.png"},4568:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_create.ed8efc6ebcc3e7dcb7f4.png"},3953:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_deselect.b6cb7755d8880e12019c.png"},3980:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_download.c8f6db21e987e9cca853.png"},9275:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_unselected.5ca8d9bde343d0e6ea4c.png"},8234:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_youtube.d32fe2835e3e5a36c036.png"},2579:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_youtube2.95b463dd4985f1e01060.png"},3687:function(e,t,n){"use strict";e.exports=n.p+"static/media/background.eb5e36bfc64c004fd2c0.jpeg"},6662:function(e){"use strict";var t=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,n){var r,i,a;return n=n||{},r=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),i=""===r?1/0:void 0===n.maxLength?80:n.maxLength,a=n.replacer,function e(n,o,u){var s,c,l,f,d,h,p,v,m,g,y,b;if(n&&"function"===typeof n.toJSON&&(n=n.toJSON()),void 0===(y=JSON.stringify(n,a)))return y;if(p=i-o.length-u,y.length<=p&&(m=y.replace(t,(function(e,t){return t||e+" "}))).length<=p)return m;if(null!=a&&(n=JSON.parse(y),a=void 0),"object"===typeof n&&null!==n){if(v=o+r,l=[],c=0,Array.isArray(n))for(g="[",s="]",p=n.length;c<p;c++)l.push(e(n[c],v,c===p-1?0:1)||"null");else for(g="{",s="}",p=(h=Object.keys(n)).length;c<p;c++)f=h[c],d=JSON.stringify(f)+": ",void 0!==(b=e(n[f],v,d.length+(c===p-1?0:1)))&&l.push(d+b);if(l.length>0)return[g,r+l.join(",\n"+v),s].join("\n"+o)}return y}(e,"",0)}},6251:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return u=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},u.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},s(e)}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,{JSONPath:function(){return g}});var h=Object.prototype.hasOwnProperty;function p(e,t){return(e=e.slice()).push(t),e}function v(e,t){return(t=t.slice()).unshift(e),t}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,e);var t=function(e){var t=o();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,r.value=e,r.name="NewError",r}return n}(s(Error));function g(e,t,n,i,a){if(!(this instanceof g))try{return new g(e,t,n,i,a)}catch(c){if(!c.avoidNew)throw c;return c.value}"string"===typeof e&&(a=i,i=n,n=t,t=e,e=null);var o=e&&"object"===r(e);if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!h.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||i||null,this.otherTypeCallback=e.otherTypeCallback||a||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var u={path:o?e.path:t};o?"json"in e&&(u.json=e.json):u.json=n;var s=this.evaluate(u);if(!s||"object"!==r(s))throw new m(s);return s}}g.prototype.evaluate=function(e,t,n,i){var a=this,o=this.parent,u=this.parentProperty,s=this.flatten,c=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=i||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"===r(e)&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!h.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=e.json,s=h.call(e,"flatten")?e.flatten:s,this.currResultType=h.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=h.call(e,"sandbox")?e.sandbox:this.currSandbox,c=h.call(e,"wrap")?e.wrap:c,this.currPreventEval=h.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=h.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=h.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,o=h.call(e,"parent")?e.parent:o,u=h.call(e,"parentProperty")?e.parentProperty:u,e=e.path}if(o=o||null,u=u||null,Array.isArray(e)&&(e=g.toPathString(e)),(e||""===e)&&t){var l=g.toPathArray(e);"$"===l[0]&&l.length>1&&l.shift(),this._hasParentSelector=null;var f=this._trace(l,t,["$"],o,u,n).filter((function(e){return e&&!e.isParentSelector}));return f.length?c||1!==f.length||f[0].hasArrExpr?f.reduce((function(e,t){var n=a._getPreferredOutput(t);return s&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(f[0]):c?[]:void 0}},g.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:g.toPathArray(e.path);return e.pointer=g.toPointer(n),e.path="string"===typeof e.path?e.path:g.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return g.toPathString(e[t]);case"pointer":return g.toPointer(e.path);default:throw new TypeError("Unknown result type")}},g.prototype._handleCallback=function(e,t,n){if(t){var r=this._getPreferredOutput(e);e.path="string"===typeof e.path?e.path:g.toPathString(e.path),t(r,n,e)}},g.prototype._trace=function(e,t,n,i,a,o,u,s){var c,l=this;if(!e.length)return c={path:n,value:t,parent:i,parentProperty:a,hasArrExpr:u},this._handleCallback(c,o,"value"),c;var d=e[0],m=e.slice(1),g=[];function y(e){Array.isArray(e)?e.forEach((function(e){g.push(e)})):g.push(e)}if(("string"!==typeof d||s)&&t&&h.call(t,d))y(this._trace(m,t[d],p(n,d),t,d,o,u));else if("*"===d)this._walk(d,m,t,n,i,a,o,(function(e,t,n,r,i,a,o,u){y(l._trace(v(e,n),r,i,a,o,u,!0,!0))}));else if(".."===d)y(this._trace(m,t,n,i,a,o,u)),this._walk(d,m,t,n,i,a,o,(function(e,t,n,i,a,o,u,s){"object"===r(i[e])&&y(l._trace(v(t,n),i[e],p(a,e),i,e,s,!0))}));else{if("^"===d)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:m,isParentSelector:!0};if("~"===d)return c={path:p(n,d),value:a,parent:i,parentProperty:null},this._handleCallback(c,o,"property"),c;if("$"===d)y(this._trace(m,t,n,null,null,o,u));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(d))y(this._slice(d,m,t,n,i,a,o));else if(0===d.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(d,m,t,n,i,a,o,(function(e,t,n,r,i,a,o,u){l._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),r[e],e,i,a,o)&&y(l._trace(v(e,n),r,i,a,o,u,!0))}))}else if("("===d[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");y(this._trace(v(this._eval(d,t,n[n.length-1],n.slice(0,-1),i,a),m),t,n,i,a,o,u))}else if("@"===d[0]){var b=!1,x=d.slice(1,-2);switch(x){case"scalar":t&&["object","function"].includes(r(t))||(b=!0);break;case"boolean":case"string":case"undefined":case"function":r(t)===x&&(b=!0);break;case"integer":!Number.isFinite(t)||t%1||(b=!0);break;case"number":Number.isFinite(t)&&(b=!0);break;case"nonFinite":"number"!==typeof t||Number.isFinite(t)||(b=!0);break;case"object":t&&r(t)===x&&(b=!0);break;case"array":Array.isArray(t)&&(b=!0);break;case"other":b=this.currOtherTypeCallback(t,n,i,a);break;case"null":null===t&&(b=!0);break;default:throw new TypeError("Unknown value type "+x)}if(b)return c={path:n,value:t,parent:i,parentProperty:a},this._handleCallback(c,o,"value"),c}else if("`"===d[0]&&t&&h.call(t,d.slice(1))){var w=d.slice(1);y(this._trace(m,t[w],p(n,w),t,w,o,u,!0))}else if(d.includes(",")){var _,k=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}(d.split(","));try{for(k.s();!(_=k.n()).done;){var E=_.value;y(this._trace(v(E,m),t,n,i,a,o,!0))}}catch(j){k.e(j)}finally{k.f()}}else!s&&t&&h.call(t,d)&&y(this._trace(m,t[d],p(n,d),t,d,o,u,!0))}if(this._hasParentSelector)for(var O=0;O<g.length;O++){var S=g[O];if(S&&S.isParentSelector){var A=this._trace(S.expr,t,S.path,i,a,o,u);if(Array.isArray(A)){g[O]=A[0];for(var C=A.length,D=1;D<C;D++)O++,g.splice(O,0,A[D])}else g[O]=A}}return g},g.prototype._walk=function(e,t,n,i,a,o,u,s){if(Array.isArray(n))for(var c=n.length,l=0;l<c;l++)s(l,e,t,n,i,a,o,u);else n&&"object"===r(n)&&Object.keys(n).forEach((function(r){s(r,e,t,n,i,a,o,u)}))},g.prototype._slice=function(e,t,n,r,i,a,o){if(Array.isArray(n)){var u=n.length,s=e.split(":"),c=s[2]&&Number.parseInt(s[2])||1,l=s[0]&&Number.parseInt(s[0])||0,f=s[1]&&Number.parseInt(s[1])||u;l=l<0?Math.max(0,l+u):Math.min(u,l),f=f<0?Math.max(0,f+u):Math.min(u,f);for(var d=[],h=l;h<f;h+=c){this._trace(v(h,t),n,r,i,a,o,!0).forEach((function(e){d.push(e)}))}return d}},g.prototype._eval=function(e,t,n,r,i,a){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=a,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=i,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=g.toPathString(r.concat([n])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(o){throw console.log(o),new Error("jsonPath: "+o.message+": "+e)}},g.cache={},g.toPathString=function(e){for(var t=e,n=t.length,r="$",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[i])||(r+=/^[\*0-9]+$/.test(t[i])?"["+t[i]+"]":"['"+t[i]+"']");return r},g.toPointer=function(e){for(var t=e,n=t.length,r="",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[i])||(r+="/"+t[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r},g.toPathArray=function(e){var t=g.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,(function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"})).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map((function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e}));return t[e]=r,t[e].concat()};g.prototype.vm={runInNewContext:function(e,t){var n=Object.keys(t),r=[];!function(e,t,n){for(var r=e.length,i=0;i<r;i++)n(e[i])&&t.push(e.splice(i--,1)[0])}(n,r,(function(e){return"function"===typeof t[e]}));var i=n.map((function(e,n){return t[e]})),a=r.reduce((function(e,n){var r=t[n].toString();return/function/.test(r)||(r="function "+r),"var "+n+"="+r+";"+e}),"");/(["'])use strict\1/.test(e=a+e)||n.includes("arguments")||(e="var arguments = undefined;"+e);var o=(e=e.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),s=o>-1?e.slice(0,o+1)+" return "+e.slice(o+1):" return "+e;return u(Function,l(n).concat([s])).apply(void 0,l(i))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/DigitalFootprintsLab/";n(7124)}();
//# sourceMappingURL=main.6816edec.js.map