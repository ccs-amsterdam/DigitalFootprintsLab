/*! For license information please see main.8f02954a.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8926:function(e){function t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,n){var r=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1109:function(e,t,n){var r=n(9713);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),i=n(3884),a=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),i=n(6860),a=n(379),o=n(8206);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},8088:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{attentionMarkers:function(){return Uy},contentInitial:function(){return Ny},disable:function(){return qy},document:function(){return My},flow:function(){return Iy},flowInitial:function(){return Ry},insideSpan:function(){return Ly},string:function(){return By},text:function(){return zy}});var i={};n.r(i),n.d(i,{boolean:function(){return Bb},booleanish:function(){return zb},commaOrSpaceSeparated:function(){return Hb},commaSeparated:function(){return Wb},number:function(){return Ub},overloadedBoolean:function(){return Lb},spaceSeparated:function(){return qb}});var a={};n.r(a),n.d(a,{JsonPatchError:function(){return __},_areEquals:function(){return F_},applyOperation:function(){return A_},applyPatch:function(){return C_},applyReducer:function(){return D_},deepClone:function(){return k_},getValueByPointer:function(){return S_},validate:function(){return T_},validator:function(){return j_}});var o={};n.r(o),n.d(o,{compare:function(){return L_},generate:function(){return B_},observe:function(){return I_},unobserve:function(){return R_}});var u={};n.r(u),n.d(u,{aggregate:function(){return SF},bin:function(){return AF},collect:function(){return DF},compare:function(){return jF},countpattern:function(){return FF},cross:function(){return PF},density:function(){return IF},dotbin:function(){return qF},expression:function(){return WF},extent:function(){return $F},facet:function(){return GF},field:function(){return YF},filter:function(){return XF},flatten:function(){return QF},fold:function(){return ZF},formula:function(){return JF},generate:function(){return eP},impute:function(){return rP},joinaggregate:function(){return iP},kde:function(){return aP},key:function(){return oP},load:function(){return sP},lookup:function(){return lP},multiextent:function(){return fP},multivalues:function(){return hP},params:function(){return vP},pivot:function(){return mP},prefacet:function(){return gP},project:function(){return yP},proxy:function(){return bP},quantile:function(){return xP},relay:function(){return wP},sample:function(){return _P},sequence:function(){return kP},sieve:function(){return EP},subflow:function(){return VF},timeunit:function(){return OP},tupleindex:function(){return AP},values:function(){return CP},window:function(){return PP}});var s={};n.r(s),n.d(s,{interpolate:function(){return ER},interpolateArray:function(){return mR},interpolateBasis:function(){return rR},interpolateBasisClosed:function(){return iR},interpolateCubehelix:function(){return uz},interpolateCubehelixLong:function(){return sz},interpolateDate:function(){return yR},interpolateDiscrete:function(){return fB},interpolateHcl:function(){return $B},interpolateHclLong:function(){return VB},interpolateHsl:function(){return kB},interpolateHslLong:function(){return EB},interpolateHue:function(){return dB},interpolateLab:function(){return WB},interpolateNumber:function(){return bR},interpolateNumberArray:function(){return pR},interpolateObject:function(){return xR},interpolateRgb:function(){return lR},interpolateRgbBasis:function(){return dR},interpolateRgbBasisClosed:function(){return hR},interpolateRound:function(){return OR},interpolateString:function(){return kR},interpolateTransformCss:function(){return yB},interpolateTransformSvg:function(){return bB},interpolateZoom:function(){return wB},piecewise:function(){return sB},quantize:function(){return cz}});var c={};n.r(c),n.d(c,{bound:function(){return M$},identifier:function(){return I$},mark:function(){return B$},overlap:function(){return z$},render:function(){return V$},viewlayout:function(){return pV}});var l={};n.r(l),n.d(l,{axisticks:function(){return mV},datajoin:function(){return gV},encode:function(){return bV},legendentries:function(){return xV},linkpath:function(){return OV},pie:function(){return jV},scale:function(){return PV},sortitems:function(){return IV},stack:function(){return qV}});var f={};n.r(f),n.d(f,{contour:function(){return OX},geojson:function(){return CX},geopath:function(){return DX},geopoint:function(){return jX},geoshape:function(){return TX},graticule:function(){return FX},heatmap:function(){return PX},isocontour:function(){return vX},kde2d:function(){return _X},projection:function(){return NX}});var d={};n.r(d),n.d(d,{force:function(){return TQ}});var h={};n.r(h),n.d(h,{nest:function(){return MZ},pack:function(){return LZ},partition:function(){return qZ},stratify:function(){return WZ},tree:function(){return VZ},treelinks:function(){return GZ},treemap:function(){return XZ}});var p={};n.r(p),n.d(p,{label:function(){return xJ}});var v={};n.r(v),n.d(v,{loess:function(){return _J},regression:function(){return EJ}});var m={};n.r(m),n.d(m,{voronoi:function(){return XJ}});var g={};n.r(g),n.d(g,{wordcloud:function(){return f0}});var y={};n.r(y),n.d(y,{crossfilter:function(){return y0},resolvefilter:function(){return b0}});var b={};n.r(b),n.d(b,{Bounds:function(){return _U},CanvasHandler:function(){return JW},CanvasRenderer:function(){return iH},DATE:function(){return dS},DAY:function(){return hS},DAYOFYEAR:function(){return pS},Dataflow:function(){return Zj},Debug:function(){return ck},Error:function(){return ok},EventStream:function(){return Fj},Gradient:function(){return DL},GroupItem:function(){return EU},HOURS:function(){return vS},Handler:function(){return NW},Info:function(){return sk},Item:function(){return kU},MILLISECONDS:function(){return yS},MINUTES:function(){return mS},MONTH:function(){return lS},Marks:function(){return bW},MultiPulse:function(){return $j},None:function(){return ak},Operator:function(){return Dj},Parameters:function(){return Sj},Pulse:function(){return Uj},QUARTER:function(){return cS},RenderType:function(){return GH},Renderer:function(){return IW},ResourceLoader:function(){return OU},SECONDS:function(){return gS},SVGHandler:function(){return oH},SVGRenderer:function(){return jH},SVGStringRenderer:function(){return HH},Scenegraph:function(){return AW},TIME_UNITS:function(){return bS},Transform:function(){return eT},View:function(){return V5},WEEK:function(){return fS},Warn:function(){return uk},YEAR:function(){return sS},accessor:function(){return W_},accessorFields:function(){return $_},accessorName:function(){return H_},array:function(){return Rk},ascending:function(){return Lk},bandwidthNRD:function(){return bT},bin:function(){return xT},bootstrapCI:function(){return kT},boundClip:function(){return t$},boundContext:function(){return VU},boundItem:function(){return xW},boundMark:function(){return _W},boundStroke:function(){return CU},changeset:function(){return Ej},clampRange:function(){return Ik},codegenExpression:function(){return z1},compare:function(){return zk},constant:function(){return Hk},cumulativeLogNormal:function(){return BT},cumulativeNormal:function(){return FT},cumulativeUniform:function(){return HT},dayofyear:function(){return SS},debounce:function(){return $k},defaultLocale:function(){return FD},definition:function(){return nT},densityLogNormal:function(){return IT},densityNormal:function(){return TT},densityUniform:function(){return WT},domChild:function(){return TW},domClear:function(){return FW},domCreate:function(){return DW},domFind:function(){return jW},dotbin:function(){return ET},error:function(){return K_},expressionFunction:function(){return z3},extend:function(){return Vk},extent:function(){return Gk},extentIndex:function(){return Yk},falsy:function(){return rk},fastmap:function(){return Zk},field:function(){return Q_},flush:function(){return Jk},font:function(){return fW},fontFamily:function(){return lW},fontSize:function(){return aW},format:function(){return aj},formatLocale:function(){return ED},formats:function(){return oj},hasOwnProperty:function(){return Xk},id:function(){return Z_},identity:function(){return J_},inferType:function(){return ZD},inferTypes:function(){return JD},ingest:function(){return yj},inherits:function(){return eE},inrange:function(){return tE},interpolate:function(){return Jz},interpolateColors:function(){return Xz},interpolateRange:function(){return Kz},intersect:function(){return XH},intersectBoxLine:function(){return rq},intersectPath:function(){return JU},intersectPoint:function(){return eq},intersectRule:function(){return nq},isArray:function(){return fk},isBoolean:function(){return nE},isDate:function(){return rE},isFunction:function(){return Bk},isIterable:function(){return iE},isNumber:function(){return aE},isObject:function(){return dk},isRegExp:function(){return oE},isString:function(){return uE},isTuple:function(){return vj},key:function(){return sE},lerp:function(){return cE},lineHeight:function(){return oW},loader:function(){return cj},locale:function(){return TD},logger:function(){return lk},lruCache:function(){return lE},markup:function(){return kH},merge:function(){return fE},mergeConfig:function(){return pk},multiLineOffset:function(){return sW},one:function(){return tk},pad:function(){return hE},panLinear:function(){return Ok},panLog:function(){return Sk},panPow:function(){return Ak},panSymlog:function(){return Ck},parse:function(){return J9},parseExpression:function(){return R1},parseSelector:function(){return r6},pathCurves:function(){return TL},pathEqual:function(){return r$},pathParse:function(){return ML},pathRectangle:function(){return iU},pathRender:function(){return $L},pathSymbols:function(){return KL},pathTrail:function(){return aU},peek:function(){return gk},point:function(){return MW},projection:function(){return tX},quantileLogNormal:function(){return zT},quantileNormal:function(){return PT},quantileUniform:function(){return $T},quantiles:function(){return gT},quantizeInterpolator:function(){return Qz},quarter:function(){return Mk},quartiles:function(){return yT},random:function(){return wT},randomInteger:function(){return ST},randomKDE:function(){return NT},randomLCG:function(){return OT},randomLogNormal:function(){return LT},randomMixture:function(){return UT},randomNormal:function(){return MT},randomUniform:function(){return VT},read:function(){return sj},regressionExp:function(){return JT},regressionLinear:function(){return QT},regressionLoess:function(){return iF},regressionLog:function(){return ZT},regressionPoly:function(){return nF},regressionPow:function(){return eF},regressionQuad:function(){return tF},renderModule:function(){return KH},repeat:function(){return dE},resetDefaultLocale:function(){return PD},resetSVGClipId:function(){return xU},resetSVGDefIds:function(){return i$},responseType:function(){return uj},runtimeContext:function(){return K3},sampleCurve:function(){return sF},sampleLogNormal:function(){return RT},sampleNormal:function(){return jT},sampleUniform:function(){return qT},scale:function(){return zz},sceneEqual:function(){return n$},sceneFromJSON:function(){return OW},scenePickVisit:function(){return pq},sceneToJSON:function(){return EW},sceneVisit:function(){return hq},sceneZOrder:function(){return dq},scheme:function(){return rL},serializeXML:function(){return EH},setRandom:function(){return _T},span:function(){return pE},splitAccessPath:function(){return X_},stringValue:function(){return vE},textMetrics:function(){return Jq},timeBin:function(){return mA},timeFloor:function(){return qS},timeFormatLocale:function(){return DD},timeInterval:function(){return YS},timeOffset:function(){return QS},timeSequence:function(){return eA},timeUnitSpecifier:function(){return kS},timeUnits:function(){return wS},toBoolean:function(){return mE},toDate:function(){return yE},toNumber:function(){return yk},toSet:function(){return xE},toString:function(){return bE},transform:function(){return rT},transforms:function(){return tT},truncate:function(){return wE},truthy:function(){return nk},tupleid:function(){return mj},typeParsers:function(){return KD},utcFloor:function(){return $S},utcInterval:function(){return KS},utcOffset:function(){return ZS},utcSequence:function(){return tA},utcdayofyear:function(){return FS},utcquarter:function(){return Nk},utcweek:function(){return PS},version:function(){return t7},visitArray:function(){return _E},week:function(){return AS},writeConfig:function(){return vk},zero:function(){return ek},zoomLinear:function(){return jk},zoomLog:function(){return Tk},zoomPow:function(){return Fk},zoomSymlog:function(){return Pk}});var x={};n.r(x),n.d(x,{accessPathDepth:function(){return ree},accessPathWithDatum:function(){return Q7},compile:function(){return uve},contains:function(){return T7},deepEqual:function(){return k7},deleteNestedProperty:function(){return K7},duplicate:function(){return E7},entries:function(){return $7},every:function(){return P7},fieldIntersection:function(){return U7},flatAccessWithDatum:function(){return Z7},getFirstDefined:function(){return iee},hasIntersection:function(){return z7},hash:function(){return D7},internalField:function(){return see},isBoolean:function(){return V7},isEmpty:function(){return q7},isEqual:function(){return I7},isInternalField:function(){return cee},isNullOrFalse:function(){return j7},isNumeric:function(){return fee},keys:function(){return W7},logicalExpr:function(){return Y7},mergeDeep:function(){return M7},never:function(){return O7},normalize:function(){return mce},normalizeAngle:function(){return lee},omit:function(){return A7},pick:function(){return S7},prefixGenerator:function(){return L7},removePathFromField:function(){return nee},replaceAll:function(){return tee},replacePathInField:function(){return eee},resetIdCounter:function(){return uee},setEqual:function(){return B7},some:function(){return F7},stringify:function(){return C7},titleCase:function(){return X7},unique:function(){return R7},uniqueId:function(){return oee},vals:function(){return H7},varName:function(){return G7},version:function(){return lve}});var w={};n.r(w),n.d(w,{dark:function(){return hve},excel:function(){return vve},fivethirtyeight:function(){return xve},ggplot2:function(){return _ve},googlecharts:function(){return Wve},latimes:function(){return Cve},quartz:function(){return Tve},urbaninstitute:function(){return zve},version:function(){return Hve},vox:function(){return Pve}});var _=n(2791),k=n(4164);function E(e){if(Array.isArray(e))return e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){return E(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||S(e,t)||A()}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}var j,T=j||(j={});T.Pop="POP",T.Push="PUSH",T.Replace="REPLACE";var F=function(e){return e};function P(e){e.preventDefault(),e.returnValue=""}function M(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function N(){return Math.random().toString(36).substr(2,8)}function R(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function I(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function B(e,t){if(!e)throw new Error(t)}var z=(0,_.createContext)(null);var L=(0,_.createContext)(null);var U=(0,_.createContext)({outlet:null,matches:[]});function q(e){var t=e.to,n=e.replace,r=e.state;Y()||B(!1);var i=X();return(0,_.useEffect)((function(){i(t,{replace:n,state:r})})),null}function W(e){return function(e){var t=(0,_.useContext)(U).outlet;if(t)return(0,_.createElement)(Q.Provider,{value:e},t);return t}(e.context)}function H(e){B(!1)}function $(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?j.Pop:o,s=e.navigator,c=e.static,l=void 0!==c&&c;Y()&&B(!1);var f=le(n),d=(0,_.useMemo)((function(){return{basename:f,navigator:s,static:l}}),[f,s,l]);"string"===typeof a&&(a=I(a));var h=a,p=h.pathname,v=void 0===p?"/":p,m=h.search,g=void 0===m?"":m,y=h.hash,b=void 0===y?"":y,x=h.state,w=void 0===x?null:x,k=h.key,E=void 0===k?"default":k,O=(0,_.useMemo)((function(){var e=se(v,f);return null==e?null:{pathname:e,search:g,hash:b,state:w,key:E}}),[f,v,g,b,w,E]);return null==O?null:(0,_.createElement)(z.Provider,{value:d},(0,_.createElement)(L.Provider,{children:i,value:{location:O,navigationType:u}}))}function V(e){var t=e.children,n=e.location;return function(e,t){Y()||B(!1);var n=(0,_.useContext)(U).matches,r=n[n.length-1],i=r?r.params:{},a=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var o,u=K();if(t){var s,c="string"===typeof t?I(t):t;"/"===a||(null==(s=c.pathname)?void 0:s.startsWith(a))||B(!1),o=c}else o=u;var l=o.pathname||"/",f="/"===a?l:l.slice(a.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=se(("string"===typeof t?I(t):t).pathname||"/",n);if(null==r)return null;var i=ee(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ie(i[o],r);return a}(e,{pathname:f});0;return ae(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},i,e.params),pathname:ce([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:ce([a,e.pathnameBase])})})),n)}(J(t),n)}function G(e){Y()||B(!1);var t=(0,_.useContext)(z),n=t.basename,r=t.navigator,i=Z(e),a=i.hash,o=i.pathname,u=i.search,s=o;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?I(e).pathname:e.pathname}(e),l=null!=c&&c.endsWith("/");s="/"===o?n+(l?"/":""):ce([n,o])}return r.createHref({pathname:s,search:u,hash:a})}function Y(){return null!=(0,_.useContext)(L)}function K(){return Y()||B(!1),(0,_.useContext)(L).location}function X(){Y()||B(!1);var e=(0,_.useContext)(z),t=e.basename,n=e.navigator,r=(0,_.useContext)(U).matches,i=K().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),o=(0,_.useRef)(!1);(0,_.useEffect)((function(){o.current=!0}));var u=(0,_.useCallback)((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=ue(e,JSON.parse(a),i);"/"!==t&&(u.pathname=ce([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state)}else n.go(e)}),[t,n,a,i]);return u}var Q=(0,_.createContext)(null);function Z(e){var t=(0,_.useContext)(U).matches,n=K().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,_.useMemo)((function(){return ue(e,JSON.parse(r),n)}),[e,r,n])}function J(e){var t=[];return _.Children.forEach(e,(function(e){if((0,_.isValidElement)(e))if(e.type!==_.Fragment){e.type!==H&&B(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=J(e.props.children)),t.push(n)}else t.push.apply(t,J(e.props.children))})),t}function ee(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||B(!1),a.relativePath=a.relativePath.slice(r.length));var o=ce([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&B(!1),ee(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:re(o,e.index),routesMeta:u})})),t}var te=/^:\w+$/,ne=function(e){return"*"===e};function re(e,t){var n=e.split("/"),r=n.length;return n.some(ne)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!ne(e)})).reduce((function(e,t){return e+(te.test(t)?3:""===t?1:10)}),r)}function ie(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=oe({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ce([i,l.pathname]),pathnameBase:ce([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=ce([i,l.pathnameBase]))}return a}function ae(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,_.createElement)(U.Provider,{children:void 0!==r.route.element?r.route.element:(0,_.createElement)(W,null),value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function oe(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=C(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(K_){return e}}(c[n]||""),e}),{});return{params:l,pathname:u,pathnameBase:s,pattern:e}}function ue(e,t,n){var r,i="string"===typeof e?I(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?I(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:fe(a),hash:de(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function se(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var ce=function(e){return e.join("/").replace(/\/\/+/g,"/")},le=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},fe=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},de=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ve=["onClick","reloadDocument","replace","state","target","to"];function me(e){var t=e.basename,n=e.children,r=e.window,i=(0,_.useRef)();null==i.current&&(i.current=function(e){function t(){var e=o.location,t=u.state||{};return[t.idx,F({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:R(e)}function r(e,t){return void 0===t&&(t=null),F(D({pathname:f.pathname,hash:"",search:""},"string"===typeof e?I(e):e,{state:t,key:N()}))}function i(e){c=e,e=t(),l=e[0],f=e[1],d.call({action:c,location:f})}function a(e){u.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,u=o.history,s=null;o.addEventListener("popstate",(function(){if(s)h.call(s),s=null;else{var e=j.Pop,n=t(),r=n[0];if(n=n[1],h.length){if(null!=r){var o=l-r;o&&(s={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=j.Pop,l=(e=t())[0],f=e[1],d=M(),h=M();return null==l&&(l=0,u.replaceState(D({},u.state,{idx:l}),"")),{get action(){return c},get location(){return f},createHref:n,push:function e(t,a){var s=j.Push,c=r(t,a);if(!h.length||(h.call({action:s,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{u.pushState(c,"",f)}catch(d){o.location.assign(f)}i(s)}},replace:function e(t,a){var o=j.Replace,s=r(t,a);h.length&&(h.call({action:o,location:s,retry:function(){e(t,a)}}),1)||(s=[{usr:s.state,key:s.key,idx:l},n(s)],u.replaceState(s[0],"",s[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return d.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&o.addEventListener("beforeunload",P),function(){t(),h.length||o.removeEventListener("beforeunload",P)}}}}({window:r}));var a=i.current,o=C((0,_.useState)({action:a.action,location:a.location}),2),u=o[0],s=o[1];return(0,_.useLayoutEffect)((function(){return a.listen(s)}),[a]),(0,_.createElement)($,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:a})}var ge=(0,_.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,i=e.replace,a=void 0!==i&&i,o=e.state,u=e.target,s=e.to,c=pe(e,ve),l=G(s),f=function(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,a=n.state,o=X(),u=K(),s=Z(e);return(0,_.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!i||R(u)===R(s);o(e,{replace:n,state:a})}}),[u,o,s,i,a,r,e])}(s,{replace:a,state:o,target:u});return(0,_.createElement)("a",he({},c,{href:l,onClick:function(e){n&&n(e),e.defaultPrevented||r||f(e)},ref:t,target:u}))}));function ye(e,t){return ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ye(e,t)}function be(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ye(e,t)}var xe=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var we=function(){this.__data__=[],this.size=0};var _e=function(e,t){return e===t||e!==e&&t!==t};var ke=function(e,t){for(var n=e.length;n--;)if(_e(e[n][0],t))return n;return-1},Ee=Array.prototype.splice;var Oe=function(e){var t=this.__data__,n=ke(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ee.call(t,n,1),--this.size,!0)};var Se=function(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]};var Ae=function(e){return ke(this.__data__,e)>-1};var Ce=function(e,t){var n=this.__data__,r=ke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function De(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}De.prototype.clear=we,De.prototype.delete=Oe,De.prototype.get=Se,De.prototype.has=Ae,De.prototype.set=Ce;var je=De;var Te=function(){this.__data__=new je,this.size=0};var Fe=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Pe=function(e){return this.__data__.get(e)};var Me=function(e){return this.__data__.has(e)},Ne="object"==typeof global&&global&&global.Object===Object&&global,Re="object"==typeof self&&self&&self.Object===Object&&self,Ie=Ne||Re||Function("return this")(),Be=Ie.Symbol,ze=Object.prototype,Le=ze.hasOwnProperty,Ue=ze.toString,qe=Be?Be.toStringTag:void 0;var We=function(e){var t=Le.call(e,qe),n=e[qe];try{e[qe]=void 0;var r=!0}catch(a){}var i=Ue.call(e);return r&&(t?e[qe]=n:delete e[qe]),i},He=Object.prototype.toString;var $e=function(e){return He.call(e)},Ve=Be?Be.toStringTag:void 0;var Ge=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ve&&Ve in Object(e)?We(e):$e(e)};var Ye=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Ke=function(e){if(!Ye(e))return!1;var t=Ge(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Xe=Ie["__core-js_shared__"],Qe=function(){var e=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Ze=function(e){return!!Qe&&Qe in e},Je=Function.prototype.toString;var et=function(e){if(null!=e){try{return Je.call(e)}catch(t){}try{return e+""}catch(t){}}return""},tt=/^\[object .+?Constructor\]$/,nt=Function.prototype,rt=Object.prototype,it=nt.toString,at=rt.hasOwnProperty,ot=RegExp("^"+it.call(at).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ut=function(e){return!(!Ye(e)||Ze(e))&&(Ke(e)?ot:tt).test(et(e))};var st=function(e,t){return null==e?void 0:e[t]};var ct=function(e,t){var n=st(e,t);return ut(n)?n:void 0},lt=ct(Ie,"Map"),ft=ct(Object,"create");var dt=function(){this.__data__=ft?ft(null):{},this.size=0};var ht=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pt=Object.prototype.hasOwnProperty;var vt=function(e){var t=this.__data__;if(ft){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return pt.call(t,e)?t[e]:void 0},mt=Object.prototype.hasOwnProperty;var gt=function(e){var t=this.__data__;return ft?void 0!==t[e]:mt.call(t,e)};var yt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ft&&void 0===t?"__lodash_hash_undefined__":t,this};function bt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bt.prototype.clear=dt,bt.prototype.delete=ht,bt.prototype.get=vt,bt.prototype.has=gt,bt.prototype.set=yt;var xt=bt;var wt=function(){this.size=0,this.__data__={hash:new xt,map:new(lt||je),string:new xt}};var _t=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var kt=function(e,t){var n=e.__data__;return _t(t)?n["string"==typeof t?"string":"hash"]:n.map};var Et=function(e){var t=kt(this,e).delete(e);return this.size-=t?1:0,t};var Ot=function(e){return kt(this,e).get(e)};var St=function(e){return kt(this,e).has(e)};var At=function(e,t){var n=kt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ct(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ct.prototype.clear=wt,Ct.prototype.delete=Et,Ct.prototype.get=Ot,Ct.prototype.has=St,Ct.prototype.set=At;var Dt=Ct;var jt=function(e,t){var n=this.__data__;if(n instanceof je){var r=n.__data__;if(!lt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dt(r)}return n.set(e,t),this.size=n.size,this};function Tt(e){var t=this.__data__=new je(e);this.size=t.size}Tt.prototype.clear=Te,Tt.prototype.delete=Fe,Tt.prototype.get=Pe,Tt.prototype.has=Me,Tt.prototype.set=jt;var Ft=Tt;var Pt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Mt=function(e){return this.__data__.has(e)};function Nt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dt;++t<n;)this.add(e[t])}Nt.prototype.add=Nt.prototype.push=Pt,Nt.prototype.has=Mt;var Rt=Nt;var It=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Bt=function(e,t){return e.has(t)};var zt=function(e,t,n,r,i,a){var o=1&n,u=e.length,s=t.length;if(u!=s&&!(o&&s>u))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var f=-1,d=!0,h=2&n?new Rt:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var m=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!It(t,(function(e,t){if(!Bt(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)}))){d=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d},Lt=Ie.Uint8Array;var Ut=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var qt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Wt=Be?Be.prototype:void 0,Ht=Wt?Wt.valueOf:void 0;var $t=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Lt(e),new Lt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _e(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Ut;case"[object Set]":var s=1&r;if(u||(u=qt),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=zt(u(e),u(t),r,i,a,o);return o.delete(e),l;case"[object Symbol]":if(Ht)return Ht.call(e)==Ht.call(t)}return!1};var Vt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Gt=Array.isArray;var Yt=function(e,t,n){var r=t(e);return Gt(e)?r:Vt(r,n(e))};var Kt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Xt=function(){return[]},Qt=Object.prototype.propertyIsEnumerable,Zt=Object.getOwnPropertySymbols,Jt=Zt?function(e){return null==e?[]:(e=Object(e),Kt(Zt(e),(function(t){return Qt.call(e,t)})))}:Xt,en=Jt;var tn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var nn=function(e){return null!=e&&"object"==typeof e};var rn=function(e){return nn(e)&&"[object Arguments]"==Ge(e)},an=Object.prototype,on=an.hasOwnProperty,un=an.propertyIsEnumerable,sn=rn(function(){return arguments}())?rn:function(e){return nn(e)&&on.call(e,"callee")&&!un.call(e,"callee")},cn=sn;var ln=function(){return!1},fn="object"==typeof exports&&exports&&!exports.nodeType&&exports,dn=fn&&"object"==typeof module&&module&&!module.nodeType&&module,hn=dn&&dn.exports===fn?Ie.Buffer:void 0,pn=(hn?hn.isBuffer:void 0)||ln,vn=/^(?:0|[1-9]\d*)$/;var mn=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&vn.test(e))&&e>-1&&e%1==0&&e<t};var gn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},yn={};yn["[object Float32Array]"]=yn["[object Float64Array]"]=yn["[object Int8Array]"]=yn["[object Int16Array]"]=yn["[object Int32Array]"]=yn["[object Uint8Array]"]=yn["[object Uint8ClampedArray]"]=yn["[object Uint16Array]"]=yn["[object Uint32Array]"]=!0,yn["[object Arguments]"]=yn["[object Array]"]=yn["[object ArrayBuffer]"]=yn["[object Boolean]"]=yn["[object DataView]"]=yn["[object Date]"]=yn["[object Error]"]=yn["[object Function]"]=yn["[object Map]"]=yn["[object Number]"]=yn["[object Object]"]=yn["[object RegExp]"]=yn["[object Set]"]=yn["[object String]"]=yn["[object WeakMap]"]=!1;var bn=function(e){return nn(e)&&gn(e.length)&&!!yn[Ge(e)]};var xn=function(e){return function(t){return e(t)}},wn="object"==typeof exports&&exports&&!exports.nodeType&&exports,_n=wn&&"object"==typeof module&&module&&!module.nodeType&&module,kn=_n&&_n.exports===wn&&Ne.process,En=function(){try{var e=_n&&_n.require&&_n.require("util").types;return e||kn&&kn.binding&&kn.binding("util")}catch(t){}}(),On=En&&En.isTypedArray,Sn=On?xn(On):bn,An=Object.prototype.hasOwnProperty;var Cn=function(e,t){var n=Gt(e),r=!n&&cn(e),i=!n&&!r&&pn(e),a=!n&&!r&&!i&&Sn(e),o=n||r||i||a,u=o?tn(e.length,String):[],s=u.length;for(var c in e)!t&&!An.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mn(c,s))||u.push(c);return u},Dn=Object.prototype;var jn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Dn)};var Tn=function(e,t){return function(n){return e(t(n))}},Fn=Tn(Object.keys,Object),Pn=Object.prototype.hasOwnProperty;var Mn=function(e){if(!jn(e))return Fn(e);var t=[];for(var n in Object(e))Pn.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Nn=function(e){return null!=e&&gn(e.length)&&!Ke(e)};var Rn=function(e){return Nn(e)?Cn(e):Mn(e)};var In=function(e){return Yt(e,Rn,en)},Bn=Object.prototype.hasOwnProperty;var zn=function(e,t,n,r,i,a){var o=1&n,u=In(e),s=u.length;if(s!=In(t).length&&!o)return!1;for(var c=s;c--;){var l=u[c];if(!(o?l in t:Bn.call(t,l)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<s;){var v=e[l=u[c]],m=t[l];if(r)var g=o?r(m,v,l,t,e,a):r(v,m,l,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h},Ln=ct(Ie,"DataView"),Un=ct(Ie,"Promise"),qn=ct(Ie,"Set"),Wn=ct(Ie,"WeakMap"),Hn="[object Map]",$n="[object Promise]",Vn="[object Set]",Gn="[object WeakMap]",Yn="[object DataView]",Kn=et(Ln),Xn=et(lt),Qn=et(Un),Zn=et(qn),Jn=et(Wn),er=Ge;(Ln&&er(new Ln(new ArrayBuffer(1)))!=Yn||lt&&er(new lt)!=Hn||Un&&er(Un.resolve())!=$n||qn&&er(new qn)!=Vn||Wn&&er(new Wn)!=Gn)&&(er=function(e){var t=Ge(e),n="[object Object]"==t?e.constructor:void 0,r=n?et(n):"";if(r)switch(r){case Kn:return Yn;case Xn:return Hn;case Qn:return $n;case Zn:return Vn;case Jn:return Gn}return t});var tr=er,nr="[object Arguments]",rr="[object Array]",ir="[object Object]",ar=Object.prototype.hasOwnProperty;var or=function(e,t,n,r,i,a){var o=Gt(e),u=Gt(t),s=o?rr:tr(e),c=u?rr:tr(t),l=(s=s==nr?ir:s)==ir,f=(c=c==nr?ir:c)==ir,d=s==c;if(d&&pn(e)){if(!pn(t))return!1;o=!0,l=!1}if(d&&!l)return a||(a=new Ft),o||Sn(e)?zt(e,t,n,r,i,a):$t(e,t,s,n,r,i,a);if(!(1&n)){var h=l&&ar.call(e,"__wrapped__"),p=f&&ar.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,m=p?t.value():t;return a||(a=new Ft),i(v,m,n,r,a)}}return!!d&&(a||(a=new Ft),zn(e,t,n,r,i,a))};var ur=function e(t,n,r,i,a){return t===n||(null==t||null==n||!nn(t)&&!nn(n)?t!==t&&n!==n:or(t,n,r,i,e,a))};var sr=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var u=n[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var s=(u=n[i])[0],c=e[s],l=u[1];if(o&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new Ft;if(r)var d=r(c,l,s,e,t,f);if(!(void 0===d?ur(l,c,3,r,f):d))return!1}}return!0};var cr=function(e){return e===e&&!Ye(e)};var lr=function(e){for(var t=Rn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,cr(i)]}return t};var fr=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var dr=function(e){var t=lr(e);return 1==t.length&&t[0][2]?fr(t[0][0],t[0][1]):function(n){return n===e||sr(n,e,t)}};var hr=function(e){return"symbol"==typeof e||nn(e)&&"[object Symbol]"==Ge(e)},pr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vr=/^\w*$/;var mr=function(e,t){if(Gt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!hr(e))||(vr.test(e)||!pr.test(e)||null!=t&&e in Object(t))};function gr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(gr.Cache||Dt),n}gr.Cache=Dt;var yr=gr;var br=function(e){var t=yr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},xr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wr=/\\(\\)?/g,_r=br((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xr,(function(e,n,r,i){t.push(r?i.replace(wr,"$1"):n||e)})),t})),kr=_r,Er=Be?Be.prototype:void 0,Or=Er?Er.toString:void 0;var Sr=function e(t){if("string"==typeof t)return t;if(Gt(t))return xe(t,e)+"";if(hr(t))return Or?Or.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Ar=function(e){return null==e?"":Sr(e)};var Cr=function(e,t){return Gt(e)?e:mr(e,t)?[e]:kr(Ar(e))};var Dr=function(e){if("string"==typeof e||hr(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var jr=function(e,t){for(var n=0,r=(t=Cr(t,e)).length;null!=e&&n<r;)e=e[Dr(t[n++])];return n&&n==r?e:void 0};var Tr=function(e,t,n){var r=null==e?void 0:jr(e,t);return void 0===r?n:r};var Fr=function(e,t){return null!=e&&t in Object(e)};var Pr=function(e,t,n){for(var r=-1,i=(t=Cr(t,e)).length,a=!1;++r<i;){var o=Dr(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&gn(i)&&mn(o,i)&&(Gt(e)||cn(e))};var Mr=function(e,t){return null!=e&&Pr(e,t,Fr)};var Nr=function(e,t){return mr(e)&&cr(t)?fr(Dr(e),t):function(n){var r=Tr(n,e);return void 0===r&&r===t?Mr(n,e):ur(t,r,3)}};var Rr=function(e){return e};var Ir=function(e){return function(t){return null==t?void 0:t[e]}};var Br=function(e){return function(t){return jr(t,e)}};var zr=function(e){return mr(e)?Ir(Dr(e)):Br(e)};var Lr=function(e){return"function"==typeof e?e:null==e?Rr:"object"==typeof e?Gt(e)?Nr(e[0],e[1]):dr(e):zr(e)};var Ur=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}},qr=Ur();var Wr=function(e,t){return e&&qr(e,t,Rn)};var Hr=function(e,t){return function(n,r){if(null==n)return n;if(!Nn(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}},$r=Hr(Wr);var Vr=function(e,t){var n=-1,r=Nn(e)?Array(e.length):[];return $r(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var Gr=function(e,t){return(Gt(e)?xe:Vr)(e,Lr(t,3))};var Yr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var Kr=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Xr=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var Qr=function(e,t){return t.length<2?e:jr(e,Xr(t,0,-1))};var Zr=function(e,t,n){t=Cr(t,e);var r=null==(e=Qr(e,t))?e:e[Dr(Kr(t))];return null==r?void 0:Yr(r,e,n)},Jr=Math.max;var ei=function(e,t,n){return t=Jr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Jr(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(o),Yr(e,this,u)}};var ti=function(e){return function(){return e}},ni=function(){try{var e=ct(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),ri=ni?function(e,t){return ni(e,"toString",{configurable:!0,enumerable:!1,value:ti(t),writable:!0})}:Rr,ii=ri,ai=Date.now;var oi=function(e){var t=0,n=0;return function(){var r=ai(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},ui=oi(ii);var si=function(e,t){return ui(ei(e,t,Rr),e+"")},ci=si(Zr);function li(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=li(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function fi(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=li(e))&&(r&&(r+=" "),r+=t);return r}var di={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function hi(e){var t=typeof e;return"string"===t||"number"===t?di[e]||e:""}var pi=function(e,t){return e&&t},vi=function(e,t){return e&&!0!==e&&e+" "+t},mi=function(e,t){return e&&(!0===e?t:e+" "+t)},gi=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},yi=function(e){return"justified"===e?"justified":vi(e,"aligned")},bi=function(e){return vi(e,"aligned")},xi=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?hi(e):hi(e)+" "+t},wi=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};var _i=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var a=n();if(a)return a}return t.href?"a":i.as||"div"};var ki=function(e,t){var n;return $r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};var Ei=function(e,t,n){if(!Ye(n))return!1;var r=typeof t;return!!("number"==r?Nn(n)&&mn(t,n.length):"string"==r&&t in n)&&_e(n[t],e)};var Oi=function(e,t,n){var r=Gt(e)?It:ki;return n&&Ei(e,t,n)&&(t=void 0),r(e,Lr(t,3))},Si=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};function Ai(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ci=function(e){return void 0===e},Di=function(e,t,n,r){void 0===r&&(r=!1);var i,a=t[e];if(void 0!==a)return a;if(r){var o=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==o)return o;if(n){var u=n[e];if(void 0!==u)return u}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)},ji=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(t=e.call.apply(e,[this].concat(r))||this).constructor,o=a.autoControlledProps,u=a.getAutoControlledStateFromProps,s=ci(Ai(t),"getInitialAutoControlledState",t.props)||{},c=o.reduce((function(e,n){return e[n]=Di(n,t.props,s,!0),e}),{});return t.state=D({},s,c,{autoControlledProps:o,getAutoControlledStateFromProps:u}),t}return be(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!Ci(e[n])&&(t[n]=e[n]),t}),{});if(r){var a=r(e,D({},t,i),t);return D({},i,a)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(_.Component);var Ti=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var Fi=function(e){return e!==e};var Pi=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Mi=function(e,t,n){return t===t?Pi(e,t,n):Ti(e,Fi,n)};var Ni=function(e,t){return!!(null==e?0:e.length)&&Mi(e,t,0)>-1};var Ri=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Ii=function(){},Bi=qn&&1/qt(new qn([,-0]))[1]==1/0?function(e){return new qn(e)}:Ii,zi=Bi;var Li=function(e,t,n){var r=-1,i=Ni,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Ri;else if(a>=200){var c=t?null:zi(e);if(c)return qt(c);o=!1,i=Bt,s=new Rt}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u};var Ui=function(e){return e&&e.length?Li(e):[]},qi=Tn(Object.getPrototypeOf,Object),Wi=Function.prototype,Hi=Object.prototype,$i=Wi.toString,Vi=Hi.hasOwnProperty,Gi=$i.call(Object);var Yi=function(e){if(!nn(e)||"[object Object]"!=Ge(e))return!1;var t=qi(e);if(null===t)return!0;var n=Vi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$i.call(n)==Gi};var Ki=function(e){return"number"==typeof e||nn(e)&&"[object Number]"==Ge(e)};var Xi=function(e){return"string"==typeof e||!Gt(e)&&nn(e)&&"[object String]"==Ge(e)};var Qi=function(e){return!0===e||!1===e||nn(e)&&"[object Boolean]"==Ge(e)};var Zi=function(e){return null==e};function Ji(e,t,n,r){if(void 0===r&&(r={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(Zi(n)||Qi(n))return null;var i=Xi(n),a=Ki(n),o=Ke(n),u=_.isValidElement(n),s=Yi(n),c=i||a||Gt(n);if(!o&&!u&&!s&&!c)return null;var l=r.defaultProps,f=void 0===l?{}:l,d=u&&n.props||s&&n||c&&t(n),h=r.overrideProps,p=void 0===h?{}:h;p=Ke(p)?p(D({},f,d)):p;var v=D({},f,d,p);if(f.className||p.className||d.className){var m=fi(f.className,p.className,d.className);v.className=Ui(m.split(" ")).join(" ")}if((f.style||p.style||d.style)&&(v.style=D({},f.style,d.style,p.style)),Zi(v.key)){var g=v.childKey,y=r.autoGenerateKey,b=void 0===y||y;Zi(g)?b&&(i||a)&&(v.key=n):(v.key="function"===typeof g?g(v):g,delete v.childKey)}return u?_.cloneElement(n,v):"function"===typeof v.children?v.children(e,D({},v,{children:void 0})):c||s?_.createElement(e,v):o?n(e,v,v.children):void 0}function ea(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return Ji(e,t,n,r)}}var ta=ea("div",(function(e){return{children:e}})),na=ea("input",(function(e){return{type:e}})),ra=ea("label",(function(e){return{children:e}}));function ia(e){var t=e.children,n=e.className,r=e.content,i=fi("header",n),a=wi(ia,e),o=_i(ia,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}ia.handledProps=["as","children","className","content"],ia.propTypes={};var aa=ia;var oa=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var ua=function(e){return function(t){return null==e?void 0:e[t]}},sa=ua({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),ca=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,la=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var fa=function(e){return(e=Ar(e))&&e.replace(ca,sa).replace(la,"")},da=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var ha=function(e){return e.match(da)||[]},pa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var va=function(e){return pa.test(e)},ma="\\u2700-\\u27bf",ga="a-z\\xdf-\\xf6\\xf8-\\xff",ya="A-Z\\xc0-\\xd6\\xd8-\\xde",ba="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xa="["+ba+"]",wa="\\d+",_a="[\\u2700-\\u27bf]",ka="["+ga+"]",Ea="[^\\ud800-\\udfff"+ba+wa+ma+ga+ya+"]",Oa="(?:\\ud83c[\\udde6-\\uddff]){2}",Sa="[\\ud800-\\udbff][\\udc00-\\udfff]",Aa="["+ya+"]",Ca="(?:"+ka+"|"+Ea+")",Da="(?:"+Aa+"|"+Ea+")",ja="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ta="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Fa="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Pa="[\\ufe0e\\ufe0f]?",Ma=Pa+Fa+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Oa,Sa].join("|")+")"+Pa+Fa+")*"),Na="(?:"+[_a,Oa,Sa].join("|")+")"+Ma,Ra=RegExp([Aa+"?"+ka+"+"+ja+"(?="+[xa,Aa,"$"].join("|")+")",Da+"+"+Ta+"(?="+[xa,Aa+Ca,"$"].join("|")+")",Aa+"?"+Ca+"+"+ja,Aa+"+"+Ta,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wa,Na].join("|"),"g");var Ia=function(e){return e.match(Ra)||[]};var Ba=function(e,t,n){return e=Ar(e),void 0===(t=n?void 0:t)?va(e)?Ia(e):ha(e):e.match(t)||[]},za=RegExp("['\u2019]","g");var La=function(e){return function(t){return oa(Ba(fa(t).replace(za,"")),e,"")}};var Ua=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Xr(e,t,n)},qa=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Wa=function(e){return qa.test(e)};var Ha=function(e){return e.split("")},$a="[\\ud800-\\udfff]",Va="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ga="[^\\ud800-\\udfff]",Ya="(?:\\ud83c[\\udde6-\\uddff]){2}",Ka="[\\ud800-\\udbff][\\udc00-\\udfff]",Xa="(?:"+Va+"|"+"\\ud83c[\\udffb-\\udfff])"+"?",Qa="[\\ufe0e\\ufe0f]?",Za=Qa+Xa+("(?:\\u200d(?:"+[Ga,Ya,Ka].join("|")+")"+Qa+Xa+")*"),Ja="(?:"+[Ga+Va+"?",Va,Ya,Ka,$a].join("|")+")",eo=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Ja+Za,"g");var to=function(e){return e.match(eo)||[]};var no=function(e){return Wa(e)?to(e):Ha(e)};var ro=function(e){return function(t){t=Ar(t);var n=Wa(t)?no(t):void 0,r=n?n[0]:t.charAt(0),i=n?Ua(n,1).join(""):t.slice(1);return r[e]()+i}},io=ro("toUpperCase"),ao=La((function(e,t,n){return e+(n?" ":"")+io(t)})),oo=ao;function uo(e){var t=e.children,n=e.className,r=e.content,i=fi(e.size,"icons",n),a=wi(uo,e),o=_i(uo,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}uo.handledProps=["as","children","className","content","size"],uo.propTypes={},uo.defaultProps={as:"i"};var so=uo,co=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():ci(t.props,"onClick",e,t.props)},t}be(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return Zi(n)?e["aria-hidden"]="true":e["aria-label"]=n,Zi(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,r=e.circular,i=e.className,a=e.color,o=e.corner,u=e.disabled,s=e.fitted,c=e.flipped,l=e.inverted,f=e.link,d=e.loading,h=e.name,p=e.rotated,v=fi(a,h,e.size,pi(n,"bordered"),pi(r,"circular"),pi(u,"disabled"),pi(s,"fitted"),pi(l,"inverted"),pi(f,"link"),pi(d,"loading"),mi(o,"corner"),vi(c,"flipped"),vi(p,"rotated"),"icon",i),m=wi(t,this.props),g=_i(t,this.props),y=this.getIconAriaOptions();return _.createElement(g,D({},m,y,{className:v,onClick:this.handleClick}))},t}(_.PureComponent);co.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],co.propTypes={},co.defaultProps={as:"i"},co.Group=so,co.create=ea(co,(function(e){return{name:e}}));var lo=co,fo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||ci(t.props,"onClick",e,t.props)},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.color,o=e.content,u=e.disabled,s=e.fitted,c=e.header,l=e.icon,f=e.link,d=e.name,h=e.onClick,p=fi(a,e.position,pi(n,"active"),pi(u,"disabled"),pi(!0===l||l&&!(d||o),"icon"),pi(c,"header"),pi(f,"link"),mi(s,"fitted"),"item",i),v=_i(t,this.props,(function(){if(h)return"a"})),m=wi(t,this.props);return Si(r)?_.createElement(v,D({},m,{className:p,onClick:this.handleClick}),lo.create(l,{autoGenerateKey:!1}),Si(o)?oo(d):o):_.createElement(v,D({},m,{className:p,onClick:this.handleClick}),r)},t}(_.Component);function ho(e){var t=e.children,n=e.className,r=e.content,i=fi(e.position,"menu",n),a=wi(ho,e),o=_i(ho,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}fo.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],fo.propTypes={},fo.create=ea(fo,(function(e){return{content:e,name:e}})),ho.handledProps=["as","children","className","content","position"],ho.propTypes={};var po=ho,vo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),ci(e,"onClick",n,r),ci(t.props,"onItemClick",n,r)}}},t}be(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Gr(t,(function(t,r){return fo.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,r=e.borderless,i=e.children,a=e.className,o=e.color,u=e.compact,s=e.fixed,c=e.floated,l=e.fluid,f=e.icon,d=e.inverted,h=e.pagination,p=e.pointing,v=e.secondary,m=e.size,g=e.stackable,y=e.tabular,b=e.text,x=e.vertical,w=e.widths,k=fi("ui",o,m,pi(r,"borderless"),pi(u,"compact"),pi(l,"fluid"),pi(d,"inverted"),pi(h,"pagination"),pi(p,"pointing"),pi(v,"secondary"),pi(g,"stackable"),pi(b,"text"),pi(x,"vertical"),mi(n,"attached"),mi(c,"floated"),mi(f,"icon"),mi(y,"tabular"),vi(s,"fixed"),xi(w,"item"),a,"menu"),E=wi(t,this.props),O=_i(t,this.props);return _.createElement(O,D({},E,{className:k}),Si(i)?this.renderItems():i)},t}(ji);vo.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],vo.propTypes={},vo.autoControlledProps=["activeIndex"],vo.Header=aa,vo.Item=fo,vo.Menu=po,vo.create=ea(vo,(function(e){return{items:e}}));var mo=vo,go={current:"undefined"===typeof document?null:document},yo=("undefined"===typeof window||window,function(e,t){return!!e&&!!e[t]}),bo=function(){function e(e){return function(e){var t=e.capture,n=e.listener,r=e.type,i=e.target,a=e.targetRef,o=_.useRef(n);o.current=n;var u=_.useCallback((function(e){return o.current(e)}),[]);_.useEffect((function(){var e="undefined"===typeof a?i:a.current,n=window.event,o=function(e){e!==n?u(e):n=void 0};return yo(e,"addEventListener")&&e.addEventListener(r,o,t),function(){yo(e,"removeEventListener")&&e.removeEventListener(r,o,t)}}),[t,u,i,a,r])}(e),null}return e.defaultProps={capture:!1},e}(),xo=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},wo=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")};function _o(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ko=n(3033);var Eo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=null,t}be(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=k.findDOMNode(this);this.prevNode=e,xo(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=k.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,xo(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&xo(this.props.innerRef,t)},n.componentWillUnmount=function(){xo(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(_.Component),Oo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=null,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;xo(r.ref,e),xo(i,e),t.currentNode=e},t}be(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&xo(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return _.cloneElement(e,{ref:this.handleRefOverride})},t}(_.Component),So=function(e){var t=e.children,n=e.innerRef,r=_o(e,["children","innerRef"]),i=_.Children.only(t),a=ko.isForwardRef(i)?Oo:Eo,o=i&&r&&Object.keys(r).length>0?_.cloneElement(i,r):i;return _.createElement(a,{innerRef:n},o)},Ao=Math.max,Co=Math.min;var Do=function(e,t,n){return e>=Co(t,n)&&e<Ao(t,n)},jo=/\s/;var To=function(e){for(var t=e.length;t--&&jo.test(e.charAt(t)););return t},Fo=/^\s+/;var Po=function(e){return e?e.slice(0,To(e)+1).replace(Fo,""):e},Mo=/^[-+]0x[0-9a-f]+$/i,No=/^0b[01]+$/i,Ro=/^0o[0-7]+$/i,Io=parseInt;var Bo=function(e){if("number"==typeof e)return e;if(hr(e))return NaN;if(Ye(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ye(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Po(e);var n=No.test(e);return n||Ro.test(e)?Io(e.slice(2),n?2:8):Mo.test(e)?NaN:+e},zo=1/0;var Lo=function(e){return e?(e=Bo(e))===zo||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var Uo=function(e,t,n){return t=Lo(t),void 0===n?(n=t,t=0):n=Lo(n),e=Bo(e),Do(e,t,n)};var qo=function(e){return e&&e.length?e[0]:void 0},Wo=function(e,t){if(Oi([t,e],Zi))return!1;if(t.target&&(ci(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return ci(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(Oi([n,r],Zi))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var a=qo(i),o=a.top,u=a.bottom,s=a.left,c=a.right;return!Oi([o,u,s,c],Zi)&&(Uo(r,o,u+.001)&&Uo(n,s,c+.001))};function Ho(e){var t=e.className,n=e.children,r=e.content,i=fi("pushable",t),a=wi(Ho,e),o=_i(Ho,e);return _.createElement(o,D({},a,{className:i}),Si(n)?r:n)}Ho.handledProps=["as","children","className","content"],Ho.propTypes={};var $o=Ho;function Vo(e){var t=e.className,n=e.dimmed,r=e.children,i=e.content,a=fi("pusher",pi(n,"dimmed"),t),o=wi(Vo,e),u=_i(Vo,e);return _.createElement(u,D({},o,{className:a}),Si(r)?i:r)}Vo.handledProps=["as","children","className","content","dimmed"],Vo.propTypes={};var Go=Vo,Yo=function(e){function t(n){var r;return(r=e.call(this,n)||this).ref=(0,_.createRef)(),r.handleAnimationStart=function(){var e=r.props.visible?"onVisible":"onHide";clearTimeout(r.animationTimer),r.animationTimer=setTimeout(r.handleAnimationEnd,t.animationDuration),r.skipNextCallback?r.skipNextCallback=!1:ci(r.props,e,null,r.props)},r.handleAnimationEnd=function(){var e=r.props.visible?"onShow":"onHidden";r.setState({animationTick:0}),ci(r.props,e,null,r.props)},r.handleDocumentClick=function(e){Wo(r.ref.current,e)||(r.skipNextCallback=!0,ci(r.props,"onHide",e,D({},r.props,{visible:!1})))},r.state={animationTick:0,visible:n.visible},r}be(t,e),t.getDerivedStateFromProps=function(e,t){var n=!!e.visible===!!t.visible?0:1;return{animationTick:t.animationTick+n,visible:e.visible}};var n=t.prototype;return n.componentDidUpdate=function(e,t){this.state.animationTick>t.animationTick&&this.handleAnimationStart()},n.componentWillUnmount=function(){clearTimeout(this.animationTimer)},n.render=function(){var e=this.props,n=e.animation,r=e.className,i=e.children,a=e.content,o=e.direction,u=e.target,s=e.visible,c=e.width,l=this.state.animationTick,f=fi("ui",n,o,c,pi(l>0,"animating"),pi(s,"visible"),"sidebar",r),d=wi(t,this.props),h=_i(t,this.props),p=wo(u)?{targetRef:u}:{target:u};return _.createElement(_.Fragment,null,_.createElement(So,{innerRef:this.ref},_.createElement(h,D({},d,{className:f}),Si(i)?a:i)),s&&_.createElement(bo,D({listener:this.handleDocumentClick,type:"click"},p)))},t}(_.Component);Yo.handledProps=["animation","as","children","className","content","direction","onHidden","onHide","onShow","onVisible","target","visible","width"],Yo.propTypes={},Yo.defaultProps={direction:"left",target:go,visible:!1},Yo.animationDuration=500,Yo.autoControlledProps=["visible"],Yo.Pushable=$o,Yo.Pusher=Go;var Ko=Yo,Xo=n(184),Qo=function(e){var t=e.items,n=e.children,r=K(),i=t.map((function(e,t){return(0,Xo.jsx)(mo.Item,{index:t,as:ge,to:e.path,header:0===t,disabled:!1,active:e.path===r.pathname,children:e.label},"item-"+t)}));return(0,Xo.jsxs)(Ko.Pushable,{children:[(0,Xo.jsx)(Ko,{as:mo,inverted:!0,animation:"push",visible:!1,direction:"top",size:"mini",children:i}),(0,Xo.jsx)(Ko.Pusher,{children:n})]})};function Zo(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(K_){return void n(K_)}u.done?t(s):Promise.resolve(s).then(r,i)}function Jo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Zo(a,r,i,o,u,"next",e)}function u(e){Zo(a,r,i,o,u,"throw",e)}o(void 0)}))}}var eu=n(7757),tu=n.n(eu);function nu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=S(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t,n){return t&&iu(e.prototype,t),n&&iu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ou=function(){var e=Jo(tu().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h,p,v,m,g;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af.getGroupInfo(t);case 2:if(r=e.sent,i=t.filter((function(e){return!r[e]||!r[e].retry})),0!==i.length){e.next=6;break}return e.abrupt("return",r);case 6:a=nu(i);try{for(a.s();!(o=a.n()).done;)u=o.value,r[u]={}}catch(y){a.e(y)}finally{a.f()}if(s={},"domain"!==n){e.next=13;break}return e.next=12,uu(i);case 12:s=e.sent;case 13:for(Af.addGroupInfo(s),c=0,l=Object.entries(s);c<l.length;c++)f=C(l[c],2),d=f[0],h=f[1],r[d]=h;p=nu(t);try{for(p.s();!(v=p.n()).done;)m=v.value,g=r[m]||{},"domain"===n&&(g=su(m,g)),r[m]=g}catch(y){p.e(y)}finally{p.f()}return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),uu=function(){var e=Jo(tu().mark((function e(t){var n,r,i,a,o;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cu("1234",t);case 3:return n=e.sent,r={token:n,urls:t},e.next=7,fetch("https://dd.amcat.nl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:return i=e.sent,e.next=10,i.json();case 10:return a=e.sent,e.abrupt("return",a);case 14:return e.prev=14,e.t0=e.catch(0),o=t.reduce((function(e,t){return e[t]={retry:!0},e}),{}),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),su=function(e,t){return t.url=t.url||e,t.category=t.category||t.url.split(".").slice(-1)[0]||"other",t.icon=t.icon||"https://icons.duckduckgo.com/ip3/".concat(t.url,".ico"),t},cu=function(){var e=Jo(tu().mark((function e(t,n){var r,i,a,o;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[t].concat(n).join("|"),i=(new TextEncoder).encode(r),e.next=4,crypto.subtle.digest("SHA-256",i);case 4:return a=e.sent,o=Array.from(new Uint8Array(a)),e.abrupt("return",o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fu(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function du(e){return function(e){if(Array.isArray(e))return O(e)}(e)||fu(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){lu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,mu=Object.keys,gu=Array.isArray;function yu(e,t){return"object"!==typeof t||mu(t).forEach((function(n){e[n]=t[n]})),e}"undefined"===typeof Promise||vu.Promise||(vu.Promise=Promise);var bu=Object.getPrototypeOf,xu={}.hasOwnProperty;function wu(e,t){return xu.call(e,t)}function _u(e,t){"function"===typeof t&&(t=t(bu(e))),("undefined"===typeof Reflect?mu:Reflect.ownKeys)(t).forEach((function(n){Eu(e,n,t[n])}))}var ku=Object.defineProperty;function Eu(e,t,n,r){ku(e,t,yu(n&&wu(n,"get")&&"function"===typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ou(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Eu(e.prototype,"constructor",e),{extend:_u.bind(null,e.prototype)}}}}var Su=Object.getOwnPropertyDescriptor;function Au(e,t){var n;return Su(e,t)||(n=bu(e))&&Au(n,t)}var Cu=[].slice;function Du(e,t,n){return Cu.call(e,t,n)}function ju(e,t){return t(e)}function Tu(e){if(!e)throw new Error("Assertion Failed")}function Fu(e){vu.setImmediate?setImmediate(e):setTimeout(e,0)}function Pu(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function Mu(e,t){if(wu(e,t))return e[t];if(!t)return e;if("string"!==typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var a=Mu(e,t[r]);n.push(a)}return n}var o=t.indexOf(".");if(-1!==o){var u=e[t.substr(0,o)];return void 0===u?void 0:Mu(u,t.substr(o+1))}}function Nu(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!==typeof t&&"length"in t){Tu("string"!==typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)Nu(e,t[r],n[r])}else{var a=t.indexOf(".");if(-1!==a){var o=t.substr(0,a),u=t.substr(a+1);if(""===u)void 0===n?gu(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var s=e[o];s||(s=e[o]={}),Nu(s,u,n)}}else void 0===n?gu(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Ru(e){var t={};for(var n in e)wu(e,n)&&(t[n]=e[n]);return t}var Iu=[].concat;function Bu(e){return Iu.apply([],e)}var zu="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Bu([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return vu[e]})),Lu=zu.map((function(e){return vu[e]}));Pu(zu,(function(e){return[e,!0]}));var Uu=null;function qu(e){Uu="undefined"!==typeof WeakMap&&new WeakMap;var t=Wu(e);return Uu=null,t}function Wu(e){if(!e||"object"!==typeof e)return e;var t=Uu&&Uu.get(e);if(t)return t;if(gu(e)){t=[],Uu&&Uu.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Wu(e[n]))}else if(Lu.indexOf(e.constructor)>=0)t=e;else{var i=bu(e);for(var a in t=i===Object.prototype?{}:Object.create(i),Uu&&Uu.set(e,t),e)wu(e,a)&&(t[a]=Wu(e[a]))}return t}var Hu={}.toString;function $u(e){return Hu.call(e).slice(8,-1)}var Vu="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator",Gu="symbol"===typeof Vu?function(e){var t;return null!=e&&(t=e[Vu])&&t.apply(e)}:function(){return null},Yu={};function Ku(e){var t,n,r,i;if(1===arguments.length){if(gu(e))return e.slice();if(this===Yu&&"string"===typeof e)return[e];if(i=Gu(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"===typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Xu="undefined"!==typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},Qu="undefined"!==typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Zu(e,t){Qu=e,Ju=t}var Ju=function(){return!0},es=!new Error("").stack;function ts(){if(es)try{throw ts.arguments,new Error}catch(e){return e}return new Error}function ns(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Ju).map((function(e){return"\n"+e})).join("")):""}var rs=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],is=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(rs),as={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function os(e,t){this._e=ts(),this.name=e,this.message=t}function us(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function ss(e,t,n,r){this._e=ts(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=us(e,t)}function cs(e,t){this._e=ts(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=us(e,t)}Ou(os).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ns(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ou(ss).from(os),Ou(cs).from(os);var ls=is.reduce((function(e,t){return e[t]=t+"Error",e}),{}),fs=os,ds=is.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=ts(),this.name=n,e?"string"===typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"===typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=as[t]||n,this.inner=null)}return Ou(r).from(fs),e[t]=r,e}),{});ds.Syntax=SyntaxError,ds.Type=TypeError,ds.Range=RangeError;var hs=rs.reduce((function(e,t){return e[t+"Error"]=ds[t],e}),{});var ps=is.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ds[t]),e}),{});function vs(){}function ms(e){return e}function gs(e,t){return null==e||e===ms?t:function(n){return t(e(n))}}function ys(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function bs(e,t){return e===vs?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ys(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ys(i,this.onerror):i),void 0!==a?a:n}}function xs(e,t){return e===vs?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ys(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ys(r,this.onerror):r)}}function ws(e,t){return e===vs?t:function(n){var r=e.apply(this,arguments);yu(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ys(i,this.onsuccess):i),a&&(this.onerror=this.onerror?ys(a,this.onerror):a),void 0===r?void 0===o?void 0:o:yu(r,o)}}function _s(e,t){return e===vs?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ks(e,t){return e===vs?t:function(){var n=e.apply(this,arguments);if(n&&"function"===typeof n.then){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then((function(){return t.apply(r,a)}))}return t.apply(this,arguments)}}ps.ModifyError=ss,ps.DexieError=os,ps.BulkError=cs;var Es={},Os=C("undefined"===typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"===typeof crypto||!crypto.subtle)return[e,bu(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,bu(t),e]}(),3),Ss=Os[0],As=Os[1],Cs=Os[2],Ds=As&&As.then,js=Ss&&Ss.constructor,Ts=!!Cs,Fs=!1,Ps=Cs?function(){Cs.then(nc)}:vu.setImmediate?setImmediate.bind(null,nc):vu.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){nc(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(nc,0)},Ms=function(e,t){Ws.push([e,t]),Rs&&(Ps(),Rs=!1)},Ns=!0,Rs=!0,Is=[],Bs=[],zs=null,Ls=ms,Us={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ac,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Ac(e[0],e[1])}catch(t){}}))}},qs=Us,Ws=[],Hs=0,$s=[];function Vs(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=vs,this._lib=!1;var t=this._PSD=qs;if(Qu&&(this._stackHolder=ts(),this._prev=null,this._numPrev=0),"function"!==typeof e){if(e!==Es)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Xs(this,this._value))}this._state=null,this._value=null,++t.ref,Ks(this,e)}var Gs={get:function(){var e=qs,t=dc;function n(n,r){var i=this,a=!e.global&&(e!==qs||t!==dc),o=a&&!mc(),u=new Vs((function(t,u){Zs(i,new Ys(Ec(n,e,a,o),Ec(r,e,a,o),t,u,e))}));return Qu&&tc(u,this),u}return n.prototype=Es,n},set:function(e){Eu(this,"then",e&&e.prototype===Es?Gs:{get:function(){return e},set:Gs.set})}};function Ys(e,t,n,r,i){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ks(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&rc();t&&"function"===typeof t.then?Ks(e,(function(e,n){t instanceof Vs?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Qs(e)),n&&ic()}}),Xs.bind(null,e))}catch(n){Xs(e,n)}}function Xs(e,t){if(Bs.push(t),null===e._state){var n=e._lib&&rc();t=Ls(t),e._state=!1,e._value=t,Qu&&null!==t&&"object"===typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}((function(){var n=Au(t,"stack");t._promise=e,Eu(t,"stack",{get:function(){return Fs?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Is.some((function(t){return t._value===e._value}))||Is.push(e)}(e),Qs(e),n&&ic()}}function Qs(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Zs(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Hs&&(++Hs,Ms((function(){0===--Hs&&ac()}),[]))}function Zs(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Hs,Ms(Js,[n,e,t])}else e._listeners.push(t)}function Js(e,t,n){try{zs=t;var r,i=t._value;t._state?r=e(i):(Bs.length&&(Bs=[]),r=e(i),-1===Bs.indexOf(i)&&function(e){var t=Is.length;for(;t;)if(Is[--t]._value===e._value)return void Is.splice(t,1)}(t)),n.resolve(r)}catch(a){n.reject(a)}finally{zs=null,0===--Hs&&ac(),--n.psd.ref||n.psd.finalize()}}function ec(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,a,o=e._value;null!=o?(i=o.name||"Error",a=o.message||o,r=ns(o,0)):(i=o,a=""),t.push(i+(a?": "+a:"")+r)}return Qu&&((r=ns(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&ec(e._prev,t,n)),t}function tc(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function nc(){rc()&&ic()}function rc(){var e=Ns;return Ns=!1,Rs=!1,e}function ic(){var e,t,n;do{for(;Ws.length>0;)for(e=Ws,Ws=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ws.length>0);Ns=!0,Rs=!0}function ac(){var e=Is;Is=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=$s.slice(0),n=t.length;n;)t[--n]()}function oc(e){return new Vs(Es,!1,e)}function uc(e,t){var n=qs;return function(){var r=rc(),i=qs;try{return xc(n,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{xc(i,!1),r&&ic()}}}_u(Vs.prototype,{then:Gs,_then:function(e,t){Zs(this,new Ys(null,null,e,t,qs))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"===typeof t?this.then(null,(function(e){return e instanceof t?n(e):oc(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):oc(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),oc(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Fs=!0;var e=ec(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Fs=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Vs((function(r,i){var a=setTimeout((function(){return i(new ds.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,a))})):this}}),"undefined"!==typeof Symbol&&Symbol.toStringTag&&Eu(Vs.prototype,Symbol.toStringTag,"Dexie.Promise"),Us.env=wc(),_u(Vs,{all:function(){var e=Ku.apply(null,arguments).map(gc);return new Vs((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,a){return Vs.resolve(i).then((function(n){e[a]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Vs)return e;if(e&&"function"===typeof e.then)return new Vs((function(t,n){e.then(t,n)}));var t=new Vs(Es,!0,e);return tc(t,zs),t},reject:oc,race:function(){var e=Ku.apply(null,arguments).map(gc);return new Vs((function(t,n){e.map((function(e){return Vs.resolve(e).then(t,n)}))}))},PSD:{get:function(){return qs},set:function(e){return qs=e}},totalEchoes:{get:function(){return dc}},newPSD:pc,usePSD:_c,scheduler:{get:function(){return Ms},set:function(e){Ms=e}},rejectionMapper:{get:function(){return Ls},set:function(e){Ls=e}},follow:function(e,t){return new Vs((function(n,r){return pc((function(t,n){var r=qs;r.unhandleds=[],r.onunhandled=n,r.finalize=ys((function(){var e=this;!function(e){function t(){e(),$s.splice($s.indexOf(t),1)}$s.push(t),++Hs,Ms((function(){0===--Hs&&ac()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),js&&(js.allSettled&&Eu(Vs,"allSettled",(function(){var e=Ku.apply(null,arguments).map(gc);return new Vs((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return Vs.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),js.any&&"undefined"!==typeof AggregateError&&Eu(Vs,"any",(function(){var e=Ku.apply(null,arguments).map(gc);return new Vs((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,a){return Vs.resolve(e).then((function(e){return t(e)}),(function(e){i[a]=e,--r||n(new AggregateError(i))}))}))}))})));var sc={awaits:0,echoes:0,id:0},cc=0,lc=[],fc=0,dc=0,hc=0;function pc(e,t,n,r){var i=qs,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++hc;var o=Us.env;a.env=Ts?{Promise:Vs,PromiseProp:{value:Vs,configurable:!0,writable:!0},all:Vs.all,race:Vs.race,allSettled:Vs.allSettled,any:Vs.any,resolve:Vs.resolve,reject:Vs.reject,nthen:Oc(o.nthen,a),gthen:Oc(o.gthen,a)}:{},t&&yu(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=_c(a,e,n,r);return 0===a.ref&&a.finalize(),u}function vc(){return sc.id||(sc.id=++cc),++sc.awaits,sc.echoes+=100,sc.id}function mc(){return!!sc.awaits&&(0===--sc.awaits&&(sc.id=0),sc.echoes=100*sc.awaits,!0)}function gc(e){return sc.echoes&&e&&e.constructor===js?(vc(),e.then((function(e){return mc(),e}),(function(e){return mc(),Cc(e)}))):e}function yc(e){++dc,sc.echoes&&0!==--sc.echoes||(sc.echoes=sc.id=0),lc.push(qs),xc(e,!0)}function bc(){var e=lc[lc.length-1];lc.pop(),xc(e,!1)}function xc(e,t){var n=qs;if((t?!sc.echoes||fc++&&e===qs:!fc||--fc&&e===qs)||kc(t?yc.bind(null,e):bc),e!==qs&&(qs=e,n===Us&&(Us.env=wc()),Ts)){var r=Us.env.Promise,i=e.env;As.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(vu,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function wc(){var e=vu.Promise;return Ts?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(vu,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:As.then,gthen:e.prototype.then}:{}}function _c(e,t,n,r,i){var a=qs;try{return xc(e,!0),t(n,r,i)}finally{xc(a,!1)}}function kc(e){Ds.call(Ss,e)}function Ec(e,t,n,r){return"function"!==typeof e?e:function(){var i=qs;n&&vc(),xc(t,!0);try{return e.apply(this,arguments)}finally{xc(i,!1),r&&kc(mc)}}}function Oc(e,t){return function(n,r){return e.call(this,Ec(n,t),Ec(r,t))}}-1===(""+Ds).indexOf("[native code]")&&(vc=mc=vs);var Sc="unhandledrejection";function Ac(e,t){var n;try{n=t.onuncatched(e)}catch(a){}if(!1!==n)try{var r,i={promise:t,reason:e};if(vu.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Sc,!0,!0),yu(r,i)):vu.CustomEvent&&yu(r=new CustomEvent(Sc,{detail:i}),i),r&&vu.dispatchEvent&&(dispatchEvent(r),!vu.PromiseRejectionEvent&&vu.onunhandledrejection))try{vu.onunhandledrejection(r)}catch(o){}Qu&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(a){}}var Cc=Vs.reject;function Dc(e,t,n,r){if(e.idbdb&&(e._state.openComplete||qs.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create()}catch(a){return Cc(a)}return i._promise(t,(function(e,t){return pc((function(){return qs.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(e._state.openComplete)return Cc(new ds.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Cc(new ds.DatabaseClosed);e.open().catch(vs)}return e._state.dbReadyPromise.then((function(){return Dc(e,t,n,r)}))}var jc="3.2.0",Tc=String.fromCharCode(65535),Fc=-1/0,Pc="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Mc="String expected.",Nc=[],Rc="undefined"!==typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ic=Rc,Bc=Rc,zc=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Lc="__dbnames",Uc="readonly",qc="readwrite";function Wc(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Hc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function $c(e){return"string"!==typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=qu(t))[e],t}}var Vc=function(){function e(){ru(this,e)}return au(e,[{key:"_trans",value:function(e,t,n){var r=this._tx||qs.trans,i=this.name;function a(e,n,r){if(!r.schema[i])throw new ds.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var o=rc();try{return r&&r.db===this.db?r===qs.trans?r._promise(e,a,n):pc((function(){return r._promise(e,a,n)}),{trans:r,transless:qs.transless||qs}):Dc(this.db,e,[this.name],a)}finally{o&&ic()}}},{key:"get",value:function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)}},{key:"where",value:function(e){if("string"===typeof e)return new this.db.WhereClause(this,e);if(gu(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=mu(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==Tc)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&Qu&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a ")+"compound index [".concat(t.join("+"),"]"));var r=this.schema.idxByName,i=this.db._deps.indexedDB;function a(e,t){try{return 0===i.cmp(e,t)}catch(n){return!1}}var o=t.reduce((function(t,n){var i=C(t,2),o=i[0],u=i[1],s=r[n],c=e[n];return[o||s,o||!s?Wc(u,s&&s.multi?function(e){var t=Mu(e,n);return gu(t)&&t.some((function(e){return a(c,e)}))}:function(e){return a(c,Mu(e,n))}):u]}),[null,null]),u=C(o,2),s=u[0],c=u[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")}},{key:"filter",value:function(e){return this.toCollection().and(e)}},{key:"count",value:function(e){return this.toCollection().count(e)}},{key:"offset",value:function(e){return this.toCollection().offset(e)}},{key:"limit",value:function(e){return this.toCollection().limit(e)}},{key:"each",value:function(e){return this.toCollection().each(e)}},{key:"toArray",value:function(e){return this.toCollection().toArray(e)}},{key:"toCollection",value:function(){return new this.db.Collection(new this.db.WhereClause(this))}},{key:"orderBy",value:function(e){return new this.db.Collection(new this.db.WhereClause(this,gu(e)?"[".concat(e.join("+"),"]"):e))}},{key:"reverse",value:function(){return this.toCollection().reverse()}},{key:"mapToClass",value:function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(wu(t,r))try{n[r]=t[r]}catch(i){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}},{key:"defineClass",value:function(){return this.mapToClass((function(e){yu(this,e)}))}},{key:"add",value:function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,o=e;return a&&i&&(o=$c(a)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]})})).then((function(e){return e.numFailures?Vs.reject(e.failures[0]):e.lastResult})).then((function(t){if(a)try{Nu(e,a,t)}catch(n){}return t}))}},{key:"update",value:function(e,t){if("object"!==typeof e||gu(e))return this.where(":id").equals(e).modify(t);var n=Mu(e,this.schema.primKey.keyPath);if(void 0===n)return Cc(new ds.InvalidArgument("Given object does not contain its primary key"));try{"function"!==typeof t?mu(t).forEach((function(n){Nu(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(r){}return this.where(":id").equals(n).modify(t)}},{key:"put",value:function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,o=e;return a&&i&&(o=$c(a)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Vs.reject(e.failures[0]):e.lastResult})).then((function(t){if(a)try{Nu(e,a,t)}catch(n){}return t}))}},{key:"delete",value:function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Vs.reject(e.failures[0]):void 0}))}},{key:"clear",value:function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Hc})})).then((function(e){return e.numFailures?Vs.reject(e.failures[0]):void 0}))}},{key:"bulkGet",value:function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))}},{key:"bulkAdd",value:function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,o=n.auto,u=n.keyPath;if(u&&i)throw new ds.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ds.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,c=u&&o?e.map($c(u)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:c,wantResults:a}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,o=e.failures;if(0===t)return a?n:i;throw new cs("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(s," operations failed"),o)}))}))}},{key:"bulkPut",value:function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,o=n.auto,u=n.keyPath;if(u&&i)throw new ds.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ds.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,c=u&&o?e.map($c(u)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:c,wantResults:a}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,o=e.failures;if(0===t)return a?n:i;throw new cs("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(s," operations failed"),o)}))}))}},{key:"bulkDelete",value:function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult,a=e.failures;if(0===r)return i;throw new cs("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),a)}))}}]),e}();function Gc(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,a=new Array(i-1);--i;)a[i-1]=arguments[i];return t[n].subscribe.apply(null,a),e}if("string"===typeof n)return t[n]};n.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return n;function a(e,r,i){if("object"===typeof e)return o(e);r||(r=_s),i||(i=vs);var a={subscribers:[],fire:i,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,i)}};return t[e]=n[e]=a,a}function o(e){mu(e).forEach((function(t){var n=e[t];if(gu(n))a(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new ds.InvalidArgument("Invalid event config");var r=a(t,ms,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){Fu((function(){e.apply(null,t)}))}))}))}}))}}function Yc(e,t){return Ou(t).from({prototype:e}),t}function Kc(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Xc(e,t){e.filter=Wc(e.filter,t)}function Qc(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Wc(r(),t())}:t,e.justLimit=n&&!r}function Zc(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ds.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Jc(e,t,n){var r=Zc(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function el(e,t,n,r){var i=e.replayFilter?Wc(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},o=function(e,n,r){if(!i||i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var o=n.primaryKey,u=""+o;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(o)),wu(a,u)||(a[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(o,n),tl(Jc(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return tl(Jc(e,r,n),Wc(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function tl(e,t,n,r){var i=r?function(e,t,i){return n(r(e),t,i)}:n,a=uc(i);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=vs}),(function(t){e.fail(t),n=vs}))||a(e.value,e,(function(e){return n=e})),n()}))}))}function nl(e,t){try{var n=rl(e),r=rl(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return n===r?0:n<r?-1:1}(il(e),il(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a){var o=nl(e[a],t[a]);if(0!==o)return o}return n===r?0:n<r?-1:1}(e,t)}}catch(i){}return NaN}function rl(e){var t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=$u(e);return"ArrayBuffer"===n?"binary":n}function il(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var al=function(){function e(){ru(this,e)}return au(e,[{key:"_read",value:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Cc.bind(null,n.error)):n.table._trans("readonly",e).then(t)}},{key:"_write",value:function(e){var t=this._ctx;return t.error?t.table._trans(null,Cc.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}},{key:"_addAlgorithm",value:function(e){var t=this._ctx;t.algorithm=Wc(t.algorithm,e)}},{key:"_iterate",value:function(e,t){return el(this._ctx,e,t,this._ctx.table.core)}},{key:"clone",value:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&yu(n,e),t._ctx=n,t}},{key:"raw",value:function(){return this._ctx.valueMapper=null,this}},{key:"each",value:function(e){var t=this._ctx;return this._read((function(n){return el(t,e,n,t.table.core)}))}},{key:"count",value:function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(Kc(n,!0))return r.count({trans:e,query:{index:Zc(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return el(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)}},{key:"sortBy",value:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function u(e,t){var n=a(e,i),r=a(t,i);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(u)})).then(t)}},{key:"toArray",value:function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&Kc(n,!0)&&n.limit>0){var r=n.valueMapper,i=Zc(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var a=[];return el(n,(function(e){return a.push(e)}),e,n.table.core).then((function(){return a}))}),e)}},{key:"offset",value:function(e){var t=this._ctx;return e<=0||(t.offset+=e,Kc(t)?Qc(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Qc(t,(function(){var t=e;return function(){return--t<0}}))),this}},{key:"limit",value:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Qc(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}},{key:"until",value:function(e,t){return Xc(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}},{key:"first",value:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}},{key:"last",value:function(e){return this.reverse().first(e)}},{key:"filter",value:function(e){var t,n;return Xc(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Wc(t.isMatch,n),this}},{key:"and",value:function(e){return this.filter(e)}},{key:"or",value:function(e){return new this.db.WhereClause(this._ctx.table,e,this)}},{key:"reverse",value:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}},{key:"desc",value:function(){return this.reverse()}},{key:"eachKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}},{key:"eachUniqueKey",value:function(e){return this._ctx.unique="unique",this.eachKey(e)}},{key:"eachPrimaryKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}},{key:"keys",value:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}},{key:"primaryKeys",value:function(e){var t=this._ctx;if("next"===t.dir&&Kc(t,!0)&&t.limit>0)return this._read((function(e){var n=Zc(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}},{key:"uniqueKeys",value:function(e){return this._ctx.unique="unique",this.keys(e)}},{key:"firstKey",value:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}},{key:"lastKey",value:function(e){return this.reverse().firstKey(e)}},{key:"distinct",value:function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Xc(this._ctx,(function(e){var t=e.primaryKey.toString(),r=wu(n,t);return n[t]=!0,!r})),this}},{key:"modify",value:function(e){var t=this,n=this._ctx;return this._write((function(r){var i;if("function"===typeof e)i=e;else{var a=mu(e),o=a.length;i=function(t){for(var n=!1,r=0;r<o;++r){var i=a[r],u=e[i];Mu(t,i)!==u&&(Nu(t,i,u),n=!0)}return n}}var u=n.table.core,s=u.schema.primaryKey,c=s.outbound,l=s.extractKey,f=t.db._options.modifyChunkSize||200,d=[],h=0,p=[],v=function(e,t){var n=t.failures,r=t.numFailures;h+=e-r;var i,a=nu(mu(n));try{for(a.s();!(i=a.n()).done;){var o=i.value;d.push(n[o])}}catch(u){a.e(u)}finally{a.f()}};return t.clone().primaryKeys().then((function(t){return function a(o){var s=Math.min(f,t.length-o);return u.getMany({trans:r,keys:t.slice(o,o+s),cache:"immutable"}).then((function(d){for(var h=[],p=[],m=c?[]:null,g=[],y=0;y<s;++y){var b=d[y],x={value:qu(b),primKey:t[o+y]};!1!==i.call(x,x.value,x)&&(null==x.value?g.push(t[o+y]):c||0===nl(l(b),l(x.value))?(p.push(x.value),c&&m.push(t[o+y])):(g.push(t[o+y]),h.push(x.value)))}var w=Kc(n)&&n.limit===1/0&&("function"!==typeof e||e===ol)&&{index:n.index,range:n.range};return Promise.resolve(h.length>0&&u.mutate({trans:r,type:"add",values:h}).then((function(e){for(var t in e.failures)g.splice(parseInt(t),1);v(h.length,e)}))).then((function(){return(p.length>0||w&&"object"===typeof e)&&u.mutate({trans:r,type:"put",keys:m,values:p,criteria:w,changeSpec:"function"!==typeof e&&e}).then((function(e){return v(p.length,e)}))})).then((function(){return(g.length>0||w&&e===ol)&&u.mutate({trans:r,type:"delete",keys:g,criteria:w}).then((function(e){return v(g.length,e)}))})).then((function(){return t.length>o+s&&a(o+f)}))}))}(0).then((function(){if(d.length>0)throw new ss("Error modifying one or more objects",d,h,p);return t.length}))}))}))}},{key:"delete",value:function(){var e=this._ctx,t=e.range;return Kc(e)&&(e.isPrimKey&&!Bc||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new ss("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(ol)}}]),e}(),ol=function(e,t){return t.value=null};function ul(e,t){return e<t?-1:e===t?0:1}function sl(e,t){return e>t?-1:e===t?0:1}function cl(e,t,n){var r=e instanceof vl?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function ll(e){return new e.Collection(e,(function(){return pl("")})).limit(0)}function fl(e,t,n,r,i,a){for(var o=Math.min(e.length,r.length),u=-1,s=0;s<o;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)<0&&(u=s)}return o<r.length&&"next"===a?e+n.substr(e.length):o<e.length&&"prev"===a?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function dl(e,t,n,r){var i,a,o,u,s,c,l,f=n.length;if(!n.every((function(e){return"string"===typeof e})))return cl(e,Mc);function d(e){i=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),o="next"===e?ul:sl;var t=n.map((function(e){return{lower:a(e),upper:i(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}d("next");var h=new e.Collection(e,(function(){return hl(u[0],s[f-1]+r)}));h._ondirectionchange=function(e){d(e)};var p=0;return h._addAlgorithm((function(e,n,r){var i=e.key;if("string"!==typeof i)return!1;var d=a(i);if(t(d,s,p))return!0;for(var h=null,v=p;v<f;++v){var m=fl(i,d,u[v],s[v],o,c);null===m&&null===h?p=v+1:(null===h||o(h,m)>0)&&(h=m)}return n(null!==h?function(){e.continue(h+l)}:r),!1})),h}function hl(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function pl(e){return{type:1,lower:e,upper:e}}var vl=function(){function e(){ru(this,e)}return au(e,[{key:"Collection",get:function(){return this._ctx.table.db.Collection}},{key:"between",value:function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?ll(this):new this.Collection(this,(function(){return hl(e,t,!n,!r)}))}catch(i){return cl(this,Pc)}}},{key:"equals",value:function(e){return null==e?cl(this,Pc):new this.Collection(this,(function(){return pl(e)}))}},{key:"above",value:function(e){return null==e?cl(this,Pc):new this.Collection(this,(function(){return hl(e,void 0,!0)}))}},{key:"aboveOrEqual",value:function(e){return null==e?cl(this,Pc):new this.Collection(this,(function(){return hl(e,void 0,!1)}))}},{key:"below",value:function(e){return null==e?cl(this,Pc):new this.Collection(this,(function(){return hl(void 0,e,!1,!0)}))}},{key:"belowOrEqual",value:function(e){return null==e?cl(this,Pc):new this.Collection(this,(function(){return hl(void 0,e)}))}},{key:"startsWith",value:function(e){return"string"!==typeof e?cl(this,Mc):this.between(e,e+Tc,!0,!0)}},{key:"startsWithIgnoreCase",value:function(e){return""===e?this.startsWith(e):dl(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Tc)}},{key:"equalsIgnoreCase",value:function(e){return dl(this,(function(e,t){return e===t[0]}),[e],"")}},{key:"anyOfIgnoreCase",value:function(){var e=Ku.apply(Yu,arguments);return 0===e.length?ll(this):dl(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")}},{key:"startsWithAnyOfIgnoreCase",value:function(){var e=Ku.apply(Yu,arguments);return 0===e.length?ll(this):dl(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Tc)}},{key:"anyOf",value:function(){var e=this,t=Ku.apply(Yu,arguments),n=this._cmp;try{t.sort(n)}catch(a){return cl(this,Pc)}if(0===t.length)return ll(this);var r=new this.Collection(this,(function(){return hl(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,a){for(var o=e.key;n(o,t[i])>0;)if(++i===t.length)return r(a),!1;return 0===n(o,t[i])||(r((function(){e.continue(t[i])})),!1)})),r}},{key:"notEqual",value:function(e){return this.inAnyRange([[Fc,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}},{key:"noneOf",value:function(){var e=Ku.apply(Yu,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return cl(this,Pc)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[Fc,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}},{key:"inAnyRange",value:function(e,t){var n=this,r=this._cmp,i=this._ascending,a=this._descending,o=this._min,u=this._max;if(0===e.length)return ll(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return cl(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ds.InvalidArgument);var s=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;var l,f=i;function d(e,t){return f(e[0],t[0])}try{l=e.reduce((function(e,t){for(var n=0,i=e.length;n<i;++n){var a=e[n];if(r(t[0],a[1])<0&&r(t[1],a[0])>0){a[0]=o(a[0],t[0]),a[1]=u(a[1],t[1]);break}}return n===i&&e.push(t),e}),[]),l.sort(d)}catch(y){return cl(this,Pc)}var h=0,p=c?function(e){return i(e,l[h][1])>0}:function(e){return i(e,l[h][1])>=0},v=s?function(e){return a(e,l[h][0])>0}:function(e){return a(e,l[h][0])>=0};var m=p,g=new this.Collection(this,(function(){return hl(l[0][0],l[l.length-1][1],!s,!c)}));return g._ondirectionchange=function(e){"next"===e?(m=p,f=i):(m=v,f=a),l.sort(d)},g._addAlgorithm((function(e,t,r){for(var a=e.key;m(a);)if(++h===l.length)return t(r),!1;return!!function(e){return!p(e)&&!v(e)}(a)||(0===n._cmp(a,l[h][1])||0===n._cmp(a,l[h][0])||t((function(){f===i?e.continue(l[h][0]):e.continue(l[h][1])})),!1)})),g}},{key:"startsWithAnyOf",value:function(){var e=Ku.apply(Yu,arguments);return e.every((function(e){return"string"===typeof e}))?0===e.length?ll(this):this.inAnyRange(e.map((function(e){return[e,e+Tc]}))):cl(this,"startsWithAnyOf() only works with strings")}}]),e}();function ml(e){return uc((function(t){return gl(t),e(t.target.error),!1}))}function gl(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var yl="storagemutated",bl="x-storagemutated-1",xl=Gc(null,yl),wl=function(){function e(){ru(this,e)}return au(e,[{key:"_lock",value:function(){return Tu(!qs.global),++this._reculock,1!==this._reculock||qs.global||(qs.lockOwnerFor=this),this}},{key:"_unlock",value:function(){if(Tu(!qs.global),0===--this._reculock)for(qs.global||(qs.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{_c(e[1],e[0])}catch(t){}}return this}},{key:"_locked",value:function(){return this._reculock&&qs.lockOwnerFor!==this}},{key:"create",value:function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(Tu(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new ds.DatabaseClosed(r);case"MissingAPIError":throw new ds.MissingAPI(r.message,r);default:throw new ds.OpenFailed(r)}if(!this.active)throw new ds.TransactionInactive;return Tu(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=uc((function(n){gl(n),t._reject(e.error)})),e.onabort=uc((function(n){gl(n),t.active&&t._reject(new ds.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=uc((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&xl.storagemutated.fire(e.mutatedParts)})),this}},{key:"_promise",value:function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return Cc(new ds.ReadOnly("Transaction is readonly"));if(!this.active)return Cc(new ds.TransactionInactive);if(this._locked())return new Vs((function(i,a){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,a)},qs])}));if(n)return pc((function(){var e=new Vs((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Vs((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i}},{key:"_root",value:function(){return this.parent?this.parent._root():this}},{key:"waitFor",value:function(e){var t=this._root(),n=Vs.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new Vs((function(e,r){n.then((function(n){return t._waitingQueue.push(uc(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(uc(r.bind(null,e)))})).finally((function(){t._waitingFor===i&&(t._waitingFor=null)}))}))}},{key:"abort",value:function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ds.Abort))}},{key:"table",value:function(e){var t=this._memoizedTables||(this._memoizedTables={});if(wu(t,e))return t[e];var n=this.schema[e];if(!n)throw new ds.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}]),e}();function _l(e,t,n,r,i,a,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:a,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+kl(t)}}function kl(e){return"string"===typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function El(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Pu(n,(function(e){return[e.name,e]}))}}var Ol=function(e){try{return e.only([[]]),Ol=function(){return[[]]},[[]]}catch(t){return Ol=function(){return Tc},Tc}};function Sl(e){return null==e?function(){}:"string"===typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return Mu(t,e)}}(e):function(t){return Mu(t,e)}}function Al(e){return[].slice.call(e)}var Cl=0;function Dl(e){return null==e?":id":"string"===typeof e?e:"[".concat(e.join("+"),"]")}function jl(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen,a=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!a):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!a)}var i=function(e,t){var n=Al(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=gu(t),i=null==t,a={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Sl(t)},indexes:Al(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,i=e.keyPath,o={name:t,compound:gu(i),keyPath:i,unique:n,multiEntry:r,extractKey:Sl(i)};return a[Dl(i)]=o,o})),getIndexByKeyPath:function(e){return a[Dl(e)]}};return a[":id"]=o.primaryKey,null!=t&&(a[Dl(t)]=o.primaryKey),o}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.schema,o=i.hasGetAll,u=a.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var n=e.trans,i=e.type,a=e.keys,o=e.values,u=e.range;return new Promise((function(e,s){e=uc(e);var c=n.objectStore(t),l=null==c.keyPath,f="put"===i||"add"===i;if(!f&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var d,h=(a||o||{length:1}).length;if(a&&o&&a.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var p=[],v=[],m=0,g=function(e){++m,gl(e)};if("deleteRange"===i){if(4===u.type)return e({numFailures:m,failures:v,results:[],lastResult:void 0});3===u.type?p.push(d=c.clear()):p.push(d=c.delete(r(u)))}else{var y=C(f?l?[o,a]:[o,null]:[a,null],2),b=y[0],x=y[1];if(f)for(var w=0;w<h;++w)p.push(d=x&&void 0!==x[w]?c[i](b[w],x[w]):c[i](b[w])),d.onerror=g;else for(var _=0;_<h;++_)p.push(d=c[i](b[_])),d.onerror=g}var k=function(t){var n=t.target.result;p.forEach((function(e,t){return null!=e.error&&(v[t]=e.error)})),e({numFailures:m,failures:v,results:"delete"===i?a:p.map((function(e){return e.result})),lastResult:n})};d.onerror=function(e){g(e),k(e)},d.onsuccess=k}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,i){e=uc(e);for(var a,o=n.objectStore(t),u=r.length,s=new Array(u),c=0,l=0,f=function(t){var n=t.target;s[n._pos]=n.result,++l===c&&e(s)},d=ml(i),h=0;h<u;++h)null!=r[h]&&((a=o.get(r[h]))._pos=h,a.onsuccess=f,a.onerror=d,++c);0===c&&e(s)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,i){e=uc(e);var a=n.objectStore(t).get(r);a.onsuccess=function(t){return e(t.target.result)},a.onerror=ml(i)}))},query:function(e){return function(n){return new Promise((function(i,a){i=uc(i);var o=n.trans,u=n.values,s=n.limit,c=n.query,l=s===1/0?void 0:s,f=c.index,d=c.range,h=o.objectStore(t),p=f.isPrimaryKey?h:h.index(f.name),v=r(d);if(0===s)return i({result:[]});if(e){var m=u?p.getAll(v,l):p.getAllKeys(v,l);m.onsuccess=function(e){return i({result:e.target.result})},m.onerror=ml(a)}else{var g=0,y=u||!("openKeyCursor"in p)?p.openCursor(v):p.openKeyCursor(v),b=[];y.onsuccess=function(e){var t=y.result;return t?(b.push(u?t.value:t.primaryKey),++g===s?i({result:b}):void t.continue()):i({result:b})},y.onerror=ml(a)}}))}}(o),openCursor:function(e){var n=e.trans,i=e.values,a=e.query,o=e.reverse,u=e.unique;return new Promise((function(e,s){e=uc(e);var c=a.index,l=a.range,f=n.objectStore(t),d=c.isPrimaryKey?f:f.index(c.name),h=o?u?"prevunique":"prev":u?"nextunique":"next",p=i||!("openKeyCursor"in d)?d.openCursor(r(l),h):d.openKeyCursor(r(l),h);p.onerror=ml(s),p.onsuccess=uc((function(t){var r=p.result;if(r){r.___id=++Cl,r.done=!1;var i=r.continue.bind(r),a=r.continuePrimaryKey;a&&(a=a.bind(r));var o=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=uc(s),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=uc(e),p.onerror=ml(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,e(t)}})),n=function(){if(p.result)try{e()}catch(t){r.fail(t)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=uc((function(e){p.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=a,r.advance=o,n(),t},e(r)}else e(null)}),s)}))},count:function(e){var n=e.query,i=e.trans,a=n.index,o=n.range;return new Promise((function(e,n){var u=i.objectStore(t),s=a.isPrimaryKey?u:u.index(a.name),c=r(o),l=c?s.count(c):s.count();l.onsuccess=uc((function(t){return e(t.target.result)})),l.onerror=ml(n)}))}}}(e)})),s={};return u.forEach((function(e){return s[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!s[e])throw new Error("Table '".concat(e,"' not found"));return s[e]},MIN_KEY:-1/0,MAX_KEY:Ol(t),schema:a}}function Tl(e,t,n,r){var i=n.IDBKeyRange,a=(n.indexedDB,function(e,t){return t.reduce((function(e,t){var n=t.create;return pu(pu({},e),n(e))}),e)}(jl(t,i,r),e.dbcore));return{dbcore:a}}function Fl(e,t){var n=e._novip,r=t.db,i=Tl(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach((function(e){var t=e.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function Pl(e,t,n,r){var i=e._novip;n.forEach((function(e){var n=r[e];t.forEach((function(t){var r=Au(t,e);(!r||"value"in r&&void 0===r.value)&&(t===i.Transaction.prototype||t instanceof i.Transaction?Eu(t,e,{get:function(){return this.table(e)},set:function(t){ku(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new i.Table(e,n))}))}))}function Ml(e,t){var n=e._novip;t.forEach((function(e){for(var t in e)e[t]instanceof n.Table&&delete e[t]}))}function Nl(e,t){return e._cfg.version-t._cfg.version}function Rl(e,t,n,r){var i=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,i);a.create(n),a._completion.catch(r);var o=a._reject.bind(a),u=qs.transless||qs;pc((function(){qs.trans=a,qs.transless=u,0===t?(mu(i).forEach((function(e){Bl(n,e,i[e].primKey,i[e].indexes)})),Fl(e,n),Vs.follow((function(){return e.on.populate.fire(a)})).catch(o)):function(e,t,n,r){var i=e._novip,a=[],o=i._versions,u=i._dbSchema=Ll(i,i.idbdb,r),s=!1;function c(){return a.length?Vs.resolve(a.shift()(n.idbtrans)).then(c):Vs.resolve()}return o.filter((function(e){return e._cfg.version>=t})).forEach((function(e){a.push((function(){var a=u,o=e._cfg.dbschema;Ul(i,a,r),Ul(i,o,r),u=i._dbSchema=o;var c=Il(a,o);c.add.forEach((function(e){Bl(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((function(e){if(e.recreate)throw new ds.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return zl(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),zl(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=e._cfg.contentUpgrade;if(l&&e._cfg.version>t){Fl(i,r),n._memoizedTables={},s=!0;var f=Ru(o);c.del.forEach((function(e){f[e]=a[e]})),Ml(i,[i.Transaction.prototype]),Pl(i,[i.Transaction.prototype],mu(f),f),n.schema=f;var d,h=Xu(l);h&&vc();var p=Vs.follow((function(){if((d=l(n))&&h){var e=mc.bind(null,null);d.then(e,e)}}));return d&&"function"===typeof d.then?Vs.resolve(d):p.then((function(){return d}))}})),a.push((function(t){s&&Ic||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}(e._cfg.dbschema,t);Ml(i,[i.Transaction.prototype]),Pl(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema}))})),c().then((function(){var e,t;t=r,mu(e=u).forEach((function(n){t.db.objectStoreNames.contains(n)||Bl(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,a,n).catch(o)}))}function Il(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],a=t[n];if(i){var o={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!==""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!Rc)o.recreate=!0,r.change.push(o);else{var u=i.idxByName,s=a.idxByName,c=void 0;for(c in u)s[c]||o.del.push(c);for(c in s){var l=u[c],f=s[c];l?l.src!==f.src&&o.change.push(f):o.add.push(f)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([n,a])}return r}function Bl(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return zl(i,e)})),i}function zl(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Ll(e,t,n){var r={};return Du(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),i=t.keyPath,a=_l(kl(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!==typeof i,!0),o=[],u=0;u<t.indexNames.length;++u){var s=t.index(t.indexNames[u]);i=s.keyPath;var c=_l(s.name,i,!!s.unique,!!s.multiEntry,!1,i&&"string"!==typeof i,!1);o.push(c)}r[e]=El(e,a,o)})),r}function Ul(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,a=0;a<i.length;++a){var o=i[a],u=n.objectStore(o);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],l=u.index(c).keyPath,f="string"===typeof l?l:"["+Du(l).join("+")+"]";if(t[o]){var d=t[o].idxByName[f];d&&(d.name=c,delete t[o].idxByName[f],t[o].idxByName[c]=d)}}}"undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&vu.WorkerGlobalScope&&vu instanceof vu.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}var ql=function(){function e(){ru(this,e)}return au(e,[{key:"_parseStoresSpec",value:function(e,t){mu(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return _l(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),gu(r),0===t)})),i=r.shift();if(i.multi)throw new ds.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new ds.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ds.Schema("Index must have a name and cannot be an empty string")})),t[n]=El(n,i,r)}}))}},{key:"stores",value:function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?yu(this._cfg.storesSource,e):e;var n=t._versions,r={},i={};return n.forEach((function(e){yu(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,Ml(t,[t._allTables,t,t.Transaction.prototype]),Pl(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],mu(i),i),t._storeNames=mu(i),this}},{key:"upgrade",value:function(e){return this._cfg.contentUpgrade=ks(this._cfg.contentUpgrade||vs,e),this}}]),e}();function Wl(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new pf(Lc,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Hl(e){return e&&"function"===typeof e.databases}function $l(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Hl(n)&&t!==Lc&&Wl(n,r).delete(t).catch(vs)}function Vl(e){return pc((function(){return qs.letThrough=!0,e()}))}function Gl(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Yl(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?Cc(t.dbOpenError):e}));Qu&&(t.openCanceller._stackHolder=ts()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new ds.DatabaseClosed("db.open() was cancelled")}var a=t.dbReadyResolve,o=null,u=!1;return Vs.race([r,("undefined"===typeof navigator?Vs.resolve():Gl()).then((function(){return new Vs((function(r,a){if(i(),!n)throw new ds.MissingAPI;var s=e.name,c=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!c)throw new ds.MissingAPI;c.onerror=ml(a),c.onblocked=uc(e._fireOnBlocked),c.onupgradeneeded=uc((function(r){if(o=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=gl,o.abort(),c.result.close();var i=n.deleteDatabase(s);i.onsuccess=i.onerror=uc((function(){a(new ds.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{o.onerror=ml(a);var l=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=l<1,e._novip.idbdb=c.result,Rl(e,l/10,o,a)}}),a),c.onsuccess=uc((function(){o=null;var n,i=e._novip.idbdb=c.result,a=Du(i.objectStoreNames);if(a.length>0)try{var l=i.transaction(1===(n=a).length?n[0]:n,"readonly");t.autoSchema?function(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=Ll(0,t,n);r._storeNames=Du(t.objectStoreNames,0),Pl(r,[r._allTables],mu(i),i)}(e,i,l):(Ul(e,e._dbSchema,l),function(e,t){var n=Il(Ll(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Fl(e,l)}catch(f){}Nc.push(e),i.onversionchange=uc((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),i.onclose=uc((function(t){e.on("close").fire(t)})),u&&function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Hl(n)&&t!==Lc&&Wl(n,r).put({name:t}).catch(vs)}(e._deps,s),r()}),a)}))}))]).then((function(){return i(),t.onReadyBeingFired=[],Vs.resolve(Vl((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(ks,vs);return t.onReadyBeingFired=[],Vs.resolve(Vl((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((function(){return e})).catch((function(n){t.dbOpenError=n;try{o&&o.abort()}catch(i){}return r===t.openCanceller&&e._close(),Cc(n)})).finally((function(){t.openComplete=!0,a()}))}function Kl(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),a=i.value;return i.done?a:a&&"function"===typeof a.then?a.then(n,r):gu(a)?Promise.all(a).then(n,r):n(a)}}return i(t)()}function Xl(e,t,n){var r=arguments.length;if(r<2)throw new ds.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var a=Bu(i);return[e,a,n]}function Ql(e,t,n,r,i){return Vs.resolve().then((function(){var a=qs.transless||qs,o=e._createTransaction(t,n,e._dbSchema,r),u={trans:o,transless:a};r?o.idbtrans=r.idbtrans:o.create();var s,c=Xu(i);c&&vc();var l=Vs.follow((function(){if(s=i.call(o,o))if(c){var e=mc.bind(null,null);s.then(e,e)}else"function"===typeof s.next&&"function"===typeof s.throw&&(s=Kl(s))}),u);return(s&&"function"===typeof s.then?Vs.resolve(s).then((function(e){return o.active?e:Cc(new ds.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return s}))).then((function(e){return r&&o._resolve(),o._completion.then((function(){return e}))})).catch((function(e){return o._reject(e),Cc(e)}))}))}function Zl(e,t,n){for(var r=gu(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var Jl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return pu(pu({},e),{},{table:function(t){var n=e.table(t),r=n.schema,i={},a=[];function o(e,t,n){var r=Dl(e),u=i[r]=i[r]||[],s=null==e?0:"string"===typeof e?1:e.length,c=t>0,l=pu(pu({},n),{},{isVirtual:c,keyTail:t,keyLength:s,extractKey:Sl(e),unique:!c&&n.unique});(u.push(l),l.isPrimaryKey||a.push(l),s>1)&&o(2===s?e[0]:e.slice(0,s-1),t+1,n);return u.sort((function(e,t){return e.keyTail-t.keyTail})),l}var u=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];var s,c=nu(r.indexes);try{for(c.s();!(s=c.n()).done;){var l=s.value;o(l.keyPath,0,l)}}catch(p){c.e(p)}finally{c.f()}function f(t,n){return{type:1===t.type?2:t.type,lower:Zl(t.lower,t.lowerOpen?e.MAX_KEY:e.MIN_KEY,n),lowerOpen:!0,upper:Zl(t.upper,t.upperOpen?e.MIN_KEY:e.MAX_KEY,n),upperOpen:!0}}function d(e){var t=e.query.index;return t.isVirtual?pu(pu({},e),{},{query:{index:t,range:f(e.query.range,t.keyTail)}}):e}var h=pu(pu({},n),{},{schema:pu(pu({},r),{},{primaryKey:u,indexes:a,getIndexByKeyPath:function(e){var t=i[Dl(e)];return t&&t[0]}}),count:function(e){return n.count(d(e))},query:function(e){return n.query(d(e))},openCursor:function(t){var r=t.query.index,i=r.keyTail,a=r.isVirtual,o=r.keyLength;if(!a)return n.openCursor(t);return n.openCursor(d(t)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(Zl(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Zl(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:function(){return n.value}}});return r}(n)}))}});return h}})}};function ef(e,t,n,r){return n=n||{},r=r||"",mu(e).forEach((function(i){if(wu(t,i)){var a=e[i],o=t[i];if("object"===typeof a&&"object"===typeof o&&a&&o){var u=$u(a);u!==$u(o)?n[r+i]=t[i]:"Object"===u?ef(a,o,n,r+i+"."):a!==o&&(n[r+i]=t[i])}else a!==o&&(n[r+i]=t[i])}else n[r+i]=void 0})),mu(t).forEach((function(i){wu(e,i)||(n[r+i]=t[i])})),n}var tf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return pu(pu({},e),{},{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=pu(pu({},n),{},{mutate:function(e){var i=qs.trans,a=i.table(t).hook,o=a.deleting,u=a.creating,s=a.updating;switch(e.type){case"add":if(u.fire===vs)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"put":if(u.fire===vs&&s.fire===vs)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"delete":if(o.fire===vs)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"deleteRange":if(o.fire===vs)break;return i._promise("readwrite",(function(){return function(e){return l(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function c(e){var t=qs.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?pu(pu({},e),{},{keys:i}):pu({},e)).type&&(e.values=du(e.values)),e.keys&&(e.keys=du(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((function(a){var c=i.map((function(n,i){var c=a[i],l={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(l,n,c,t);else if("add"===e.type||void 0===c){var f=u.fire.call(l,n,e.values[i],t);null==n&&null!=f&&(n=f,e.keys[i]=n,r.outbound||Nu(e.values[i],r.keyPath,n))}else{var d=ef(c,e.values[i]),h=s.fire.call(l,d,n,c,t);if(h){var p=e.values[i];Object.keys(h).forEach((function(e){wu(p,e)?p[e]=h[e]:Nu(p,e,h[e])}))}}return l}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,o=t.numFailures,u=t.lastResult,s=0;s<i.length;++s){var l=r?r[s]:i[s],f=c[s];null==l?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===e.type&&a[s]?e.values[s]:l)}return{failures:n,results:r,numFailures:o,lastResult:u}})).catch((function(e){return c.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function l(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((function(n){var r=n.result;return c({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:l(e,pu(pu({},t),{},{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}});return i}})}};function nf(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,a=0;i<t.keys.length&&a<e.length;++i)0===nl(t.keys[i],e[a])&&(r.push(n?qu(t.values[i]):t.values[i]),++a);return r.length===e.length?r:null}catch(o){return null}}var rf={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return pu(pu({},n),{},{getMany:function(e){if(!e.cache)return n.getMany(e);var t=nf(e.keys,e.trans._cache,"clone"===e.cache);return t?Vs.resolve(t):n.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?qu(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}};function af(e){return!("from"in e)}var of=function e(t,n){if(!this){var r=new e;return t&&"d"in t&&yu(r,t),r}yu(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0})};function uf(e,t,n){var r=nl(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(af(e))return yu(e,{from:t,to:n,d:1});var i=e.l,a=e.r;if(nl(n,e.from)<0)return i?uf(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},lf(e);if(nl(t,e.to)>0)return a?uf(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},lf(e);nl(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),nl(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var o=!e.r;i&&!e.l&&sf(e,i),a&&o&&sf(e,a)}}function sf(e,t){af(t)||function e(t,n){var r=n.from,i=n.to,a=n.l,o=n.r;uf(t,r,i),a&&e(t,a),o&&e(t,o)}(e,t)}function cf(e){var t=af(e)?null:{s:0,n:e};return{next:function(e){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&nl(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||nl(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function lf(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var a="r"===i?"l":"r",o=pu({},e),u=e[i];e.from=u.from,e.to=u.to,e[i]=u[i],o[i]=u[a],e[a]=o,o.d=ff(o)}e.d=ff(e)}function ff(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}_u(of.prototype,lu({add:function(e){return sf(this,e),this},addKey:function(e){return uf(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return uf(t,e,e)})),this}},Vu,(function(){return cf(this)})));var df={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new of(e.MIN_KEY,e.MAX_KEY);return pu(pu({},e),{},{table:function(r){var i=e.table(r),a=i.schema,o=a.primaryKey,u=o.extractKey,s=o.outbound,c=pu(pu({},i),{},{mutate:function(e){var o=e.trans,u=o.mutatedParts||(o.mutatedParts={}),s=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return u[n]||(u[n]=new of)},c=s(""),l=s(":dels"),f=e.type,d=C("deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],2),h=d[0],p=d[1],v=e.trans._cache;return i.mutate(e).then((function(e){if(gu(h)){"delete"!==f&&(h=e.results),c.addKeys(h);var t=nf(h,v);t||"add"===f||l.addKeys(h),(t||p)&&function(e,t,n,r){function i(t){var i=e(t.name||"");function a(e){return null!=e?t.extractKey(e):null}var o=function(e){return t.multiEntry&&gu(e)?e.forEach((function(e){return i.addKey(e)})):i.addKey(e)};(n||r).forEach((function(e,t){var i=n&&a(n[t]),u=r&&a(r[t]);0!==nl(i,u)&&(null!=i&&o(i),null!=u&&o(u))}))}t.indexes.forEach(i)}(s,a,t,p)}else if(h){var r={from:h.lower,to:h.upper};l.add(r),c.add(r)}else c.add(n),l.add(n),a.indexes.forEach((function(e){return s(e.name).add(n)}));return e}))}}),l=function(t){var n,r,i=t.query,a=i.index,o=i.range;return[a,new of(null!==(n=o.lower)&&void 0!==n?n:e.MIN_KEY,null!==(r=o.upper)&&void 0!==r?r:e.MAX_KEY)]},f={get:function(e){return[o,new of(e.key)]},getMany:function(e){return[o,(new of).addKeys(e.keys)]},count:l,query:l,openCursor:l};return mu(f).forEach((function(e){c[e]=function(a){var o=qs,c=o.subscr;if(c){var l=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return c[n]||(c[n]=new of)},d=l(""),h=l(":dels"),p=f[e](a),v=C(p,2),m=v[0],g=v[1];if(l(m.name||"").add(g),!m.isPrimaryKey){if("count"!==e){var y="query"===e&&s&&a.values&&i.query(pu(pu({},a),{},{values:!1}));return i[e].apply(this,arguments).then((function(t){if("query"===e){if(s&&a.values)return y.then((function(e){var n=e.result;return d.addKeys(n),t}));var n=a.values?t.result.map(u):t.result;a.values?d.addKeys(n):h.addKeys(n)}else if("openCursor"===e){var r=t,i=a.values;return r&&Object.create(r,{key:{get:function(){return h.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return h.addKey(e),e}},value:{get:function(){return i&&d.addKey(r.primaryKey),r.value}}})}return t}))}h.add(n)}}return i[e].apply(this,arguments)}})),c}})}};var hf,pf=function(){function e(t,n){var r=this;ru(this,e),this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=pu({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:vs,dbReadyPromise:null,cancelOpen:vs,openCanceller:null,autoSchema:!0};o.dbReadyPromise=new Vs((function(e){o.dbReadyResolve=e})),o.openCanceller=new Vs((function(e,t){o.cancelOpen=t})),this._state=o,this.name=t,this.on=Gc(this,"populate","blocked","versionchange","close",{ready:[ks,vs]}),this.on.ready.subscribe=ju(this.on.ready.subscribe,(function(t){return function(n,i){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||Vs.resolve().then(n),i&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),i&&t(n);else{t(n);var a=r;i||t((function e(){a.on.ready.unsubscribe(n),a.on.ready.unsubscribe(e)}))}}))}})),this.Collection=function(e){return Yc(al.prototype,(function(t,n){this.db=e;var r=Hc,i=null;if(n)try{r=n()}catch(s){i=s}var a=t._ctx,o=a.table,u=o.hook.reading.fire;this._ctx={table:o,index:a.index,isPrimKey:!a.index||o.schema.primKey.keyPath&&a.index===o.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:a.or,valueMapper:u!==ms?u:null}}))}(this),this.Table=function(e){return Yc(Vc.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Gc(null,{creating:[bs,vs],reading:[gs,ms],updating:[ws,vs],deleting:[xs,vs]})}))}(this),this.Transaction=function(e){return Yc(wl.prototype,(function(t,n,r,i,a){var o=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Gc(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Vs((function(e,t){o._resolve=e,o._reject=t})),this._completion.then((function(){o.active=!1,o.on.complete.fire()}),(function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),Cc(e)}))}))}(this),this.Version=function(e){return Yc(ql.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Yc(vl.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var i=e._deps.indexedDB;if(!i)throw new ds.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(e,t){return i.cmp(t,e)},this._max=function(e,t){return i.cmp(e,t)>0?e:t},this._min=function(e,t){return i.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=Ol(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),Nc.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Jl),this.use(tf),this.use(df),this.use(rf),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach((function(e){return e(r)}))}return au(e,[{key:"version",value:function(e){if(isNaN(e)||e<.1)throw new ds.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ds.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Nl),n.stores({}),this._state.autoSchema=!1,n)}},{key:"_whenReady",value:function(e){var t=this;return this.idbdb&&(this._state.openComplete||qs.letThrough||this._vip)?e():new Vs((function(e,n){if(t._state.openComplete)return n(new ds.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new ds.DatabaseClosed);t.open().catch(vs)}t._state.dbReadyPromise.then(e,n)})).then(e)}},{key:"use",value:function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;i&&this.unuse({stack:t,name:i});var a=this._middlewares[t]||(this._middlewares[t]=[]);return a.push({stack:t,create:n,level:null==r?10:r,name:i}),a.sort((function(e,t){return e.level-t.level})),this}},{key:"unuse",value:function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this}},{key:"open",value:function(){return Yl(this)}},{key:"_close",value:function(){var e=this._state,t=Nc.indexOf(this);if(t>=0&&Nc.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new Vs((function(t){e.dbReadyResolve=t})),e.openCanceller=new Vs((function(t,n){e.cancelOpen=n}))}},{key:"close",value:function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ds.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}},{key:"delete",value:function(){var e=this,t=arguments.length>0,n=this._state;return new Vs((function(r,i){var a=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=uc((function(){$l(e._deps,e.name),r()})),t.onerror=ml(i),t.onblocked=e._fireOnBlocked};if(t)throw new ds.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(a):a()}))}},{key:"backendDB",value:function(){return this.idbdb}},{key:"isOpen",value:function(){return null!==this.idbdb}},{key:"hasBeenClosed",value:function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}},{key:"hasFailed",value:function(){return null!==this._state.dbOpenError}},{key:"dynamicallyOpened",value:function(){return this._state.autoSchema}},{key:"tables",get:function(){var e=this;return mu(this._allTables).map((function(t){return e._allTables[t]}))}},{key:"transaction",value:function(){var e=Xl.apply(this,arguments);return this._transaction.apply(this,e)}},{key:"_transaction",value:function(e,t,n){var r=this,i=qs.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var a,o,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(o=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!==typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Uc)a=Uc;else{if("rw"!=e&&e!=qc)throw new ds.InvalidArgument("Invalid transaction mode: "+e);a=qc}if(i){if(i.mode===Uc&&a===qc){if(!u)throw new ds.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!u)throw new ds.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),u&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,(function(e,t){t(c)})):Cc(c)}var s=Ql.bind(null,this,a,o,i,n);return i?i._promise(a,s,"lock"):qs.trans?_c(qs.transless,(function(){return r._whenReady(s)})):this._whenReady(s)}},{key:"table",value:function(e){if(!wu(this._allTables,e))throw new ds.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}]),e}(),vf="undefined"!==typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",mf=function(){function e(t){ru(this,e),this._subscribe=t}return au(e,[{key:"subscribe",value:function(e,t,n){return this._subscribe(e&&"function"!==typeof e?e:{next:e,error:t,complete:n})}},{key:vf,value:function(){return this}}]),e}();function gf(e,t){return mu(t).forEach((function(n){sf(e[n]||(e[n]=new of),t[n])})),e}try{hf={indexedDB:vu.indexedDB||vu.mozIndexedDB||vu.webkitIndexedDB||vu.msIndexedDB,IDBKeyRange:vu.IDBKeyRange||vu.webkitIDBKeyRange}}catch(Awe){hf={indexedDB:null,IDBKeyRange:null}}var yf=pf;function bf(e){var t=xf;try{xf=!0,xl.storagemutated.fire(e)}finally{xf=t}}_u(yf,pu(pu({},ps),{},{delete:function(e){return new yf(e,{addons:[]}).delete()},exists:function(e){return new yf(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function(e){var t=e.indexedDB,n=e.IDBKeyRange;return Hl(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==Lc}))})):Wl(t,n).toCollection().primaryKeys()}(yf.dependencies).then(e)}catch(t){return Cc(new ds.MissingAPI)}},defineClass:function(){return function(e){yu(this,e)}},ignoreTransaction:function(e){return qs.trans?_c(qs.transless,e):e()},vip:Vl,async:function(e){return function(){try{var t=Kl(e.apply(this,arguments));return t&&"function"===typeof t.then?t:Vs.resolve(t)}catch(Awe){return Cc(Awe)}}},spawn:function(e,t,n){try{var r=Kl(e.apply(n,t||[]));return r&&"function"===typeof r.then?r:Vs.resolve(r)}catch(Awe){return Cc(Awe)}},currentTransaction:{get:function(){return qs.trans||null}},waitFor:function(e,t){var n=Vs.resolve("function"===typeof e?yf.ignoreTransaction(e):e).timeout(t||6e4);return qs.trans?qs.trans.waitFor(n):n},Promise:Vs,debug:{get:function(){return Qu},set:function(e){Zu(e,"dexie"===e?function(){return!0}:zc)}},derive:Ou,extend:yu,props:_u,override:ju,Events:Gc,on:xl,liveQuery:function(e){return new mf((function(t){var n=Xu(e);var r=!1,i={},a={},o={get closed(){return r},unsubscribe:function(){r=!0,xl.storagemutated.unsubscribe(l)}};t.start&&t.start(o);var u=!1,s=!1;function c(){return mu(a).some((function(e){return i[e]&&function(e,t){var n=cf(t),r=n.next();if(r.done)return!1;for(var i=r.value,a=cf(e),o=a.next(i.from),u=o.value;!r.done&&!o.done;){if(nl(u.from,i.to)<=0&&nl(u.to,i.from)>=0)return!0;nl(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(o=a.next(i.from)).value}return!1}(i[e],a[e])}))}var l=function(e){gf(i,e),c()&&f()},f=function f(){if(!u&&!r){i={};var d={},h=function(t){n&&vc();var r=function(){return pc(e,{subscr:t,trans:null})},i=qs.trans?_c(qs.transless,r):r();return n&&i.then(mc,mc),i}(d);s||(xl(yl,l),s=!0),u=!0,Promise.resolve(h).then((function(e){u=!1,r||(c()?f():(i={},a=d,t.next&&t.next(e)))}),(function(e){u=!1,t.error&&t.error(e),o.unsubscribe()}))}};return f(),o}))},extendObservabilitySet:gf,getByKeyPath:Mu,setByKeyPath:Nu,delByKeyPath:function(e,t){"string"===typeof t?Nu(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Nu(e,t,void 0)}))},shallowClone:Ru,deepClone:qu,getObjectDiff:ef,cmp:nl,asap:Fu,minKey:Fc,addons:[],connections:Nc,errnames:ls,dependencies:hf,semVer:jc,version:jc.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),yf.maxKey=Ol(yf.dependencies.IDBKeyRange),"undefined"!==typeof dispatchEvent&&"undefined"!==typeof addEventListener&&(xl(yl,(function(e){var t;xf||(Rc?(t=document.createEvent("CustomEvent")).initCustomEvent(bl,!0,!0,e):t=new CustomEvent(bl,{detail:e}),xf=!0,dispatchEvent(t),xf=!1)})),addEventListener(bl,(function(e){var t=e.detail;xf||bf(t)})));var xf=!1;if("undefined"!==typeof BroadcastChannel){var wf=new BroadcastChannel(bl);xl(yl,(function(e){xf||wf.postMessage(e)})),wf.onmessage=function(e){e.data&&bf(e.data)}}else if("undefined"!==typeof self&&"undefined"!==typeof navigator){xl(yl,(function(e){try{xf||("undefined"!==typeof localStorage&&localStorage.setItem(bl,JSON.stringify({trig:Math.random(),changedParts:e})),"object"===typeof self.clients&&du(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){return t.postMessage({type:bl,changedParts:e})})))}catch(t){}})),addEventListener("storage",(function(e){if(e.key===bl){var t=JSON.parse(e.newValue);t&&bf(t.changedParts)}}));var _f=self.document&&navigator.serviceWorker;_f&&_f.addEventListener("message",(function(e){var t=e.data;t&&t.type===bl&&bf(t.changedParts)}))}Vs.rejectionMapper=function(e,t){if(!e||e instanceof os||e instanceof TypeError||e instanceof SyntaxError||!e.name||!hs[e.name])return e;var n=new hs[e.name](t||e.message,e);return"stack"in e&&Eu(n,"stack",{get:function(){return this.inner.stack}}),n},Zu(Qu,zc);var kf,Ef=n(2575),Of=n(3017),Sf=function(){function e(){ru(this,e),this.setIDB()}return au(e,[{key:"setIDB",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.idb=e?new pf("FootprintDB",{indexedDB:Ef,IDBKeyRange:Of}):new pf("FootprintDB"),this.idb.version(2).stores({meta:"welcome",dataStatus:"&name, source, status, date",data:"&name, deleted",groupInfo:"&group"})}},{key:"destroyEverything",value:function(){var e=Jo(tu().mark((function e(){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.delete();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"welcome",value:function(){var e=Jo(tu().mark((function e(){var t;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idb.meta.put({welcome:1});case 3:t=!0,e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(0),this.setIDB(!0),e.next=11,this.idb.meta.put({welcome:1});case 11:t=!1;case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"isWelcome",value:function(){var e=Jo(tu().mark((function e(){var t;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idb.meta.get(1);case 3:return t=e.sent,console.log(t),e.abrupt("return",{welcome:!!t,persistent:!0});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{welcome:!1,persistent:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Jo(tu().mark((function e(t,n){var r,i,a,o,u,s,c;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idb.data.get({name:t});case 3:if(null===(r=e.sent)||void 0===r||!r.deleted){e.next=8;break}return r.data=r.data.filter((function(e,t){return!r.deleted[t]})),e.next=8,this.idb.data.put({name:t,deleted:null,data:r.data},[t]);case 8:if(n)for(i=0;i<r.data.length;i++){a={},o=nu(n);try{for(o.s();!(u=o.n()).done;)s=u.value,a[s]=r.data[i][s]}catch(l){o.e(l)}finally{o.f()}r.data[i]=a}for(c=0;c<r.data.length;c++)r.data[c]._INDEX=c;return e.abrupt("return",r.data);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setDeleted",value:function(){var e=Jo(tu().mark((function e(t,n){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.data.where("name").equals(t).modify({deleted:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addData",value:function(){var e=Jo(tu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>3&&void 0!==v[3]?v[3]:null,e.next=3,this.getData(n);case 3:if(a=e.sent,o={},!(a&&a.length>0)){e.next=26;break}if(u={},i){s=nu(t);try{for(l=function(){var e=c.value;e.group&&!o[e.group]&&(o[e.group]=!0);var t=JSON.stringify(i.map((function(t){return e[t]})));u[t]=!0},s.s();!(c=s.n()).done;)l()}catch(m){s.e(m)}finally{s.f()}}f=nu(a),e.prev=9,h=function(){var e=d.value;if(e.group&&o[e.group]&&(o[e.group]=!1),i){var n=JSON.stringify(i.map((function(t){return e[t]})));if(u[n])return"continue"}t.push(e)},f.s();case 12:if((d=f.n()).done){e.next=18;break}if("continue"!==h()){e.next=16;break}return e.abrupt("continue",16);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),f.e(e.t0);case 23:return e.prev=23,f.f(),e.finish(23);case 26:return e.next=28,this.idb.data.put({name:n,deleted:null,data:t},[n]);case 28:return e.next=30,this.updateDataStatus(n,r);case 30:p=Object.keys(o).filter((function(e){return o[e]})),p.length>0&&ou(p);case 32:case"end":return e.stop()}}),e,this,[[9,20,23,26]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getDataStatus",value:function(){var e=Jo(tu().mark((function e(t){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.idb.datastatus.get({name:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDataStatus",value:function(){var e=Jo(tu().mark((function e(t,n){var r,i;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.dataStatus.get({name:t});case 2:r=e.sent,i=new Date,r?this.idb.dataStatus.where("name").equals(t).modify({date:i,source:n,status:"finished"}):this.idb.dataStatus.add({name:t,date:i,source:n,status:"finished"});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getGroupInfo",value:function(){var e=Jo(tu().mark((function e(t){var n;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.idb.groupInfo.where("group").anyOf(t).toArray();case 2:return n=e.sent,e.abrupt("return",n.reduce((function(e,t){return e[t.url]=t.info,e}),{}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroupInfo",value:function(){var e=Jo(tu().mark((function e(t){var n;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.keys(t).map((function(e){return{group:e,info:t[e]}})),this.idb.groupInfo.bulkPut(n).then().catch(pf.BulkError,(function(e){console.log("ignored some duplicates in writeGroupInfo")}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();try{kf=new Sf,console.log("normal")}catch(Awe){kf=new Sf(!0),console.log("fake")}var Af=kf;function Cf(e){var t=e.children,n=e.className,r=e.computer,i=e.color,a=e.floated,o=e.largeScreen,u=e.mobile,s=e.only,c=e.stretched,l=e.tablet,f=e.textAlign,d=e.verticalAlign,h=e.widescreen,p=e.width,v=fi(i,pi(c,"stretched"),gi(s,"only"),yi(f),vi(a,"floated"),bi(d),xi(r,"wide computer"),xi(o,"wide large screen"),xi(u,"wide mobile"),xi(l,"wide tablet"),xi(h,"wide widescreen"),xi(p,"wide"),"column",n),m=wi(Cf,e),g=_i(Cf,e);return _.createElement(g,D({},m,{className:v}),t)}Cf.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],Cf.propTypes={},Cf.create=ea(Cf,(function(e){return{children:e}}));var Df=Cf;function jf(e){var t=e.centered,n=e.children,r=e.className,i=e.color,a=e.columns,o=e.divided,u=e.only,s=e.reversed,c=e.stretched,l=e.textAlign,f=e.verticalAlign,d=fi(i,pi(t,"centered"),pi(o,"divided"),pi(c,"stretched"),gi(u,"only"),gi(s,"reversed"),yi(l),bi(f),xi(a,"column",!0),"row",r),h=wi(jf,e),p=_i(jf,e);return _.createElement(p,D({},h,{className:d}),n)}jf.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],jf.propTypes={};var Tf=jf;function Ff(e){var t=e.celled,n=e.centered,r=e.children,i=e.className,a=e.columns,o=e.container,u=e.divided,s=e.doubling,c=e.inverted,l=e.padded,f=e.relaxed,d=e.reversed,h=e.stackable,p=e.stretched,v=e.textAlign,m=e.verticalAlign,g=fi("ui",pi(n,"centered"),pi(o,"container"),pi(s,"doubling"),pi(c,"inverted"),pi(h,"stackable"),pi(p,"stretched"),mi(t,"celled"),mi(u,"divided"),mi(l,"padded"),mi(f,"relaxed"),gi(d,"reversed"),yi(v),bi(m),xi(a,"column",!0),"grid",i),y=wi(Ff,e),b=_i(Ff,e);return _.createElement(b,D({},y,{className:g}),r)}Ff.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Ff.Column=Df,Ff.Row=Tf,Ff.propTypes={};var Pf=Ff;function Mf(e){var t=e.children,n=e.className,r=e.compact,i=e.content,a=e.horizontal,o=e.piled,u=e.raised,s=e.size,c=e.stacked,l=fi("ui",s,pi(r,"compact"),pi(a,"horizontal"),pi(o,"piled"),pi(u,"raised"),pi(c,"stacked"),"segments",n),f=wi(Mf,e),d=_i(Mf,e);return _.createElement(d,D({},f,{className:l}),Si(t)?i:t)}Mf.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Mf.propTypes={};var Nf=Mf;function Rf(e){var t=e.children,n=e.className,r=e.content,i=fi("inline",n),a=wi(Rf,e),o=_i(Rf,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}Rf.handledProps=["as","children","className","content"],Rf.propTypes={};var If=Rf;function Bf(e){var t=e.attached,n=e.basic,r=e.children,i=e.circular,a=e.className,o=e.clearing,u=e.color,s=e.compact,c=e.content,l=e.disabled,f=e.floated,d=e.inverted,h=e.loading,p=e.placeholder,v=e.padded,m=e.piled,g=e.raised,y=e.secondary,b=e.size,x=e.stacked,w=e.tertiary,k=e.textAlign,E=e.vertical,O=fi("ui",u,b,pi(n,"basic"),pi(i,"circular"),pi(o,"clearing"),pi(s,"compact"),pi(l,"disabled"),pi(d,"inverted"),pi(h,"loading"),pi(p,"placeholder"),pi(m,"piled"),pi(g,"raised"),pi(y,"secondary"),pi(x,"stacked"),pi(w,"tertiary"),pi(E,"vertical"),mi(t,"attached"),mi(v,"padded"),yi(k),vi(f,"floated"),"segment",a),S=wi(Bf,e),A=_i(Bf,e);return _.createElement(A,D({},S,{className:O}),Si(r)?c:r)}Bf.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],Bf.Group=Nf,Bf.Inline=If,Bf.propTypes={};var zf=Bf;var Lf=function(e){var t=Lo(e),n=t%1;return t===t?n?t-n:t:0};var Uf=function(e,t){return xe(t,(function(t){return e[t]}))};var qf=function(e){return null==e?[]:Uf(e,Rn(e))},Wf=Math.max;var Hf=function(e,t,n,r){e=Nn(e)?e:qf(e),n=n&&!r?Lf(n):0;var i=e.length;return n<0&&(n=Wf(i+n,0)),Xi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Mi(e,t,n)>-1};var $f=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Vf=function(e){return"function"==typeof e?e:Rr};var Gf=function(e,t){return(Gt(e)?$f:$r)(e,Vf(t))},Yf=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Kf=[].concat(Yf,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),Xf=["alt","height","src","srcSet","width","loading"],Qf=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?Kf:r,a=n.includeAria,o=void 0===a||a,u={},s={};return Gf(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(Hf(i,t)||n?u:s)[t]=e})),[u,s]},Zf="object"===typeof document&&null!==document,Jf="object"===typeof window&&null!==window&&window.self===window,ed=function e(){return Zi(e.override)?Zf&&Jf:e.override},td=n(6775),nd=n.n(td),rd=n(7854),id=n.n(rd),ad=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){xo(t.props.innerRef,e)},t}be(t,e);var n=t.prototype;return n.componentDidMount=function(){ci(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){ci(this.props,"onUnmount",null,this.props)},n.render=function(){if(!ed())return null;var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?document.body:n;return(0,k.createPortal)(_.createElement(So,{innerRef:this.handleRef},t),r)},t}(_.Component);ad.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],ad.propTypes={};var od=ad,ud=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).contentRef=_.createRef(),t.triggerRef=_.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||Wo(t.triggerRef.current,e)||r&&Wo(t.contentRef.current,r)||Wo(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&id().getCode(e)===id().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];ci.apply(void 0,[r,"props.onBlur",e].concat(o));var s=e.relatedTarget||document.activeElement,c=ci(t.contentRef.current,"contains",s);i&&!c&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,a=n.openOnTriggerClick,o=t.state.open,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];ci.apply(void 0,[r,"props.onClick",e].concat(s)),o&&i?t.close(e):!o&&a&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];ci.apply(void 0,[r,"props.onFocus",e].concat(o)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,a=n.mouseLeaveDelay,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];ci.apply(void 0,[r,"props.onMouseLeave",e].concat(u)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,a))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,a=n.openOnTriggerMouseEnter,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];ci.apply(void 0,[r,"props.onMouseEnter",e].concat(u)),a&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){ci(t.props,"onOpen",e,D({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=D({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),ci(t.props,"onClose",e,D({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=D({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){ci(t.props,"onMount",null,t.props)},t.handleUnmount=function(){ci(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,xo(t.props.triggerRef,e)},t}be(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,r=e.mountNode,i=e.trigger,a=this.state.open;return _.createElement(_.Fragment,null,a&&_.createElement(_.Fragment,null,_.createElement(od,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},t),_.createElement(nd(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),_.createElement(nd(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),_.createElement(nd(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),_.createElement(nd(),{name:"click",on:this.handleDocumentClick,pool:n}),_.createElement(nd(),{name:"keydown",on:this.handleEscape,pool:n})),i&&_.createElement(So,{innerRef:this.handleTriggerRef},_.cloneElement(i,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(ji);ud.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],ud.propTypes={},ud.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},ud.autoControlledProps=["open"],ud.Inner=od;var sd=ud;function cd(e){var t=e.blurring,n=e.className,r=e.children,i=e.content,a=e.dimmed,o=fi(pi(t,"blurring"),pi(a,"dimmed"),"dimmable",n),u=wi(cd,e),s=_i(cd,e);return _.createElement(s,D({},u,{className:o}),Si(r)?i:r)}cd.handledProps=["as","blurring","children","className","content","dimmed"],cd.propTypes={};var ld=cd,fd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=(0,_.createRef)(),t.contentRef=(0,_.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;ci(t.props,"onClick",e,t.props),n&&n!==e.target&&Wo(n,e)||ci(t.props,"onClickOutside",e,t.props)},t}be(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.disabled,u=e.inverted,s=e.page,c=e.simple,l=e.verticalAlign,f=fi("ui",pi(n,"active transition visible"),pi(o,"disabled"),pi(u,"inverted"),pi(s,"page"),pi(c,"simple"),bi(l),"dimmer",i),d=wi(t,this.props),h=_i(t,this.props),p=Si(r)?a:r;return _.createElement(So,{innerRef:this.containerRef},_.createElement(h,D({},d,{className:f,onClick:this.handleClick}),p&&_.createElement("div",{className:"content",ref:this.contentRef},p)))},t}(_.Component);fd.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],fd.propTypes={};var dd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){ed()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){ed()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.page,i=wi(t,this.props);return r?_.createElement(sd,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},_.createElement(fd,D({},i,{active:n,page:r}))):_.createElement(fd,D({},i,{active:n,page:r}))},t}(_.Component);function hd(e){var t=e.children,n=e.className,r=e.content,i=fi("detail",n),a=wi(hd,e),o=_i(hd,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}dd.handledProps=["active","page"],dd.propTypes={},dd.Dimmable=ld,dd.Inner=fd,dd.create=ea(dd,(function(e){return{content:e}})),hd.handledProps=["as","children","className","content"],hd.propTypes={},hd.create=ea(hd,(function(e){return{content:e}}));var pd=hd;function vd(e){var t=e.children,n=e.circular,r=e.className,i=e.color,a=e.content,o=e.size,u=e.tag,s=fi("ui",i,o,pi(n,"circular"),pi(u,"tag"),"labels",r),c=wi(vd,e),l=_i(vd,e);return _.createElement(l,D({},c,{className:s}),Si(t)?a:t)}vd.handledProps=["as","children","circular","className","color","content","size","tag"],vd.propTypes={};var md=vd,gd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){ci(e,"onClick",n),ci(t.props,"onRemove",n,t.props)}}},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.attached,i=e.basic,a=e.children,o=e.circular,u=e.className,s=e.color,c=e.content,l=e.corner,f=e.detail,d=e.empty,h=e.floating,p=e.horizontal,v=e.icon,m=e.image,g=e.onRemove,y=e.pointing,b=e.prompt,x=e.removeIcon,w=e.ribbon,k=e.size,E=e.tag,O=fi("ui",s,(!0===y?"pointing":("left"===y||"right"===y)&&y+" pointing")||("above"===y||"below"===y)&&"pointing "+y,k,pi(n,"active"),pi(i,"basic"),pi(o,"circular"),pi(d,"empty"),pi(h,"floating"),pi(p,"horizontal"),pi(!0===m,"image"),pi(b,"prompt"),pi(E,"tag"),mi(l,"corner"),mi(w,"ribbon"),vi(r,"attached"),"label",u),S=wi(t,this.props),A=_i(t,this.props);if(!Si(a))return _.createElement(A,D({},S,{className:O,onClick:this.handleClick}),a);var C=Ci(x)?"delete":x;return _.createElement(A,D({className:O,onClick:this.handleClick},S),lo.create(v,{autoGenerateKey:!1}),"boolean"!==typeof m&&wd.create(m,{autoGenerateKey:!1}),c,pd.create(f,{autoGenerateKey:!1}),g&&lo.create(C,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(_.Component);function yd(e){var t=e.children,n=e.className,r=e.content,i=fi("ui",e.size,n,"images"),a=wi(yd,e),o=_i(yd,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}gd.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],gd.propTypes={},gd.Detail=pd,gd.Group=md,gd.create=ea(gd,(function(e){return{content:e}})),yd.handledProps=["as","children","className","content","size"],yd.propTypes={};var bd=yd;function xd(e){var t=e.avatar,n=e.bordered,r=e.centered,i=e.children,a=e.circular,o=e.className,u=e.content,s=e.dimmer,c=e.disabled,l=e.floated,f=e.fluid,d=e.hidden,h=e.href,p=e.inline,v=e.label,m=e.rounded,g=e.size,y=e.spaced,b=e.verticalAlign,x=e.wrapped,w=e.ui,k=fi(pi(w,"ui"),g,pi(t,"avatar"),pi(n,"bordered"),pi(a,"circular"),pi(r,"centered"),pi(c,"disabled"),pi(f,"fluid"),pi(d,"hidden"),pi(p,"inline"),pi(m,"rounded"),mi(y,"spaced"),vi(l,"floated"),bi(b),"image",o),E=wi(xd,e),O=Qf(E,{htmlProps:Xf}),S=O[0],A=O[1],C=_i(xd,e,(function(){if(!Zi(s)||!Zi(v)||!Zi(x)||!Si(i))return"div"}));return Si(i)?Si(u)?"img"===C?_.createElement(C,D({},A,S,{className:k})):_.createElement(C,D({},A,{className:k,href:h}),dd.create(s,{autoGenerateKey:!1}),gd.create(v,{autoGenerateKey:!1}),_.createElement("img",S)):_.createElement(C,D({},E,{className:k}),u):_.createElement(C,D({},E,{className:k}),i)}xd.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],xd.Group=bd,xd.propTypes={},xd.defaultProps={as:"img",ui:!0},xd.create=ea(xd,(function(e){return{src:e}}));var wd=xd;function _d(e){var t=e.children,n=e.className,r=e.content,i=fi("sub header",n),a=wi(_d,e),o=_i(_d,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}_d.handledProps=["as","children","className","content"],_d.propTypes={},_d.create=ea(_d,(function(e){return{content:e}}));var kd=_d;function Ed(e){var t=e.children,n=e.className,r=e.content,i=fi("content",n),a=wi(Ed,e),o=_i(Ed,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}Ed.handledProps=["as","children","className","content"],Ed.propTypes={};var Od=Ed;function Sd(e){var t=e.attached,n=e.block,r=e.children,i=e.className,a=e.color,o=e.content,u=e.disabled,s=e.dividing,c=e.floated,l=e.icon,f=e.image,d=e.inverted,h=e.size,p=e.sub,v=e.subheader,m=e.textAlign,g=fi("ui",a,h,pi(n,"block"),pi(u,"disabled"),pi(s,"dividing"),vi(c,"floated"),pi(!0===l,"icon"),pi(!0===f,"image"),pi(d,"inverted"),pi(p,"sub"),mi(t,"attached"),yi(m),"header",i),y=wi(Sd,e),b=_i(Sd,e);if(!Si(r))return _.createElement(b,D({},y,{className:g}),r);var x=lo.create(l,{autoGenerateKey:!1}),w=wd.create(f,{autoGenerateKey:!1}),k=kd.create(v,{autoGenerateKey:!1});return x||w?_.createElement(b,D({},y,{className:g}),x||w,(o||k)&&_.createElement(Od,null,o,k)):_.createElement(b,D({},y,{className:g}),o,k)}Sd.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],Sd.propTypes={},Sd.Content=Od,Sd.Subheader=kd;var Ad=Sd;function Cd(e){var t=e.children,n=e.className,r=e.content,i=e.hidden,a=e.visible,o=fi(pi(a,"visible"),pi(i,"hidden"),"content",n),u=wi(Cd,e),s=_i(Cd,e);return _.createElement(s,D({},u,{className:o}),Si(t)?r:t)}Cd.handledProps=["as","children","className","content","hidden","visible"],Cd.propTypes={};var Dd=Cd;function jd(e){var t=e.attached,n=e.basic,r=e.buttons,i=e.children,a=e.className,o=e.color,u=e.compact,s=e.content,c=e.floated,l=e.fluid,f=e.icon,d=e.inverted,h=e.labeled,p=e.negative,v=e.positive,m=e.primary,g=e.secondary,y=e.size,b=e.toggle,x=e.vertical,w=e.widths,k=fi("ui",o,y,pi(n,"basic"),pi(u,"compact"),pi(l,"fluid"),pi(f,"icon"),pi(d,"inverted"),pi(h,"labeled"),pi(p,"negative"),pi(v,"positive"),pi(m,"primary"),pi(g,"secondary"),pi(b,"toggle"),pi(x,"vertical"),mi(t,"attached"),vi(c,"floated"),xi(w),"buttons",a),E=wi(jd,e),O=_i(jd,e);return Zi(r)?_.createElement(O,D({},E,{className:k}),Si(i)?s:i):_.createElement(O,D({},E,{className:k}),Gr(r,(function(e){return Nd.create(e)})))}jd.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],jd.propTypes={};var Td=jd;function Fd(e){var t=e.className,n=e.text,r=fi("or",t),i=wi(Fd,e),a=_i(Fd,e);return _.createElement(a,D({},i,{className:r,"data-text":n}))}Fd.handledProps=["as","className","text"],Fd.propTypes={};var Pd=Fd,Md=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,_.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!Zi(n)||!Zi(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return Zi(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(){return ci(t.ref.current,"focus")},t.handleClick=function(e){t.props.disabled?e.preventDefault():ci(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,a=e.icon;return!0===a||a&&(n||Si(r)&&Zi(i))},t}be(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return Zi(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,r=e.animated,i=e.attached,a=e.basic,o=e.children,u=e.circular,s=e.className,c=e.color,l=e.compact,f=e.content,d=e.disabled,h=e.floated,p=e.fluid,v=e.icon,m=e.inverted,g=e.label,y=e.labelPosition,b=e.loading,x=e.negative,w=e.positive,k=e.primary,E=e.secondary,O=e.size,S=e.toggle,A=e.type,C=fi(c,O,pi(n,"active"),pi(a,"basic"),pi(u,"circular"),pi(l,"compact"),pi(p,"fluid"),pi(this.hasIconClass(),"icon"),pi(m,"inverted"),pi(b,"loading"),pi(x,"negative"),pi(w,"positive"),pi(k,"primary"),pi(E,"secondary"),pi(S,"toggle"),mi(r,"animated"),mi(i,"attached")),j=fi(mi(y||!!g,"labeled")),T=fi(pi(d,"disabled"),vi(h,"floated")),F=wi(t,this.props),P=_i(t,this.props,this.computeElementType),M=this.computeTabIndex(P);if(!Zi(g)){var N=fi("ui",C,"button",s),R=fi("ui",j,"button",s,T),I=gd.create(g,{defaultProps:{basic:!0,pointing:"left"===y?"right":"left"},autoGenerateKey:!1});return _.createElement(P,D({},F,{className:R,onClick:this.handleClick}),"left"===y&&I,_.createElement(So,{innerRef:this.ref},_.createElement("button",{className:N,"aria-pressed":S?!!n:void 0,disabled:d,type:A,tabIndex:M},lo.create(v,{autoGenerateKey:!1})," ",f)),("right"===y||!y)&&I)}var B=fi("ui",C,T,j,"button",s),z=!Si(o),L=this.computeButtonAriaRole(P);return _.createElement(So,{innerRef:this.ref},_.createElement(P,D({},F,{className:B,"aria-pressed":S?!!n:void 0,disabled:d&&"button"===P||void 0,onClick:this.handleClick,role:L,type:A,tabIndex:M}),z&&o,!z&&lo.create(v,{autoGenerateKey:!1}),!z&&f))},t}(_.Component);Md.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Md.propTypes={},Md.defaultProps={as:"button"},Md.Content=Dd,Md.Group=Td,Md.Or=Pd,Md.create=ea(Md,(function(e){return{content:e}}));var Nd=Md,Rd=n(3687),Id=_.createContext(null);var Bd=function(e){e()},zd=function(){return Bd};var Ld={notify:function(){},get:function(){return[]}};function Ud(e,t){var n,r=Ld;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=zd(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Ld)},getListeners:function(){return r}};return o}var qd="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?_.useLayoutEffect:_.useEffect;var Wd=function(e){var t=e.store,n=e.context,r=e.children,i=(0,_.useMemo)((function(){var e=Ud(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=(0,_.useMemo)((function(){return t.getState()}),[t]);qd((function(){var e=i.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,a]);var o=n||Id;return _.createElement(o.Provider,{value:i},r)},Hd=(n(2110),n(7441));function $d(){return(0,_.useContext)(Id)}function Vd(e){void 0===e&&(e=Id);var t=e===Id?$d:function(){return(0,_.useContext)(e)};return function(){return t().store}}var Gd=Vd();function Yd(e){void 0===e&&(e=Id);var t=e===Id?Gd:Vd(e);return function(){return t().dispatch}}var Kd=Yd(),Xd=function(e,t){return e===t};function Qd(e){void 0===e&&(e=Id);var t=e===Id?$d:function(){return(0,_.useContext)(e)};return function(e,n){void 0===n&&(n=Xd);var r=t(),i=function(e,t,n,r){var i,a=(0,_.useReducer)((function(e){return e+1}),0),o=a[1],u=(0,_.useMemo)((function(){return Ud(n,r)}),[n,r]),s=(0,_.useRef)(),c=(0,_.useRef)(),l=(0,_.useRef)(),f=(0,_.useRef)(),d=n.getState();try{if(e!==c.current||d!==l.current||s.current){var h=e(d);i=void 0!==f.current&&t(h,f.current)?f.current:h}else i=f.current}catch(p){throw s.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),p}return qd((function(){c.current=e,l.current=d,f.current=i,s.current=void 0})),qd((function(){function e(){try{var e=n.getState();if(e===l.current)return;var r=c.current(e);if(t(r,f.current))return;f.current=r,l.current=e}catch(p){s.current=p}o()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),i}(e,n,r.store,r.subscription);return(0,_.useDebugValue)(i),i}}var Zd,Jd=Qd();Zd=k.unstable_batchedUpdates,Bd=Zd;var eh=function(e){return{type:"SET_DATA_STATUS",dataStatus:e}},th=function(e,t,n){return function(r,i){var a=du(i().dataStatus),o=a.findIndex((function(n){return n.name===e&&n.source===t}));if(o<0){var u="finished"===n?new Date:null;a.push({name:e,source:t,date:u,status:n})}else a[o]=pu(pu({},a[o]),{},{status:n}),"finished"===n&&(a[o].date=new Date);r(eh(a))}},nh=function(e){return{type:"SET_PERSISTENT",persistent:e}},rh=function(){return(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsxs)("h4",{style:{marginBottom:"8px"},children:[(0,Xo.jsx)("span",{style:{color:"Chocolate"},children:"Warning!"})," Your browser does not let you store data"]}),(0,Xo.jsx)("p",{children:"Some browser do not let you store data (especially older versions and if private mode is enabled). You can still use the application, but if you leave the page any progress you made will be gone. Don't worry though! you'll get a warning when you try to refresh or leave the page so this doesn't happen by accident."})]})},ih=function(e){var t=e.items,n=X(),r=Kd(),i=Jd((function(e){return e.persistent})),a=function(){var e=Jo(tu().mark((function e(i){var a,o;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=7;break}return e.next=3,Af.isWelcome();case 3:if(null!==(a=e.sent)&&void 0!==a&&a.persistent||r(nh(!1)),null!==a&&void 0!==a&&a.welcome){e.next=7;break}return e.abrupt("return",null);case 7:return e.prev=7,e.next=10,Af.welcome();case 10:o=e.sent,console.log(o),r(nh(o)),n(t[0].path),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.log("whut");case 19:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,_.useEffect)((function(){a(!0)})),(0,Xo.jsx)(Pf,{inverted:!0,textAlign:"center",style:{height:"100vh",backgroundImage:"url(".concat(Rd,")"),backgroundSize:"100% 100%"},verticalAlign:"middle",children:(0,Xo.jsx)(Pf.Column,{style:{maxWidth:600},children:(0,Xo.jsxs)(zf,{style:{border:0},children:[(0,Xo.jsx)(Ad,{as:"h2",children:"Welcome to the Digital Footprints Lab!"}),(0,Xo.jsxs)("div",{align:"justified",style:{textAlign:"left",marginTop:"20px",marginBottom:"20px"},children:[(0,Xo.jsx)("h4",{style:{marginBottom:"8px"},children:"Gather and explore your digital footprints"}),(0,Xo.jsxs)("p",{children:["This application let's you collect and explore your own digital traces. All the data is stored and processed on your own device, so it ",(0,Xo.jsx)("b",{children:"doesn't touch the internet"}),"."]}),(0,Xo.jsx)("h4",{style:{marginBottom:"8px"},children:"Donate data to support academic research"}),(0,Xo.jsx)("p",{children:"You can also donate (parts) of this data for scientific research. This data will only be used for non-commercial research by a select group of academics, for research that is approved by the ethical board of their university."}),i?null:rh()]}),(0,Xo.jsx)(Nd,{primary:!0,onClick:function(){return a(!1)},children:"Great, let's get started!"})]})})})},ah=function(e){var t=e.children,n=C((0,_.useState)(!0),2),r=n[0],i=n[1],a=C((0,_.useState)(!1),2),o=a[0],u=a[1];return(0,_.useEffect)((function(){var e=function(){var e=Jo(tu().mark((function e(){var t;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af.isWelcome();case 2:t=e.sent,console.log(t),null!==t&&void 0!==t&&t.welcome?u(!0):u(!1),i(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()})),r?(0,Xo.jsx)("div",{children:"loading..."}):o?t:(0,Xo.jsx)(q,{to:"/"})};function oh(e){var t=e.children,n=e.className,r=e.content,i=e.textAlign,a=fi(yi(i),"description",n),o=wi(oh,e),u=_i(oh,e);return _.createElement(u,D({},o,{className:a}),Si(t)?r:t)}oh.handledProps=["as","children","className","content","textAlign"],oh.propTypes={};var uh=oh;function sh(e){var t=e.children,n=e.className,r=e.content,i=e.textAlign,a=fi(yi(i),"header",n),o=wi(sh,e),u=_i(sh,e);return _.createElement(u,D({},o,{className:a}),Si(t)?r:t)}sh.handledProps=["as","children","className","content","textAlign"],sh.propTypes={};var ch=sh;function lh(e){var t=e.children,n=e.className,r=e.content,i=e.textAlign,a=fi(yi(i),"meta",n),o=wi(lh,e),u=_i(lh,e);return _.createElement(u,D({},o,{className:a}),Si(t)?r:t)}lh.handledProps=["as","children","className","content","textAlign"],lh.propTypes={};var fh=lh;function dh(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.meta,s=e.textAlign,c=fi(pi(a,"extra"),yi(s),"content",n),l=wi(dh,e),f=_i(dh,e);return Si(t)?Si(r)?_.createElement(f,D({},l,{className:c}),Ji(ch,(function(e){return{content:e}}),o,{autoGenerateKey:!1}),Ji(fh,(function(e){return{content:e}}),u,{autoGenerateKey:!1}),Ji(uh,(function(e){return{content:e}}),i,{autoGenerateKey:!1})):_.createElement(f,D({},l,{className:c}),r):_.createElement(f,D({},l,{className:c}),t)}dh.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],dh.propTypes={};var hh=dh;function ph(e){var t=e.centered,n=e.children,r=e.className,i=e.content,a=e.doubling,o=e.items,u=e.itemsPerRow,s=e.stackable,c=e.textAlign,l=fi("ui",pi(t,"centered"),pi(a,"doubling"),pi(s,"stackable"),yi(c),xi(u),"cards",r),f=wi(ph,e),d=_i(ph,e);if(!Si(n))return _.createElement(d,D({},f,{className:l}),n);if(!Si(i))return _.createElement(d,D({},f,{className:l}),i);var h=Gr(o,(function(e){var t,n=null!=(t=e.key)?t:[e.header,e.description].join("-");return _.createElement(mh,D({key:n},e))}));return _.createElement(d,D({},f,{className:l}),h)}ph.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],ph.propTypes={};var vh=ph,mh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.centered,r=e.children,i=e.className,a=e.color,o=e.content,u=e.description,s=e.extra,c=e.fluid,l=e.header,f=e.href,d=e.image,h=e.link,p=e.meta,v=e.onClick,m=e.raised,g=fi("ui",a,pi(n,"centered"),pi(c,"fluid"),pi(h,"link"),pi(m,"raised"),"card",i),y=wi(t,this.props),b=_i(t,this.props,(function(){if(v)return"a"}));return Si(r)?Si(o)?_.createElement(b,D({},y,{className:g,href:f,onClick:this.handleClick}),wd.create(d,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(u||l||p)&&_.createElement(hh,{description:u,header:l,meta:p}),s&&_.createElement(hh,{extra:!0},s)):_.createElement(b,D({},y,{className:g,href:f,onClick:this.handleClick}),o):_.createElement(b,D({},y,{className:g,href:f,onClick:this.handleClick}),r)},t}(_.Component);mh.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],mh.propTypes={},mh.Content=hh,mh.Description=uh,mh.Group=vh,mh.Header=ch,mh.Meta=fh;var gh=function(e,t,n){"__proto__"==t&&ni?ni(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},yh=Object.prototype.hasOwnProperty;var bh=function(e,t,n){var r=e[t];yh.call(e,t)&&_e(r,n)&&(void 0!==n||t in e)||gh(e,t,n)};var xh=function(e,t,n,r){if(!Ye(e))return e;for(var i=-1,a=(t=Cr(t,e)).length,o=a-1,u=e;null!=u&&++i<a;){var s=Dr(t[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=o){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=Ye(l)?l:mn(t[i+1])?[]:{})}bh(u,s,c),u=u[s]}return e};var wh=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=jr(e,o);n(u,o)&&xh(a,Cr(o,e),u)}return a};var _h=function(e,t){return wh(e,t,(function(t,n){return Mr(e,n)}))},kh=Be?Be.isConcatSpreadable:void 0;var Eh=function(e){return Gt(e)||cn(e)||!!(kh&&e&&e[kh])};var Oh=function e(t,n,r,i,a){var o=-1,u=t.length;for(r||(r=Eh),a||(a=[]);++o<u;){var s=t[o];n>0&&r(s)?n>1?e(s,n-1,r,i,a):Vt(a,s):i||(a[a.length]=s)}return a};var Sh=function(e){return(null==e?0:e.length)?Oh(e,1):[]};var Ah=function(e){return ui(ei(e,void 0,Sh),e+"")}((function(e,t){return null==e?{}:_h(e,t)})),Ch=Ah;var Dh=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n};var jh=function(e,t,n){var r=Gt(e)?oa:Dh,i=arguments.length<3;return r(e,Lr(t,4),n,i,$r)},Th=_.createContext();_.createContext();var Fh=function(e,t){if("function"===typeof e)return function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}}(e,t);null!=e&&(e.current=t)},Ph=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},Mh="undefined"!==typeof window&&window.document&&window.document.createElement?_.useLayoutEffect:_.useEffect;function Nh(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Rh(e){return e instanceof Nh(e).Element||e instanceof Element}function Ih(e){return e instanceof Nh(e).HTMLElement||e instanceof HTMLElement}function Bh(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Nh(e).ShadowRoot||e instanceof ShadowRoot)}var zh=Math.max,Lh=Math.min,Uh=Math.round;function qh(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Ih(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Uh(n.width)/o||1),a>0&&(i=Uh(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Wh(e){var t=Nh(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Hh(e){return e?(e.nodeName||"").toLowerCase():null}function $h(e){return((Rh(e)?e.ownerDocument:e.document)||window.document).documentElement}function Vh(e){return qh($h(e)).left+Wh(e).scrollLeft}function Gh(e){return Nh(e).getComputedStyle(e)}function Yh(e){var t=Gh(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Kh(e,t,n){void 0===n&&(n=!1);var r=Ih(t),i=Ih(t)&&function(e){var t=e.getBoundingClientRect(),n=Uh(t.width)/e.offsetWidth||1,r=Uh(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=$h(t),o=qh(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==Hh(t)||Yh(a))&&(u=function(e){return e!==Nh(e)&&Ih(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Wh(e);var t}(t)),Ih(t)?((s=qh(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=Vh(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function Xh(e){var t=qh(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Qh(e){return"html"===Hh(e)?e:e.assignedSlot||e.parentNode||(Bh(e)?e.host:null)||$h(e)}function Zh(e){return["html","body","#document"].indexOf(Hh(e))>=0?e.ownerDocument.body:Ih(e)&&Yh(e)?e:Zh(Qh(e))}function Jh(e,t){var n;void 0===t&&(t=[]);var r=Zh(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Nh(r),o=i?[a].concat(a.visualViewport||[],Yh(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(Jh(Qh(o)))}function ep(e){return["table","td","th"].indexOf(Hh(e))>=0}function tp(e){return Ih(e)&&"fixed"!==Gh(e).position?e.offsetParent:null}function np(e){for(var t=Nh(e),n=tp(e);n&&ep(n)&&"static"===Gh(n).position;)n=tp(n);return n&&("html"===Hh(n)||"body"===Hh(n)&&"static"===Gh(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Ih(e)&&"fixed"===Gh(e).position)return null;for(var n=Qh(e);Ih(n)&&["html","body"].indexOf(Hh(n))<0;){var r=Gh(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var rp="top",ip="bottom",ap="right",op="left",up="auto",sp=[rp,ip,ap,op],cp="start",lp="end",fp="viewport",dp="popper",hp=sp.reduce((function(e,t){return e.concat([t+"-"+cp,t+"-"+lp])}),[]),pp=[].concat(sp,[up]).reduce((function(e,t){return e.concat([t,t+"-"+cp,t+"-"+lp])}),[]),vp=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function mp(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function gp(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var yp={placement:"bottom",modifiers:[],strategy:"absolute"};function bp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function xp(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?yp:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},yp,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:Rh(e)?Jh(e):e.contextElement?Jh(e.contextElement):[],popper:Jh(t)};var l=function(e){var t=mp(e);return vp.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(bp(t,n)){i.rects={reference:Kh(t,np(n),"fixed"===i.options.strategy),popper:Xh(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:gp((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!bp(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var wp={passive:!0};var _p={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=Nh(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,wp)})),u&&s.addEventListener("resize",n.update,wp),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,wp)})),u&&s.removeEventListener("resize",n.update,wp)}},data:{}};function kp(e){return e.split("-")[0]}function Ep(e){return e.split("-")[1]}function Op(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Sp(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?kp(i):null,o=i?Ep(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case rp:t={x:u,y:n.y-r.height};break;case ip:t={x:u,y:n.y+n.height};break;case ap:t={x:n.x+n.width,y:s};break;case op:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?Op(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case cp:t[c]=t[c]-(n[l]/2-r[l]/2);break;case lp:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var Ap={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Sp({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Cp={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dp(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,h=void 0===d?0:d,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=op,x=rp,w=window;if(c){var _=np(n),k="clientHeight",E="clientWidth";if(_===Nh(n)&&"static"!==Gh(_=$h(n)).position&&"absolute"===u&&(k="scrollHeight",E="scrollWidth"),_=_,i===rp||(i===op||i===ap)&&a===lp)x=ip,v-=(f&&w.visualViewport?w.visualViewport.height:_[k])-r.height,v*=s?1:-1;if(i===op||(i===rp||i===ip)&&a===lp)b=ap,h-=(f&&w.visualViewport?w.visualViewport.width:_[E])-r.width,h*=s?1:-1}var O,S=Object.assign({position:u},c&&Cp),A=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Uh(t*r)/r||0,y:Uh(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=A.x,v=A.y,s?Object.assign({},S,((O={})[x]=y?"0":"",O[b]=g?"0":"",O.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",O)):Object.assign({},S,((t={})[x]=y?v+"px":"",t[b]=g?h+"px":"",t.transform="",t))}var jp={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Ih(i)&&Hh(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ih(r)&&Hh(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var Tp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=pp.reduce((function(e,n){return e[n]=function(e,t,n){var r=kp(e),i=[op,rp].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[op,ap].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},Fp={left:"right",right:"left",bottom:"top",top:"bottom"};function Pp(e){return e.replace(/left|right|bottom|top/g,(function(e){return Fp[e]}))}var Mp={start:"end",end:"start"};function Np(e){return e.replace(/start|end/g,(function(e){return Mp[e]}))}function Rp(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Bh(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ip(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Bp(e,t){return t===fp?Ip(function(e){var t=Nh(e),n=$h(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+Vh(e),y:u}}(e)):Rh(t)?function(e){var t=qh(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Ip(function(e){var t,n=$h(e),r=Wh(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=zh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=zh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Vh(e),s=-r.scrollTop;return"rtl"===Gh(i||n).direction&&(u+=zh(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}($h(e)))}function zp(e,t,n){var r="clippingParents"===t?function(e){var t=Jh(Qh(e)),n=["absolute","fixed"].indexOf(Gh(e).position)>=0&&Ih(e)?np(e):e;return Rh(n)?t.filter((function(e){return Rh(e)&&Rp(e,n)&&"body"!==Hh(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Bp(e,n);return t.top=zh(r.top,t.top),t.right=Lh(r.right,t.right),t.bottom=Lh(r.bottom,t.bottom),t.left=zh(r.left,t.left),t}),Bp(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Lp(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Up(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function qp(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,u=n.rootBoundary,s=void 0===u?fp:u,c=n.elementContext,l=void 0===c?dp:c,f=n.altBoundary,d=void 0!==f&&f,h=n.padding,p=void 0===h?0:h,v=Lp("number"!==typeof p?p:Up(p,sp)),m=l===dp?"reference":dp,g=e.rects.popper,y=e.elements[d?m:l],b=zp(Rh(y)?y:y.contextElement||$h(e.elements.popper),o,s),x=qh(e.elements.reference),w=Sp({reference:x,element:g,strategy:"absolute",placement:i}),_=Ip(Object.assign({},g,w)),k=l===dp?_:x,E={top:b.top-k.top+v.top,bottom:k.bottom-b.bottom+v.bottom,left:b.left-k.left+v.left,right:k.right-b.right+v.right},O=e.modifiersData.offset;if(l===dp&&O){var S=O[i];Object.keys(E).forEach((function(e){var t=[ap,ip].indexOf(e)>=0?1:-1,n=[rp,ip].indexOf(e)>=0?"y":"x";E[e]+=S[n]*t}))}return E}var Wp={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,g=kp(m),y=s||(g===m||!p?[Pp(m)]:function(e){if(kp(e)===up)return[];var t=Pp(e);return[Np(e),t,Np(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(kp(n)===up?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?pp:s,l=Ep(r),f=l?u?hp:hp.filter((function(e){return Ep(e)===l})):sp,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=qp(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[kp(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),x=t.rects.reference,w=t.rects.popper,_=new Map,k=!0,E=b[0],O=0;O<b.length;O++){var S=b[O],A=kp(S),C=Ep(S)===cp,D=[rp,ip].indexOf(A)>=0,j=D?"width":"height",T=qp(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),F=D?C?ap:op:C?ip:rp;x[j]>w[j]&&(F=Pp(F));var P=Pp(F),M=[];if(a&&M.push(T[A]<=0),u&&M.push(T[F]<=0,T[P]<=0),M.every((function(e){return e}))){E=S,k=!1;break}_.set(S,M)}if(k)for(var N=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},R=p?3:1;R>0;R--){if("break"===N(R))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Hp(e,t,n){return zh(e,Lh(t,n))}var $p={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=qp(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),g=kp(t.placement),y=Ep(t.placement),b=!y,x=Op(g),w="x"===x?"y":"x",_=t.modifiersData.popperOffsets,k=t.rects.reference,E=t.rects.popper,O="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(_){if(a){var D,j="y"===x?rp:op,T="y"===x?ip:ap,F="y"===x?"height":"width",P=_[x],M=P+m[j],N=P-m[T],R=h?-E[F]/2:0,I=y===cp?k[F]:E[F],B=y===cp?-E[F]:-k[F],z=t.elements.arrow,L=h&&z?Xh(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=U[j],W=U[T],H=Hp(0,k[F],L[F]),$=b?k[F]/2-R-H-q-S.mainAxis:I-H-q-S.mainAxis,V=b?-k[F]/2+R+H+W+S.mainAxis:B+H+W+S.mainAxis,G=t.elements.arrow&&np(t.elements.arrow),Y=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,K=null!=(D=null==A?void 0:A[x])?D:0,X=P+V-K,Q=Hp(h?Lh(M,P+$-K-Y):M,P,h?zh(N,X):N);_[x]=Q,C[x]=Q-P}if(u){var Z,J="x"===x?rp:op,ee="x"===x?ip:ap,te=_[w],ne="y"===w?"height":"width",re=te+m[J],ie=te-m[ee],ae=-1!==[rp,op].indexOf(g),oe=null!=(Z=null==A?void 0:A[w])?Z:0,ue=ae?re:te-k[ne]-E[ne]-oe+S.altAxis,se=ae?te+k[ne]+E[ne]-oe-S.altAxis:ie,ce=h&&ae?function(e,t,n){var r=Hp(e,t,n);return r>n?n:r}(ue,te,se):Hp(h?ue:re,te,h?se:ie);_[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};var Vp={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=kp(n.placement),s=Op(u),c=[op,ap].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return Lp("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Up(e,sp))}(i.padding,n),f=Xh(a),d="y"===s?rp:op,h="y"===s?ip:ap,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=np(a),g=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=l[d],x=g-f[c]-l[h],w=g/2-f[c]/2+y,_=Hp(b,w,x),k=s;n.modifiersData[r]=((t={})[k]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Rp(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Gp(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Yp(e){return[rp,ap,ip,op].some((function(t){return e[t]>=0}))}var Kp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=qp(t,{elementContext:"reference"}),u=qp(t,{altBoundary:!0}),s=Gp(o,r),c=Gp(u,i,a),l=Yp(s),f=Yp(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},Xp=xp({defaultModifiers:[_p,Ap,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:kp(t.placement),variation:Ep(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Dp(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Dp(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},jp,Tp,Wp,$p,Vp,Kp]}),Qp=n(77),Zp=n.n(Qp),Jp=[],ev=function(){},tv=function(){return Promise.resolve(null)},nv=[];function rv(e){var t=e.placement,n=void 0===t?"bottom":t,r=e.strategy,i=void 0===r?"absolute":r,a=e.modifiers,o=void 0===a?nv:a,u=e.referenceElement,s=e.onFirstUpdate,c=e.innerRef,l=e.children,f=_.useContext(Th),d=_.useState(null),h=d[0],p=d[1],v=_.useState(null),m=v[0],g=v[1];_.useEffect((function(){Fh(c,h)}),[c,h]);var y,b=_.useMemo((function(){return{placement:n,strategy:i,onFirstUpdate:s,modifiers:[].concat(o,[{name:"arrow",enabled:null!=m,options:{element:m}}])}}),[n,i,s,o,m]),x=function(e,t,n){void 0===n&&(n={});var r=_.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Jp},a=_.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=a[0],u=a[1],s=_.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);u({styles:Ph(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Ph(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),c=_.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[s,{name:"applyStyles",enabled:!1}])};return Zp()(r.current,e)?r.current||e:(r.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,s]),l=_.useRef();return Mh((function(){l.current&&l.current.setOptions(c)}),[c]),Mh((function(){if(null!=e&&null!=t){var r=(n.createPopper||Xp)(e,t,c);return l.current=r,function(){r.destroy(),l.current=null}}}),[e,t,n.createPopper]),{state:l.current?l.current.state:null,styles:o.styles,attributes:o.attributes,update:l.current?l.current.update:null,forceUpdate:l.current?l.current.forceUpdate:null}}(u||f,h,b),w=x.state,k=x.styles,E=x.forceUpdate,O=x.update,S=_.useMemo((function(){return{ref:p,style:k.popper,placement:w?w.placement:n,hasPopperEscaped:w&&w.modifiersData.hide?w.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:w&&w.modifiersData.hide?w.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:k.arrow,ref:g},forceUpdate:E||ev,update:O||tv}}),[p,g,n,w,k,O,E]);return(y=l,Array.isArray(y)?y[0]:y)(S)}var iv=n(9613),av=n.n(iv),ov=td.instance;var uv=function(e,t,n,r){return Wr(e,(function(e,i,a){t(r,n(e),i,a)})),r};var sv=function(e,t){return function(n,r){return uv(n,e,t(r),{})}},cv=Object.prototype.toString,lv=sv((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=cv.call(t)),e[t]=n}),ti(Rr)),fv=lv,dv={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"},hv=(Rn(dv),fv(dv)),pv=function(){function e(e){this.ref=e}return e.prototype.getBoundingClientRect=function(){return ci(this.ref.current,"getBoundingClientRect")||{}},au(e,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}}]),e}(),vv=yr((function(e){return new pv(wo(e)?e:{current:e})})),mv=vv;function gv(e){var t=e.children,n=e.className,r=e.content,i=fi("content",n),a=wi(gv,e),o=_i(gv,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}function yv(e){var t=e.children,n=e.className,r=e.content,i=fi("header",n),a=wi(yv,e),o=_i(yv,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}gv.handledProps=["as","children","className","content"],gv.propTypes={},gv.create=ea(gv,(function(e){return{children:e}})),yv.handledProps=["as","children","className","content"],yv.propTypes={},yv.create=ea(yv,(function(e){return{children:e}}));var bv=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).state={},n.open=!1,n.zIndexWasSynced=!1,n.triggerRef=_.createRef(),n.getPortalProps=function(){var e={},t=n.props,r=t.on,i=t.hoverable,a=Gt(r)?r:[r];return i&&(e.closeOnPortalMouseLeave=!0,e.mouseLeaveDelay=300),Hf(a,"hover")&&(e.openOnTriggerClick=!1,e.closeOnTriggerClick=!1,e.openOnTriggerMouseEnter=!0,e.closeOnTriggerMouseLeave=!0,e.mouseLeaveDelay=70,e.mouseEnterDelay=50),Hf(a,"click")&&(e.openOnTriggerClick=!0,e.closeOnTriggerClick=!0,e.closeOnDocumentClick=!0),Hf(a,"focus")&&(e.openOnTriggerFocus=!0,e.closeOnTriggerBlur=!0),e},n.hideOnScroll=function(e){n.setState({closed:!0}),ov.unsub("scroll",n.hideOnScroll,{target:window}),n.timeoutId=setTimeout((function(){n.setState({closed:!1})}),50),n.handleClose(e)},n.handleClose=function(e){ci(n.props,"onClose",e,D({},n.props,{open:!1}))},n.handleOpen=function(e){ci(n.props,"onOpen",e,D({},n.props,{open:!0}))},n.handlePortalMount=function(e){ci(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){n.positionUpdate=null,ci(n.props,"onUnmount",e,n.props)},n.renderContent=function(e){var r=e.placement,i=e.ref,a=e.update,o=e.style,u=n.props,s=u.basic,c=u.children,l=u.className,f=u.content,d=u.hideOnScroll,h=u.flowing,p=u.header,v=u.inverted,m=u.popper,g=u.size,y=u.style,b=u.wide,x=n.state.contentRestProps;n.positionUpdate=a;var w=fi("ui",hv[r],g,mi(b,"wide"),pi(s,"basic"),pi(h,"flowing"),pi(v,"inverted"),"popup transition visible",l),k=_i(t,n.props),E=D({left:"auto",right:"auto",position:"initial"},y),O=_.createElement(k,D({},x,{className:w,style:E}),Si(c)?_.createElement(_.Fragment,null,yv.create(p,{autoGenerateKey:!1}),gv.create(f,{autoGenerateKey:!1})):c,d&&_.createElement(nd(),{on:n.hideOnScroll,name:"scroll",target:"window"}));return ta(m||{},{overrideProps:{children:O,ref:i,style:D({display:"flex"},o)}})},n}be(t,e),t.getDerivedStateFromProps=function(e,n){if(n.closed||n.disabled)return{};var r=wi(t,e),i=jh(r,(function(e,t,n){return Hf(sd.handledProps,n)||(e[n]=t),e}),{});return{contentRestProps:i,portalRestProps:Ch(r,sd.handledProps)}};var n=t.prototype;return n.componentDidUpdate=function(e){av()(this.props.popperDependencies,e.popperDependencies)||this.handleUpdate()},n.componentWillUnmount=function(){clearTimeout(this.timeoutId)},n.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},n.render=function(){var e=this,t=this.props,n=t.context,r=t.disabled,i=t.eventsEnabled,a=t.offset,o=t.pinned,u=t.popper,s=t.popperModifiers,c=t.position,l=t.positionFixed,f=t.trigger,d=this.state,h=d.closed,p=d.portalRestProps;if(h||r)return f;var v=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!i,resize:!!i}},{name:"flip",enabled:!o},{name:"preventOverflow",enabled:!!a},{name:"offset",enabled:!!a,options:{offset:a}}].concat(s,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(t){var n,r=t.state;if(!e.zIndexWasSynced){var i=null==u||null==(n=u.style)?void 0:n.zIndex;Ci(i)&&(r.elements.popper.style.zIndex=window.getComputedStyle(r.elements.popper.firstChild).zIndex),e.zIndexWasSynced=!0}},effect:function(){return function(){e.zIndexWasSynced=!1}}}]),m=mv(Zi(n)?this.triggerRef:n),g=D({},this.getPortalProps(),p);return _.createElement(sd,D({},g,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:f,triggerRef:this.triggerRef}),_.createElement(rv,{modifiers:v,placement:dv[c],strategy:l?"fixed":null,referenceElement:m},this.renderContent))},t}(_.Component);function xv(e){var t=e.children,n=e.className,r=e.content,i=fi(n,"description"),a=wi(xv,e),o=_i(xv,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}bv.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"],bv.propTypes={},bv.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"},bv.Content=gv,bv.Header=yv,xv.handledProps=["as","children","className","content"],xv.propTypes={},xv.create=ea(xv,(function(e){return{content:e}}));var wv=xv;function _v(e){var t=e.children,n=e.className,r=e.content,i=fi("header",n),a=wi(_v,e),o=_i(_v,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}_v.handledProps=["as","children","className","content"],_v.propTypes={},_v.create=ea(_v,(function(e){return{content:e}}));var kv=_v;function Ev(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.floated,o=e.header,u=e.verticalAlign,s=fi(vi(a,"floated"),bi(u),"content",n),c=wi(Ev,e),l=_i(Ev,e);return Si(t)?_.createElement(l,D({},c,{className:s}),kv.create(o),wv.create(i),r):_.createElement(l,D({},c,{className:s}),t)}Ev.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],Ev.propTypes={},Ev.create=ea(Ev,(function(e){return{content:e}}));var Ov=Ev;function Sv(e){var t=e.className,n=e.verticalAlign,r=fi(bi(n),t),i=wi(Sv,e);return _.createElement(lo,D({},i,{className:r}))}Sv.handledProps=["className","verticalAlign"],Sv.propTypes={},Sv.create=ea(Sv,(function(e){return{name:e}}));var Av=Sv,Cv=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||ci(t.props,"onClick",e,t.props)},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.description,u=e.disabled,s=e.header,c=e.icon,l=e.image,f=e.value,d=_i(t,this.props),h=fi(pi(n,"active"),pi(u,"disabled"),pi("li"!==d,"item"),i),p=wi(t,this.props),v="li"===d?{value:f}:{"data-value":f};if(!Si(r))return _.createElement(d,D({},v,{role:"listitem",className:h,onClick:this.handleClick},p),r);var m=Av.create(c,{autoGenerateKey:!1}),g=wd.create(l,{autoGenerateKey:!1});if(!(0,_.isValidElement)(a)&&Yi(a))return _.createElement(d,D({},v,{role:"listitem",className:h,onClick:this.handleClick},p),m||g,Ov.create(a,{autoGenerateKey:!1,defaultProps:{header:s,description:o}}));var y=kv.create(s,{autoGenerateKey:!1}),b=wv.create(o,{autoGenerateKey:!1});return m||g?_.createElement(d,D({},v,{role:"listitem",className:h,onClick:this.handleClick},p),m||g,(a||y||b)&&_.createElement(Ov,null,y,b,a)):_.createElement(d,D({},v,{role:"listitem",className:h,onClick:this.handleClick},p),y,b,a)},t}(_.Component);Cv.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],Cv.propTypes={},Cv.create=ea(Cv,(function(e){return{content:e}}));var Dv=Cv;function jv(e){var t=e.children,n=e.className,r=e.content,i=wi(jv,e),a=_i(jv,e),o=fi(pi("ul"!==a&&"ol"!==a,"list"),n);return _.createElement(a,D({},i,{className:o}),Si(t)?r:t)}jv.handledProps=["as","children","className","content"],jv.propTypes={};var Tv=jv,Fv=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){ci(e,"onClick",n,r),ci(t.props,"onItemClick",n,r)}}},t}return be(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.animated,i=n.bulleted,a=n.celled,o=n.children,u=n.className,s=n.content,c=n.divided,l=n.floated,f=n.horizontal,d=n.inverted,h=n.items,p=n.link,v=n.ordered,m=n.relaxed,g=n.selection,y=n.size,b=n.verticalAlign,x=fi("ui",y,pi(r,"animated"),pi(i,"bulleted"),pi(a,"celled"),pi(c,"divided"),pi(f,"horizontal"),pi(d,"inverted"),pi(p,"link"),pi(v,"ordered"),pi(g,"selection"),mi(m,"relaxed"),vi(l,"floated"),bi(b),"list",u),w=wi(t,this.props),k=_i(t,this.props);return Si(o)?Si(s)?_.createElement(k,D({role:"list",className:x},w),Gr(h,(function(t){return Dv.create(t,{overrideProps:e.handleItemOverrides})}))):_.createElement(k,D({role:"list",className:x},w),s):_.createElement(k,D({role:"list",className:x},w),o)},t}(_.Component);Fv.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],Fv.propTypes={},Fv.Content=Ov,Fv.Description=wv,Fv.Header=kv,Fv.Icon=Av,Fv.Item=Dv,Fv.List=Tv;var Pv=Fv;function Mv(e){var t=e.active,n=e.children,r=e.className,i=e.content,a=e.disabled,o=e.indeterminate,u=e.inline,s=e.inverted,c=fi("ui",e.size,pi(t,"active"),pi(a,"disabled"),pi(o,"indeterminate"),pi(s,"inverted"),pi(n||i,"text"),mi(u,"inline"),"loader",r),l=wi(Mv,e),f=_i(Mv,e);return _.createElement(f,D({},l,{className:c}),Si(n)?i:n)}Mv.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],Mv.propTypes={};var Nv=Mv,Rv=function(e){var t=e.children,n=e.name,r=e.subname,i=e.icon,a=e.onClick,o=e.loading,u=e.done,s=e.disabled;return(0,Xo.jsxs)(mh,{centered:!0,style:{cursor:s?null:"pointer",width:"100%",marginLeft:"2em",marginRight:"2em",position:"relative",color:"green",background:"#0f0f0f82",fontSize:"min(max(1vw, 1em),1.2em)"},onClick:s?null:a,children:[(0,Xo.jsx)(dd,{active:"loading"===o,children:(0,Xo.jsx)(Nv,{})}),u?(0,Xo.jsx)(lo,{size:"massive",name:"checkmark",style:{position:"absolute",color:"#57b92d8c",top:"20%",left:"60%"}}):null,(0,Xo.jsxs)(mh.Content,{style:{background:s?"#ffffffcc":"#ffffff"},children:[(0,Xo.jsx)(lo,{size:"huge",name:i,style:{float:"left",color:"#4183c4"}}),(0,Xo.jsx)(mh.Header,{content:n.replace("_"," ")}),(0,Xo.jsx)(mh.Meta,{content:r}),(0,Xo.jsx)(mh.Description,{children:t})]})]})},Iv=function(e,t){var n=e.name.replace("_"," ");return"failed"===e.status?e.date?(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)(Pv.Icon,{name:"exclamation circle",color:"red"}),(0,Xo.jsxs)(Pv.Content,{children:["Failed to update ",(0,Xo.jsx)("b",{children:n})," data."]})]},t):(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)(Pv.Icon,{name:"close",color:"red"}),(0,Xo.jsxs)(Pv.Content,{children:["Failed to get ",(0,Xo.jsx)("b",{children:n})," data"]})]},t):"finished"===e.status?(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)(Pv.Icon,{name:"check circle outline",color:"green"}),(0,Xo.jsxs)(Pv.Content,{children:["Gathered ",(0,Xo.jsx)("b",{children:n})," data"]})]},t):(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)(Pv.Icon,{name:"circle outline"}),(0,Xo.jsxs)(Pv.Content,{children:["Click to gather ",(0,Xo.jsx)("b",{children:n})," data"]})]},t)},Bv=function(e){var t=e.source,n=e.subname,r=e.produces,i=e.icon,a=e.onClick,o=e.loading,u=Jd((function(e){return e.dataStatus.filter((function(e){return e.source===t}))})),s=!0,c=r.map((function(e){var t=u.find((function(t){return t.name===e}));return null!==t&&void 0!==t&&t.date||(s=!1),t||{name:e,status:"empty"}}));return(0,Xo.jsx)(Rv,{name:t,subname:n,icon:i,onClick:a,loading:o,done:s,children:(0,Xo.jsx)(Pv,{style:{textAlign:"left",paddingTop:"10px"},children:c.map(Iv)})})},zv=Object.prototype.hasOwnProperty;var Lv=function(e){if(null==e)return!0;if(Nn(e)&&(Gt(e)||"string"==typeof e||"function"==typeof e.splice||pn(e)||Sn(e)||cn(e)))return!e.length;var t=tr(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(jn(e))return!Mn(e).length;for(var n in e)if(zv.call(e,n))return!1;return!0},Uv=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){ci(e,"onClick",n,r),ci(t.props,"onActionClick",n,r)}}},t}return be(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.actions,i=n.children,a=n.className,o=n.content,u=fi("actions",a),s=wi(t,this.props),c=_i(t,this.props);return Si(i)?Si(o)?_.createElement(c,D({},s,{className:u}),Gr(r,(function(t){return Nd.create(t,{overrideProps:e.handleButtonOverrides})}))):_.createElement(c,D({},s,{className:u}),o):_.createElement(c,D({},s,{className:u}),i)},t}(_.Component);function qv(e){var t=e.children,n=e.className,r=e.content,i=e.image,a=e.scrolling,o=fi(n,pi(i,"image"),pi(a,"scrolling"),"content"),u=wi(qv,e),s=_i(qv,e);return _.createElement(s,D({},u,{className:o}),Si(t)?r:t)}Uv.handledProps=["actions","as","children","className","content","onActionClick"],Uv.propTypes={},Uv.create=ea(Uv,(function(e){return{actions:e}})),qv.handledProps=["as","children","className","content","image","scrolling"],qv.propTypes={},qv.create=ea(qv,(function(e){return{content:e}}));var Wv=qv;function Hv(e){var t=e.children,n=e.className,r=e.content,i=fi("description",n),a=wi(Hv,e),o=_i(Hv,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}Hv.handledProps=["as","children","className","content"],Hv.propTypes={};var $v=Hv,Vv=ed()?_.useLayoutEffect:_.useEffect,Gv=/\s+/;var Yv=new Map,Kv=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(Gv).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(Yv.get(e)||[],n),i=r[0],a=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),a.forEach((function(t){return e.classList.remove(t)}))),Yv.set(e,n)},Xv=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function Qv(e){var t=e.blurring,n=e.children,r=e.className,i=e.centered,a=e.content,o=e.inverted,u=e.mountNode,s=e.scrolling,c=_.useRef(),l=fi("ui",pi(o,"inverted"),pi(!i,"top aligned"),"page modals dimmer transition visible active",r),f=fi("dimmable dimmed",pi(t,"blurring"),pi(s,"scrolling")),d=wi(Qv,e),h=_i(Qv,e);return function(e,t){var n=_.useRef(),r=_.useRef(!1);Vv((function(){if(n.current=t,r.current){var i=wo(e)?e.current:e;Xv.emit(i,Kv)}r.current=!0}),[t]),Vv((function(){var t=wo(e)?e.current:e;return Xv.add(t,n),Xv.emit(t,Kv),function(){Xv.del(t,n),Xv.emit(t,Kv)}}),[e])}(u,f),_.useEffect((function(){c.current&&c.current.style&&c.current.style.setProperty("display","flex","important")}),[]),_.createElement(So,{innerRef:c},_.createElement(h,D({},d,{className:l}),Si(n)?a:n))}Qv.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],Qv.propTypes={},Qv.create=ea(Qv,(function(e){return{content:e}}));var Zv=Qv;function Jv(e){var t=e.children,n=e.className,r=e.content,i=fi("header",n),a=wi(Jv,e),o=_i(Jv,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}Jv.handledProps=["as","children","className","content"],Jv.propTypes={},Jv.create=ea(Jv,(function(e){return{content:e}}));var em=Jv,tm=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r},nm=function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}},rm=function(){return!window.ActiveXObject&&"ActiveXObject"in window},im=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).legacy=ed()&&rm(),n.ref=(0,_.createRef)(),n.dimmerRef=(0,_.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return ed()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){ci(e,"onActionClick",t,r),ci(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),ci(n.props,"onClose",e,D({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||Wo(n.ref.current,r)||Wo(n.ref.current,e)||(n.setState({open:!1}),ci(n.props,"onClose",e,D({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){ci(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){ci(n.props,"onOpen",e,D({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),ov.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),ov.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),ci(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),ov.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),ov.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),ci(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),a=tm(i);e=!a;var o=n.legacy?nm(a,t,i):{};av()(n.state.legacyStyles,o)||(r.legacyStyles=o),n.state.scrolling!==e&&(r.scrolling=e)}Lv(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var r=n.props,i=r.actions,a=r.basic,o=r.children,u=r.className,s=r.closeIcon,c=r.content,l=r.header,f=r.size,d=r.style,h=n.state,p=h.legacyStyles,v=h.scrolling,m=fi("ui",f,pi(a,"basic"),pi(n.legacy,"legacy"),pi(v,"scrolling"),"modal transition visible active",u),g=_i(t,n.props),y=!0===s?"close":s,b=lo.create(y,{overrideProps:n.handleIconOverrides});return _.createElement(So,{innerRef:n.ref},_.createElement(g,D({},e,{className:m,style:D({},p,d)}),b,Si(o)?_.createElement(_.Fragment,null,em.create(l,{autoGenerateKey:!1}),Wv.create(c,{autoGenerateKey:!1}),Uv.create(i,{overrideProps:n.handleActionsOverrides})):o))},n}be(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,r=e.closeOnDocumentClick,i=e.dimmer,a=e.eventPool,o=e.trigger,u=this.state,s=u.open,c=u.scrolling,l=this.getMountNode();if(!ed())return(0,_.isValidElement)(o)?o:null;var f=wi(t,this.props),d=sd.handledProps,h=jh(f,(function(e,t,n){return Hf(d,n)||(e[n]=t),e}),{}),p=Ch(f,d);return _.createElement(sd,D({closeOnDocumentClick:r},p,{trigger:o,eventPool:a,mountNode:l,open:s,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),_.createElement(So,{innerRef:this.dimmerRef},Zv.create(Yi(i)?i:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===i,inverted:"inverted"===i},overrideProps:{children:this.renderContent(h),centered:n,mountNode:l,scrolling:c}})))},t}(ji);im.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],im.propTypes={},im.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},im.autoControlledProps=["open"],im.Actions=Uv,im.Content=Wv,im.Description=$v,im.Dimmer=Zv,im.Header=em;var am=im,om=["and","or","not","the","it"].reduce((function(e,t){return e[t]=!0,e}),{}),um=function(e){return e.split(/\W+/).filter((function(e){return!((e=e.toLowerCase()).length<=1)&&!om[e]}))};function sm(e){var t=e.children,n=e.className,r=e.content,i=fi("description",n),a=wi(sm,e),o=_i(sm,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}sm.handledProps=["as","children","className","content"],sm.propTypes={},sm.create=ea(sm,(function(e){return{content:e}}));var cm=sm;function lm(e){var t=e.children,n=e.className,r=e.content,i=fi("title",n),a=wi(lm,e),o=_i(lm,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}lm.handledProps=["as","children","className","content"],lm.propTypes={},lm.create=ea(lm,(function(e){return{content:e}}));var fm=lm;function dm(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.title,o=fi("content",n),u=wi(dm,e),s=_i(dm,e);return Si(t)?Si(r)?_.createElement(s,D({},u,{className:o}),fm.create(a,{autoGenerateKey:!1}),cm.create(i,{autoGenerateKey:!1})):_.createElement(s,D({},u,{className:o}),r):_.createElement(s,D({},u,{className:o}),t)}dm.handledProps=["as","children","className","content","description","title"],dm.propTypes={},dm.create=ea(dm,(function(e){return{content:e}}));var hm=dm;function pm(e){var t=e.attached,n=e.children,r=e.className,i=e.content,a=e.fluid,o=e.items,u=e.ordered,s=e.size,c=e.stackable,l=e.unstackable,f=e.vertical,d=e.widths,h=fi("ui",s,pi(a,"fluid"),pi(u,"ordered"),pi(l,"unstackable"),pi(f,"vertical"),mi(t,"attached"),vi(c,"stackable"),xi(d),"steps",r),p=wi(pm,e),v=_i(pm,e);return Si(n)?Si(i)?_.createElement(v,D({},p,{className:h}),Gr(o,(function(e){return gm.create(e)}))):_.createElement(v,D({},p,{className:h}),i):_.createElement(v,D({},p,{className:h}),n)}pm.handledProps=["as","attached","children","className","content","fluid","items","ordered","size","stackable","unstackable","vertical","widths"],pm.propTypes={};var vm=pm,mm=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).computeElementType=function(){if(t.props.onClick)return"a"},t.handleClick=function(e){t.props.disabled||ci(t.props,"onClick",e,t.props)},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.completed,o=e.content,u=e.description,s=e.disabled,c=e.href,l=e.icon,f=e.link,d=e.title,h=fi(pi(n,"active"),pi(a,"completed"),pi(s,"disabled"),pi(f,"link"),"step",i),p=wi(t,this.props),v=_i(t,this.props,this.computeElementType);return Si(r)?Si(o)?_.createElement(v,D({},p,{className:h,href:c,onClick:this.handleClick}),lo.create(l,{autoGenerateKey:!1}),hm.create({description:u,title:d},{autoGenerateKey:!1})):_.createElement(v,D({},p,{className:h,href:c,onClick:this.handleClick}),o):_.createElement(v,D({},p,{className:h,href:c,onClick:this.handleClick}),r)},t}(_.Component);mm.handledProps=["active","as","children","className","completed","content","description","disabled","href","icon","link","onClick","ordered","title"],mm.propTypes={},mm.Content=hm,mm.Description=cm,mm.Group=vm,mm.Title=fm,mm.create=ea(mm,(function(e){return{content:e}}));var gm=mm,ym=n(5586);function bm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xm(e)}function wm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Awe){return!1}}function _m(e){return _m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(e)}function km(e,t){if(t&&("object"===_m(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ai(e)}function Em(e){var t=wm();return function(){var n,r=xm(e);if(t){var i=xm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return km(this,n)}}function Om(e,t,n){return Om=wm()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ye(i,n.prototype),i},Om.apply(null,arguments)}function Sm(e){var t="function"===typeof Map?new Map:void 0;return Sm=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Om(e,arguments,xm(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ye(r,e)},Sm(e)}var Am={}.hasOwnProperty;function Cm(e){return e&&"object"===typeof e?Am.call(e,"position")||Am.call(e,"type")?jm(e.position):Am.call(e,"start")||Am.call(e,"end")?jm(e):Am.call(e,"line")||Am.call(e,"column")?Dm(e):"":""}function Dm(e){return Tm(e&&e.line)+":"+Tm(e&&e.column)}function jm(e){return Dm(e&&e.start)+"-"+Dm(e&&e.end)}function Tm(e){return e&&"number"===typeof e?e:1}var Fm=function(e){bm(n,e);var t=Em(n);function n(e,r,i){var a;ru(this,n);var o,u=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};return a=t.call(this),"string"===typeof r&&(i=r,r=null),"string"===typeof i&&(-1===(o=i.indexOf(":"))?u[1]=i:(u[0]=i.slice(0,o),u[1]=i.slice(o+1))),r&&("type"in r||"position"in r?r.position&&(s=r.position):"start"in r||"end"in r?s=r:("line"in r||"column"in r)&&(s.start=r)),a.name=Cm(r)||"1:1",a.message="object"===typeof e?e.message:e,a.stack="object"===typeof e?e.stack:"",a.reason=a.message,a.fatal,a.line=s.start.line,a.column=s.start.column,a.source=u[0],a.ruleId=u[1],a.position=s,a.actual,a.expected,a.file,a.url,a.note,a}return au(n)}(Sm(Error));Fm.prototype.file="",Fm.prototype.name="",Fm.prototype.reason="",Fm.prototype.message="",Fm.prototype.stack="",Fm.prototype.fatal=null,Fm.prototype.column=null,Fm.prototype.line=null,Fm.prototype.source=null,Fm.prototype.ruleId=null,Fm.prototype.position=null;var Pm={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Nm(e);var n,r=0,i=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.charCodeAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1);return i<0?"":e.slice(r,i)}if(t===e)return"";var o=-1,u=t.length-1;for(;a--;)if(47===e.charCodeAt(a)){if(n){r=a+1;break}}else o<0&&(n=!0,o=a+1),u>-1&&(e.charCodeAt(a)===t.charCodeAt(u--)?u<0&&(i=a):(u=-1,i=o));r===i?i=o:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(Nm(e),0===e.length)return".";var t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){Nm(e);var t,n=e.length,r=-1,i=0,a=-1,o=0;for(;n--;){var u=e.charCodeAt(n);if(47!==u)r<0&&(t=!0,r=n+1),46===u?a<0?a=n:1!==o&&(o=1):a>-1&&(o=-1);else if(t){i=n+1;break}}if(a<0||r<0||0===o||1===o&&a===r-1&&a===i+1)return"";return e.slice(a,r)},join:function(){for(var e,t=-1,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++t<r.length;)Nm(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":Mm(e)},sep:"/"};function Mm(e){Nm(e);var t=47===e.charCodeAt(0),n=function(e,t){var n,r,i="",a=0,o=-1,u=0,s=-1;for(;++s<=e.length;){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===u);else if(o!==s-1&&2===u){if(i.length<2||2!==a||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if((r=i.lastIndexOf("/"))!==i.length-1){r<0?(i="",a=0):a=(i=i.slice(0,r)).length-1-i.lastIndexOf("/"),o=s,u=0;continue}}else if(i.length>0){i="",a=0,o=s,u=0;continue}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(o+1,s):i=e.slice(o+1,s),a=s-o-1;o=s,u=0}else 46===n&&u>-1?u++:u=-1}return i}(e,!t);return 0!==n.length||t||(n="."),n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/"),t?"/"+n:n}function Nm(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var Rm={cwd:function(){return"/"}};function Im(e){return null!==e&&"object"===typeof e&&e.href&&e.origin}function Bm(e){if("string"===typeof e)e=new URL(e);else if(!Im(e)){var t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){var n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return function(e){if(""!==e.hostname){var t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}var n=e.pathname,r=-1;for(;++r<n.length;)if(37===n.charCodeAt(r)&&50===n.charCodeAt(r+1)){var i=n.charCodeAt(r+2);if(70===i||102===i){var a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(n)}(e)}var zm=["history","path","basename","stem","extname","dirname"],Lm=function(){function e(t){var n;ru(this,e),n=t?"string"===typeof t||ym(t)?{value:t}:Im(t)?{path:t}:t:{},this.data={},this.messages=[],this.history=[],this.cwd=Rm.cwd(),this.value,this.stored,this.result,this.map;for(var r,i=-1;++i<zm.length;){var a=zm[i];a in n&&void 0!==n[a]&&(this[a]="history"===a?du(n[a]):n[a])}for(r in n)zm.includes(r)||(this[r]=n[r])}return au(e,[{key:"path",get:function(){return this.history[this.history.length-1]},set:function(e){Im(e)&&(e=Bm(e)),qm(e,"path"),this.path!==e&&this.history.push(e)}},{key:"dirname",get:function(){return"string"===typeof this.path?Pm.dirname(this.path):void 0},set:function(e){Wm(this.basename,"dirname"),this.path=Pm.join(e||"",this.basename)}},{key:"basename",get:function(){return"string"===typeof this.path?Pm.basename(this.path):void 0},set:function(e){qm(e,"basename"),Um(e,"basename"),this.path=Pm.join(this.dirname||"",e)}},{key:"extname",get:function(){return"string"===typeof this.path?Pm.extname(this.path):void 0},set:function(e){if(Um(e,"extname"),Wm(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pm.join(this.dirname,this.stem+(e||""))}},{key:"stem",get:function(){return"string"===typeof this.path?Pm.basename(this.path,this.extname):void 0},set:function(e){qm(e,"stem"),Um(e,"stem"),this.path=Pm.join(this.dirname||"",e+(this.extname||""))}},{key:"toString",value:function(e){return(this.value||"").toString(e)}},{key:"message",value:function(e,t,n){var r=new Fm(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}},{key:"info",value:function(e,t,n){var r=this.message(e,t,n);return r.fatal=null,r}},{key:"fail",value:function(e,t,n){var r=this.message(e,t,n);throw r.fatal=!0,r}}]),e}();function Um(e,t){if(e&&e.includes(Pm.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pm.sep+"`")}function qm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Wm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Hm(e){return E(e)||fu(e)||S(e)||A()}function $m(e){if(e)throw e}var Vm=n(1132);function Gm(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Ym(e,t){var n;return function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];var u,s=e.length>a.length;s&&a.push(r);try{u=e.apply(void 0,a)}catch(K_){var c=K_;if(s&&n)throw c;return r(c)}s||(u instanceof Promise?u.then(i,r):u instanceof Error?r(u):i(u))};function r(e){if(!n){n=!0;for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.apply(void 0,[e].concat(i))}}function i(e){r(null,e)}}var Km=function e(){var t,n=function(){var e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=-1,a=n.pop();if("function"!==typeof a)throw new TypeError("Expected function as last argument, not "+a);function o(t){var r=e[++i],u=-1;if(t)a(t);else{for(var s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];for(;++u<n.length;)null!==c[u]&&void 0!==c[u]||(c[u]=n[u]);n=c,r?Ym(r,o).apply(void 0,c):a.apply(void 0,[null].concat(c))}}o.apply(void 0,[null].concat(du(n)))},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}(),r=[],i={},a=-1;return o.data=function(e,n){if("string"===typeof e)return 2===arguments.length?(eg("data",t),i[e]=n,o):Xm.call(i,e)&&i[e]||null;if(e)return eg("data",t),i=e,o;return i},o.Parser=void 0,o.Compiler=void 0,o.freeze=function(){if(t)return o;for(;++a<r.length;){var e=Hm(r[a]),i=e[0],u=e.slice(1);if(!1!==u[0]){!0===u[0]&&(u[1]=void 0);var s=i.call.apply(i,[o].concat(du(u)));"function"===typeof s&&n.use(s)}}return t=!0,a=Number.POSITIVE_INFINITY,o},o.attachers=r,o.use=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];var s;if(eg("use",t),null===e||void 0===e);else if("function"===typeof e)d.apply(void 0,[e].concat(a));else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?f(e):l(e)}s&&(i.settings=Object.assign(i.settings||{},s));return o;function c(e){if("function"===typeof e)d(e);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){var t=Hm(e),n=t[0],r=t.slice(1);d.apply(void 0,[n].concat(du(r)))}else l(e)}}function l(e){f(e.plugins),e.settings&&(s=Object.assign(s||{},e.settings))}function f(e){var t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){c(e[t])}}}function d(e,t){for(var n,i=-1;++i<r.length;)if(r[i][0]===e){n=r[i];break}n?(Gm(n[1])&&Gm(t)&&(t=Vm(!0,n[1],t)),n[1]=t):r.push(Array.prototype.slice.call(arguments))}},o.parse=function(e){o.freeze();var t=rg(e),n=o.Parser;if(Zm("parse",n),Qm(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},o.stringify=function(e,t){o.freeze();var n=rg(t),r=o.Compiler;if(Jm("stringify",r),tg(e),Qm(r,"compile"))return new r(e,n).compile();return r(e,n)},o.run=function(e,t,r){tg(e),o.freeze(),r||"function"!==typeof t||(r=t,t=void 0);if(!r)return new Promise(i);function i(i,a){function o(t,n,o){n=n||e,t?a(t):i?i(n):r(null,n,o)}n.run(e,rg(t),o)}i(null,r)},o.runSync=function(e,t){var n,r;return o.run(e,t,i),ng("runSync","run",r),n;function i(e,t){$m(e),n=t,r=!0}},o.process=function(e,t){if(o.freeze(),Zm("process",o.Parser),Jm("process",o.Compiler),!t)return new Promise(n);function n(n,r){var i=rg(e);function a(e,i){e||!i?r(e):n?n(i):t(null,i)}o.run(o.parse(i),i,(function(e,t,n){if(!e&&t&&n){var r=o.stringify(t,n);void 0===r||null===r||(!function(e){return"string"===typeof e||ym(e)}(r)?n.result=r:n.value=r),a(e,n)}else a(e)}))}n(null,t)},o.processSync=function(e){var t;o.freeze(),Zm("processSync",o.Parser),Jm("processSync",o.Compiler);var n=rg(e);return o.process(n,r),ng("processSync","process",t),n;function r(e){t=!0,$m(e)}},o;function o(){for(var t=e(),n=-1;++n<r.length;)t.use.apply(t,du(r[n]));return t.data(Vm(!0,{},i)),t}}().freeze(),Xm={}.hasOwnProperty;function Qm(e,t){return"function"===typeof e&&e.prototype&&(function(e){var t;for(t in e)if(Xm.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function Zm(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function Jm(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function eg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function tg(e){if(!Gm(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function ng(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function rg(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Lm(e)}function ig(e,t){var n=(t||{}).includeImageAlt;return ag(e,void 0===n||n)}function ag(e,t){return e&&"object"===typeof e&&(e.value||(t?e.alt:"")||"children"in e&&og(e.children,t)||Array.isArray(e)&&og(e,t))||""}function og(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=ag(e[r],t);return n.join("")}function ug(e,t,n,r){var i,a=e.length,o=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)(i=Array.from(r)).unshift(t,n),[].splice.apply(e,i);else for(n&&[].splice.apply(e,[t,n]);o<r.length;)(i=r.slice(o,o+1e4)).unshift(t,0),[].splice.apply(e,i),o+=1e4,t+=1e4}function sg(e,t){return e.length>0?(ug(e,e.length,0,t),e):t}var cg={}.hasOwnProperty;function lg(e){for(var t={},n=-1;++n<e.length;)fg(t,e[n]);return t}function fg(e,t){var n;for(n in t){var r=(cg.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n],a=void 0;for(a in i){cg.call(r,a)||(r[a]=[]);var o=i[a];dg(r[a],Array.isArray(o)?o:o?[o]:[])}}}function dg(e,t){for(var n=-1,r=[];++n<t.length;)("after"===t[n].add?e:r).push(t[n]);ug(e,0,0,r)}var hg=Og(/[A-Za-z]/),pg=Og(/\d/),vg=Og(/[\dA-Fa-f]/),mg=Og(/[\dA-Za-z]/),gg=Og(/[!-/:-@[-`{-~]/),yg=Og(/[#-'*+\--9=?A-Z^-~]/);function bg(e){return null!==e&&(e<32||127===e)}function xg(e){return null!==e&&(e<0||32===e)}function wg(e){return null!==e&&e<-2}function _g(e){return-2===e||-1===e||32===e}var kg=Og(/\s/),Eg=Og(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function Og(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function Sg(e,t,n,r){var i=r?r-1:Number.POSITIVE_INFINITY,a=0;return function(r){if(_g(r))return e.enter(n),o(r);return t(r)};function o(r){return _g(r)&&a++<i?(e.consume(r),o):(e.exit(n),t(r))}}var Ag={tokenize:function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,(function(t){if(null===t)return void e.consume(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Sg(e,n,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));return n;function r(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,i(n)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):wg(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};var Cg={tokenize:function(e){var t,n,r,i=this,a=[],o=0;return u;function u(t){if(o<a.length){var n=a[o];return i.containerState=n[1],e.attempt(n[0].continuation,s,c)(t)}return c(t)}function s(e){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,t&&y();for(var n,r=i.events.length,a=r;a--;)if("exit"===i.events[a][0]&&"chunkFlow"===i.events[a][1].type){n=i.events[a][1].end;break}g(o);for(var s=r;s<i.events.length;)i.events[s][1].end=Object.assign({},n),s++;return ug(i.events,a+1,0,i.events.slice(r)),i.events.length=s,c(e)}return u(e)}function c(n){if(o===a.length){if(!t)return d(n);if(t.currentConstruct&&t.currentConstruct.concrete)return p(n);i.interrupt=Boolean(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(Dg,l,f)(n)}function l(e){return t&&y(),g(o),d(e)}function f(e){return i.parser.lazy[i.now().line]=o!==a.length,r=i.now().offset,p(e)}function d(t){return i.containerState={},e.attempt(Dg,h,p)(t)}function h(e){return o++,a.push([i.currentConstruct,i.containerState]),d(e)}function p(r){return null===r?(t&&y(),g(0),void e.consume(r)):(t=t||i.parser.flow(i.now()),e.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:t}),v(r))}function v(t){return null===t?(m(e.exit("chunkFlow"),!0),g(0),void e.consume(t)):wg(t)?(e.consume(t),m(e.exit("chunkFlow")),o=0,i.interrupt=void 0,u):(e.consume(t),v)}function m(e,a){var u=i.sliceStream(e);if(a&&u.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(u),i.parser.lazy[e.start.line]){for(var s=t.events.length;s--;)if(t.events[s][1].start.offset<r&&(!t.events[s][1].end||t.events[s][1].end.offset>r))return;for(var c,l,f=i.events.length,d=f;d--;)if("exit"===i.events[d][0]&&"chunkFlow"===i.events[d][1].type){if(c){l=i.events[d][1].end;break}c=!0}for(g(o),s=f;s<i.events.length;)i.events[s][1].end=Object.assign({},l),s++;ug(i.events,d+1,0,i.events.slice(f)),i.events.length=s}}function g(t){for(var n=a.length;n-- >t;){var r=a[n];i.containerState=r[1],r[0].exit.call(i,e)}a.length=t}function y(){t.write([null]),n=void 0,t=void 0,i.containerState._closeFlow=void 0}}},Dg={tokenize:function(e,t,n){return Sg(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};var jg={tokenize:function(e,t,n){return Sg(e,(function(e){return null===e||wg(e)?t(e):n(e)}),"linePrefix")},partial:!0};function Tg(e){for(var t,n,r,i,a,o,u,s={},c=-1;++c<e.length;){for(;c in s;)c=s[c];if(t=e[c],c&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[c-1][1].type&&((r=0)<(o=t[1]._tokenizer.events).length&&"lineEndingBlank"===o[r][1].type&&(r+=2),r<o.length&&"content"===o[r][1].type))for(;++r<o.length&&"content"!==o[r][1].type;)"chunkText"===o[r][1].type&&(o[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===t[0])t[1].contentType&&(Object.assign(s,Fg(e,c)),c=s[c],u=!0);else if(t[1]._container){for(r=c,n=void 0;r--&&("lineEnding"===(i=e[r])[1].type||"lineEndingBlank"===i[1].type);)"enter"===i[0]&&(n&&(e[n][1].type="lineEndingBlank"),i[1].type="lineEnding",n=r);n&&(t[1].end=Object.assign({},e[n][1].start),(a=e.slice(n,c)).unshift(t),ug(e,n,c-n+1,a))}}return!u}function Fg(e,t){for(var n,r,i=e[t][1],a=e[t][2],o=t-1,u=[],s=i._tokenizer||a.parser[i.contentType](i.start),c=s.events,l=[],f={},d=-1,h=i,p=0,v=0,m=[v];h;){for(;e[++o][1]!==h;);u.push(o),h._tokenizer||(n=a.sliceStream(h),h.next||n.push(null),r&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(n),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),r=h,h=h.next}for(h=i;++d<c.length;)"exit"===c[d][0]&&"enter"===c[d-1][0]&&c[d][1].type===c[d-1][1].type&&c[d][1].start.line!==c[d][1].end.line&&(v=d+1,m.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):m.pop(),d=m.length;d--;){var g=c.slice(m[d],m[d+1]),y=u.pop();l.unshift([y,y+g.length-1]),ug(e,y,2,g)}for(d=-1;++d<l.length;)f[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return f}var Pg={tokenize:function(e,t){var n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):wg(t)?e.check(Mg,a,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return Tg(e),e}},Mg={tokenize:function(e,t,n){var r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Sg(e,i,"linePrefix")};function i(i){if(null===i||wg(i))return n(i);var a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};var Ng={tokenize:function(e){var t=this,n=e.attempt(jg,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,Sg(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Pg,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};var Rg={resolveAll:Lg()},Ig=zg("string"),Bg=zg("text");function zg(e){return{tokenize:function(t){var n=this,r=this.parser.constructs[e],i=t.attempt(r,a,o);return a;function a(e){return s(e)?i(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),u;t.consume(e)}function u(e){return s(e)?(t.exit("data"),i(e)):(t.consume(e),u)}function s(e){if(null===e)return!0;var t=r[e],i=-1;if(t)for(;++i<t.length;){var a=t[i];if(!a.previous||a.previous.call(n,n.previous))return!0}return!1}},resolveAll:Lg("text"===e?Ug:void 0)}}function Lg(e){return function(t,n){var r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function Ug(e,t){for(var n=0;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){for(var r=e[n-1][1],i=t.sliceStream(r),a=i.length,o=-1,u=0,s=void 0;a--;){var c=i[a];if("string"===typeof c){for(o=c.length;32===c.charCodeAt(o-1);)u++,o--;if(o)break;o=-1}else if(-2===c)s=!0,u++;else if(-1!==c){a++;break}}if(u){var l={type:n===e.length||s||u<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-u,offset:r.end.offset-u,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function qg(e,t,n){for(var r=[],i=-1;++i<e.length;){var a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}function Wg(e,t,n){var r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},a=[],o=[],u=[],s={consume:function(e){wg(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,y()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,!0},enter:function(e,t){var n=t||{};return n.type=e,n.start=d(),c.events.push(["enter",n,c]),u.push(n),n},exit:function(e){var t=u.pop();return t.end=d(),c.events.push(["exit",t,c]),t},attempt:m((function(e,t){g(e,t.from)})),check:m(v),interrupt:m(v,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:function(e,t){return function(e,t){var n,r=-1,i=[];for(;++r<e.length;){var a=e[r],o=void 0;if("string"===typeof a)o=a;else switch(a){case-5:o="\r";break;case-4:o="\n";break;case-3:o="\r\n";break;case-2:o=t?" ":"\t";break;case-1:if(!t&&n)continue;o=" ";break;default:o=String.fromCharCode(a)}n=-2===a,i.push(o)}return i.join("")}(f(e),t)},now:d,defineSkip:function(e){i[e.line]=e.column,y()},write:function(e){if(o=sg(o,e),h(),null!==o[o.length-1])return[];return g(t,0),c.events=qg(a,c.events,c),c.events}},l=t.tokenize.call(c,s);return t.resolveAll&&a.push(t),c;function f(e){return function(e,t){var n,r=t.start._index,i=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;r===a?n=[e[r].slice(i,o)]:(n=e.slice(r,a),i>-1&&(n[0]=n[0].slice(i)),o>0&&n.push(e[a].slice(0,o)));return n}(o,e)}function d(){return Object.assign({},r)}function h(){for(var e;r._index<o.length;){var t=o[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)p(t.charCodeAt(r._bufferIndex));else p(t)}}function p(e){void 0,e,l=l(e)}function v(e,t){t.restore()}function m(e,t){return function(n,i,a){var o,l,f,h;return Array.isArray(n)?p(n):"tokenize"in n?p([n]):function(e){return t;function t(t){var n=null!==t&&e[t],r=null!==t&&e.null;return p([].concat(du(Array.isArray(n)?n:n?[n]:[]),du(Array.isArray(r)?r:r?[r]:[])))(t)}}(n);function p(e){return o=e,l=0,0===e.length?a:v(e[l])}function v(e){return function(n){h=function(){var e=d(),t=c.previous,n=c.currentConstruct,i=c.events.length,a=Array.from(u);return{restore:o,from:i};function o(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=i,u=a,y()}}(),f=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return g(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,s,m,g)(n)}}function m(t){return!0,e(f,h),i}function g(e){return!0,h.restore(),++l<o.length?v(o[l]):a}}}function g(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&ug(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}var Hg={name:"thematicBreak",tokenize:function(e,t,n){var r,i=0;return function(t){return e.enter("thematicBreak"),r=t,a(t)};function a(u){return u===r?(e.enter("thematicBreakSequence"),o(u)):_g(u)?Sg(e,a,"whitespace")(u):i<3||null!==u&&!wg(u)?n(u):(e.exit("thematicBreak"),t(u))}function o(t){return t===r?(e.consume(t),i++,o):(e.exit("thematicBreakSequence"),a(t))}}};var $g={name:"list",tokenize:function(e,t,n){var r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,o=0;return function(t){var i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:pg(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(Hg,n,s)(t):s(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(t)}return n(t)};function u(t){return pg(t)&&++o<10?(e.consume(t),u):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),s(t)):n(t)}function s(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(jg,r.interrupt?n:c,e.attempt(Vg,f,l))}function c(e){return r.containerState.initialBlankLine=!0,a++,f(e)}function l(t){return _g(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),f):n(t)}function f(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){var r=this;return r.containerState._closeFlow=void 0,e.check(jg,i,a);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Sg(e,t,"listItemIndent",r.containerState.size+1)(n)}function a(n){return r.containerState.furtherBlankLines||!_g(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Gg,t,o)(n))}function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,Sg(e,e.attempt($g,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},Vg={tokenize:function(e,t,n){var r=this;return Sg(e,(function(e){var i=r.events[r.events.length-1];return!_g(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Gg={tokenize:function(e,t,n){var r=this;return Sg(e,(function(e){var i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};var Yg={name:"blockQuote",tokenize:function(e,t,n){var r=this;return function(t){if(62===t){var a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return _g(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return Sg(e,e.attempt(Yg,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}};function Kg(e,t,n,r,i,a,o,u,s){var c=s||Number.POSITIVE_INFINITY,l=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),f;if(null===t||41===t||bg(t))return n(t);return e.enter(r),e.enter(o),e.enter(u),e.enter("chunkString",{contentType:"string"}),p(t)};function f(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(u),f(t)):null===t||60===t||wg(t)?n(t):(e.consume(t),92===t?h:d)}function h(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function p(i){return 40===i?++l>c?n(i):(e.consume(i),p):41===i?l--?(e.consume(i),p):(e.exit("chunkString"),e.exit(u),e.exit(o),e.exit(r),t(i)):null===i||xg(i)?l?n(i):(e.exit("chunkString"),e.exit(u),e.exit(o),e.exit(r),t(i)):bg(i)?n(i):(e.consume(i),92===i?v:p)}function v(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function Xg(e,t,n,r,i,a){var o,u=this,s=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),c};function c(f){return null===f||91===f||93===f&&!o||94===f&&!s&&"_hiddenFootnoteSupport"in u.parser.constructs||s>999?n(f):93===f?(e.exit(a),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):wg(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),l(f))}function l(t){return null===t||91===t||93===t||wg(t)||s++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o=o||!_g(t),92===t?f:l)}function f(t){return 91===t||92===t||93===t?(e.consume(t),s++,l):l(t)}}function Qg(e,t,n,r,i,a){var o;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),o=40===t?41:t,u};function u(n){return n===o?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),s(n))}function s(t){return t===o?(e.exit(a),u(o)):null===t?n(t):wg(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Sg(e,s,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===o||null===t||wg(t)?(e.exit("chunkString"),s(t)):(e.consume(t),92===t?l:c)}function l(t){return t===o||92===t?(e.consume(t),c):c(t)}}function Zg(e,t){var n;return function r(i){if(wg(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(_g(i))return Sg(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}function Jg(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var ey={name:"definition",tokenize:function(e,t,n){var r,i=this;return function(t){return e.enter("definition"),Xg.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function a(t){return r=Jg(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),Zg(e,Kg(e,e.attempt(ty,Sg(e,o,"whitespace"),Sg(e,o,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function o(a){return null===a||wg(a)?(e.exit("definition"),i.parser.defined.includes(r)||i.parser.defined.push(r),t(a)):n(a)}}},ty={tokenize:function(e,t,n){return function(t){return xg(t)?Zg(e,r)(t):n(t)};function r(t){return 34===t||39===t||40===t?Qg(e,Sg(e,i,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function i(e){return null===e||wg(e)?t(e):n(e)}},partial:!0};var ny={name:"codeIndented",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("codeIndented"),Sg(e,i,"linePrefix",5)(t)};function i(e){var t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?u(t):wg(t)?e.attempt(ry,a,u)(t):(e.enter("codeFlowValue"),o(t))}function o(t){return null===t||wg(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),o)}function u(n){return e.exit("codeIndented"),t(n)}}},ry={tokenize:function(e,t,n){var r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):wg(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):Sg(e,a,"linePrefix",5)(t)}function a(e){var a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):wg(e)?i(e):n(e)}},partial:!0};var iy={name:"headingAtx",tokenize:function(e,t,n){var r=this,i=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),a(t)};function a(u){return 35===u&&i++<6?(e.consume(u),a):null===u||xg(u)?(e.exit("atxHeadingSequence"),r.interrupt?t(u):o(u)):n(u)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),u(n)):null===n||wg(n)?(e.exit("atxHeading"),t(n)):_g(n)?Sg(e,o,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function u(t){return 35===t?(e.consume(t),u):(e.exit("atxHeadingSequence"),o(t))}function s(t){return null===t||35===t||xg(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),s)}},resolve:function(e,t){var n,r,i=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);i-2>a&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4);i>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},r={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},ug(e,a,i-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};var ay={name:"setextUnderline",tokenize:function(e,t,n){var r,i,a=this,o=a.events.length;for(;o--;)if("lineEnding"!==a.events[o][1].type&&"linePrefix"!==a.events[o][1].type&&"content"!==a.events[o][1].type){i="paragraph"===a.events[o][1].type;break}return function(t){if(!a.parser.lazy[a.now().line]&&(a.interrupt||i))return e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),r=t,u(t);return n(t)};function u(t){return t===r?(e.consume(t),u):(e.exit("setextHeadingLineSequence"),Sg(e,s,"lineSuffix")(t))}function s(r){return null===r||wg(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){var n,r,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),i||"definition"!==e[a][1].type||(i=a);var o={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",o,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=o;return e.push(["exit",o,t]),e}};var oy=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uy=["pre","script","style","textarea"],sy={name:"htmlFlow",tokenize:function(e,t,n){var r,i,a,o,u,s=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c};function c(o){return 33===o?(e.consume(o),l):47===o?(e.consume(o),h):63===o?(e.consume(o),r=3,s.interrupt?t:M):hg(o)?(e.consume(o),a=String.fromCharCode(o),i=!0,p):n(o)}function l(i){return 45===i?(e.consume(i),r=2,f):91===i?(e.consume(i),r=5,a="CDATA[",o=0,d):hg(i)?(e.consume(i),r=4,s.interrupt?t:M):n(i)}function f(r){return 45===r?(e.consume(r),s.interrupt?t:M):n(r)}function d(r){return r===a.charCodeAt(o++)?(e.consume(r),o===a.length?s.interrupt?t:S:d):n(r)}function h(t){return hg(t)?(e.consume(t),a=String.fromCharCode(t),p):n(t)}function p(o){return null===o||47===o||62===o||xg(o)?47!==o&&i&&uy.includes(a.toLowerCase())?(r=1,s.interrupt?t(o):S(o)):oy.includes(a.toLowerCase())?(r=6,47===o?(e.consume(o),v):s.interrupt?t(o):S(o)):(r=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(o):i?g(o):m(o)):45===o||mg(o)?(e.consume(o),a+=String.fromCharCode(o),p):n(o)}function v(r){return 62===r?(e.consume(r),s.interrupt?t:S):n(r)}function m(t){return _g(t)?(e.consume(t),m):E(t)}function g(t){return 47===t?(e.consume(t),E):58===t||95===t||hg(t)?(e.consume(t),y):_g(t)?(e.consume(t),g):E(t)}function y(t){return 45===t||46===t||58===t||95===t||mg(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),x):_g(t)?(e.consume(t),b):g(t)}function x(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),u=t,w):_g(t)?(e.consume(t),x):(u=null,_(t))}function w(t){return null===t||wg(t)?n(t):t===u?(e.consume(t),k):(e.consume(t),w)}function _(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||xg(t)?b(t):(e.consume(t),_)}function k(e){return 47===e||62===e||_g(e)?g(e):n(e)}function E(t){return 62===t?(e.consume(t),O):n(t)}function O(t){return _g(t)?(e.consume(t),O):null===t||wg(t)?S(t):n(t)}function S(t){return 45===t&&2===r?(e.consume(t),j):60===t&&1===r?(e.consume(t),T):62===t&&4===r?(e.consume(t),N):63===t&&3===r?(e.consume(t),M):93===t&&5===r?(e.consume(t),P):!wg(t)||6!==r&&7!==r?null===t||wg(t)?A(t):(e.consume(t),S):e.check(cy,N,A)(t)}function A(t){return e.exit("htmlFlowData"),C(t)}function C(t){return null===t?R(t):wg(t)?e.attempt({tokenize:D,partial:!0},C,R)(t):(e.enter("htmlFlowData"),S(t))}function D(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return s.parser.lazy[s.now().line]?n(e):t(e)}}function j(t){return 45===t?(e.consume(t),M):S(t)}function T(t){return 47===t?(e.consume(t),a="",F):S(t)}function F(t){return 62===t&&uy.includes(a.toLowerCase())?(e.consume(t),N):hg(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),F):S(t)}function P(t){return 93===t?(e.consume(t),M):S(t)}function M(t){return 62===t?(e.consume(t),N):45===t&&2===r?(e.consume(t),M):S(t)}function N(t){return null===t||wg(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),N)}function R(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){var t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},cy={tokenize:function(e,t,n){return function(r){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),e.attempt(jg,t,n)}},partial:!0};var ly={name:"codeFenced",tokenize:function(e,t,n){var r,i=this,a={tokenize:function(e,t,n){var i=0;return Sg(e,a,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function a(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),o(t)}function o(t){return t===r?(e.consume(t),i++,o):i<c?n(t):(e.exit("codeFencedFenceSequence"),Sg(e,u,"whitespace")(t))}function u(r){return null===r||wg(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0},o={tokenize:function(e,t,n){var r=this;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a}function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},u=this.events[this.events.length-1],s=u&&"linePrefix"===u[1].type?u[2].sliceSerialize(u[1],!0).length:0,c=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),r=t,l(t)};function l(t){return t===r?(e.consume(t),c++,l):(e.exit("codeFencedFenceSequence"),c<3?n(t):Sg(e,f,"whitespace")(t))}function f(t){return null===t||wg(t)?v(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||xg(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Sg(e,h,"whitespace")(t)):96===t&&t===r?n(t):(e.consume(t),d)}function h(t){return null===t||wg(t)?v(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||wg(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(t)):96===t&&t===r?n(t):(e.consume(t),p)}function v(n){return e.exit("codeFencedFence"),i.interrupt?t(n):m(n)}function m(t){return null===t?y(t):wg(t)?e.attempt(o,e.attempt(a,y,s?Sg(e,m,"linePrefix",s+1):m),y)(t):(e.enter("codeFlowValue"),g(t))}function g(t){return null===t||wg(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),g)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};var fy=document.createElement("i");function dy(e){var t="&"+e+";";fy.innerHTML=t;var n=fy.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}var hy={name:"characterReference",tokenize:function(e,t,n){var r,i,a=this,o=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),u};function u(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),s):(e.enter("characterReferenceValue"),r=31,i=mg,c(t))}function s(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,i=vg,c):(e.enter("characterReferenceValue"),r=7,i=pg,c(t))}function c(u){var s;return 59===u&&o?(s=e.exit("characterReferenceValue"),i!==mg||dy(a.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)):i(u)&&o++<r?(e.consume(u),c):n(u)}}};var py={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return gg(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};var vy={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Sg(e,t,"linePrefix")}}};var my={name:"labelEnd",tokenize:function(e,t,n){var r,i,a=this,o=a.events.length;for(;o--;)if(("labelImage"===a.events[o][1].type||"labelLink"===a.events[o][1].type)&&!a.events[o][1]._balanced){r=a.events[o][1];break}return function(t){if(!r)return n(t);return r._inactive?s(t):(i=a.parser.defined.includes(Jg(a.sliceSerialize({start:r.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),u)};function u(n){return 40===n?e.attempt(gy,t,i?t:s)(n):91===n?e.attempt(yy,t,i?e.attempt(by,t,s):s)(n):i?t(n):s(n)}function s(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){var n,r,i,a,o=e.length,u=0;for(;o--;)if(n=e[o][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[o][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[o][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=o,"labelLink"!==n.type)){u=2;break}}else"labelEnd"===n.type&&(i=o);var s={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},l={type:"labelText",start:Object.assign({},e[r+u+2][1].end),end:Object.assign({},e[i-2][1].start)};return a=sg(a=[["enter",s,t],["enter",c,t]],e.slice(r+1,r+u+3)),a=sg(a,[["enter",l,t]]),a=sg(a,qg(t.parser.constructs.insideSpan.null,e.slice(r+u+4,i-3),t)),a=sg(a,[["exit",l,t],e[i-2],e[i-1],["exit",c,t]]),a=sg(a,e.slice(i+1)),a=sg(a,[["exit",s,t]]),ug(e,r,e.length,a),e},resolveAll:function(e){var t,n=-1;for(;++n<e.length;)"labelImage"!==(t=e[n][1]).type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},gy={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),Zg(e,r)};function r(t){return 41===t?o(t):Kg(e,i,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return xg(t)?Zg(e,a)(t):o(t)}function a(t){return 34===t||39===t||40===t?Qg(e,Zg(e,o),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):o(t)}function o(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},yy={tokenize:function(e,t,n){var r=this;return function(t){return Xg.call(r,e,i,n,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(Jg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}}},by={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};var xy={name:"labelStartImage",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:my.resolveAll};function wy(e){return null===e||xg(e)||kg(e)?1:Eg(e)?2:void 0}var _y={name:"attention",tokenize:function(e,t){var n,r=this.parser.constructs.attentionMarkers.null,i=this.previous,a=wy(i);return function(t){return e.enter("attentionSequence"),n=t,o(t)};function o(u){if(u===n)return e.consume(u),o;var s=e.exit("attentionSequence"),c=wy(u),l=!c||2===c&&a||r.includes(u),f=!a||2===a&&c||r.includes(i);return s._open=Boolean(42===n?l:l&&(a||!f)),s._close=Boolean(42===n?f:f&&(c||!l)),t(u)}},resolveAll:function(e,t){var n,r,i,a,o,u,s,c,l=-1;for(;++l<e.length;)if("enter"===e[l][0]&&"attentionSequence"===e[l][1].type&&e[l][1]._close)for(n=l;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[l][1]).charCodeAt(0)){if((e[n][1]._close||e[l][1]._open)&&(e[l][1].end.offset-e[l][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[l][1].end.offset-e[l][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[l][1].end.offset-e[l][1].start.offset>1?2:1;var f=Object.assign({},e[n][1].end),d=Object.assign({},e[l][1].start);ky(f,-u),ky(d,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[n][1].end)},o={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[l][1].start),end:d},i={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[l][1].start)},r={type:u>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},o.end)},e[n][1].end=Object.assign({},a.start),e[l][1].start=Object.assign({},o.end),s=[],e[n][1].end.offset-e[n][1].start.offset&&(s=sg(s,[["enter",e[n][1],t],["exit",e[n][1],t]])),s=sg(s,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",i,t]]),s=sg(s,qg(t.parser.constructs.insideSpan.null,e.slice(n+1,l),t)),s=sg(s,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[l][1].end.offset-e[l][1].start.offset?(c=2,s=sg(s,[["enter",e[l][1],t],["exit",e[l][1],t]])):c=0,ug(e,n-1,l-n+3,s),l=n+s.length-c-2;break}l=-1;for(;++l<e.length;)"attentionSequence"===e[l][1].type&&(e[l][1].type="data");return e}};function ky(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var Ey={name:"autolink",tokenize:function(e,t,n){var r=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return hg(t)?(e.consume(t),a):yg(t)?s(t):n(t)}function a(e){return 43===e||45===e||46===e||mg(e)?o(e):s(e)}function o(t){return 58===t?(e.consume(t),u):(43===t||45===t||46===t||mg(t))&&r++<32?(e.consume(t),o):s(t)}function u(t){return 62===t?(e.exit("autolinkProtocol"),d(t)):null===t||32===t||60===t||bg(t)?n(t):(e.consume(t),u)}function s(t){return 64===t?(e.consume(t),r=0,c):yg(t)?(e.consume(t),s):n(t)}function c(e){return mg(e)?l(e):n(e)}function l(t){return 46===t?(e.consume(t),r=0,c):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",d(t)):f(t)}function f(t){return(45===t||mg(t))&&r++<63?(e.consume(t),45===t?f:l):n(t)}function d(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}};var Oy={name:"htmlText",tokenize:function(e,t,n){var r,i,a,o,u=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),_):63===t?(e.consume(t),x):hg(t)?(e.consume(t),O):n(t)}function c(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),i="CDATA[",a=0,v):hg(t)?(e.consume(t),b):n(t)}function l(t){return 45===t?(e.consume(t),f):n(t)}function f(t){return null===t||62===t?n(t):45===t?(e.consume(t),d):h(t)}function d(e){return null===e||62===e?n(e):h(e)}function h(t){return null===t?n(t):45===t?(e.consume(t),p):wg(t)?(o=h,P(t)):(e.consume(t),h)}function p(t){return 45===t?(e.consume(t),N):h(t)}function v(t){return t===i.charCodeAt(a++)?(e.consume(t),a===i.length?m:v):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),g):wg(t)?(o=m,P(t)):(e.consume(t),m)}function g(t){return 93===t?(e.consume(t),y):m(t)}function y(t){return 62===t?N(t):93===t?(e.consume(t),y):m(t)}function b(t){return null===t||62===t?N(t):wg(t)?(o=b,P(t)):(e.consume(t),b)}function x(t){return null===t?n(t):63===t?(e.consume(t),w):wg(t)?(o=x,P(t)):(e.consume(t),x)}function w(e){return 62===e?N(e):x(e)}function _(t){return hg(t)?(e.consume(t),k):n(t)}function k(t){return 45===t||mg(t)?(e.consume(t),k):E(t)}function E(t){return wg(t)?(o=E,P(t)):_g(t)?(e.consume(t),E):N(t)}function O(t){return 45===t||mg(t)?(e.consume(t),O):47===t||62===t||xg(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),N):58===t||95===t||hg(t)?(e.consume(t),A):wg(t)?(o=S,P(t)):_g(t)?(e.consume(t),S):N(t)}function A(t){return 45===t||46===t||58===t||95===t||mg(t)?(e.consume(t),A):C(t)}function C(t){return 61===t?(e.consume(t),D):wg(t)?(o=C,P(t)):_g(t)?(e.consume(t),C):S(t)}function D(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,j):wg(t)?(o=D,P(t)):_g(t)?(e.consume(t),D):(e.consume(t),r=void 0,F)}function j(t){return t===r?(e.consume(t),T):null===t?n(t):wg(t)?(o=j,P(t)):(e.consume(t),j)}function T(e){return 62===e||47===e||xg(e)?S(e):n(e)}function F(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||xg(t)?S(t):(e.consume(t),F)}function P(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Sg(e,M,"linePrefix",u.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function M(t){return e.enter("htmlTextData"),o(t)}function N(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}}};var Sy={name:"labelStartLink",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:my.resolveAll};var Ay={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),r};function r(r){return wg(r)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(r)):n(r)}}};var Cy,Dy,jy,Ty,Fy,Py={name:"codeText",tokenize:function(e,t,n){var r,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),o(t)};function o(t){return 96===t?(e.consume(t),a++,o):(e.exit("codeTextSequence"),u(t))}function u(t){return null===t?n(t):96===t?(i=e.enter("codeTextSequence"),r=0,c(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),u):wg(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),u):(e.enter("codeTextData"),s(t))}function s(t){return null===t||32===t||96===t||wg(t)?(e.exit("codeTextData"),u(t)):(e.consume(t),s)}function c(n){return 96===n?(e.consume(n),r++,c):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",s(n))}},resolve:function(e){var t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};var My=(lu(Cy={},42,$g),lu(Cy,43,$g),lu(Cy,45,$g),lu(Cy,48,$g),lu(Cy,49,$g),lu(Cy,50,$g),lu(Cy,51,$g),lu(Cy,52,$g),lu(Cy,53,$g),lu(Cy,54,$g),lu(Cy,55,$g),lu(Cy,56,$g),lu(Cy,57,$g),lu(Cy,62,Yg),Cy),Ny=lu({},91,ey),Ry=(lu(Dy={},-2,ny),lu(Dy,-1,ny),lu(Dy,32,ny),Dy),Iy=(lu(jy={},35,iy),lu(jy,42,Hg),lu(jy,45,[ay,Hg]),lu(jy,60,sy),lu(jy,61,ay),lu(jy,95,Hg),lu(jy,96,ly),lu(jy,126,ly),jy),By=(lu(Ty={},38,hy),lu(Ty,92,py),Ty),zy=(lu(Fy={},-5,vy),lu(Fy,-4,vy),lu(Fy,-3,vy),lu(Fy,33,xy),lu(Fy,38,hy),lu(Fy,42,_y),lu(Fy,60,[Ey,Oy]),lu(Fy,91,Sy),lu(Fy,92,[Ay,py]),lu(Fy,93,my),lu(Fy,95,_y),lu(Fy,96,Py),Fy),Ly={null:[_y,Rg]},Uy={null:[42,95]},qy={null:[]};var Wy=/[\0\t\n\r]/g;function Hy(e,t){var n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCharCode(n)}var $y=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Vy(e){return e.replace($y,Gy)}function Gy(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){var r=n.charCodeAt(1),i=120===r||88===r;return Hy(n.slice(i?2:1),i?16:10)}return dy(n)||e}var Yy={}.hasOwnProperty,Ky=function(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Xy({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(re),autolinkProtocol:C,autolinkEmail:C,atxHeading:s(J),blockQuote:s(Y),characterEscape:C,characterReference:C,codeFenced:s(K),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(K,c),codeText:s(X,c),codeTextData:C,data:C,codeFlowValue:C,definition:s(Q),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(Z),hardBreakEscape:s(ee),hardBreakTrailing:s(ee),htmlFlow:s(te,c),htmlFlowData:C,htmlText:s(te,c),htmlTextData:C,image:s(ne),label:c,link:s(re),listItem:s(ae),listItemValue:v,listOrdered:s(ie,p),listUnordered:s(ie),paragraph:s(oe),reference:q,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(J),strong:s(ue),thematicBreak:s(ce)},exit:{atxHeading:f(),atxHeadingSequence:E,autolink:f(),autolinkEmail:G,autolinkProtocol:V,blockQuote:f(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:$,codeFenced:f(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:D,codeIndented:f(x),codeText:f(M),codeTextData:D,data:D,definition:f(),definitionDestinationString:k,definitionLabelString:w,definitionTitleString:_,emphasis:f(),hardBreakEscape:f(T),hardBreakTrailing:f(T),htmlFlow:f(F),htmlFlowData:D,htmlText:f(P),htmlTextData:D,image:f(R),label:B,labelText:I,lineEnding:j,link:f(N),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:W,resourceDestinationString:z,resourceTitleString:L,resource:U,setextHeading:f(A),setextHeadingLineSequence:S,setextHeadingText:O,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(e){for(var n={type:"root",children:[]},r=[],s=[],f={stack:[n],tokenStack:r,config:t,enter:l,exit:d,buffer:c,resume:h,setData:a,getData:o},p=-1;++p<e.length;){if("listOrdered"===e[p][1].type||"listUnordered"===e[p][1].type)if("enter"===e[p][0])s.push(p);else p=i(e,s.pop(),p)}for(p=-1;++p<e.length;){var v=t[e[p][0]];Yy.call(v,e[p][1].type)&&v[e[p][1].type].call(Object.assign({sliceSerialize:e[p][2].sliceSerialize},f),e[p][1])}if(r.length>0){var m=r[r.length-1];(m[1]||Zy).call(f,void 0,m[0])}for(n.position={start:u(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:u(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},p=-1;++p<t.transforms.length;)n=t.transforms[p](n)||n;return n}function i(e,t,n){for(var r,i,a,o,u=t-1,s=-1,c=!1;++u<=n;){var l=e[u];if("listUnordered"===l[1].type||"listOrdered"===l[1].type||"blockQuote"===l[1].type?("enter"===l[0]?s++:s--,o=void 0):"lineEndingBlank"===l[1].type?"enter"===l[0]&&(!r||o||s||a||(a=u),o=void 0):"linePrefix"===l[1].type||"listItemValue"===l[1].type||"listItemMarker"===l[1].type||"listItemPrefix"===l[1].type||"listItemPrefixWhitespace"===l[1].type||(o=void 0),!s&&"enter"===l[0]&&"listItemPrefix"===l[1].type||-1===s&&"exit"===l[0]&&("listUnordered"===l[1].type||"listOrdered"===l[1].type)){if(r){var f=u;for(i=void 0;f--;){var d=e[f];if("lineEnding"===d[1].type||"lineEndingBlank"===d[1].type){if("exit"===d[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),d[1].type="lineEnding",i=f}else if("linePrefix"!==d[1].type&&"blockQuotePrefix"!==d[1].type&&"blockQuotePrefixWhitespace"!==d[1].type&&"blockQuoteMarker"!==d[1].type&&"listItemIndent"!==d[1].type)break}a&&(!i||a<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:l[1].end),e.splice(i||u,0,["exit",r,l[2]]),u++,n++}"listItemPrefix"===l[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},l[1].start)},e.splice(u,0,["enter",r,l[2]]),u++,n++,a=void 0,o=!0)}}return e[t][1]._spread=c,n}function a(e,t){n[e]=t}function o(e){return n[e]}function u(e){return{line:e.line,column:e.column,offset:e.offset}}function s(e,t){return n;function n(n){l.call(this,e(n),n),t&&t.call(this,n)}}function c(){this.stack.push({type:"fragment",children:[]})}function l(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:u(t.start)},e}function f(e){return t;function t(t){e&&e.call(this,t),d.call(this,t)}}function d(e,t){var n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Cm({start:e.start,end:e.end})+"): it\u2019s not open");return r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||Zy).call(this,e,r[0])),n.position.end=u(e.end),n}function h(){return ig(this.stack.pop())}function p(){a("expectingFirstListItemValue",!0)}function v(e){o("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),a("expectingFirstListItemValue"))}function m(){var e=this.resume();this.stack[this.stack.length-1].lang=e}function g(){var e=this.resume();this.stack[this.stack.length-1].meta=e}function y(){o("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function b(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function x(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Jg(this.sliceSerialize(e)).toLowerCase()}function _(){var e=this.resume();this.stack[this.stack.length-1].title=e}function k(){var e=this.resume();this.stack[this.stack.length-1].url=e}function E(e){var t=this.stack[this.stack.length-1];if(!t.depth){var n=this.sliceSerialize(e).length;t.depth=n}}function O(){a("setextHeadingSlurpLineEnding",!0)}function S(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function A(){a("setextHeadingSlurpLineEnding")}function C(e){var t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type||((n=se()).position={start:u(e.start)},t.children.push(n)),this.stack.push(n)}function D(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=u(e.end)}function j(e){var n=this.stack[this.stack.length-1];if(o("atHardBreak"))return n.children[n.children.length-1].position.end=u(e.end),void a("atHardBreak");!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(C.call(this,e),D.call(this,e))}function T(){a("atHardBreak",!0)}function F(){var e=this.resume();this.stack[this.stack.length-1].value=e}function P(){var e=this.resume();this.stack[this.stack.length-1].value=e}function M(){var e=this.resume();this.stack[this.stack.length-1].value=e}function N(){var e=this.stack[this.stack.length-1];o("inReference")?(e.type+="Reference",e.referenceType=o("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label),a("referenceType")}function R(){var e=this.stack[this.stack.length-1];o("inReference")?(e.type+="Reference",e.referenceType=o("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label),a("referenceType")}function I(e){var t=this.stack[this.stack.length-2],n=this.sliceSerialize(e);t.label=Vy(n),t.identifier=Jg(n).toLowerCase()}function B(){var e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];a("inReference",!0),"link"===n.type?n.children=e.children:n.alt=t}function z(){var e=this.resume();this.stack[this.stack.length-1].url=e}function L(){var e=this.resume();this.stack[this.stack.length-1].title=e}function U(){a("inReference")}function q(){a("referenceType","collapsed")}function W(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Jg(this.sliceSerialize(e)).toLowerCase(),a("referenceType","full")}function H(e){a("characterReferenceType",e.type)}function $(e){var t,n=this.sliceSerialize(e),r=o("characterReferenceType");r?(t=Hy(n,"characterReferenceMarkerNumeric"===r?10:16),a("characterReferenceType")):t=dy(n);var i=this.stack.pop();i.value+=t,i.position.end=u(e.end)}function V(e){D.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function G(e){D.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function Y(){return{type:"blockquote",children:[]}}function K(){return{type:"code",lang:null,meta:null,value:""}}function X(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Z(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:void 0,children:[]}}function ee(){return{type:"break"}}function te(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function re(){return{type:"link",title:null,url:"",children:[]}}function ie(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ae(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function oe(){return{type:"paragraph",children:[]}}function ue(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function ce(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Tg(e););return e}(function(){var e={defined:[],lazy:{},constructs:lg([r].concat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).extensions||[])),content:t(Ag),document:t(Cg),flow:t(Ng),string:t(Ig),text:t(Bg)};return e;function t(t){return function(n){return Wg(e,t,n)}}}(n).document().write(function(){var e,t=1,n="",r=!0;return function(i,a,o){var u,s,c,l,f,d=[];for(i=n+i.toString(a),c=0,n="",r&&(65279===i.charCodeAt(0)&&c++,r=void 0);c<i.length;){if(Wy.lastIndex=c,l=(u=Wy.exec(i))&&void 0!==u.index?u.index:i.length,f=i.charCodeAt(l),!u){n=i.slice(c);break}if(10===f&&c===l&&e)d.push(-3),e=void 0;else switch(e&&(d.push(-5),e=void 0),c<l&&(d.push(i.slice(c,l)),t+=l-c),f){case 0:d.push(65533),t++;break;case 9:for(s=4*Math.ceil(t/4),d.push(-2);t++<s;)d.push(-1);break;case 10:d.push(-4),t=1;break;default:e=!0,t=1}c=l+1}return o&&(e&&d.push(-5),n&&d.push(n),d.push(null)),d}}()(e,t,!0))))};function Xy(e,t){for(var n=-1;++n<t.length;){var r=t[n];Array.isArray(r)?Xy(e,r):Qy(e,r)}return e}function Qy(e,t){var n;for(n in t)if(Yy.call(t,n)){var r="canContainEols"===n||"transforms"===n,i=(Yy.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),a=t[n];a&&(r?e[n]=[].concat(du(i),du(a)):Object.assign(i,a))}}function Zy(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Cm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Cm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Cm({start:t.start,end:t.end})+") is still open")}var Jy=function(e){var t=this;Object.assign(this,{Parser:function(n){var r=t.data("settings");return Ky(n,Object.assign({},r,e,{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}})},eb=function(e,t,n){var r={type:String(e)};return void 0!==n&&null!==n||"string"!==typeof t&&!Array.isArray(t)?Object.assign(r,t):n=t,Array.isArray(n)?r.children=n:void 0!==n&&null!==n&&(r.value=String(n)),r},tb=function(e){if(void 0===e||null===e)return ib;if("string"===typeof e)return function(e){return rb(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?nb(e):function(e){return rb(t);function t(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return rb(e);throw new Error("Expected function, string, or object as test")};function nb(e){for(var t=[],n=-1;++n<e.length;)t[n]=tb(e[n]);return rb((function(){for(var e=-1,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++e<t.length;){var a;if((a=t[e]).call.apply(a,[this].concat(r)))return!0}return!1}))}function rb(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Boolean(e.call.apply(e,[this].concat(n)))}}function ib(){return!0}var ab=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);var i=tb(t),a=r?-1:1;!function e(o,u,s){var c,l="object"===typeof o&&null!==o?o:{};"string"===typeof l.type&&(c="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0,Object.defineProperty(f,"name",{value:"node ("+l.type+(c?"<"+c+">":"")+")"}));return f;function f(){var c,l,f,d=[];if((!t||i(o,u,s[s.length-1]||null))&&(d=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[true,e];return[e]}(n(o,s)),false===d[0]))return d;if(o.children&&"skip"!==d[0])for(l=(r?o.children.length:-1)+a,f=s.concat(o);l>-1&&l<o.children.length;){if(c=e(o.children[l],l,f)(),false===c[0])return c;l="number"===typeof c[1]?c[1]:l+a}return d}}(e,null,[])()};var ob=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),ab(e,t,(function(e,t){var r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)},ub=cb("start"),sb=cb("end");function cb(e){return function(t){var n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}var lb=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);var i=tb(t),a=r?-1:1;!function e(o,u,s){var c,l="object"===typeof o&&null!==o?o:{};"string"===typeof l.type&&(c="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0,Object.defineProperty(f,"name",{value:"node ("+l.type+(c?"<"+c+">":"")+")"}));return f;function f(){var c,l,f,d=[];if((!t||i(o,u,s[s.length-1]||null))&&(d=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[true,e];return[e]}(n(o,s)),false===d[0]))return d;if(o.children&&"skip"!==d[0])for(l=(r?o.children.length:-1)+a,f=s.concat(o);l>-1&&l<o.children.length;){if(c=e(o.children[l],l,f)(),false===c[0])return c;l="number"===typeof c[1]?c[1]:l+a}return d}}(e,null,[])()};var fb={}.hasOwnProperty;function db(e){var t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),lb(e,t,(function(e,t){var r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)}(e,"definition",(function(e){var n=hb(e.identifier);n&&!fb.call(t,n)&&(t[n]=e)})),function(e){var n=hb(e);return n&&fb.call(t,n)?t[n]:null}}function hb(e){return String(e||"").toUpperCase()}var pb={}.hasOwnProperty;function vb(e,t){var n=t.data||{};return"value"in t&&!(pb.call(n,"hName")||pb.call(n,"hProperties")||pb.call(n,"hChildren"))?e.augment(t,eb("text",t.value)):e(t,"div",yb(e,t))}function mb(e,t,n){var r,i=t&&t.type;if(!i)throw new Error("Expected node, got `"+t+"`");return("function"===typeof(r=pb.call(e.handlers,i)?e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?gb:e.unknownHandler)?r:vb)(e,t,n)}function gb(e,t){return"children"in t?pu(pu({},t),{},{children:yb(e,t)}):t}function yb(e,t){var n=[];if("children"in t)for(var r=t.children,i=-1;++i<r.length;){var a=mb(e,r[i],t);if(a){if(i&&"break"===r[i-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&"element"===a.type)){var o=a.children[0];o&&"text"===o.type&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(a)?n.push.apply(n,du(a)):n.push(a)}}return n}var bb={'"':"quot","&":"amp","<":"lt",">":"gt"};function xb(e,t){var n=function(e){return e.replace(/["&<>]/g,(function(e){return"&"+bb[e]+";"}))}(function(e){var t=[],n=-1,r=0,i=0;for(;++n<e.length;){var a=e.charCodeAt(n),o="";if(37===a&&mg(e.charCodeAt(n+1))&&mg(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){var u=e.charCodeAt(n+1);a<56320&&u>56319&&u<57344?(o=String.fromCharCode(a,u),i=1):o="\ufffd"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}(e||""));if(!t)return n;var r=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),o=n.indexOf("/");return r<0||o>-1&&r>o||i>-1&&r>i||a>-1&&r>a||t.test(n.slice(0,r))?n:""}function wb(e,t){var n=[],r=-1;for(t&&n.push(eb("text","\n"));++r<e.length;)r&&n.push(eb("text","\n")),n.push(e[r]);return t&&e.length>0&&n.push(eb("text","\n")),n}function _b(e,t){var n,r=String(t.identifier),i=xb(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);-1===a?(e.footnoteOrder.push(r),e.footnoteCounts[r]=1,n=e.footnoteOrder.length):(e.footnoteCounts[r]++,n=a+1);var o=e.footnoteCounts[r];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[eb("text",String(n))])])}var kb=n(2366);function Eb(e,t){var n=t.referenceType,r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return eb("text","!["+t.alt+r);var i=yb(e,t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift(eb("text","["));var o=i[i.length-1];return o&&"text"===o.type?o.value+=r:i.push(eb("text",r)),i}function Ob(e){var t=e.spread;return void 0===t||null===t?e.children.length>1:t}var Sb={blockquote:function(e,t){return e(t,"blockquote",wb(yb(e,t),!0))},break:function(e,t){return[e(t,"br"),eb("text","\n")]},code:function(e,t){var n=t.value?t.value+"\n":"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);var a=e(t,"code",i,[eb("text",n)]);return t.meta&&(a.data={meta:t.meta}),e(t.position,"pre",[a])},delete:function(e,t){return e(t,"del",yb(e,t))},emphasis:function(e,t){return e(t,"em",yb(e,t))},footnoteReference:_b,footnote:function(e,t){for(var n=e.footnoteById,r=1;r in n;)r++;var i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},_b(e,{type:"footnoteReference",identifier:i,position:t.position})},heading:function(e,t){return e(t,"h"+t.depth,yb(e,t))},html:function(e,t){return e.dangerous?e.augment(t,eb("raw",t.value)):null},imageReference:function(e,t){var n=e.definition(t.identifier);if(!n)return Eb(e,t);var r={src:kb(n.url||""),alt:t.alt};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"img",r)},image:function(e,t){var n={src:kb(t.url),alt:t.alt};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"img",n)},inlineCode:function(e,t){return e(t,"code",[eb("text",t.value.replace(/\r?\n|\r/g," "))])},linkReference:function(e,t){var n=e.definition(t.identifier);if(!n)return Eb(e,t);var r={href:kb(n.url||"")};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"a",r,yb(e,t))},link:function(e,t){var n={href:kb(t.url)};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"a",n,yb(e,t))},listItem:function(e,t,n){var r,i=yb(e,t),a=n?function(e){var t=e.spread,n=e.children,r=-1;for(;!t&&++r<n.length;)t=Ob(n[r]);return Boolean(t)}(n):Ob(t),o={},u=[];"boolean"===typeof t.checked&&(i[0]&&"element"===i[0].type&&"p"===i[0].tagName?r=i[0]:(r=e(null,"p",[]),i.unshift(r)),r.children.length>0&&r.children.unshift(eb("text"," ")),r.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),o.className=["task-list-item"]);for(var s=-1;++s<i.length;){var c=i[s];(a||0!==s||"element"!==c.type||"p"!==c.tagName)&&u.push(eb("text","\n")),"element"!==c.type||"p"!==c.tagName||a?u.push(c):u.push.apply(u,du(c.children))}var l=i[i.length-1];return!l||!a&&"tagName"in l&&"p"===l.tagName||u.push(eb("text","\n")),e(t,"li",o,u)},list:function(e,t){var n={},r=t.ordered?"ol":"ul",i=yb(e,t),a=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++a<i.length;){var o=i[a];if("element"===o.type&&"li"===o.tagName&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,wb(i,!0))},paragraph:function(e,t){return e(t,"p",yb(e,t))},root:function(e,t){return e.augment(t,eb("root",wb(yb(e,t))))},strong:function(e,t){return e(t,"strong",yb(e,t))},table:function(e,t){for(var n=t.children,r=-1,i=t.align||[],a=[];++r<n.length;){for(var o=n[r].children,u=0===r?"th":"td",s=[],c=-1,l=t.align?i.length:o.length;++c<l;){var f=o[c];s.push(e(f,u,{align:i[c]},f?yb(e,f):[]))}a[r]=e(n[r],"tr",wb(s,!0))}return e(t,"table",wb([e(a[0].position,"thead",wb([a[0]],!0))].concat(a[1]?e({start:ub(a[1]),end:sb(a[a.length-1])},"tbody",wb(a.slice(1),!0)):[]),!0))},text:function(e,t){return e.augment(t,eb("text",String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))},thematicBreak:function(e,t){return e(t,"hr")},toml:Ab,yaml:Ab,definition:Ab,footnoteDefinition:Ab};function Ab(){return null}var Cb={}.hasOwnProperty;function Db(e,t){var n=function(e,t){var n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=void 0===n.clobberPrefix||null===n.clobberPrefix?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=db(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=a,o.handlers=pu(pu({},Sb),n.handlers),o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,ob(e,"footnoteDefinition",(function(e){var t=String(e.identifier).toUpperCase();Cb.call(i,t)||(i[t]=e)})),o;function a(e,t){if(e&&"data"in e&&e.data){var n=e.data;n.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties=pu(pu({},t.properties),n.hProperties)),"children"in t&&t.children&&n.hChildren&&(t.children=n.hChildren)}if(e){var r="type"in e?e:{position:e};(i=r)&&i.position&&i.position.start&&i.position.start.line&&i.position.start.column&&i.position.end&&i.position.end.line&&i.position.end.column&&(t.position={start:ub(r),end:sb(r)})}var i;return t}function o(e,t,n,r){return Array.isArray(n)&&(r=n,n={}),a(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}(e,t),r=mb(n,e,null),i=function(e){for(var t=-1,n=[];++t<e.footnoteOrder.length;){var r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(r){for(var i=yb(e,r),a=String(r.identifier),o=xb(a.toLowerCase()),u=0,s=[];++u<=e.footnoteCounts[a];){var c={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(u>1?"-"+u:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"\u21a9"}]};u>1&&c.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(u)}]}),s.length>0&&s.push({type:"text",value:" "}),s.push(c)}var l=i[i.length-1];if(l&&"element"===l.type&&"p"===l.tagName){var f,d=l.children[l.children.length-1];d&&"text"===d.type?d.value+=" ":l.children.push({type:"text",value:" "}),(f=l.children).push.apply(f,s)}else i.push.apply(i,s);var h={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:wb(i,!0)};r.position&&(h.position=r.position),n.push(h)}}return 0===n.length?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:"h2",properties:{id:"footnote-label",className:["sr-only"]},children:[eb("text",e.footnoteLabel)]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:wb(n,!0)},{type:"text",value:"\n"}]}}(n);return i&&r.children.push(eb("text","\n"),i),Array.isArray(r)?{type:"root",children:r}:r}var jb=function(e,t){return e&&"run"in e?function(e,t){return function(n,r,i){e.run(Db(n,t),r,(function(e){i(e)}))}}(e,t):function(e){return function(t){return Db(t,e)}}(e||t)};var Tb=n(2007),Fb=n.n(Tb),Pb=au((function e(t,n,r){ru(this,e),this.property=t,this.normal=n,r&&(this.space=r)}));function Mb(e,t){for(var n={},r={},i=-1;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Pb(n,r,t)}function Nb(e){return e.toLowerCase()}Pb.prototype.property={},Pb.prototype.normal={},Pb.prototype.space=null;var Rb=au((function e(t,n){ru(this,e),this.property=t,this.attribute=n}));Rb.prototype.space=null,Rb.prototype.boolean=!1,Rb.prototype.booleanish=!1,Rb.prototype.overloadedBoolean=!1,Rb.prototype.number=!1,Rb.prototype.commaSeparated=!1,Rb.prototype.spaceSeparated=!1,Rb.prototype.commaOrSpaceSeparated=!1,Rb.prototype.mustUseProperty=!1,Rb.prototype.defined=!1;var Ib=0,Bb=$b(),zb=$b(),Lb=$b(),Ub=$b(),qb=$b(),Wb=$b(),Hb=$b();function $b(){return Math.pow(2,++Ib)}var Vb=Object.keys(i),Gb=function(e){bm(n,e);var t=Em(n);function n(e,r,a,o){var u;ru(this,n);var s=-1;if(Yb(Ai(u=t.call(this,e,r)),"space",o),"number"===typeof a)for(;++s<Vb.length;){var c=Vb[s];Yb(Ai(u),Vb[s],(a&i[c])===i[c])}return u}return au(n)}(Rb);function Yb(e,t,n){n&&(e[t]=n)}Gb.prototype.defined=!0;var Kb={}.hasOwnProperty;function Xb(e){var t,n={},r={};for(t in e.properties)if(Kb.call(e.properties,t)){var i=e.properties[t],a=new Gb(t,e.transform(e.attributes||{},t),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(t)&&(a.mustUseProperty=!0),n[t]=a,r[Nb(t)]=t,r[Nb(a.attribute)]=t}return new Pb(n,r,e.space)}var Qb=Xb({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Zb=Xb({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Jb(e,t){return t in e?e[t]:t}function ex(e,t){return Jb(e,t.toLowerCase())}var tx=Xb({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ex,properties:{xmlns:null,xmlnsXLink:null}}),nx=Xb({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:zb,ariaAutoComplete:null,ariaBusy:zb,ariaChecked:zb,ariaColCount:Ub,ariaColIndex:Ub,ariaColSpan:Ub,ariaControls:qb,ariaCurrent:null,ariaDescribedBy:qb,ariaDetails:null,ariaDisabled:zb,ariaDropEffect:qb,ariaErrorMessage:null,ariaExpanded:zb,ariaFlowTo:qb,ariaGrabbed:zb,ariaHasPopup:null,ariaHidden:zb,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qb,ariaLevel:Ub,ariaLive:null,ariaModal:zb,ariaMultiLine:zb,ariaMultiSelectable:zb,ariaOrientation:null,ariaOwns:qb,ariaPlaceholder:null,ariaPosInSet:Ub,ariaPressed:zb,ariaReadOnly:zb,ariaRelevant:null,ariaRequired:zb,ariaRoleDescription:qb,ariaRowCount:Ub,ariaRowIndex:Ub,ariaRowSpan:Ub,ariaSelected:zb,ariaSetSize:Ub,ariaSort:null,ariaValueMax:Ub,ariaValueMin:Ub,ariaValueNow:Ub,ariaValueText:null,role:null}}),rx=Xb({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ex,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wb,acceptCharset:qb,accessKey:qb,action:null,allow:null,allowFullScreen:Bb,allowPaymentRequest:Bb,allowUserMedia:Bb,alt:null,as:null,async:Bb,autoCapitalize:null,autoComplete:qb,autoFocus:Bb,autoPlay:Bb,capture:Bb,charSet:null,checked:Bb,cite:null,className:qb,cols:Ub,colSpan:null,content:null,contentEditable:zb,controls:Bb,controlsList:qb,coords:Ub|Wb,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bb,defer:Bb,dir:null,dirName:null,disabled:Bb,download:Lb,draggable:zb,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bb,formTarget:null,headers:qb,height:Ub,hidden:Bb,high:Ub,href:null,hrefLang:null,htmlFor:qb,httpEquiv:qb,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Bb,itemId:null,itemProp:qb,itemRef:qb,itemScope:Bb,itemType:qb,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bb,low:Ub,manifest:null,max:null,maxLength:Ub,media:null,method:null,min:null,minLength:Ub,multiple:Bb,muted:Bb,name:null,nonce:null,noModule:Bb,noValidate:Bb,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bb,optimum:Ub,pattern:null,ping:qb,placeholder:null,playsInline:Bb,poster:null,preload:null,readOnly:Bb,referrerPolicy:null,rel:qb,required:Bb,reversed:Bb,rows:Ub,rowSpan:Ub,sandbox:qb,scope:null,scoped:Bb,seamless:Bb,selected:Bb,shape:null,size:Ub,sizes:null,slot:null,span:Ub,spellCheck:zb,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ub,step:null,style:null,tabIndex:Ub,target:null,title:null,translate:null,type:null,typeMustMatch:Bb,useMap:null,value:zb,width:Ub,wrap:null,align:null,aLink:null,archive:qb,axis:null,background:null,bgColor:null,border:Ub,borderColor:null,bottomMargin:Ub,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bb,declare:Bb,event:null,face:null,frame:null,frameBorder:null,hSpace:Ub,leftMargin:Ub,link:null,longDesc:null,lowSrc:null,marginHeight:Ub,marginWidth:Ub,noResize:Bb,noHref:Bb,noShade:Bb,noWrap:Bb,object:null,profile:null,prompt:null,rev:null,rightMargin:Ub,rules:null,scheme:null,scrolling:zb,standby:null,summary:null,text:null,topMargin:Ub,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ub,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bb,disableRemotePlayback:Bb,prefix:null,property:null,results:Ub,security:null,unselectable:null}}),ix=Xb({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Jb,properties:{about:Hb,accentHeight:Ub,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ub,amplitude:Ub,arabicForm:null,ascent:Ub,attributeName:null,attributeType:null,azimuth:Ub,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ub,by:null,calcMode:null,capHeight:Ub,className:qb,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ub,diffuseConstant:Ub,direction:null,display:null,dur:null,divisor:Ub,dominantBaseline:null,download:Bb,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ub,enableBackground:null,end:null,event:null,exponent:Ub,externalResourcesRequired:null,fill:null,fillOpacity:Ub,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wb,g2:Wb,glyphName:Wb,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ub,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ub,horizOriginX:Ub,horizOriginY:Ub,id:null,ideographic:Ub,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ub,k:Ub,k1:Ub,k2:Ub,k3:Ub,k4:Ub,kernelMatrix:Hb,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ub,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ub,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ub,overlineThickness:Ub,paintOrder:null,panose1:null,path:null,pathLength:Ub,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qb,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ub,pointsAtY:Ub,pointsAtZ:Ub,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hb,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hb,rev:Hb,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hb,requiredFeatures:Hb,requiredFonts:Hb,requiredFormats:Hb,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ub,specularExponent:Ub,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ub,strikethroughThickness:Ub,string:null,stroke:null,strokeDashArray:Hb,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ub,strokeOpacity:Ub,strokeWidth:null,style:null,surfaceScale:Ub,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hb,tabIndex:Ub,tableValues:null,target:null,targetX:Ub,targetY:Ub,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hb,to:null,transform:null,u1:null,u2:null,underlinePosition:Ub,underlineThickness:Ub,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ub,values:null,vAlphabetic:Ub,vMathematical:Ub,vectorEffect:null,vHanging:Ub,vIdeographic:Ub,version:null,vertAdvY:Ub,vertOriginX:Ub,vertOriginY:Ub,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ub,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ax=Mb([Zb,Qb,tx,nx,rx],"html"),ox=Mb([Zb,Qb,tx,nx,ix],"svg");function ux(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return function(t){ob(t,"element",(function(t,n,r){var i,a=r;if(e.allowedElements?i=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(i=e.disallowedElements.includes(t.tagName)),!i&&e.allowElement&&"number"===typeof n&&(i=!e.allowElement(t,n,a)),i&&"number"===typeof n){var o;if(e.unwrapDisallowed&&t.children)(o=a.children).splice.apply(o,[n,1].concat(du(t.children)));else a.children.splice(n,1);return n}}))}}var sx=["http","https","mailto","tel"];function cx(e){var t=e&&"object"===typeof e&&"text"===e.type?e.value||"":e;return"string"===typeof t&&""===t.replace(/[ \t\n\f\r]/g,"")}var lx=/^data[-\w.:]+$/i,fx=/-[a-z]/g,dx=/[A-Z]/g;function hx(e){return"-"+e.toLowerCase()}function px(e){return e.charAt(1).toUpperCase()}var vx={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var mx=n(6426),gx={}.hasOwnProperty,yx=new Set(["table","thead","tbody","tfoot","tr"]);function bx(e,t){for(var n,r=[],i=-1;++i<t.children.length;)"element"===(n=t.children[i]).type?r.push(xx(e,n,i,t)):"text"===n.type?"element"===t.type&&yx.has(t.tagName)&&cx(n)||r.push(n.value):"raw"!==n.type||e.options.skipHtml||r.push(n.value);return r}function xx(e,t,n,r){var i,a=e.options,o=e.schema,u=t.tagName,s={},c=o;if("html"===o.space&&"svg"===u&&(c=ox,e.schema=c),t.properties)for(i in t.properties)gx.call(t.properties,i)&&_x(s,i,t.properties[i],e);"ol"!==u&&"ul"!==u||e.listDepth++;var l=bx(e,t);"ol"!==u&&"ul"!==u||e.listDepth--,e.schema=o;var f,d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=a.components&&gx.call(a.components,u)?a.components[u]:u,p="string"===typeof h||h===_.Fragment;if(!Hd.isValidElementType(h))throw new TypeError("Component for name `".concat(u,"` not defined or is not renderable"));if(s.key=[u,d.start.line,d.start.column,n].join("-"),"a"===u&&a.linkTarget&&(s.target="function"===typeof a.linkTarget?a.linkTarget(String(s.href||""),t.children,"string"===typeof s.title?s.title:null):a.linkTarget),"a"===u&&a.transformLinkUri&&(s.href=a.transformLinkUri(String(s.href||""),t.children,"string"===typeof s.title?s.title:null)),p||"code"!==u||"element"!==r.type||"pre"===r.tagName||(s.inline=!0),p||"h1"!==u&&"h2"!==u&&"h3"!==u&&"h4"!==u&&"h5"!==u&&"h6"!==u||(s.level=Number.parseInt(u.charAt(1),10)),"img"===u&&a.transformImageUri&&(s.src=a.transformImageUri(String(s.src||""),String(s.alt||""),"string"===typeof s.title?s.title:null)),!p&&"li"===u&&"element"===r.type){var v=function(e){var t=-1;for(;++t<e.children.length;){var n=e.children[t];if("element"===n.type&&"input"===n.tagName)return n}return null}(t);s.checked=v&&v.properties?Boolean(v.properties.checked):null,s.index=wx(r,t),s.ordered="ol"===r.tagName}return p||"ol"!==u&&"ul"!==u||(s.ordered="ol"===u,s.depth=e.listDepth),"td"!==u&&"th"!==u||(s.align&&(s.style||(s.style={}),s.style.textAlign=s.align,delete s.align),p||(s.isHeader="th"===u)),p||"tr"!==u||"element"!==r.type||(s.isHeader=Boolean("thead"===r.tagName)),a.sourcePos&&(s["data-sourcepos"]=[(f=d).start.line,":",f.start.column,"-",f.end.line,":",f.end.column].map((function(e){return String(e)})).join("")),!p&&a.rawSourcePos&&(s.sourcePosition=t.position),!p&&a.includeElementIndex&&(s.index=wx(r,t),s.siblingCount=wx(r)),p||(s.node=t),l.length>0?_.createElement(h,s,l):_.createElement(h,s)}function wx(e,t){for(var n=-1,r=0;++n<e.children.length&&e.children[n]!==t;)"element"===e.children[n].type&&r++;return r}function _x(e,t,n,r){var i=function(e,t){var n=Nb(t),r=t,i=Rb;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&lx.test(t)){if("-"===t.charAt(4)){var a=t.slice(5).replace(fx,px);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{var o=t.slice(4);if(!fx.test(o)){var u=o.replace(dx,hx);"-"!==u.charAt(0)&&(u="-"+u),t="data"+u}}i=Gb}return new i(r,t)}(r.schema,t),a=n;null!==a&&void 0!==a&&a===a&&(Array.isArray(a)&&(a=i.commaSeparated?function(e,t){var n=t||{};return""===e[e.length-1]&&(e=e.concat("")),e.join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(a):function(e){return e.join(" ").trim()}(a)),"style"===i.property&&"string"===typeof a&&(a=function(e){var t={};try{mx(e,n)}catch(r){}return t;function n(e,n){var r="-ms-"===e.slice(0,4)?"ms-".concat(e.slice(4)):e;t[r.replace(/-([a-z])/g,kx)]=n}}(a)),i.space&&i.property?e[gx.call(vx,i.property)?vx[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function kx(e,t){return t.toUpperCase()}var Ex={}.hasOwnProperty,Ox={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Sx(e){for(var t in Ox)if(Ex.call(Ox,t)&&Ex.call(e,t)){var n=Ox[t];console.warn("[react-markdown] Warning: please ".concat(n.to?"use `".concat(n.to,"` instead of"):"remove"," `").concat(t,"` (see <").concat("https://github.com/remarkjs/react-markdown/blob/main/changelog.md","#").concat(n.id,"> for more info)")),delete Ox[t]}var r=Km().use(Jy).use(e.remarkPlugins||[]).use(jb,pu(pu({},e.remarkRehypeOptions),{},{allowDangerousHtml:!0})).use(e.rehypePlugins||[]).use(ux,e),i=new Lm;"string"===typeof e.children?i.value=e.children:void 0!==e.children&&null!==e.children&&console.warn("[react-markdown] Warning: please pass a string as `children` (not: `".concat(e.children,"`)"));var a=r.runSync(r.parse(i),i);if("root"!==a.type)throw new TypeError("Expected a `root` node");var o=_.createElement(_.Fragment,{},bx({options:e,schema:ax,listDepth:0},a));return e.className&&(o=_.createElement("div",{className:e.className},o)),o}Sx.defaultProps={transformLinkUri:function(e){var t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;var r=t.indexOf(":");if(-1===r)return t;for(var i=-1;++i<sx.length;){var a=sx[i];if(r===a.length&&t.slice(0,a.length).toLowerCase()===a)return t}return-1!==(i=t.indexOf("?"))&&r>i||-1!==(i=t.indexOf("#"))&&r>i?t:"javascript:void(0)"}},Sx.propTypes={children:Tb.string,className:Tb.string,allowElement:Tb.func,allowedElements:Tb.arrayOf(Tb.string),disallowedElements:Tb.arrayOf(Tb.string),unwrapDisallowed:Tb.bool,remarkPlugins:Tb.arrayOf(Tb.oneOfType([Tb.object,Tb.func,Tb.arrayOf(Tb.oneOfType([Tb.object,Tb.func]))])),rehypePlugins:Tb.arrayOf(Tb.oneOfType([Tb.object,Tb.func,Tb.arrayOf(Tb.oneOfType([Tb.object,Tb.func]))])),sourcePos:Tb.bool,rawSourcePos:Tb.bool,skipHtml:Tb.bool,includeElementIndex:Tb.bool,transformLinkUri:Tb.oneOfType([Tb.func,Tb.bool]),linkTarget:Tb.oneOfType([Tb.func,Tb.string]),transformImageUri:Tb.func,components:Tb.object};var Ax={width:"100%",border:"1px solid grey",boxShadow:"0 1px 2px 0 grey",marginBottom:"15px"};function Cx(e){var t=e.instruction,n=C((0,_.useState)(0),2),r=n[0],i=n[1];return(0,Xo.jsxs)(Pf,{style:{height:"100%"},children:[(0,Xo.jsx)(Pf.Row,{children:(0,Xo.jsxs)(Pf.Column,{children:[(0,Xo.jsx)(Ad,{children:t.title}),(0,Xo.jsx)(Sx,{linkTarget:"_blank",children:t.introduction})]})}),(0,Xo.jsxs)(Pf.Row,{style:{height:"100%",overflow:"auto"},children:[(0,Xo.jsx)(Pf.Column,{width:"5",style:{height:"100%"},children:(0,Xo.jsx)(gm.Group,{vertical:!0,children:t.steps.map((function(e,t){return(0,Xo.jsx)(gm,{active:t===r,onClick:function(){return i(t)},children:(0,Xo.jsxs)(gm.Content,{children:[(0,Xo.jsx)(gm.Title,{children:e.title}),(0,Xo.jsx)(gm.Description,{children:e.description})]})},e.title)}))})}),(0,Xo.jsx)(Pf.Column,{width:"11",style:{height:"100%"},children:(0,Xo.jsx)(zf,{style:{maxHeight:"100%"},children:(0,Xo.jsx)(Pv,{children:t.steps[r].items.map((function(e,t){return(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)(Pv.Icon,{name:"play"}),(0,Xo.jsxs)(Pv.Content,{children:[(0,Xo.jsx)(Sx,{linkTarget:"_blank",children:e.text}),e.image?(0,Xo.jsx)("img",{style:pu(pu({},Ax),e.image_style),src:e.image,alt:"loading..."}):null]})]},t)}))})})})]})]})}var Dx=n(9275),jx=n(3953),Tx={title:"Google Takeout",introduction:"If you have a Google account, a lot of things that you do online are automatically\n  documented. Google is legally required to give you access to this data, and they have\n  made it easy for you to download it. Here we will walk you through the steps for\n  collecting a specific selection of this data.",steps:[{title:"Step 1",description:"Go to Google Takeout",items:[{text:"Visit the [Google Takeout website](https://takeout.google.com)"},{text:"Log in if needed"},{text:"Scroll down a little bit to the **CREATE A NEW EXPORT** table",image:jx}]},{title:"Step 2",description:"Deselect all items",items:[{text:"Click **deselect all** to un-check all the boxes",image:jx,image_style:{objectFit:"cover",objectPosition:"0 90%",height:"120px"}},{text:"It should now say that 0 items are selected, and all boxes should be un-checked",image:Dx}]},{title:"Step 3",description:"Select Chrome",items:[{text:"Scroll down to Chrome (items are sorted by alphabet) and click on the box to check it",image:n(7346)}]},{title:"Step 4",description:"Select Youtube, and only include History",items:[{text:"Scroll all the way down to Youtube and check the box",image:n(8234)},{text:"Click on **All YouTube data included** to open a popup for selecting what data to include"},{text:"Deselect all data, and then only select **History**",image:n(2579),image_style:{width:"50%",marginLeft:"25%"}}]},{title:"Step 5",description:"Create data export",items:[{text:"Click on the **Next step** button on the bottom right"},{text:"You should now see that **Select data to include** has 2 items selected",image:n(4568)},{text:"In **Choose file type, frequency and destination**, keep the default settings and click on the **Create export** button"},{text:"Do **NOT** close the window. Google will tell you that the export can take a long time, but with only these two items selected **exporting will usually take between a few seconds and a minute**"},{text:"Once ready, Google will take you to the download page (and also send you a link via Email)"}]},{title:"Step 6",description:"Download your data",items:[{text:"Google will automatically open the download page. If you accidentally closed the window, you can also find the download link in your email",image:n(3980)},{text:"Click the download link, and store the file in a location where you can find it. Your browser might also automatically put it in your **Downloads** folder "},{text:"Finally, click the **Import Google Takeout** button below, and select the downloaded Google Takeout file. It should be named **takeout-some numbers.zip**"}]}]},Fx=n(6811),Px=(0,Fx.p0)([{name:"youtube",file:["watch-history.json","kijkgeschiedenis.json","Wiedergabeverlauf.json"],filetype:"json",rows_selector:"$.",columns:[{name:"title",selector:"title"},{name:"title_url",selector:"titleUrl"},{name:"channel",selector:"subtitles[0].name"},{name:"channel_url",selector:"subtitles[0].url"},{name:"raw_date",selector:"time"}],transformers:[{transformer:"str_to_date",column:"raw_date",new_column:"date",arguments:{}}]},{name:"youtube",file:["watch-history.html","kijkgeschiedenis.html","Wiedergabeverlauf.html"],filetype:"html",rows_selector:".mdl-grid > .outer-cell",columns:[{name:"title",selector:"a"},{name:"title_url",selector:"a @href"},{name:"channel",selector:"a:nth-of-type(2)"},{name:"channel_url",selector:"a:nth-of-type(2) @href"},{name:"raw_date",selector:".content-cell @INNER"}],transformers:[{column:"raw_date",transformer:"replace",arguments:{regex:".*<br>"}},{transformer:"str_to_date",column:"raw_date",new_column:"date",arguments:{}}]},{name:"browsing",file:["BrowserHistory.json","BrausingHist\xf6rie.js\xf6n"],filetype:"json",rows_selector:"Browser History",columns:[{name:"title",selector:"title"},{name:"url",selector:"url"},{name:"time",selector:"time_usec"},{name:"transition",selector:"page_transition"}],transformers:[{transformer:"int_to_date",column:"time",new_column:"date",arguments:{unit:"microsecond"}}]}]),Mx=function(){var e=Jo(tu().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=(0,Fx.BI)(Px,t),i={Search:"failed",Browsing:"failed",Youtube:"failed"},a=0,o=Object.keys(i);a<o.length;a++)u=o[a],n(th(u,"Google_Takeout","loading"));s=nu(r),e.prev=4,s.s();case 6:if((c=s.n()).done){e.next=30;break}return l=c.value,e.next=10,l.cook();case 10:if("success"===(f=e.sent).status){e.next=13;break}return e.abrupt("continue",28);case 13:if("browsing"!==l.recipe.name){e.next=23;break}if(d=Nx(f.data),h=C(d,2),p=h[0],v=h[1],!(p.length>0)){e.next=18;break}return e.next=18,Af.addData(p,"Browsing","Google_Takeout",["url","date"]);case 18:if(!(v.length>0)){e.next=21;break}return e.next=21,Af.addData(v,"Search","Google_Takeout",["query","date"]);case 21:i.Search="finished",i.Browsing="finished";case 23:if("youtube"!==l.recipe.name){e.next=28;break}if(!(f.data.length>0)){e.next=27;break}return e.next=27,Af.addData(f.data,"Youtube","Google_Takeout",["url","date"]);case 27:i.Youtube="finished";case 28:e.next=6;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(4),s.e(e.t0);case 35:return e.prev=35,s.f(),e.finish(35);case 38:for(m=0,g=Object.keys(i);m<g.length;m++)y=g[m],n(th(y,"Google_Takeout",i[y]));case 39:case"end":return e.stop()}}),e,null,[[4,32,35,38]])})));return function(t,n){return e.apply(this,arguments)}}(),Nx=function(e){var t,n=[],r=[],i=nu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=void 0;try{o=new URL(a.url)}catch(Awe){console.log("could not parse url");continue}if(o.hostname+o.pathname!=="www.google.com/search")n.push({url:a.url,title:a.title,domain:o.hostname,browser:"Chrome",date:a.date,page_transition:a.page_transition});else{var u=a.title.replace("- Google Search","").trim(),s=um(u);r.push({query:u,word:s,date:a.date,browser:"Chrome"})}}}catch(c){i.e(c)}finally{i.f()}return[n,r]},Rx=function(e){var t=e.children,n=e.setLoading,r=Kd(),i=C((0,_.useState)(!1),2),a=i[0],o=i[1],u=C((0,_.useState)([]),2),s=u[0],c=u[1];return(0,_.useEffect)((function(){0!==s.length&&(n("loading"),o(!1),Mx(s,r).finally((function(){return n("idle")})))}),[s,n,r]),(0,Xo.jsxs)(am,{onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:a,trigger:t,style:{height:"90vh",maxHeight:"700px"},closeIcon:!0,children:[(0,Xo.jsx)(am.Content,{style:{height:"90%",overflow:"auto"},children:(0,Xo.jsx)(am.Description,{children:(0,Xo.jsx)(Cx,{instruction:Tx})})}),(0,Xo.jsxs)(am.Actions,{style:{textAlign:"center"},children:[(0,Xo.jsx)(Ad,{as:"h2",children:"Final step"}),(0,Xo.jsxs)(Pv,{children:[(0,Xo.jsxs)(Pv.Item,{children:["Open your ",(0,Xo.jsx)("b",{children:"downloads folder"})]}),(0,Xo.jsxs)(Pv.Item,{children:["Find the ",(0,Xo.jsx)("b",{children:"Google Takeout folder or zip file"})]}),(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)("b",{children:"Click and hold"})," the folder/file, and ",(0,Xo.jsx)("b",{children:"drag"})," it into the blue field below"]})]}),(0,Xo.jsx)(Fx.rE,{allowedFiles:Px.files,setAcceptedFiles:c})]})]})},Ix=function(){var e=C((0,_.useState)("idle"),2),t=e[0],n=e[1];return(0,Xo.jsx)(Rx,{setLoading:n,children:(0,Xo.jsx)(Bv,{source:"Google_Takeout",subname:"takeout.google.com",produces:["Browsing","Search","Youtube"],icon:"google",loading:t})})},Bx=function(){return(0,Xo.jsx)(Ix,{})},zx=function(e){var t=e.date;if(!t)return"Data not yet gathered";var n=t.toISOString(),r=(new Date).toISOString(),i=n.slice(0,10)===r.slice(0,10)?"today":"on ".concat(n.slice(0,10));return(0,Xo.jsx)(Pv.Item,{children:(0,Xo.jsxs)(Pv.Content,{children:["Gathered ",i," from ",(0,Xo.jsx)("b",{children:e.source.replace("_"," ")})]})},e.source)},Lx=function(e){var t=e.name,n=e.subname,r=e.icon,i=X(),a=Jd((function(e){return e.dataStatus.filter((function(e){return e.name===t&&e.date}))}));if(!a||0===a.length)return null;return(0,Xo.jsx)(Rv,{name:t,subname:n,icon:r,onClick:function(){i("/"+t)},children:(0,Xo.jsx)(Pv,{children:a.map(zx)})})},Ux=function(){return(0,Xo.jsx)(Lx,{name:"Browsing",subname:"What pages did you visit?",icon:"history"})},qx=function(){return(0,Xo.jsx)(Lx,{name:"Search",subname:"What did you search for?",icon:"search"})},Wx=function(){return(0,Xo.jsx)(Lx,{name:"Youtube",subname:"Channels and videos",icon:"youtube"})},Hx=function(){return(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Ux,{}),(0,Xo.jsx)(qx,{}),(0,Xo.jsx)(Wx,{})]})},$x=["Browsing","Search","Youtube"],Vx=function(){var e=X();return(0,Xo.jsx)(Rv,{name:"Remove sensitive data",subname:"Use keywords to search and remove any data that you prefer not to share",icon:"user secret",onClick:function(){e("/remove")}})},Gx=function(e){var t=e.requestedData,n=Jd((function(e){return e.dataStatus})),r=!1,i=!0,a=t.map((function(e){var t=n.find((function(t){return t.name===e}));return"finished"===t.status?r=!0:i=!1,t||{name:e,status:"empty"}})),o=X();return(0,Xo.jsxs)(Rv,{name:"Go to donation screen",subname:"Here you can learn more about what your data will be used for, and safely donate it",icon:"flag checkered",onClick:function(){o("/remove")},disabled:!r,children:[(0,Xo.jsx)(Pv,{style:{textAlign:"left",paddingTop:"10px"},children:a.map((function(e,t){return Yx(e,t)}))}),(0,Xo.jsx)("span",{style:{fontSize:"0.9em",color:"#ff7b00"},children:function(e,t){return t?null:e?(0,Xo.jsx)("p",{children:"Some of the data types are not yet (successfully) gathered. You can donate the current data if you are not able to add the rest"}):(0,Xo.jsxs)("p",{children:["Please go to the ",(0,Xo.jsx)("b",{children:"Gather"})," column for instructions on how to gather your digital footprints"]})}(r,i)})]})},Yx=function(e,t){console.log(e);var n=e.name.replace("_"," ");return"finished"===e.status?(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)(Pv.Icon,{name:"check circle outline",color:"green"}),(0,Xo.jsxs)(Pv.Content,{children:[(0,Xo.jsx)("b",{children:n})," data ready"]})]},t):(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)(Pv.Icon,{name:"circle outline"}),(0,Xo.jsx)(Pv.Content,{children:(0,Xo.jsx)("b",{children:n})})]},t)},Kx=function(){return Jd((function(e){return e.dataStatus})).find((function(e){return"finished"===e.status}))?(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)(Vx,{}),(0,Xo.jsx)(Gx,{requestedData:$x})]}):null},Xx={color:"white",filter:"none",background:"#00000094",paddingBottom:"0.3em",paddingTop:"1em",borderRadius:"10px"},Qx={marginBottom:"1em"},Zx={marginTop:"2em"},Jx=function(e){var t=e.title,n=e.icon,r=e.description;return(0,Xo.jsxs)("div",{style:Xx,children:[(0,Xo.jsxs)(Ad,{style:{color:"white",fontSize:"min(max(1.8vw, 1.8em), 2em)"},children:[(0,Xo.jsx)(lo,{name:n}),t]}),(0,Xo.jsx)("p",{style:{fontSize:"min(max(1.2vw, 1em),1.3em)"},children:r})]})},ew=function(){var e=(0,Xo.jsxs)(Nd,{style:{float:"right",background:"#00000000",margin:"10px",color:"white",border:"1px solid white"},children:[(0,Xo.jsx)(lo,{name:"trash"}),"Delete all data"]});return(0,Xo.jsxs)(bv,{on:"click",trigger:e,children:[(0,Xo.jsx)(bv.Header,{children:"Delete data from browser"}),(0,Xo.jsxs)(bv.Content,{children:[(0,Xo.jsx)("p",{children:"Do you want to delete all the gathered data from the browser?"}),(0,Xo.jsx)("p",{children:"Note that any data you downloaded will still be on your computer, so you might want to delete that as well."})]}),(0,Xo.jsx)("br",{}),(0,Xo.jsx)(Nd,{negative:!0,fluid:!0,onClick:function(){return Af.destroyEverything().then((function(){window.location.reload("/")}))},children:"Delete data"})]})},tw=function(){var e=Kd();return(0,_.useEffect)((function(){Af.idb.dataStatus.toArray().then((function(t){return e(eh(t))})).catch((function(e){return console.log(e)}))}),[e]),(0,Xo.jsx)("div",{style:{height:"100vh",backgroundImage:"url(".concat(Rd,")"),backgroundSize:"100% 100%",overflow:"auto"},children:(0,Xo.jsxs)(Pf,{stackable:!0,divided:!0,centered:!0,children:[(0,Xo.jsx)(Pf.Row,{style:{height:"60px"},children:(0,Xo.jsx)(Pf.Column,{children:(0,Xo.jsx)(ew,{})})}),(0,Xo.jsxs)(Pf.Row,{children:[(0,Xo.jsxs)(Pf.Column,{textAlign:"center",width:5,style:Qx,children:[(0,Xo.jsx)(Jx,{title:"Gather",icon:"cloud download",description:"Click a card to gather your data"}),(0,Xo.jsx)(mh.Group,{style:Zx,children:(0,Xo.jsx)(Bx,{})})]}),(0,Xo.jsxs)(Pf.Column,{textAlign:"center",width:5,style:Qx,children:[(0,Xo.jsx)(Jx,{title:"Explore",icon:"search",description:"This step is optional, but aren't you curious?"}),(0,Xo.jsx)(mh.Group,{style:Zx,children:(0,Xo.jsx)(Hx,{})})]}),(0,Xo.jsxs)(Pf.Column,{textAlign:"center",width:5,style:Qx,children:[(0,Xo.jsx)(Jx,{title:"Donate",icon:"student",description:"Support academic research by sharing your data"}),(0,Xo.jsx)(mh.Group,{style:Zx,children:(0,Xo.jsx)(Kx,{})})]})]})]})})};function nw(e){var t=e.children,n=e.className,r=e.content,i=e.fluid,a=e.text,o=e.textAlign,u=fi("ui",pi(a,"text"),pi(i,"fluid"),yi(o),"container",n),s=wi(nw,e),c=_i(nw,e);return _.createElement(c,D({},s,{className:u}),Si(t)?r:t)}nw.handledProps=["as","children","className","content","fluid","text","textAlign"],nw.propTypes={};var rw=nw;function iw(e){var t=e.children,n=e.className,r=e.content,i=fi("header",n),a=wi(iw,e),o=_i(iw,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}iw.handledProps=["as","children","className","content"],iw.propTypes={},iw.create=ea(iw,(function(e){return{content:e}}));var aw=iw;function ow(e){var t=e.children,n=e.className,r=e.content,i=fi("description",n),a=wi(ow,e),o=_i(ow,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}ow.handledProps=["as","children","className","content"],ow.propTypes={},ow.create=ea(ow,(function(e){return{content:e}}));var uw=ow;function sw(e){var t=e.children,n=e.className,r=e.content,i=fi("extra",n),a=wi(sw,e),o=_i(sw,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}sw.handledProps=["as","children","className","content"],sw.propTypes={},sw.create=ea(sw,(function(e){return{content:e}}));var cw=sw;function lw(e){var t=e.children,n=e.className,r=e.content,i=fi("meta",n),a=wi(lw,e),o=_i(lw,e);return _.createElement(o,D({},a,{className:i}),Si(t)?r:t)}lw.handledProps=["as","children","className","content"],lw.propTypes={},lw.create=ea(lw,(function(e){return{content:e}}));var fw=lw;function dw(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.meta,s=e.verticalAlign,c=fi(bi(s),"content",n),l=wi(dw,e),f=_i(dw,e);return Si(t)?_.createElement(f,D({},l,{className:c}),aw.create(o,{autoGenerateKey:!1}),fw.create(u,{autoGenerateKey:!1}),uw.create(i,{autoGenerateKey:!1}),cw.create(a,{autoGenerateKey:!1}),r):_.createElement(f,D({},l,{className:c}),t)}dw.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],dw.propTypes={};var hw=dw;function pw(e){var t=e.children,n=e.className,r=e.content,i=e.divided,a=e.items,o=e.link,u=e.relaxed,s=e.unstackable,c=fi("ui",pi(i,"divided"),pi(o,"link"),pi(s,"unstackable"),mi(u,"relaxed"),"items",n),l=wi(pw,e),f=_i(pw,e);if(!Si(t))return _.createElement(f,D({},l,{className:c}),t);if(!Si(r))return _.createElement(f,D({},l,{className:c}),r);var d=Gr(a,(function(e){var t=e.childKey,n=_o(e,["childKey"]),r=null!=t?t:[n.content,n.description,n.header,n.meta].join("-");return _.createElement(bw,D({},n,{key:r}))}));return _.createElement(f,D({},l,{className:c}),d)}pw.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],pw.propTypes={};var vw=pw;function mw(e){var t=e.size,n=wi(mw,e);return _.createElement(wd,D({},n,{size:t,ui:!!t,wrapped:!0}))}mw.handledProps=["size"],mw.propTypes={},mw.create=ea(mw,(function(e){return{src:e}}));var gw=mw;function yw(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.image,s=e.meta,c=fi("item",n),l=wi(yw,e),f=_i(yw,e);return Si(t)?_.createElement(f,D({},l,{className:c}),gw.create(u,{autoGenerateKey:!1}),_.createElement(hw,{content:r,description:i,extra:a,header:o,meta:s})):_.createElement(f,D({},l,{className:c}),t)}yw.handledProps=["as","children","className","content","description","extra","header","image","meta"],yw.Content=hw,yw.Description=uw,yw.Extra=cw,yw.Group=vw,yw.Header=aw,yw.Image=gw,yw.Meta=fw,yw.propTypes={};var bw=yw,xw=function(e){var t=e.children,n=e.background,r=e.color;return(0,Xo.jsxs)(Xo.Fragment,{children:[(0,Xo.jsx)("div",{style:{zIndex:1,top:0,bottom:0,right:0,left:0,background:r,position:"absolute"}}),(0,Xo.jsx)(Pf,{style:{height:"100vh",overflow:"auto",backgroundSize:"100% 100%",backgroundImage:"url(".concat(n,")")},children:(0,Xo.jsx)("div",{style:{zIndex:2},children:t})})]})};var ww=function(e,t,n,r){var i=-1,a=Ni,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=xe(t,xn(n))),r?(a=Ri,o=!1):t.length>=200&&(a=Bt,o=!1,t=new Rt(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var d=c;d--;)if(t[d]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s};var _w=function(e){return nn(e)&&Nn(e)},kw=si((function(e,t){return _w(e)?ww(e,t):[]})),Ew=kw,Ow=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).calculations={bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1},t.firedCallbacks=[],t.ref=(0,_.createRef)(),t.fire=function(e,n,r){var i=e.callback,a=e.name;void 0===r&&(r=!1);var o=t.props,u=o.continuous,s=o.once,c=t.calculations[n]!==r,l=u||t.calculations[n]!==t.oldCalculations[n];c&&l&&t.execute(i,a),s||(t.firedCallbacks=Ew(t.firedCallbacks,a))},t.handleUpdate=function(){t.ticking||(t.ticking=!0,t.frameId=requestAnimationFrame(t.update))},t.update=function(){if(t.mounted){t.ticking=!1,t.oldCalculations=t.calculations,t.calculations=t.computeCalculations(),t.pageYOffset=t.getPageYOffset();var e=t.props,n=e.onBottomPassed,r=e.onBottomPassedReverse,i=e.onBottomVisible,a=e.onBottomVisibleReverse,o=e.onPassing,u=e.onPassingReverse,s=e.onTopPassed,c=e.onTopPassedReverse,l=e.onTopVisible,f=e.onTopVisibleReverse,d=e.onOffScreen,h=e.onOnScreen,p=e.updateOn,v={bottomPassed:{callback:n,name:"onBottomPassed"},bottomVisible:{callback:i,name:"onBottomVisible"},passing:{callback:o,name:"onPassing"},offScreen:{callback:d,name:"onOffScreen"},onScreen:{callback:h,name:"onOnScreen"},topPassed:{callback:s,name:"onTopPassed"},topVisible:{callback:l,name:"onTopVisible"}},m={bottomPassed:{callback:r,name:"onBottomPassedReverse"},bottomVisible:{callback:a,name:"onBottomVisibleReverse"},passing:{callback:u,name:"onPassingReverse"},topPassed:{callback:c,name:"onTopPassedReverse"},topVisible:{callback:f,name:"onTopVisibleReverse"}};ci(t.props,"onUpdate",null,D({},t.props,{calculations:t.calculations})),t.fireOnPassed(),Gf(m,(function(e,n){return t.fire(e,n,!0)})),Gf(v,(function(e,n){return t.fire(e,n)})),"repaint"===p&&t.handleUpdate()}},t}be(t,e);var n=t.prototype;return n.componentDidMount=function(){if(this.mounted=!0,ed()){var e=this.props,t=e.context,n=e.fireOnMount,r=e.updateOn;this.pageYOffset=this.getPageYOffset(),this.attachHandlers(t,r),n&&this.update()}},n.componentDidUpdate=function(e){(e.continuous!==this.props.continuous||e.once!==this.props.once||e.updateOn!==this.props.updateOn)&&(this.firedCallbacks=[]),e.context===this.props.context&&e.updateOn===this.props.updateOn||(this.unattachHandlers(e.context),this.attachHandlers(this.props.context,this.props.updateOn))},n.componentWillUnmount=function(){var e=this.props.context;this.unattachHandlers(e),this.mounted=!1},n.attachHandlers=function(e,t){"events"!==t?this.handleUpdate():e&&(ov.sub("resize",this.handleUpdate,{target:e}),ov.sub("scroll",this.handleUpdate,{target:e}))},n.unattachHandlers=function(e){e&&(ov.unsub("resize",this.handleUpdate,{target:e}),ov.unsub("scroll",this.handleUpdate,{target:e})),this.frameId&&cancelAnimationFrame(this.frameId)},n.execute=function(e,t){var n=this.props.continuous;e&&(!n&&Hf(this.firedCallbacks,t)||(e(null,D({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(t)))},n.fireOnPassed=function(){var e=this,t=this.calculations,n=t.percentagePassed,r=t.pixelsPassed,i=this.props.onPassed;Gf(i,(function(t,i){var a=Number(i);if(a&&r>=a)e.execute(t,i);else{var o=(""+i).match(/^(\d+)%$/);if(o){var u=Number(o[1])/100;n>=u&&e.execute(t,i)}}}))},n.computeCalculations=function(){var e=this.props.offset,t=this.ref.current.getBoundingClientRect(),n=t.bottom,r=t.height,i=t.top,a=t.width,o=function(e){return"number"===typeof e||"string"===typeof e?[e,e]:e}(e),u=o[0],s=o[1],c=this.getPageYOffset()>this.pageYOffset?"down":"up",l=i<u,f=n<s,d=f?0:Math.max(-1*i,0),h=d/r,p=n>=s&&n<=window.innerHeight,v=i>=u&&i<=window.innerHeight,m=(v||l)&&!f;return{bottomPassed:f,bottomVisible:p,direction:c,fits:v&&p,height:r,passing:l&&!f,percentagePassed:h,pixelsPassed:d,offScreen:!m,onScreen:m,topPassed:l,topVisible:v,width:a}},n.getPageYOffset=function(){var e=this.props.context;return e?e===window?window.pageYOffset:e.scrollTop:0},n.render=function(){var e=this.props.children,n=_i(t,this.props),r=wi(t,this.props);return _.createElement(So,{innerRef:this.ref},_.createElement(n,r,e))},t}(_.Component);function Sw(e){var t=e.children,n=fi(e.className),r=wi(Sw,e),i=_i(Sw,e);return _.createElement(i,D({},r,{className:n}),t)}Ow.handledProps=["as","children","context","continuous","fireOnMount","offset","onBottomPassed","onBottomPassedReverse","onBottomVisible","onBottomVisibleReverse","onOffScreen","onOnScreen","onPassed","onPassing","onPassingReverse","onTopPassed","onTopPassedReverse","onTopVisible","onTopVisibleReverse","onUpdate","once","updateOn"],Ow.propTypes={},Ow.defaultProps={context:ed()?window:null,continuous:!1,offset:[0,0],once:!0,updateOn:"events"},Sw.handledProps=["as","children","className"],Sw.defaultProps={as:"tbody"},Sw.propTypes={};var Aw=Sw;function Cw(e){var t=e.active,n=e.children,r=e.className,i=e.collapsing,a=e.content,o=e.disabled,u=e.error,s=e.icon,c=e.negative,l=e.positive,f=e.selectable,d=e.singleLine,h=e.textAlign,p=e.verticalAlign,v=e.warning,m=e.width,g=fi(pi(t,"active"),pi(i,"collapsing"),pi(o,"disabled"),pi(u,"error"),pi(c,"negative"),pi(l,"positive"),pi(f,"selectable"),pi(d,"single line"),pi(v,"warning"),yi(h),bi(p),xi(m,"wide"),r),y=wi(Cw,e),b=_i(Cw,e);return Si(n)?_.createElement(b,D({},y,{className:g}),lo.create(s),a):_.createElement(b,D({},y,{className:g}),n)}Cw.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],Cw.defaultProps={as:"td"},Cw.propTypes={},Cw.create=ea(Cw,(function(e){return{content:e}}));var Dw=Cw;function jw(e){var t=e.children,n=e.className,r=e.content,i=e.fullWidth,a=fi(pi(i,"full-width"),n),o=wi(jw,e),u=_i(jw,e);return _.createElement(u,D({},o,{className:a}),Si(t)?r:t)}jw.handledProps=["as","children","className","content","fullWidth"],jw.defaultProps={as:"thead"},jw.propTypes={};var Tw=jw;function Fw(e){var t=e.as,n=wi(Fw,e);return _.createElement(Tw,D({},n,{as:t}))}Fw.handledProps=["as"],Fw.propTypes={},Fw.defaultProps={as:"tfoot"};var Pw=Fw;function Mw(e){var t=e.as,n=e.className,r=e.sorted,i=fi(vi(r,"sorted"),n),a=wi(Mw,e);return _.createElement(Dw,D({},a,{as:t,className:i}))}Mw.handledProps=["as","className","sorted"],Mw.propTypes={},Mw.defaultProps={as:"th"};var Nw=Mw;function Rw(e){var t=e.active,n=e.cellAs,r=e.cells,i=e.children,a=e.className,o=e.disabled,u=e.error,s=e.negative,c=e.positive,l=e.textAlign,f=e.verticalAlign,d=e.warning,h=fi(pi(t,"active"),pi(o,"disabled"),pi(u,"error"),pi(s,"negative"),pi(c,"positive"),pi(d,"warning"),yi(l),bi(f),a),p=wi(Rw,e),v=_i(Rw,e);return Si(i)?_.createElement(v,D({},p,{className:h}),Gr(r,(function(e){return Dw.create(e,{defaultProps:{as:n}})}))):_.createElement(v,D({},p,{className:h}),i)}Rw.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],Rw.defaultProps={as:"tr",cellAs:"td"},Rw.propTypes={},Rw.create=ea(Rw,(function(e){return{cells:e}}));var Iw=Rw;function Bw(e){var t=e.attached,n=e.basic,r=e.celled,i=e.children,a=e.className,o=e.collapsing,u=e.color,s=e.columns,c=e.compact,l=e.definition,f=e.fixed,d=e.footerRow,h=e.headerRow,p=e.headerRows,v=e.inverted,m=e.padded,g=e.renderBodyRow,y=e.selectable,b=e.singleLine,x=e.size,w=e.sortable,k=e.stackable,E=e.striped,O=e.structured,S=e.tableData,A=e.textAlign,C=e.unstackable,j=e.verticalAlign,T=fi("ui",u,x,pi(r,"celled"),pi(o,"collapsing"),pi(l,"definition"),pi(f,"fixed"),pi(v,"inverted"),pi(y,"selectable"),pi(b,"single line"),pi(w,"sortable"),pi(k,"stackable"),pi(E,"striped"),pi(O,"structured"),pi(C,"unstackable"),mi(t,"attached"),mi(n,"basic"),mi(c,"compact"),mi(m,"padded"),yi(A),bi(j),xi(s,"column"),"table",a),F=wi(Bw,e),P=_i(Bw,e);if(!Si(i))return _.createElement(P,D({},F,{className:T}),i);var M={defaultProps:{cellAs:"th"}},N=(h||p)&&_.createElement(Tw,null,Iw.create(h,M),Gr(p,(function(e){return Iw.create(e,M)})));return _.createElement(P,D({},F,{className:T}),N,_.createElement(Aw,null,g&&Gr(S,(function(e,t){return Iw.create(g(e,t))}))),d&&_.createElement(Pw,null,Iw.create(d)))}Bw.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],Bw.defaultProps={as:"table"},Bw.propTypes={},Bw.Body=Aw,Bw.Cell=Dw,Bw.Footer=Pw,Bw.Header=Tw,Bw.HeaderCell=Nw,Bw.Row=Iw;var zw=Bw;var Lw=function(e,t,n){return null==e?e:xh(e,t,n)},Uw=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=(0,_.createRef)(),t.labelRef=(0,_.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,a=t.state.checked;return!n&&!i&&!(r&&a)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return Zi(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,a=r.indeterminate,o=ci(t.inputRef.current,"contains",e.target),u=ci(t.labelRef.current,"contains",e.target),s=!u&&!o,c=!Zi(n);u&&c||ci(t.props,"onClick",e,D({},t.props,{checked:!i,indeterminate:!!a})),t.isClickFromMouse&&(t.isClickFromMouse=!1,u&&!c&&t.handleChange(e),s&&t.handleChange(e),u&&c&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(ci(t.props,"onChange",e,D({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;ci(t.props,"onMouseDown",e,D({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||ci(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,ci(t.props,"onMouseUp",e,D({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;Lw(t.inputRef,"current.indeterminate",!!e)},t}be(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,r=e.disabled,i=e.label,a=e.id,o=e.name,u=e.radio,s=e.readOnly,c=e.slider,l=e.toggle,f=e.type,d=e.value,h=this.state,p=h.checked,v=h.indeterminate,m=fi("ui",pi(p,"checked"),pi(r,"disabled"),pi(v,"indeterminate"),pi(Zi(i),"fitted"),pi(u,"radio"),pi(s,"read-only"),pi(c,"slider"),pi(l,"toggle"),"checkbox",n),g=wi(t,this.props),y=_i(t,this.props),b=Qf(g,{htmlProps:Yf}),x=b[0],w=b[1],k=ra(i,{defaultProps:{htmlFor:a},autoGenerateKey:!1})||_.createElement("label",{htmlFor:a});return _.createElement(y,D({},w,{className:m,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),_.createElement(So,{innerRef:this.inputRef},_.createElement("input",D({},x,{checked:p,className:"hidden",disabled:r,id:a,name:o,readOnly:!0,tabIndex:this.computeTabIndex(),type:f,value:d}))),_.createElement(So,{innerRef:this.labelRef},k))},t}(ji);Uw.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],Uw.propTypes={},Uw.defaultProps={type:"checkbox"},Uw.autoControlledProps=["checked","indeterminate"];var qw=function(e){var t=e.processDelete,n=e.deleteIds,r=e.setDeleteIds,i=C((0,_.useState)(!0),2),a=i[0],o=i[1],u=(0,_.useRef)(!1),s=function(){var e=Jo(tu().mark((function e(){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current=!a,e.next=3,t(n);case 3:r([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=(null===n||void 0===n?void 0:n.length)||0;return u.current&&1===c?(s(),null):(0,Xo.jsxs)(am,{style:{backgroundColor:"#00000054"},open:c>0,onClose:function(){return r([])},children:[(0,Xo.jsxs)(am.Header,{children:["Delete item",1===c?"":"s"]}),(0,Xo.jsxs)(am.Content,{children:[(0,Xo.jsxs)("p",{children:["Are you sure you want to delete ",1===c?"this item":"".concat(c," items"),"?"]}),(0,Xo.jsx)("br",{}),(0,Xo.jsxs)(am.Actions,{children:[(0,Xo.jsxs)(Td,{centered:"true",children:[(0,Xo.jsx)(Nd,{fluid:!0,primary:!0,onClick:function(){return r([])},children:"Cancel"}),(0,Xo.jsx)(Nd,{fluid:!0,color:"red",onClick:function(e,t){return s()},children:"Yes"})]}),c>1?null:(0,Xo.jsx)(Uw,{style:{float:"right"},onChange:function(e,t){return o(!t.checked)},label:"Do not ask again. Next time, delete immediately when clicking the trash icon"})]})]})]})},Ww=_.memo(qw),Hw=function(e){var t=e.dashData,n=e.columns,r=e.selection,i=C((0,_.useState)(0),2),a=i[0],o=i[1],u=C((0,_.useState)([]),2),s=u[0],c=u[1],l=C((0,_.useState)(0),2),f=l[0],d=l[1],h=C((0,_.useState)([]),2),p=h[0],v=h[1],m=C((0,_.useState)(null),2),g=m[0],y=m[1];(0,_.useEffect)((function(){if(!t)return c([]),null;if(t.is_subset){if(r)throw new Error("cannot use selection if dashData is a subset");d(t.N()),c(t.listData(25)),o(t.deleted.length),y(t.data.map((function(e){return e._INDEX})))}else d(t.N(r)),c(t.listData(25,r)),o(t.N()),y(r)}),[t,r]);var b=function(){var e=Jo(tu().mark((function e(){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f!==s.length){e.next=2;break}return e.abrupt("return");case 2:console.log("go"),c(t.listData(s.length+25,r));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Jo(tu().mark((function e(n){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.rmID(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Xo.jsxs)(rw,{style:{height:"98%",width:"98%",padding:"0"},children:[(0,Xo.jsx)(zf,{style:{background:"#00000000",height:"55px",margin:"0"},children:(0,Xo.jsxs)(Ad,{textAlign:"center",as:"h2",style:{color:"white"},children:[g?(0,Xo.jsx)(Nd,{onClick:function(){return v(g)},icon:"trash alternate",style:{color:"#b23434bd",padding:"0",marginBottom:"10px",background:"#ffffff00"}}):null,f===a?a:"".concat(f," / ").concat(a)," items"]})}),(0,Xo.jsx)(rw,{style:{height:"calc(100% - 55px)",width:"100%",overflow:"auto",paddingLeft:"20px"},children:(0,Xo.jsx)(Ow,{continuous:!0,onBottomVisible:b,children:(0,Xo.jsx)($w,{data:s,columns:n,processDelete:x})})}),(0,Xo.jsx)(Ww,{processDelete:x,deleteIds:p,setDeleteIds:v})]})},$w=function(e){var t=e.data,n=e.columns,r=e.processDelete,i=C((0,_.useState)([]),2),a=i[0],o=i[1];return null===t||0===t.length?null:(n||(n=Object.keys(t[0]).filter((function(e){return"_INDEX"!==e}))),(0,Xo.jsxs)(zw,{unstackable:!0,fixed:!0,singleLine:!0,style:{width:"100%",color:"white",background:"#00000099"},children:[function(e){var t=[{name:"delete",width:1}].concat(du(e)).map((function(e){var t="object"===typeof e?e.name:e;return(0,Xo.jsx)(zw.HeaderCell,{width:null===e||void 0===e?void 0:e.width,style:{top:"0px",position:"sticky",zIndex:"2"},children:t},e)}));return(0,Xo.jsx)(zw.Header,{children:(0,Xo.jsx)(zw.Row,{children:t})})}(n),function(e){var n=t.map((function(t,n){var r=e.map((function(e){var r="object"===typeof e?e.name:e,i=(null===e||void 0===e?void 0:e.f)||null,a=Vw(t,r,i);return(0,Xo.jsx)(zw.Cell,{title:a,children:a},r+"_"+n)}));return(0,Xo.jsxs)(zw.Row,{children:[(0,Xo.jsx)(zw.Cell,{children:(0,Xo.jsx)(Nd,{style:{padding:"5px",background:"red",color:"black"},onClick:function(){return o([t._INDEX])},icon:"trash alternate"})},"0"),r]},n)}));return(0,Xo.jsx)(zw.Body,{children:n})}(n),(0,Xo.jsx)(Ww,{processDelete:r,deleteIds:a,setDeleteIds:o})]}))},Vw=function(e,t,n){var r;return n?r=n(e):(r=e[t])instanceof Date&&(r=r.toISOString().slice(0,19).replace(/T/g," ")),r},Gw=_.memo(Hw),Yw=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).inputRef=(0,_.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return Zi(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return Zi(r)?t?-1:void 0:r},n.focus=function(){return n.inputRef.current.focus()},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=Tr(e,"target.value");ci(n.props,"onChange",e,D({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return D({},t,e.props,{ref:function(t){xo(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,a=n.computeTabIndex(),o=wi(t,n.props),u=Qf(o),s=u[0],c=u[1];return[D({},s,{disabled:r,type:i,tabIndex:a,onChange:n.handleChange,ref:n.inputRef}),c]},n}return be(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.action,i=n.actionPosition,a=n.children,o=n.className,u=n.disabled,s=n.error,c=n.fluid,l=n.focus,f=n.icon,d=n.iconPosition,h=n.input,p=n.inverted,v=n.label,m=n.labelPosition,g=n.loading,y=n.size,b=n.transparent,x=n.type,w=fi("ui",y,pi(u,"disabled"),pi(s,"error"),pi(c,"fluid"),pi(l,"focus"),pi(p,"inverted"),pi(g,"loading"),pi(b,"transparent"),vi(i,"action")||pi(r,"action"),vi(d,"icon")||pi(f||g,"icon"),vi(m,"labeled")||pi(v,"labeled"),"input",o),k=_i(t,this.props),E=this.partitionProps(),O=E[0],S=E[1];if(!Si(a)){var A=Gr(_.Children.toArray(a),(function(t){return"input"!==t.type?t:(0,_.cloneElement)(t,e.handleChildOverrides(t,O))}));return _.createElement(k,D({},S,{className:w}),A)}var C=Nd.create(r,{autoGenerateKey:!1}),j=gd.create(v,{defaultProps:{className:fi("label",Hf(m,"corner")&&m)},autoGenerateKey:!1});return _.createElement(k,D({},S,{className:w}),"left"===i&&C,"right"!==m&&j,na(h||x,{defaultProps:O,autoGenerateKey:!1}),lo.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==i&&C,"right"===m&&j)},t}(_.Component);Yw.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Yw.propTypes={},Yw.defaultProps={type:"text"},Yw.create=ea(Yw,(function(e){return{type:e}}));var Kw=Yw,Xw=function(e){var t=e.dashData,n=e.searchOn,r=e.setSelection,i=C((0,_.useState)(""),2),a=i[0],o=i[1],u=C((0,_.useState)(!1),2),s=u[0],c=u[1];return(0,_.useEffect)((function(){c(!0);var e=setTimeout((function(){r(t&&a?t.search(a,n):null),c(!1)}),500);return function(){return clearTimeout(e)}}),[t,a,n,c,r]),(0,Xo.jsxs)("div",{style:{display:"flex",margin:"0"},children:[(0,Xo.jsx)("div",{className:"dimmable",style:{width:"50px"},children:(0,Xo.jsx)(lo,{size:"big",name:s?"compass":"search",loading:s,style:{paddingTop:"9px",paddingLeft:"13fpx",color:"white"}})}),(0,Xo.jsx)("div",{style:{flex:"1 1 auto"},children:(0,Xo.jsx)(Kw,{fluid:!0,value:a,icon:(0,Xo.jsx)(Nd,{compact:!0,icon:"window close",onClick:function(){return o("")},size:"huge",style:{color:"white",height:"1em",background:"#ffffff00"}}),onChange:function(e,t){return o(t.value)}})})]})},Qw=_.memo(Xw),Zw=function(e,t){for(var n=0;n<e.length;n++)if(e[n].length<=t[n])return!0;return!1},Jw=function(e,t){for(var n=1;n<e.length;n++)if(e[n][t[n]]!==e[0][t[0]])return!1;console.log("-------------");for(var r=0;r<e.length;r++)console.log(e[r][t[r]]);return!0},e_=function(e,t){for(var n=e[0][t[0]],r=1;r<e.length;r++)e[r][t[r]]>n&&(n=e[r][t[r]]);return n},t_=function(e){if(e=e.filter((function(e){return null!==e})),0===e.length)return null;if(1===e.length)return e[0];for(var t=new Array(e.length).fill(0),n=[];!Zw(e,t);){if(Jw(e,t)){console.log(t[0]),n.push(e[0][t[0]]);for(var r=0;r<t.length;r++)t[r]++}for(var i=e_(e,t),a=0;a<t.length;a++)e[a][t[a]]<i&&t[a]++}return n},n_=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ru(this,e),this.name=t,this.data=n,this.setData=r,this.deleted=i||new Array(n.length).fill(!1),this.is_subset=a}return au(e,[{key:"triggerUpdate",value:function(){this.setData(new e(this.name,this.data,this.setData,this.deleted,this.is_subset))}},{key:"rmID",value:function(){var e=Jo(tu().mark((function e(t){var n,r,i,a;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=du(this.deleted),r=nu(t);try{for(r.s();!(i=r.n()).done;)a=i.value,n[a]=!0}catch(o){r.e(o)}finally{r.f()}return e.prev=3,e.next=6,Af.setDeleted(this.name,n);case 6:this.deleted=n,this.triggerUpdate(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("could not delete data");case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"subset",value:function(e){var t=this;this.data=e.map((function(e){return t.data[e]})),this.is_subset=!0}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e||0===e.length)return null;var n,r=[],i=Array.isArray(e)?e:[e],a=[],o=nu(i);try{for(o.s();!(n=o.n()).done;){var u=n.value;a.push(new RegExp(u.replace(/[-/\\^$*+?.()|[\]{}]/,"\\$&"),"i"))}}catch(b){o.e(b)}finally{o.f()}var s,c=nu(this.data);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=l._INDEX;if(!this.deleted[f]){var d,h=t||Object.keys(l),p=nu(h);try{e:for(p.s();!(d=p.n()).done;){var v,m=d.value,g=nu(a);try{for(g.s();!(v=g.n()).done;){var y=v.value;if(y.test(l[m])){r.push(f);break e}}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}}}}catch(b){c.e(b)}finally{c.f()}return r}},{key:"searchValues",value:function(e,t){if(null===e||0===e.length)return null;var n,r=e.reduce((function(e,t){return e[t]=!0,e}),{}),i=[],a=nu(this.data);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o._INDEX;if(!this.deleted[u])if(Array.isArray(o[t])){var s,c=nu(o[t]);try{for(c.s();!(s=c.n()).done;){if(r[s.value]){i.push(u);break}}}catch(l){c.e(l)}finally{c.f()}}else r[o[t]]&&i.push(u)}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"count",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&this.is_subset)throw new Error("cannot use selection if dashdata is a subset");for(var r,i={},a=0;a<this.data.length;a++){if(t){if(a>=t.length)break;r=t[a]}else r=a;if(!this.deleted[this.data[r]._INDEX]){var o=this.data[r][e];Array.isArray(o)||(o=[o]),n&&(o=[o.join(n)]);var u,s=nu(o);try{for(s.s();!(u=s.n()).done;){var c=u.value;""!==c&&(i[c]||(i[c]=0),i[c]++)}}catch(l){s.e(l)}finally{s.f()}}}return i}},{key:"N",value:function(e){if(e&&this.is_subset)throw new Error("cannot use selection if dashdata is a subset");for(var t,n=0,r=0;r<this.data.length;r++){if(e){if(r>=e.length)break;t=e[r]}else t=r;this.deleted[this.data[t]._INDEX]||n++}return n}},{key:"listData",value:function(e,t){if(t&&this.is_subset)throw new Error("cannot use selection if dashdata is a subset");for(var n,r=[],i=0;i<this.data.length&&r.length!==e;i++){if(t){if(i>=t.length)break;n=t[i]}else n=i;this.deleted[this.data[n]._INDEX]||r.push(this.data[n])}return r}}]),e}();var r_=function(){var e=Jo(tu().mark((function e(t,n,r){var i,a;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Af.getData(t,n);case 3:i=e.sent,a=new n_(t,i,r),r(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),r(null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),i_=function(){var e=X();return(0,Xo.jsxs)(Nd,{style:{position:"absolute",left:"0",background:"#00000000",color:"white",border:"1px solid white",marginLeft:"20px",marginTop:"20px"},onClick:function(){return e("/datasquare")},children:[(0,Xo.jsx)(lo,{name:"backward"}),"Go back"]})},a_=function(e){var t=e.dataName,n=e.searchOn,r=e.columns,i=e.VisComponent,a=e.calcStatistics,o=function(e,t){var n=C((0,_.useState)(null),2),r=n[0],i=n[1];return(0,_.useEffect)((function(){r_(e,t,i)}),[e,t]),r}(t),u=C((0,_.useState)([]),2),s=u[0],c=u[1],l=C((0,_.useState)(null),2),f=l[0],d=l[1],h=C((0,_.useState)(null),2),p=h[0],v=h[1],m=C((0,_.useState)(null),2),g=m[0],y=m[1];return(0,_.useEffect)((function(){y(t_([p,f]))}),[p,f]),(0,_.useEffect)((function(){c(a(o,g))}),[o,g,a]),(0,Xo.jsx)(xw,{background:Rd,color:"#000000b0",children:(0,Xo.jsxs)(Pf,{stackable:!0,style:{height:"100vh"},children:[(0,Xo.jsxs)(Pf.Row,{style:{minHeight:"500px"},children:[(0,Xo.jsxs)(Pf.Column,{width:4,children:[(0,Xo.jsx)(i_,{}),(0,Xo.jsxs)(rw,{style:{margin:"50px",marginTop:"100px",padding:"20px"},children:[(0,Xo.jsx)("div",{style:{marginBottom:"1em"},children:(0,Xo.jsx)(Qw,{dashData:o,searchOn:n,setSelection:v})}),(0,Xo.jsx)(o_,{statistics:s})]})]}),(0,Xo.jsx)(Pf.Column,{width:12,children:(0,Xo.jsx)(i,{dashData:o,inSelection:p,setOutSelection:d})})]}),(0,Xo.jsx)(Pf.Row,{style:{minHeight:"500px",maxHeight:"calc(100vh - 500px)",width:"100%"},children:(0,Xo.jsx)(Gw,{dashData:o,columns:r,selection:g})})]})})},o_=function(e){var t=e.statistics;return(0,Xo.jsxs)(rw,{style:{height:"98%",padding:"20px",background:"#55555587",borderRadius:"10px"},children:[(0,Xo.jsx)(Ad,{as:"h1",align:"center",style:{color:"white",padding:"0",margin:"0"},children:"Statistics"}),(0,Xo.jsx)(bw.Group,{children:t.map((function(e){return(0,Xo.jsx)(bw,{children:(0,Xo.jsxs)(bw.Content,{children:[(0,Xo.jsx)(bw.Header,{style:{color:"white"},children:e.label.replace("_"," ")}),(0,Xo.jsx)(bw.Description,{style:{color:"white"},children:e.value})]})},e.label)}))})]})},u_=_.memo(a_);function s_(e,t){if(null==e)return{};var n,r,i=_o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c_={};function l_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c_,n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every((function(n){return e[n]===t[n]}))}var f_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d_=Object.prototype.hasOwnProperty;function h_(e,t){return d_.call(e,t)}function p_(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var r in e)h_(e,r)&&t.push(r);return t}function v_(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function m_(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function g_(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function y_(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function b_(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(b_(e[t]))return!0}else if("object"===typeof e){var r=p_(e),i=r.length;for(t=0;t<i;t++)if(b_(e[r[t]]))return!0}return!1}function x_(e,t){var n=[e];for(var r in t){var i="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof i&&n.push(r+": "+i)}return n.join("\n")}var w_=function(e){function t(t,n,r,i,a){var o=this.constructor,u=e.call(this,x_(t,{name:n,index:r,operation:i,tree:a}))||this;return u.name=n,u.index=r,u.operation=i,u.tree=a,Object.setPrototypeOf(u,o.prototype),u.message=x_(t,{name:n,index:r,operation:i,tree:a}),u}return f_(t,e),t}(Error),__=w_,k_=v_,E_={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=S_(n,this.path);r&&(r=v_(r));var i=A_(n,{op:"remove",path:this.from}).removed;return A_(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=S_(n,this.from);return A_(n,{op:"add",path:this.path,value:v_(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:F_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},O_={add:function(e,t,n){return m_(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:E_.move,copy:E_.copy,test:E_.test,_get:E_._get};function S_(e,t){if(""==t)return e;var n={op:"_get",path:t};return A_(e,n),n.value}function A_(e,t,n,r,i,a){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===a&&(a=0),n&&("function"==typeof n?n(t,0,e,t.path):j_(t,0)),""===t.path){var o={newDocument:e};if("add"===t.op)return o.newDocument=t.value,o;if("replace"===t.op)return o.newDocument=t.value,o.removed=e,o;if("move"===t.op||"copy"===t.op)return o.newDocument=S_(e,t.from),"move"===t.op&&(o.removed=e),o;if("test"===t.op){if(o.test=F_(e,t.value),!1===o.test)throw new __("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}if("remove"===t.op)return o.removed=e,o.newDocument=null,o;if("_get"===t.op)return t.value=e,o;if(n)throw new __("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}r||(e=v_(e));var u=(t.path||"").split("/"),s=e,c=1,l=u.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:j_;;){if((d=u[c])&&-1!=d.indexOf("~")&&(d=y_(d)),i&&"__proto__"==d)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===s[d]?f=u.slice(0,c).join("/"):c==l-1&&(f=t.path),void 0!==f&&h(t,0,e,f)),c++,Array.isArray(s)){if("-"===d)d=s.length;else{if(n&&!m_(d))throw new __("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);m_(d)&&(d=~~d)}if(c>=l){if(n&&"add"===t.op&&d>s.length)throw new __("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);if(!1===(o=O_[t.op].call(t,s,d,e)).test)throw new __("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}}else if(c>=l){if(!1===(o=E_[t.op].call(t,s,d,e)).test)throw new __("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}if(s=s[d],n&&c<l&&(!s||"object"!==typeof s))throw new __("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}function C_(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new __("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=v_(e));for(var a=new Array(t.length),o=0,u=t.length;o<u;o++)a[o]=A_(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function D_(e,t,n){var r=A_(e,t);if(!1===r.test)throw new __("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function j_(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new __("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!E_[e.op])throw new __("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new __("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new __('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new __("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new __("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&b_(e.value))throw new __("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new __("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new __("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var o=T_([{op:"_get",path:e.from,value:void 0}],n);if(o&&"OPERATION_PATH_UNRESOLVABLE"===o.name)throw new __("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function T_(e,t,n){try{if(!Array.isArray(e))throw new __("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)C_(v_(t),v_(e),n||!0);else{n=n||j_;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(Awe){if(Awe instanceof __)return Awe;throw Awe}}function F_(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,a=Array.isArray(e),o=Array.isArray(t);if(a&&o){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!F_(e[n],t[n]))return!1;return!0}if(a!=o)return!1;var u=Object.keys(e);if((r=u.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(u[n]))return!1;for(n=r;0!==n--;)if(!F_(e[i=u[n]],t[i]))return!1;return!0}return e!==e&&t!==t}var P_=new WeakMap,M_=function(e){this.observers=new Map,this.obj=e},N_=function(e,t){this.callback=e,this.observer=t};function R_(e,t){t.unobserve()}function I_(e,t){var n,r=function(e){return P_.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new M_(e),P_.set(e,r);if(n)return n;if(n={},r.value=v_(e),t){n.callback=t,n.next=null;var a=function(){B_(n)},o=function(){clearTimeout(n.next),n.next=setTimeout(a)};"undefined"!==typeof window&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return n.patches=[],n.object=e,n.unobserve=function(){B_(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},r.observers.set(t,new N_(t,n)),n}function B_(e,t){void 0===t&&(t=!1);var n=P_.get(e.object);z_(n.value,e.object,e.patches,"",t),e.patches.length&&C_(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function z_(e,t,n,r,i){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var a=p_(t),o=p_(e),u=!1,s=o.length-1;s>=0;s--){var c=e[f=o[s]];if(!h_(t,f)||void 0===t[f]&&void 0!==c&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+g_(f),value:v_(c)}),n.push({op:"remove",path:r+"/"+g_(f)}),u=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var l=t[f];"object"==typeof c&&null!=c&&"object"==typeof l&&null!=l&&Array.isArray(c)===Array.isArray(l)?z_(c,l,n,r+"/"+g_(f),i):c!==l&&(!0,i&&n.push({op:"test",path:r+"/"+g_(f),value:v_(c)}),n.push({op:"replace",path:r+"/"+g_(f),value:v_(l)}))}}if(u||a.length!=o.length)for(s=0;s<a.length;s++){var f;h_(e,f=a[s])||void 0===t[f]||n.push({op:"add",path:r+"/"+g_(f),value:v_(t[f])})}}}function L_(e,t,n){void 0===n&&(n=!1);var r=[];return z_(e,t,r,"",n),r}Object.assign({},a,o,{JsonPatchError:w_,deepClone:v_,escapePathComponent:g_,unescapePathComponent:y_});var U_=n(6662),q_=n.n(U_);function W_(e,t,n){return e.fields=t||[],e.fname=n,e}function H_(e){return null==e?null:e.fname}function $_(e){return null==e?null:e.fields}function V_(e){return 1===e.length?G_(e[0]):Y_(e)}var G_=function(e){return function(t){return t[e]}},Y_=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function K_(e){throw Error(e)}function X_(e){var t,n,r,i=[],a=e.length,o=null,u=0,s="";function c(){i.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<a;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)c(),o=null,u=-1;else{if(o)continue;t===u&&'"'===r||t===u&&"'"===r?(t=n+1,o=r):"."!==r||u?"["===r?(n>t&&c(),u=t=n+1):"]"===r&&(u||K_("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&K_("Access path missing closing bracket: "+e),o&&K_("Access path missing closing quote: "+e),n>t&&(n++,c()),i}function Q_(e,t,n){var r=X_(e);return e=1===r.length?r[0]:e,W_((n&&n.get||V_)(r),[e],t||e)}var Z_=Q_("id"),J_=W_((function(e){return e}),[],"identity"),ek=W_((function(){return 0}),[],"zero"),tk=W_((function(){return 1}),[],"one"),nk=W_((function(){return!0}),[],"true"),rk=W_((function(){return!1}),[],"false");function ik(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var ak=0,ok=1,uk=2,sk=3,ck=4;function lk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ik,r=e||ak;return{level:function(e){return arguments.length?(r=+e,this):r},error:function(){return r>=ok&&n(t||"error","ERROR",arguments),this},warn:function(){return r>=uk&&n(t||"warn","WARN",arguments),this},info:function(){return r>=sk&&n(t||"log","INFO",arguments),this},debug:function(){return r>=ck&&n(t||"log","DEBUG",arguments),this}}}var fk=Array.isArray;function dk(e){return e===Object(e)}var hk=function(e){return"__proto__"!==e};function pk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=mk(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;vk(e,n,t[n],r)}return e}),{})}function vk(e,t,n,r){var i,a;if(hk(t))if(dk(n)&&!fk(n))for(i in a=dk(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?vk(a,i,n[i]):hk(i)&&(a[i]=n[i]);else e[t]=n}function mk(e,t){if(null==e)return t;var n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function gk(e){return e[e.length-1]}function yk(e){return null==e||""===e?null:+e}var bk=function(e){return function(t){return e*Math.exp(t)}},xk=function(e){return function(t){return Math.log(e*t)}},wk=function(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}},_k=function(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}},kk=function(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}};function Ek(e,t,n,r){var i=n(e[0]),a=n(gk(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function Ok(e,t){return Ek(e,t,yk,J_)}function Sk(e,t){var n=Math.sign(e[0]);return Ek(e,t,xk(n),bk(n))}function Ak(e,t,n){return Ek(e,t,kk(n),kk(1/n))}function Ck(e,t,n){return Ek(e,t,wk(n),_k(n))}function Dk(e,t,n,r,i){var a=r(e[0]),o=r(gk(e)),u=null!=t?r(t):(a+o)/2;return[i(u+(a-u)*n),i(u+(o-u)*n)]}function jk(e,t,n){return Dk(e,t,n,yk,J_)}function Tk(e,t,n){var r=Math.sign(e[0]);return Dk(e,t,n,xk(r),bk(r))}function Fk(e,t,n,r){return Dk(e,t,n,kk(r),kk(1/r))}function Pk(e,t,n,r){return Dk(e,t,n,wk(r),_k(r))}function Mk(e){return 1+~~(new Date(e).getMonth()/3)}function Nk(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Rk(e){return null!=e?fk(e)?e:[e]:[]}function Ik(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]}function Bk(e){return"function"===typeof e}function zk(e,t,n){n=n||{},t=Rk(t)||[];var r=[],i=[],a={},o=n.comparator||Uk;return Rk(e).forEach((function(e,o){null!=e&&(r.push("descending"===t[o]?-1:1),i.push(e=Bk(e)?e:Q_(e,null,n)),($_(e)||[]).forEach((function(e){return a[e]=1})))})),0===i.length?null:W_(o(i,r),Object.keys(a))}var Lk=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},Uk=function(e,t){return 1===e.length?qk(e[0],t[0]):Wk(e,t,e.length)},qk=function(e,t){return function(n,r){return Lk(e(n),e(r))*t}},Wk=function(e,t,n){return t.push(0),function(r,i){for(var a,o=0,u=-1;0===o&&++u<n;)a=e[u],o=Lk(a(r),a(i));return o*t[u]}};function Hk(e){return Bk(e)?e:function(){return e}}function $k(e,t){var n;return function(r){n&&clearTimeout(n),n=setTimeout((function(){return t(r),n=null}),e)}}function Vk(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e}function Gk(e,t){var n,r,i,a,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(i=a=r;o<n;++o)null!=(r=e[o])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(i=a=r;o<n;++o)null!=(r=t(e[o]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]}function Yk(e,t){var n,r,i,a,o,u=e.length,s=-1;if(null==t){for(;++s<u;)if(null!=(r=e[s])&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(a=o=s;++s<u;)null!=(r=e[s])&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<u;)if(null!=(r=t(e[s],s,e))&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(a=o=s;++s<u;)null!=(r=t(e[s],s,e))&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]}var Kk=Object.prototype.hasOwnProperty;function Xk(e,t){return Kk.call(e,t)}var Qk={};function Zk(e){var t,n={};function r(e){return Xk(n,e)&&n[e]!==Qk}var i={size:0,empty:0,object:n,has:r,get:function(e){return r(e)?n[e]:void 0},set:function(e,t){return r(e)||(++i.size,n[e]===Qk&&--i.empty),n[e]=t,this},delete:function(e){return r(e)&&(--i.size,++i.empty,n[e]=Qk),this},clear:function(){i.size=i.empty=0,i.object=n={}},test:function(e){return arguments.length?(t=e,i):t},clean:function(){var e={},r=0;for(var a in n){var o=n[a];o===Qk||t&&t(o)||(e[a]=o,++r)}i.size=r,i.empty=0,i.object=n=e}};return e&&Object.keys(e).forEach((function(t){i.set(t,e[t])})),i}function Jk(e,t,n,r,i,a){if(!n&&0!==n)return a;var o,u=+n,s=e[0],c=gk(e);c<s&&(o=s,s=c,c=o),o=Math.abs(t-s);var l=Math.abs(c-t);return o<l&&o<=u?r:l<=u?i:a}function eE(e,t,n){var r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Vk(r,n)}function tE(e,t,n,r){var i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),r=void 0===r||r,((n=void 0===n||n)?a<=e:a<e)&&(r?e<=o:e<o)}function nE(e){return"boolean"===typeof e}function rE(e){return"[object Date]"===Object.prototype.toString.call(e)}function iE(e){return e&&Bk(e[Symbol.iterator])}function aE(e){return"number"===typeof e}function oE(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function uE(e){return"string"===typeof e}function sE(e,t,n){e&&(e=t?Rk(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Rk(e));var r,i=e&&e.length,a=n&&n.get||V_,o=function(e){return a(t?[e]:X_(e))};if(i)if(1===i){var u=o(e[0]);r=function(e){return""+u(e)}}else{var s=e.map(o);r=function(e){for(var t=""+s[0](e),n=0;++n<i;)t+="|"+s[n](e);return t}}else r=function(){return""};return W_(r,e,"key")}function cE(e,t){var n=e[0],r=gk(e),i=+t;return i?1===i?r:n+i*(r-n):n}function lE(e){var t,n,r;e=+e||1e4;var i=function(){t={},n={},r=0},a=function(i,a){return++r>e&&(n=t,t={},r=1),t[i]=a};return i(),{clear:i,has:function(e){return Xk(t,e)||Xk(n,e)},get:function(e){return Xk(t,e)?t[e]:Xk(n,e)?a(e,n[e]):void 0},set:function(e,n){return Xk(t,e)?t[e]=n:a(e,n)}}}function fE(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),u=0,s=0,c=0;u<i&&s<a;++c)o[c]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<i;++u,++c)o[c]=t[u];for(;s<a;++s,++c)o[c]=n[s];return o}function dE(e,t){for(var n="";--t>=0;)n+=e;return n}function hE(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?dE(i,o)+a:"center"===r?dE(i,~~(o/2))+a+dE(i,Math.ceil(o/2)):a+dE(i,o)}function pE(e){return e&&gk(e)-e[0]||0}function vE(e){return fk(e)?"["+e.map(vE)+"]":dk(e)||uE(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function mE(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var gE=function(e){return aE(e)||rE(e)?e:Date.parse(e)};function yE(e,t){return t=t||gE,null==e||""===e?null:t(e)}function bE(e){return null==e||""===e?null:e+""}function xE(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}function wE(e,t,n,r){var i=null!=r?r:"\u2026",a=e+"",o=a.length,u=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-u):"center"===n?a.slice(0,Math.ceil(u/2))+i+a.slice(o-~~(u/2)):a.slice(0,u)+i}function _E(e,t,n){if(e)if(t)for(var r=e.length,i=0;i<r;++i){var a=t(e[i]);a&&n(a,i,e)}else e.forEach(n)}var kE={},EE={};function OE(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function SE(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function AE(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function CE(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+AE(-e,6):e>9999?"+"+AE(e,6):AE(e,4)}(e.getUTCFullYear())+"-"+AE(e.getUTCMonth()+1,2)+"-"+AE(e.getUTCDate(),2)+(i?"T"+AE(t,2)+":"+AE(n,2)+":"+AE(r,2)+"."+AE(i,3)+"Z":r?"T"+AE(t,2)+":"+AE(n,2)+":"+AE(r,2)+"Z":n||t?"T"+AE(t,2)+":"+AE(n,2)+"Z":"")}function DE(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,u=0,s=a<=0,c=!1;function l(){if(s)return EE;if(c)return c=!1,kE;var t,r,i=o;if(34===e.charCodeAt(i)){for(;o++<a&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=a?s=!0:10===(r=e.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(o)&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=e.charCodeAt(t=o++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(o)&&++o;else if(r!==n)continue;return e.slice(i,t)}return s=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=l())!==EE;){for(var f=[];r!==kE&&r!==EE;)f.push(r),r=l();t&&null==(f=t(f,u++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?CE(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=OE(e);return function(r,i){return t(n(r),i,e)}}(e,t):OE(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=SE(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=SE(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}}function jE(e){return e}function TE(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return FE(e,t)}))}:FE(e,t)}function FE(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,a=PE(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function PE(e,t){var n=function(e){if(null==e)return jE;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(e,u){u||(t=n=0);var s=2,c=e.length,l=new Array(c);for(l[0]=(t+=e[0])*r+a,l[1]=(n+=e[1])*i+o;s<c;)l[s]=e[s],++s;return l}}(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],a=0,o=i.length;a<o;++a)t.push(n(i[a],a));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,o)}function a(e){return n(e)}function o(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function u(e){for(var t=o(e);t.length<4;)t.push(t[0]);return t}function s(e){return e.map(u)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=o(t.arcs);break;case"MultiLineString":n=t.arcs.map(o);break;case"Polygon":n=s(t.arcs);break;case"MultiPolygon":n=t.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(t)}function ME(e,t){var n={},r={},i={},a=[],o=-1;function u(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),a.push(i)}}return t.forEach((function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++o],t[o]=n,t[r]=i)})),t.forEach((function(t){var n,a,o=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,i]:[i,n]}(t),u=o[0],s=o[1];if(n=i[u])if(delete i[n.end],n.push(t),n.end=s,a=r[s]){delete r[a.start];var c=a===n?n:n.concat(a);r[c.start=n.start]=i[c.end=a.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(t),n.start=u,a=i[u]){delete i[a.end];var l=a===n?n:a.concat(n);r[l.start=a.start]=i[l.end=n.end]=l}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=u]=i[n.end=s]=n})),u(i,r),u(r,i),t.forEach((function(e){n[e<0?~e:e]||a.push([e])})),a}function NE(e){return PE(e,RE.apply(this,arguments))}function RE(e,t,n){var r,i,a;if(arguments.length>1)r=IE(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:ME(e,r)}}function IE(e,t,n){var r,i=[],a=[];function o(e){var t=e<0?~e:e;(a[t]||(a[t]=[])).push({i:e,g:r})}function u(e){e.forEach(o)}function s(e){e.forEach(u)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":s(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(s)}(t.arcs)}}(t),a.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}var BE=Math.sqrt(50),zE=Math.sqrt(10),LE=Math.sqrt(2);function UE(e,t,n){var r,i,a,o,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=qE(e,t,n))||!isFinite(o))return[];if(o>0){var s=Math.round(e/o),c=Math.round(t/o);for(s*o<e&&++s,c*o>t&&--c,a=new Array(i=c-s+1);++u<i;)a[u]=(s+u)*o}else{o=-o;var l=Math.round(e*o),f=Math.round(t*o);for(l/o<e&&++l,f/o>t&&--f,a=new Array(i=f-l+1);++u<i;)a[u]=(l+u)/o}return r&&a.reverse(),a}function qE(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=BE?10:a>=zE?5:a>=LE?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=BE?10:a>=zE?5:a>=LE?2:1)}function WE(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=BE?i*=10:a>=zE?i*=5:a>=LE&&(i*=2),t<e?-i:i}var HE,$E=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function VE(e){if(!(t=$E.exec(e)))throw new Error("invalid format: "+e);var t;return new GE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function GE(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function YE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function KE(e){return(e=YE(Math.abs(e)))?e[1]:NaN}function XE(e,t){var n=YE(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}VE.prototype=GE.prototype,GE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var QE={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return XE(100*e,t)},r:XE,s:function(e,t){var n=YE(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(HE=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+YE(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function ZE(e){return e}var JE,eO,tO,nO=Array.prototype.map,rO=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function iO(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ZE:(t=nO.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?ZE:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(nO.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=VE(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):QE[y]||(void 0===m&&(m=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?a:/[%p]/.test(y)?s:"",w=QE[y],_=/[defgprs%]/.test(y);function k(e){var i,a,s,d=b,k=x;if("c"===y)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==f&&(E=!1),d=(E?"("===f?f:c:"-"===f||"("===f?"":f)+d,k=("s"===y?rO[8+HE/3]:"")+k+(E&&"("===f?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){k=(46===s?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var O=d.length+e.length+k.length,S=O<p?new Array(p-O+1).join(t):"";switch(v&&h&&(e=r(S+e,S.length?p-k.length:1/0),S=""),n){case"<":e=d+e+k+S;break;case"=":e=d+S+e+k;break;case"^":e=S.slice(0,O=S.length>>1)+d+e+k+S.slice(O);break;default:e=S+d+e+k}return u(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=VE(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(KE(t)/3))),i=Math.pow(10,-r),a=rO[8+r/3];return function(e){return n(i*e)+a}}}}!function(e){JE=iO(e),eO=JE.format,tO=JE.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var aO=new Date,oO=new Date;function uO(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,u=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return u;do{u.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return u},i.filter=function(n){return uO((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return aO.setTime(+t),oO.setTime(+r),e(aO),e(oO),Math.floor(n(aO,oO))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var sO=1e3,cO=6e4,lO=36e5,fO=864e5,dO=6048e5,hO=uO((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cO)/fO}),(function(e){return e.getDate()-1})),pO=hO;hO.range;function vO(e){return uO((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cO)/dO}))}var mO=vO(0),gO=vO(1),yO=vO(2),bO=vO(3),xO=vO(4),wO=vO(5),_O=vO(6),kO=(mO.range,gO.range,yO.range,bO.range,xO.range,wO.range,_O.range,uO((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/fO}),(function(e){return e.getUTCDate()-1}))),EO=kO;kO.range;function OO(e){return uO((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/dO}))}var SO=OO(0),AO=OO(1),CO=OO(2),DO=OO(3),jO=OO(4),TO=OO(5),FO=OO(6),PO=(SO.range,AO.range,CO.range,DO.range,jO.range,TO.range,FO.range,uO((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));PO.every=function(e){return isFinite(e=Math.floor(e))&&e>0?uO((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var MO=PO,NO=(PO.range,uO((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),RO=NO,IO=(NO.range,uO((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*sO-e.getMinutes()*cO)}),(function(e,t){e.setTime(+e+t*lO)}),(function(e,t){return(t-e)/lO}),(function(e){return e.getHours()}))),BO=IO,zO=(IO.range,uO((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*sO)}),(function(e,t){e.setTime(+e+t*cO)}),(function(e,t){return(t-e)/cO}),(function(e){return e.getMinutes()}))),LO=zO,UO=(zO.range,uO((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*sO)}),(function(e,t){return(t-e)/sO}),(function(e){return e.getUTCSeconds()}))),qO=UO,WO=(UO.range,uO((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));WO.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?uO((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):WO:null};var HO=WO,$O=(WO.range,uO((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));$O.every=function(e){return isFinite(e=Math.floor(e))&&e>0?uO((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var VO,GO,YO,KO,XO,QO,ZO,JO=$O,eS=($O.range,uO((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),tS=eS,nS=(eS.range,uO((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*lO)}),(function(e,t){return(t-e)/lO}),(function(e){return e.getUTCHours()}))),rS=nS,iS=(nS.range,uO((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*cO)}),(function(e,t){return(t-e)/cO}),(function(e){return e.getUTCMinutes()}))),aS=iS;iS.range;function oS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uS(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)<0?r=a+1:i=a}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return oS(e(t),n)}}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);var o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)>0?i=a:r=a+1}return r}}}var sS="year",cS="quarter",lS="month",fS="week",dS="date",hS="day",pS="dayofyear",vS="hours",mS="minutes",gS="seconds",yS="milliseconds",bS=[sS,cS,lS,fS,dS,hS,pS,vS,mS,gS,yS],xS=bS.reduce((function(e,t,n){return e[t]=1+n,e}),{});function wS(e){var t=Rk(e).slice(),n={};return t.length||K_("Missing time unit."),t.forEach((function(e){Xk(xS,e)?n[e]=1:K_("Invalid time unit: ".concat(e,"."))})),(n[fS]||n[hS]?1:0)+(n[cS]||n[lS]||n[dS]?1:0)+(n[pS]?1:0)>1&&K_("Incompatible time units: ".concat(e)),t.sort((function(e,t){return xS[e]-xS[t]})),t}var _S=(lu(VO={},sS,"%Y "),lu(VO,cS,"Q%q "),lu(VO,lS,"%b "),lu(VO,dS,"%d "),lu(VO,fS,"W%U "),lu(VO,hS,"%a "),lu(VO,pS,"%j "),lu(VO,vS,"%H:00"),lu(VO,mS,"00:%M"),lu(VO,gS,":%S"),lu(VO,yS,".%L"),lu(VO,"".concat(sS,"-").concat(lS),"%Y-%m "),lu(VO,"".concat(sS,"-").concat(lS,"-").concat(dS),"%Y-%m-%d "),lu(VO,"".concat(vS,"-").concat(mS),"%H:%M"),VO);function kS(e,t){var n,r,i=Vk({},_S,t),a=wS(e),o=a.length,u="",s=0;for(s=0;s<o;)for(n=a.length;n>s;--n)if(null!=i[r=a.slice(s,n).join("-")]){u+=i[r],s=n;break}return u.trim()}var ES=new Date;function OS(e){return ES.setFullYear(e),ES.setMonth(0),ES.setDate(1),ES.setHours(0,0,0,0),ES}function SS(e){return CS(new Date(e))}function AS(e){return DS(new Date(e))}function CS(e){return pO.count(OS(e.getFullYear())-1,e)}function DS(e){return mO.count(OS(e.getFullYear())-1,e)}function jS(e){return OS(e).getDay()}function TS(e,t,n,r,i,a,o){if(0<=e&&e<100){var u=new Date(-1,t,n,r,i,a,o);return u.setFullYear(e),u}return new Date(e,t,n,r,i,a,o)}function FS(e){return MS(new Date(e))}function PS(e){return NS(new Date(e))}function MS(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return EO.count(t-1,e)}function NS(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return SO.count(t-1,e)}function RS(e){return ES.setTime(Date.UTC(e,0,1)),ES.getUTCDay()}function IS(e,t,n,r,i,a,o){if(0<=e&&e<100){var u=new Date(Date.UTC(-1,t,n,r,i,a,o));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,r,i,a,o))}function BS(e,t,n,r,i){var a=t||1,o=gk(e),u=function(e,t,i){return function(e,t,n,r){var i=n<=1?e:r?function(t,i){return r+n*Math.floor((e(t,i)-r)/n)}:function(t,r){return n*Math.floor(e(t,r)/n)};return t?function(e,n){return t(i(e,n),n)}:i}(n[i=i||e],r[i],e===o&&a,t)},s=new Date,c=xE(e),l=c[sS]?u(sS):Hk(2012),f=c[lS]?u(lS):c[cS]?u(cS):ek,d=c[fS]&&c[hS]?u(hS,1,fS+hS):c[fS]?u(fS,1):c[hS]?u(hS,1):c[dS]?u(dS,1):c[pS]?u(pS,1):tk,h=c[vS]?u(vS):ek,p=c[mS]?u(mS):ek,v=c[gS]?u(gS):ek,m=c[yS]?u(yS):ek;return function(e){s.setTime(+e);var t=l(s);return i(t,f(s),d(s,t),h(s),p(s),v(s),m(s))}}function zS(e,t,n){return t+7*e-(n+6)%7}var LS=(lu(GO={},sS,(function(e){return e.getFullYear()})),lu(GO,cS,(function(e){return Math.floor(e.getMonth()/3)})),lu(GO,lS,(function(e){return e.getMonth()})),lu(GO,dS,(function(e){return e.getDate()})),lu(GO,vS,(function(e){return e.getHours()})),lu(GO,mS,(function(e){return e.getMinutes()})),lu(GO,gS,(function(e){return e.getSeconds()})),lu(GO,yS,(function(e){return e.getMilliseconds()})),lu(GO,pS,(function(e){return CS(e)})),lu(GO,fS,(function(e){return DS(e)})),lu(GO,fS+hS,(function(e,t){return zS(DS(e),e.getDay(),jS(t))})),lu(GO,hS,(function(e,t){return zS(1,e.getDay(),jS(t))})),GO),US=(lu(YO={},cS,(function(e){return 3*e})),lu(YO,fS,(function(e,t){return zS(e,0,jS(t))})),YO);function qS(e,t){return BS(e,t||1,LS,US,TS)}var WS=(lu(KO={},sS,(function(e){return e.getUTCFullYear()})),lu(KO,cS,(function(e){return Math.floor(e.getUTCMonth()/3)})),lu(KO,lS,(function(e){return e.getUTCMonth()})),lu(KO,dS,(function(e){return e.getUTCDate()})),lu(KO,vS,(function(e){return e.getUTCHours()})),lu(KO,mS,(function(e){return e.getUTCMinutes()})),lu(KO,gS,(function(e){return e.getUTCSeconds()})),lu(KO,yS,(function(e){return e.getUTCMilliseconds()})),lu(KO,pS,(function(e){return MS(e)})),lu(KO,fS,(function(e){return NS(e)})),lu(KO,hS,(function(e,t){return zS(1,e.getUTCDay(),RS(t))})),lu(KO,fS+hS,(function(e,t){return zS(NS(e),e.getUTCDay(),RS(t))})),KO),HS=(lu(XO={},cS,(function(e){return 3*e})),lu(XO,fS,(function(e,t){return zS(e,0,RS(t))})),XO);function $S(e,t){return BS(e,t||1,WS,HS,IS)}var VS=(lu(QO={},sS,MO),lu(QO,cS,RO.every(3)),lu(QO,lS,RO),lu(QO,fS,mO),lu(QO,dS,pO),lu(QO,hS,pO),lu(QO,pS,pO),lu(QO,vS,BO),lu(QO,mS,LO),lu(QO,gS,qO),lu(QO,yS,HO),QO),GS=(lu(ZO={},sS,JO),lu(ZO,cS,tS.every(3)),lu(ZO,lS,tS),lu(ZO,fS,SO),lu(ZO,dS,EO),lu(ZO,hS,EO),lu(ZO,pS,EO),lu(ZO,vS,rS),lu(ZO,mS,aS),lu(ZO,gS,qO),lu(ZO,yS,HO),ZO);function YS(e){return VS[e]}function KS(e){return GS[e]}function XS(e,t,n){return e?e.offset(t,n):void 0}function QS(e,t,n){return XS(YS(e),t,n)}function ZS(e,t,n){return XS(KS(e),t,n)}function JS(e,t,n,r){return e?e.range(t,n,r):void 0}function eA(e,t,n,r){return JS(YS(e),t,n,r)}function tA(e,t,n,r){return JS(KS(e),t,n,r)}var nA=1e3,rA=6e4,iA=36e5,aA=864e5,oA=2592e6,uA=31536e6,sA=[sS,lS,dS,vS,mS,gS,yS],cA=sA.slice(0,-1),lA=cA.slice(0,-1),fA=lA.slice(0,-1),dA=fA.slice(0,-1),hA=[sS,lS],pA=[sS],vA=[[cA,1,nA],[cA,5,5e3],[cA,15,15e3],[cA,30,3e4],[lA,1,rA],[lA,5,3e5],[lA,15,9e5],[lA,30,18e5],[fA,1,iA],[fA,3,108e5],[fA,6,216e5],[fA,12,432e5],[dA,1,aA],[[sS,fS],1,6048e5],[hA,1,oA],[hA,3,7776e6],[pA,1,uA]];function mA(e){var t,n,r=e.extent,i=e.maxbins||40,a=Math.abs(pE(r))/i,o=uS((function(e){return e[2]})).right(vA,a);return o===vA.length?(t=pA,n=WE(r[0]/uA,r[1]/uA,i)):o?(t=(o=vA[a/vA[o-1][2]<vA[o][2]/a?o-1:o])[0],n=o[1]):(t=sA,n=Math.max(WE(r[0],r[1],i),1)),{units:t,step:n}}var gA=new Date,yA=new Date;function bA(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,u=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return u;do{u.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return u},i.filter=function(n){return bA((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return gA.setTime(+t),yA.setTime(+r),e(gA),e(yA),Math.floor(n(gA,yA))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var xA=864e5,wA=6048e5;function _A(e){return bA((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/wA}))}var kA=_A(0),EA=_A(1),OA=_A(2),SA=_A(3),AA=_A(4),CA=_A(5),DA=_A(6),jA=(kA.range,EA.range,OA.range,SA.range,AA.range,CA.range,DA.range,bA((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/xA}),(function(e){return e.getUTCDate()-1}))),TA=jA;jA.range;function FA(e){return bA((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/wA}))}var PA=FA(0),MA=FA(1),NA=FA(2),RA=FA(3),IA=FA(4),BA=FA(5),zA=FA(6),LA=(PA.range,MA.range,NA.range,RA.range,IA.range,BA.range,zA.range,bA((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/xA}),(function(e){return e.getDate()-1}))),UA=LA,qA=(LA.range,bA((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));qA.every=function(e){return isFinite(e=Math.floor(e))&&e>0?bA((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var WA=qA,HA=(qA.range,bA((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));HA.every=function(e){return isFinite(e=Math.floor(e))&&e>0?bA((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var $A=HA;HA.range;function VA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function GA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function YA(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function KA(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,s=e.shortMonths,c=cC(i),l=lC(i),f=cC(a),d=lC(a),h=cC(o),p=lC(o),v=cC(u),m=lC(u),g=cC(s),y=lC(s),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:TC,e:TC,f:RC,g:GC,G:KC,H:FC,I:PC,j:MC,L:NC,m:IC,M:BC,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:yD,s:bD,S:zC,u:LC,U:UC,V:WC,w:HC,W:$C,x:null,X:null,y:VC,Y:YC,Z:XC,"%":gD},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:QC,e:QC,f:nD,g:hD,G:vD,H:ZC,I:JC,j:eD,L:tD,m:rD,M:iD,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:yD,s:bD,S:aD,u:oD,U:uD,V:cD,w:lD,W:fD,x:null,X:null,y:dD,Y:pD,Z:mD,"%":gD},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:wC,e:wC,f:AC,g:gC,G:mC,H:kC,I:kC,j:_C,L:SC,m:xC,M:EC,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:bC,Q:DC,s:jC,S:OC,u:dC,U:hC,V:pC,w:fC,W:vC,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:gC,Y:mC,Z:yC,"%":CC};function _(e,t){return function(n){var r,i,a,o=[],u=-1,s=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===e.charCodeAt(u)&&(o.push(e.slice(s,u)),null!=(i=rC[r=e.charAt(++u)])?r=e.charAt(++u):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),s=u+1);return o.push(e.slice(s,u)),o.join("")}}function k(e,t){return function(n){var r,i,a=YA(1900,void 0,1);if(E(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=GA(YA(a.y,0,1))).getUTCDay(),r=i>4||0===i?EA.ceil(r):EA(r),r=TA.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=VA(YA(a.y,0,1))).getDay(),r=i>4||0===i?MA.ceil(r):MA(r),r=UA.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?GA(YA(a.y,0,1)).getUTCDay():VA(YA(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,GA(a)):VA(a)}}function E(e,t,n,r){for(var i,a,o=0,u=t.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in rC?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}var XA,QA,ZA,JA,eC,tC,nC,rC={"-":"",_:" ",0:"0"},iC=/^\s*\d+/,aC=/^%/,oC=/[\\^$*+?|[\]().{}]/g;function uC(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function sC(e){return e.replace(oC,"\\$&")}function cC(e){return new RegExp("^(?:"+e.map(sC).join("|")+")","i")}function lC(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function fC(e,t,n){var r=iC.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function dC(e,t,n){var r=iC.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function vC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function mC(e,t,n){var r=iC.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function gC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yC(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bC(e,t,n){var r=iC.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function xC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _C(e,t,n){var r=iC.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function kC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function EC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function OC(e,t,n){var r=iC.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function SC(e,t,n){var r=iC.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function AC(e,t,n){var r=iC.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function CC(e,t,n){var r=aC.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function DC(e,t,n){var r=iC.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jC(e,t,n){var r=iC.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function TC(e,t){return uC(e.getDate(),t,2)}function FC(e,t){return uC(e.getHours(),t,2)}function PC(e,t){return uC(e.getHours()%12||12,t,2)}function MC(e,t){return uC(1+UA.count(WA(e),e),t,3)}function NC(e,t){return uC(e.getMilliseconds(),t,3)}function RC(e,t){return NC(e,t)+"000"}function IC(e,t){return uC(e.getMonth()+1,t,2)}function BC(e,t){return uC(e.getMinutes(),t,2)}function zC(e,t){return uC(e.getSeconds(),t,2)}function LC(e){var t=e.getDay();return 0===t?7:t}function UC(e,t){return uC(PA.count(WA(e)-1,e),t,2)}function qC(e){var t=e.getDay();return t>=4||0===t?IA(e):IA.ceil(e)}function WC(e,t){return e=qC(e),uC(IA.count(WA(e),e)+(4===WA(e).getDay()),t,2)}function HC(e){return e.getDay()}function $C(e,t){return uC(MA.count(WA(e)-1,e),t,2)}function VC(e,t){return uC(e.getFullYear()%100,t,2)}function GC(e,t){return uC((e=qC(e)).getFullYear()%100,t,2)}function YC(e,t){return uC(e.getFullYear()%1e4,t,4)}function KC(e,t){var n=e.getDay();return uC((e=n>=4||0===n?IA(e):IA.ceil(e)).getFullYear()%1e4,t,4)}function XC(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+uC(t/60|0,"0",2)+uC(t%60,"0",2)}function QC(e,t){return uC(e.getUTCDate(),t,2)}function ZC(e,t){return uC(e.getUTCHours(),t,2)}function JC(e,t){return uC(e.getUTCHours()%12||12,t,2)}function eD(e,t){return uC(1+TA.count($A(e),e),t,3)}function tD(e,t){return uC(e.getUTCMilliseconds(),t,3)}function nD(e,t){return tD(e,t)+"000"}function rD(e,t){return uC(e.getUTCMonth()+1,t,2)}function iD(e,t){return uC(e.getUTCMinutes(),t,2)}function aD(e,t){return uC(e.getUTCSeconds(),t,2)}function oD(e){var t=e.getUTCDay();return 0===t?7:t}function uD(e,t){return uC(kA.count($A(e)-1,e),t,2)}function sD(e){var t=e.getUTCDay();return t>=4||0===t?AA(e):AA.ceil(e)}function cD(e,t){return e=sD(e),uC(AA.count($A(e),e)+(4===$A(e).getUTCDay()),t,2)}function lD(e){return e.getUTCDay()}function fD(e,t){return uC(EA.count($A(e)-1,e),t,2)}function dD(e,t){return uC(e.getUTCFullYear()%100,t,2)}function hD(e,t){return uC((e=sD(e)).getUTCFullYear()%100,t,2)}function pD(e,t){return uC(e.getUTCFullYear()%1e4,t,4)}function vD(e,t){var n=e.getUTCDay();return uC((e=n>=4||0===n?AA(e):AA.ceil(e)).getUTCFullYear()%1e4,t,4)}function mD(){return"+0000"}function gD(){return"%"}function yD(e){return+e}function bD(e){return Math.floor(+e/1e3)}function xD(e){var t={};return function(n){return t[n]||(t[n]=e(n))}}function wD(e){var t=xD(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat:function(e){var n=VE(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return function(e,t){return function(n){var r=e(n),i=r.indexOf(t);if(i<0)return r;for(var a=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(r,i),o=a<r.length?r.slice(a):"";--a>i;)if("0"!==r[a]){++a;break}return r.slice(0,a)+o}}(t(n),t(".1f")(1)[1])}return t(n)},formatSpan:function(e,r,i,a){a=VE(null==a?",f":a);var o,u=WE(e,r,i),s=Math.max(Math.abs(e),Math.abs(r));if(null==a.precision)switch(a.type){case"s":return isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(KE(t)/3)))-KE(Math.abs(e)))}(u,s))||(a.precision=o),n(a,s);case"":case"e":case"g":case"p":case"r":isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,KE(t)-KE(e))+1}(u,s))||(a.precision=o-("e"===a.type));break;case"f":case"%":isNaN(o=function(e){return Math.max(0,-KE(Math.abs(e)))}(u))||(a.precision=o-2*("%"===a.type))}return t(a)}}}function _D(){return tC=wD({format:eO,formatPrefix:tO})}function kD(e){return wD(iO(e))}function ED(e){return arguments.length?tC=kD(e):tC}function OD(e,t,n){dk(n=n||{})||K_("Invalid time multi-format specifier: ".concat(n));var r=t(gS),i=t(mS),a=t(vS),o=t(dS),u=t(fS),s=t(lS),c=t(cS),l=t(sS),f=e(n[yS]||".%L"),d=e(n[gS]||":%S"),h=e(n[mS]||"%I:%M"),p=e(n[vS]||"%I %p"),v=e(n[dS]||n[hS]||"%a %d"),m=e(n[fS]||"%b %d"),g=e(n[lS]||"%B"),y=e(n[cS]||"%B"),b=e(n[sS]||"%Y");return function(e){return(r(e)<e?f:i(e)<e?d:a(e)<e?h:o(e)<e?p:s(e)<e?u(e)<e?v:m:l(e)<e?c(e)<e?g:y:b)(e)}}function SD(e){var t=xD(e.format),n=xD(e.utcFormat);return{timeFormat:function(e){return uE(e)?t(e):OD(t,YS,e)},utcFormat:function(e){return uE(e)?n(e):OD(n,KS,e)},timeParse:xD(e.parse),utcParse:xD(e.utcParse)}}function AD(){return nC=SD({format:QA,parse:ZA,utcFormat:JA,utcParse:eC})}function CD(e){return SD(KA(e))}function DD(e){return arguments.length?nC=CD(e):nC}!function(e){XA=KA(e),QA=XA.format,ZA=XA.parse,JA=XA.utcFormat,eC=XA.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),_D(),AD();var jD=function(e,t){return Vk({},e,t)};function TD(e,t){var n=e?kD(e):ED(),r=t?CD(t):DD();return jD(n,r)}function FD(e,t){var n=arguments.length;return n&&2!==n&&K_("defaultLocale expects either zero or two arguments."),n?jD(ED(e),DD(t)):jD(ED(),DD())}function PD(){return _D(),AD(),FD()}var MD=/^(data:|([A-Za-z]+:)?\/\/)/,ND=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,RD=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ID="file://";function BD(e,t){return zD.apply(this,arguments)}function zD(){return(zD=Jo(tu().mark((function e(t,n){var r,i;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,i=r.href,e.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function LD(e,t){return UD.apply(this,arguments)}function UD(){return UD=Jo(tu().mark((function e(t,n){var r,i,a,o,u,s,c;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vk({},this.options,n),r=this.fileAccess,i={href:null},s=ND.test(t.replace(RD,"")),null!=t&&"string"===typeof t&&s||K_("Sanitize failure, invalid URI: "+vE(t)),c=MD.test(t),(u=n.baseURL)&&!c&&(t.startsWith("/")||u.endsWith("/")||(t="/"+t),t=u+t),o=(a=t.startsWith(ID))||"file"===n.mode||"http"!==n.mode&&!c&&r,a?t=t.slice(ID.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!o}),i.href=t,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)}))),UD.apply(this,arguments)}function qD(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:WD}function WD(){return HD.apply(this,arguments)}function HD(){return(HD=Jo(tu().mark((function e(){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K_("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $D(e){return e?function(){var t=Jo(tu().mark((function t(n,r){var i,a,o;return tu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Vk({},this.options.http,r),a=r&&r.response,t.next=4,e(n,i);case 4:return o=t.sent,t.abrupt("return",o.ok?Bk(o[a])?o[a]():o.text():K_(o.status+""+o.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():VD}function VD(){return GD.apply(this,arguments)}function GD(){return(GD=Jo(tu().mark((function e(){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K_("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var YD=function(e){return!Number.isNaN(+e)&&!(e instanceof Date)},KD={boolean:mE,integer:yk,number:yk,date:yE,string:bE,unknown:J_},XD=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return YD(e)&&Number.isInteger(+e)},YD,function(e){return!Number.isNaN(Date.parse(e))}],QD=["boolean","integer","number","date"];function ZD(e,t){if(!e||!e.length)return"unknown";for(var n,r,i,a=e.length,o=XD.length,u=XD.map((function(e,t){return t+1})),s=0,c=0;s<a;++s)for(r=t?e[s][t]:e[s],n=0;n<o;++n)if(u[n]&&(null!=(i=r)&&i===i)&&!XD[n](r)&&(u[n]=0,++c===XD.length))return"string";return QD[u.reduce((function(e,t){return 0===e?t:e}),0)-1]}function JD(e,t){return t.reduce((function(t,n){return t[n]=ZD(e,n),t}),{})}function ej(e){var t=function(t,n){var r={delimiter:e};return tj(t,n?Vk(n,r):r)};return t.responseType="text",t}function tj(e,t){return t.header&&(e=t.header.map(vE).join(t.delimiter)+"\n"+e),DE(t.delimiter).parse(e+"")}function nj(e,t){var n,r=t&&t.property?Q_(t.property):J_;return!dk(e)||(n=e,"function"===typeof Buffer&&Bk(Buffer.isBuffer)&&Buffer.isBuffer(n))?r(JSON.parse(e)):function(e,t){!fk(e)&&iE(e)&&(e=du(e));return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(r(e),t)}tj.responseType="text",nj.responseType="json";var rj={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function ij(e,t){var n,r,i,a;return e=nj(e,t),t&&t.feature?(n=TE,i=t.feature):t&&t.mesh?(n=NE,i=t.mesh,a=rj[t.filter]):K_("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[i])?n(e,r,a):K_("Invalid TopoJSON object: "+i))&&r.features||[r]}ij.responseType="json";var aj={dsv:tj,csv:ej(","),tsv:ej("\t"),json:nj,topojson:ij};function oj(e,t){return arguments.length>1?(aj[e]=t,this):Xk(aj,e)?aj[e]:null}function uj(e){var t=oj(e);return t&&t.responseType||"text"}function sj(e,t,n,r){var i=oj((t=t||{}).type||"json");return i||K_("Unknown data format type: "+t.type),e=i(e,t),t.parse&&function(e,t,n,r){if(!e.length)return;var i=DD();n=n||i.timeParse,r=r||i.utcParse;var a,o,u,s,c,l,f=e.columns||Object.keys(e[0]);"auto"===t&&(t=JD(e,f));var d=(f=Object.keys(t)).map((function(e){var i,a,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(a=(i=o.split(/:(.+)?/,2))[1])[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1)),("utc"===i[0]?r:n)(a);if(!KD[o])throw Error("Illegal format pattern: "+e+":"+o);return KD[o]}));for(u=0,c=e.length,l=f.length;u<c;++u)for(a=e[u],s=0;s<l;++s)a[o=f[s]]=d[s](a[o])}(e,t.parse,n,r),Xk(e,"columns")&&delete e.columns,e}var cj=function(e,t){return function(n){return{options:n||{},sanitize:LD,load:BD,fileAccess:!!t,file:qD(t),http:$D(e)}}}("undefined"!==typeof fetch&&fetch,null);function lj(e){var t=e||J_,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i=t(e);if(r[i]){r[i]=0;var a=n.indexOf(e);a>=0&&n.splice(a,1)}return n},n}function fj(e,t){return dj.apply(this,arguments)}function dj(){return dj=Jo(tu().mark((function e(t,n){return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),dj.apply(this,arguments)}var hj=Symbol("vega_id"),pj=1;function vj(e){return!(!e||!mj(e))}function mj(e){return e[hj]}function gj(e,t){return e[hj]=t,e}function yj(e){var t=e===Object(e)?e:{data:e};return mj(t)?t:gj(t,pj++)}function bj(e){return xj(e,yj({}))}function xj(e,t){for(var n in e)t[n]=e[n];return t}function wj(e,t){return gj(t,mj(e))}function _j(e,t){return e?t?function(n,r){return e(n,r)||mj(t(n))-mj(t(r))}:function(t,n){return e(t,n)||mj(t)-mj(n)}:null}function kj(e){return e&&e.constructor===Ej}function Ej(){var e=[],t=[],n=[],r=[],i=[],a=null,o=!1;return{constructor:Ej,insert:function(t){for(var n=Rk(t),r=n.length,i=0;i<r;++i)e.push(n[i]);return this},remove:function(e){for(var n=Bk(e)?r:t,i=Rk(e),a=i.length,o=0;o<a;++o)n.push(i[o]);return this},modify:function(e,t,r){var a={field:t,value:Hk(r)};return Bk(e)?(a.filter=e,i.push(a)):(a.tuple=e,n.push(a)),this},encode:function(e,t){return Bk(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean:function(e){return a=e,this},reflow:function(){return o=!0,this},pulse:function(u,s){var c,l,f,d,h,p,v={},m={};for(c=0,l=s.length;c<l;++c)v[mj(s[c])]=1;for(c=0,l=t.length;c<l;++c)v[mj(h=t[c])]=-1;for(c=0,l=r.length;c<l;++c)d=r[c],s.forEach((function(e){d(e)&&(v[mj(e)]=-1)}));for(c=0,l=e.length;c<l;++c)p=mj(h=e[c]),v[p]?v[p]=1:u.add.push(yj(e[c]));for(c=0,l=s.length;c<l;++c)h=s[c],v[mj(h)]<0&&u.rem.push(h);function g(e,t,n){n?e[t]=n(e):u.encode=t,o||(m[mj(e)]=e)}for(c=0,l=n.length;c<l;++c)h=(f=n[c]).tuple,d=f.field,(p=v[mj(h)])>0&&(g(h,d,f.value),u.modifies(d));for(c=0,l=i.length;c<l;++c)f=i[c],d=f.filter,s.forEach((function(e){d(e)&&v[mj(e)]>0&&g(e,f.field,f.value)})),u.modifies(f.field);if(o)u.mod=t.length||r.length?s.filter((function(e){return v[mj(e)]>0})):s.slice();else for(p in m)u.mod.push(m[p]);return(a||null==a&&(t.length||r.length))&&u.clean(!0),u}}}var Oj="_:mod:_";function Sj(){Object.defineProperty(this,Oj,{writable:!0,value:{}})}Sj.prototype={set:function(e,t,n,r){var i=this,a=i[e],o=i[Oj];return null!=t&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=fk(n)?1+n.length:-1),i},modified:function(e,t){var n=this[Oj];if(!arguments.length){for(var r in n)if(n[r])return!0;return!1}if(fk(e)){for(var i=0;i<e.length;++i)if(n[e[i]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear:function(){return this[Oj]={},this}};var Aj=0,Cj=new Sj;function Dj(e,t,n,r){this.id=++Aj,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function jj(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Dj.prototype={targets:function(){return this._targets||(this._targets=lj(Z_))},set:function(e){return this.value!==e?(this.value=e,1):0},skip:jj(1),modified:jj(2),parameters:function(e,t,n){var r=this;t=!1!==t;var i,a,o,u,s=this._argval=this._argval||new Sj,c=this._argops=this._argops||[],l=[],f=function(e,n,i){i instanceof Dj?(i!==r&&(t&&i.targets().add(r),l.push(i)),c.push({op:i,name:e,index:n})):s.set(e,n,i)};for(i in e)if(a=e[i],"pulse"===i)Rk(a).forEach((function(e){e instanceof Dj?e!==r&&(e.targets().add(r),l.push(e)):K_("Pulse parameters must be operator instances.")})),this.source=a;else if(fk(a))for(s.set(i,-1,Array(o=a.length)),u=0;u<o;++u)f(i,u,a[u]);else f(i,-1,a);return this.marshall().clear(),n&&(c.initonly=!0),l},marshall:function(e){var t,n,r,i,a=this._argval||Cj,o=this._argops;if(o){var u=o.length;for(n=0;n<u;++n)i=(r=(t=o[n]).op).modified()&&r.stamp===e,a.set(t.name,t.index,r.value,i);if(o.initonly){for(n=0;n<u;++n)(t=o[n]).op.targets().remove(this);this._argops=null,this._update=null}}return a},detach:function(){var e,t,n,r=this._argops;if(r)for(e=0,t=r.length;e<t;++e)(n=r[e].op)._targets&&n._targets.remove(this);this.pulse=null,this.source=null},evaluate:function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run:function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}};var Tj=0;function Fj(e,t,n){this.id=++Tj,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Pj(e,t,n){return new Fj(e,t,n)}function Mj(){return Mj=Jo(tu().mark((function e(t,n){var r,i,a;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:uj(n&&n.type)});case 5:a=e.sent;try{a=r.parse(a,n)}catch(o){i=-2,r.warn("Data ingestion failed",t,o)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:a,status:i});case 14:case"end":return e.stop()}}),e,this,[[2,9]])}))),Mj.apply(this,arguments)}function Nj(){return Nj=Jo(tu().mark((function e(t,n,r){var i,a,o;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(i=this)._pending||Rj(i)).requests+=1,e.next=4,i.request(n,r);case 4:return o=e.sent,i.pulse(t,i.changeset().remove(nk).insert(o.data||[])),a.done(),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),Nj.apply(this,arguments)}function Rj(e){var t,n=new Promise((function(e){return t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}Fj.prototype={_filter:nk,_apply:J_,targets:function(){return this._targets||(this._targets=lj(Z_))},consume:function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive:function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter:function(e){var t=Pj(e);return this.targets().add(t),t},apply:function(e){var t=Pj(null,e);return this.targets().add(t),t},merge:function(){var e=Pj();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle:function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},debounce:function(e){var t=Pj();return this.targets().add(Pj(null,null,$k(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between:function(e,t){var n=!1;return e.targets().add(Pj(null,null,(function(){return n=!0}))),t.targets().add(Pj(null,null,(function(){return n=!1}))),this.filter((function(){return n}))},detach:function(){this._filter=nk,this._targets=null}};var Ij={skip:!0};function Bj(e,t,n,r,i,a){var o,u,s=Vk({},a,Ij);Bk(n)||(n=Hk(n)),void 0===r?o=function(t){return e.touch(n(t))}:Bk(r)?(u=new Dj(null,r,i,!1),o=function(t){u.evaluate(t);var r=n(t),i=u.value;kj(i)?e.pulse(r,i,a):e.update(r,i,s)}):o=function(t){return e.update(n(t),r,s)},t.apply(o)}function zj(e,t,n,r,i,a){if(void 0===r)t.targets().add(n);else{var o=a||{},u=new Dj(null,function(e,t){return t=Bk(t)?t:Hk(t),e?function(n,r){var i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);u.modified(o.force),u.rank=t.rank,t.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),e.connect(n,[u]))}}var Lj={};function Uj(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function qj(e,t){var n=[];return _E(e,t,(function(e){return n.push(e)})),n}function Wj(e,t){var n={};return e.visit(t,(function(e){n[mj(e)]=1})),function(e){return n[mj(e)]?null:e}}function Hj(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function $j(e,t,n,r){var i=this,a=n.length,o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(var u=0;u<a;++u){var s=n[u];if(s.stamp===t){if(s.fields){var c=i.fields||(i.fields={});for(var l in s.fields)c[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}}this.changes=o}function Vj(){return Vj=Jo(tu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!(i=this)._pulse){e.next=3;break}return e.abrupt("return",Yj(i));case 3:if(!i._pending){e.next=6;break}return e.next=6,i._pending;case 6:if(!n){e.next=9;break}return e.next=9,fj(i,n);case 9:if(i._touched.length){e.next=12;break}return i.debug("Dataflow invoked, but nothing to do."),e.abrupt("return",i);case 12:o=++i._clock,i._pulse=new Uj(i,o,t),i._touched.forEach((function(e){return i._enqueue(e,!0)})),i._touched=lj(Z_),u=0,e.prev=17;case 18:if(!(i._heap.size()>0)){e.next=35;break}if((s=i._heap.pop()).rank===s.qrank){e.next=23;break}return i._enqueue(s,!0),e.abrupt("continue",18);case 23:if(!(c=s.run(i._getPulse(s,t))).then){e.next=30;break}return e.next=27,c;case 27:c=e.sent,e.next=31;break;case 30:c.async&&(a.push(c.async),c=Lj);case 31:c!==Lj&&s._targets&&s._targets.forEach((function(e){return i._enqueue(e)})),++u,e.next=18;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(17),i._heap.clear(),l=e.t0;case 41:if(i._input={},i._pulse=null,i.debug("Pulse ".concat(o,": ").concat(u," operators")),l&&(i._postrun=[],i.error(l)),!i._postrun.length){e.next=55;break}f=i._postrun.sort((function(e,t){return t.priority-e.priority})),i._postrun=[],d=0;case 49:if(!(d<f.length)){e.next=55;break}return e.next=52,fj(i,f[d].callback);case 52:++d,e.next=49;break;case 55:if(!r){e.next=58;break}return e.next=58,fj(i,r);case 58:return a.length&&Promise.all(a).then((function(e){return i.runAsync(null,(function(){e.forEach((function(e){try{e(i)}catch(t){i.error(t)}}))}))})),e.abrupt("return",i);case 60:case"end":return e.stop()}}),e,this,[[17,37]])}))),Vj.apply(this,arguments)}function Gj(){return Gj=Jo(tu().mark((function e(t,n,r){var i,a=this;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return i=function(){return a._running=null},(this._running=this.evaluate(t,n,r)).then(i,i),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)}))),Gj.apply(this,arguments)}function Yj(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}Uj.prototype={StopPropagation:Lj,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(e){return new Uj(this.dataflow).init(this,e)},clone:function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll:function(){var e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||((e=new Uj(this.dataflow).init(this)).add=e.source,e.rem=[]),e},init:function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter:function(e){this.dataflow.runAfter(e)},changed:function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow:function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Wj(this,1))),this},clean:function(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies:function(e){var t=this.fields||(this.fields={});return fk(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},modified:function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?fk(e)?e.some((function(e){return n[e]})):n[e]:!!n)},filter:function(e,t){var n=this;return 1&e&&(n.addF=Hj(n.addF,t)),2&e&&(n.remF=Hj(n.remF,t)),4&e&&(n.modF=Hj(n.modF,t)),16&e&&(n.srcF=Hj(n.srcF,t)),n},materialize:function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=qj(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=qj(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=qj(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit:function(e,t){var n=this,r=t;if(16&e)return _E(n.source,n.srcF,r),n;1&e&&_E(n.add,n.addF,r),2&e&&_E(n.rem,n.remF,r),4&e&&_E(n.mod,n.modF,r);var i=n.source;if(8&e&&i){var a=n.add.length+n.mod.length;a===i.length||_E(i,a?Wj(n,5):n.srcF,r)}return n}},eE($j,Uj,{fork:function(e){var t=new Uj(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},changed:function(e){return this.changes&e},modified:function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?fk(e)?e.some((function(e){return n[e]})):n[e]:0},filter:function(){K_("MultiPulse does not support filtering.")},materialize:function(){K_("MultiPulse does not support materialization.")},visit:function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});var Kj={skip:!1,force:!1};function Xj(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),Qj(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,i=t,a=e.length,o=e[t],u=1+(t<<1);for(;u<a;)(r=u+1)<a&&n(e[u],e[r])>=0&&(u=r),e[t]=e[u],u=1+((t=u)<<1);e[t]=o,Qj(e,i,t,n)}(t,0,e)):n=r,n}}}function Qj(e,t,n,r){for(var i,a,o=e[n];n>t&&r(o,i=e[a=n-1>>1])<0;)e[n]=i,n=a;return e[n]=o}function Zj(){this.logger(lk()),this.logLevel(ok),this._clock=0,this._rank=0,this._locale=FD();try{this._loader=cj()}catch(Awe){}this._touched=lj(Z_),this._input={},this._pulse=null,this._heap=Xj((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}function Jj(e){return function(){return this._log[e].apply(this,arguments)}}function eT(e,t){Dj.call(this,e,null,t)}Zj.prototype={stamp:function(){return this._clock},loader:function(e){return arguments.length?(this._loader=e,this):this._loader},locale:function(e){return arguments.length?(this._locale=e,this):this._locale},logger:function(e){return arguments.length?(this._log=e,this):this._log},error:Jj("error"),warn:Jj("warn"),info:Jj("info"),debug:Jj("debug"),logLevel:Jj("level"),cleanThreshold:1e4,add:function(e,t,n,r){var i,a=1;return e instanceof Dj?i=e:e&&e.prototype instanceof Dj?i=new e:Bk(e)?i=new Dj(null,e):(a=0,i=new Dj(e,t)),this.rank(i),a&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},connect:function(e,t){for(var n=e.rank,r=t.length,i=0;i<r;++i)if(n<t[i].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&K_("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||Kj);var r=new Uj(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},touch:function(e,t){var n=t||Kj;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){var r=n||Kj;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:Ej,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){var n=this.locale();return sj(e,t,n.timeParse,n.utcParse)},preload:function(e,t,n){return Nj.apply(this,arguments)},request:function(e,t){return Mj.apply(this,arguments)},events:function(e,t,n,r){for(var i,a=this,o=Pj(n,r),u=function(e){e.dataflow=a;try{o.receive(e)}catch(K_){a.error(K_)}finally{a.run()}},s=(i="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Rk(e)).length,c=0;c<s;++c)i[c].addEventListener(t,u);return o},on:function(e,t,n,r,i){return(e instanceof Dj?zj:Bj)(this,e,t,n,r,i),this},evaluate:function(e,t,n){return Vj.apply(this,arguments)},run:function(e,t,n){return this._pulse?Yj(this):(this.evaluate(e,t,n),this)},runAsync:function(e,t,n){return Gj.apply(this,arguments)},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},_enqueue:function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){var n=e.source,r=this._clock;return n&&fk(n)?new $j(this,r,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==Lj&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},eE(eT,Dj,{run:function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},evaluate:function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform:function(){}});var tT={};function nT(e){var t=rT(e);return t&&t.Definition||null}function rT(e){return e=e&&e.toLowerCase(),Xk(tT,e)?tT[e]:null}function iT(e,t){var n;if(void 0===t){var r,i=nu(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,u=-1,s=nu(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function aT(e,t){var n;if(void 0===t){var r,i=nu(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,u=-1,s=nu(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function oT(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oS;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,u=Math.log(a),s=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*s*(a-s)/a)*(o-a/2<0?-1:1),l=Math.max(n,Math.floor(t-o*s/a+c)),f=Math.min(r,Math.floor(t+(a-o)*s/a+c));oT(e,t,l,f,i)}var d=e[t],h=n,p=r;for(uT(e,n,t),i(e[r],d)>0&&uT(e,n,r);h<p;){for(uT(e,h,p),++h,--p;i(e[h],d)<0;)++h;for(;i(e[p],d)>0;)--p}0===i(e[n],d)?uT(e,n,p):uT(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}return e}function uT(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var sT=tu().mark(lT);function cT(e){return null===e?NaN:+e}function lT(e,t){var n,r,i,a,o,u,s;return tu().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=21;break}n=nu(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){c.next=9;break}return c.next=9,i;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:a=-1,o=nu(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=32;break}if(s=u.value,!(null!=(s=t(s,++a,e))&&(s=+s)>=s)){c.next=30;break}return c.next=30,s;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),o.e(c.t1);case 37:return c.prev=37,o.f(),c.finish(37);case 40:case"end":return c.stop()}}),sT,null,[[2,13,16,19],[23,34,37,40]])}function fT(e,t,n){if(r=(e=Float64Array.from(lT(e,n))).length){if((t=+t)<=0||r<2)return aT(e);if(t>=1)return iT(e);var r,i=(r-1)*t,a=Math.floor(i),o=iT(oT(e,a).subarray(0,a+1));return o+(aT(e.subarray(a+1))-o)*(i-a)}}function dT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cT;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return o+(u-o)*(i-a)}}function hT(e,t){var n=function(e,t){var n,r=0,i=0,a=0;if(void 0===t){var o,u=nu(e);try{for(u.s();!(o=u.n()).done;){var s=o.value;null!=s&&(s=+s)>=s&&(a+=(n=s-i)*(s-(i+=n/++r)))}}catch(h){u.e(h)}finally{u.f()}}else{var c,l=-1,f=nu(e);try{for(f.s();!(c=f.n()).done;){var d=c.value;null!=(d=t(d,++l,e))&&(d=+d)>=d&&(a+=(n=d-i)*(d-(i+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return a/(r-1)}(e,t);return n?Math.sqrt(n):n}function pT(e,t){return fT(e,.5,t)}var vT=tu().mark(mT);function mT(e,t){var n,r,i,a,o,u,s;return tu().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=t){c.next=21;break}n=nu(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(i=r.value)&&""!==i&&(i=+i)>=i)){c.next=9;break}return c.next=9,i;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=41;break;case 21:a=-1,o=nu(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=33;break}if(s=u.value,!(null!=(s=t(s,++a,e))&&""!==s&&(s=+s)>=s)){c.next=31;break}return c.next=31,s;case 31:c.next=25;break;case 33:c.next=38;break;case 35:c.prev=35,c.t1=c.catch(23),o.e(c.t1);case 38:return c.prev=38,o.f(),c.finish(38);case 41:case"end":return c.stop()}}),vT,null,[[2,13,16,19],[23,35,38,41]])}function gT(e,t,n){var r=Float64Array.from(mT(e,n));return r.sort(oS),t.map((function(e){return dT(r,e)}))}function yT(e,t){return gT(e,[.25,.5,.75],t)}function bT(e,t){var n=e.length,r=hT(e,t),i=yT(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function xT(e){var t,n,r,i,a,o,u=e.maxbins||20,s=e.base||10,c=Math.log(s),l=e.divide||[5,2],f=e.extent[0],d=e.extent[1],h=e.span||d-f||Math.abs(f)||1;if(e.step)t=e.step;else if(e.steps){for(i=h/u,a=0,o=e.steps.length;a<o&&e.steps[a]<i;++a);t=e.steps[Math.max(0,a-1)]}else{for(n=Math.ceil(Math.log(u)/c),r=e.minstep||0,t=Math.max(r,Math.pow(s,Math.round(Math.log(h)/c)-n));Math.ceil(h/t)>u;)t*=s;for(a=0,o=l.length;a<o;++a)(i=t/l[a])>=r&&h/i<=u&&(t=i)}var p=(i=Math.log(t))>=0?0:1+~~(-i/c),v=Math.pow(s,-p-1);return(e.nice||void 0===e.nice)&&(f=f<(i=Math.floor(f/t+v)*t)?i-t:i,d=Math.ceil(d/t)*t),{start:f,stop:d===f?f+t:d,step:t}}var wT=Math.random;function _T(e){wT=e}function kT(e,t,n,r){if(!e.length)return[void 0,void 0];var i,a,o,u,s=Float64Array.from(mT(e,r)),c=s.length,l=t;for(o=0,u=Array(l);o<l;++o){for(i=0,a=0;a<c;++a)i+=s[~~(wT()*c)];u[o]=i/c}return u.sort(oS),[fT(u,n/2),fT(u,1-n/2)]}function ET(e,t,n,r){r=r||function(e){return e};for(var i,a=e.length,o=new Float64Array(a),u=0,s=1,c=r(e[0]),l=c,f=c+t;s<a;++s){if((i=r(e[s]))>=f){for(l=(c+l)/2;u<s;++u)o[u]=l;f=i+t,c=i}l=i}for(l=(c+l)/2;u<s;++u)o[u]=l;return n?function(e,t){var n,r,i=e.length,a=0,o=1;for(;e[a]===e[o];)++o;for(;o<i;){for(n=o+1;e[o]===e[n];)++n;if(e[o]-e[o-1]<t){for(r=o+(a+n-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[a]}a=o,o=n}return e}(o,t+t/4):o}function OT(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function ST(e,t){var n,r,i;null==t&&(t=e,e=0);var a={min:function(e){return arguments.length?(i=r-(n=e||0),a):n},max:function(e){return arguments.length?(i=(r=e||0)-n,a):r},sample:function(){return n+Math.floor(i*wT())},pdf:function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},cdf:function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},icdf:function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN}};return a.min(e).max(t)}var AT=Math.sqrt(2*Math.PI),CT=Math.SQRT2,DT=NaN;function jT(e,t){e=e||0,t=null==t?1:t;var n,r,i=0,a=0;if(DT===DT)i=DT,DT=NaN;else{do{n=(i=2*wT()-1)*i+(a=2*wT()-1)*a}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),DT=a*r}return e+i*t}function TT(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*AT)}function FT(e,t,n){var r,i=(e-(t=t||0))/(n=null==n?1:n),a=Math.abs(i);if(a>37)r=0;else{var o=Math.exp(-a*a/2);a<7.07106781186547?(r=o*((((((.0352624965998911*a+.700383064443688)*a+6.37396220353165)*a+33.912866078383)*a+112.079291497871)*a+221.213596169931)*a+220.206867912376),r/=((((((.0883883476483184*a+1.75566716318264)*a+16.064177579207)*a+86.7807322029461)*a+296.564248779674)*a+637.333633378831)*a+793.826512519948)*a+440.413735824752):r=o/(a+1/(a+2/(a+3/(a+4/(a+.65)))))/2.506628274631}return i>0?1-r:r}function PT(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*CT*function(e){var t,n=-Math.log((1-e)*(1+e));t=n<6.25?1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*(n=Math.sqrt(n)-3.25))*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n:Number.isFinite(n)?4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*(n=Math.sqrt(n)-5)-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n:1/0;return t*e}(2*e-1)}function MT(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return jT(n,r)},pdf:function(e){return TT(e,n,r)},cdf:function(e){return FT(e,n,r)},icdf:function(e){return PT(e,n,r)}};return i.mean(e).stdev(t)}function NT(e,t){var n=MT(),r=0,i={data:function(n){return arguments.length?(e=n,r=n?n.length:0,i.bandwidth(t)):e},bandwidth:function(n){return arguments.length?(!(t=n)&&e&&(t=bT(e)),i):t},sample:function(){return e[~~(wT()*r)]+t*n.sample()},pdf:function(i){for(var a=0,o=0;o<r;++o)a+=n.pdf((i-e[o])/t);return a/t/r},cdf:function(i){for(var a=0,o=0;o<r;++o)a+=n.cdf((i-e[o])/t);return a/r},icdf:function(){throw Error("KDE icdf not supported.")}};return i.data(e)}function RT(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+jT()*t)}function IT(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*AT*e)}function BT(e,t,n){return FT(Math.log(e),t,n)}function zT(e,t,n){return Math.exp(PT(e,t,n))}function LT(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return RT(n,r)},pdf:function(e){return IT(e,n,r)},cdf:function(e){return BT(e,n,r)},icdf:function(e){return zT(e,n,r)}};return i.mean(e).stdev(t)}function UT(e,t){var n,r=0;function i(e){var t,n=[],i=0;for(t=0;t<r;++t)i+=n[t]=null==e[t]?1:+e[t];for(t=0;t<r;++t)n[t]/=i;return n}var a={weights:function(e){return arguments.length?(n=i(t=e||[]),a):t},distributions:function(n){return arguments.length?(n?(r=n.length,e=n):(r=0,e=[]),a.weights(t)):e},sample:function(){for(var t=wT(),i=e[r-1],a=n[0],o=0;o<r-1;a+=n[++o])if(t<a){i=e[o];break}return i.sample()},pdf:function(t){for(var i=0,a=0;a<r;++a)i+=n[a]*e[a].pdf(t);return i},cdf:function(t){for(var i=0,a=0;a<r;++a)i+=n[a]*e[a].cdf(t);return i},icdf:function(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function qT(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*wT()}function WT(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function HT(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function $T(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function VT(e,t){var n,r,i={min:function(e){return arguments.length?(n=e||0,i):n},max:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return qT(n,r)},pdf:function(e){return WT(e,n,r)},cdf:function(e){return HT(e,n,r)},icdf:function(e){return $T(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)}function GT(e,t,n,r){var i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function YT(e,t,n,r){e=e.filter((function(e){var r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort((function(e,n){return t(e)-t(n)}));var i,a,o,u,s=e.length,c=new Float64Array(s),l=new Float64Array(s),f=0,d=0,h=0,p=nu(e);try{for(p.s();!(u=p.n()).done;)o=u.value,c[f]=i=+t(o),l[f]=a=+n(o),d+=(i-d)/++f,h+=(a-h)/f}catch(v){p.e(v)}finally{p.f()}for(f=0;f<s;++f)c[f]-=d,l[f]-=h;return[c,l,d,h]}function KT(e,t,n,r){var i,a,o,u=-1,s=nu(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;i=t(c),a=n(c),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&r(i,a,++u)}}catch(l){s.e(l)}finally{s.f()}}function XT(e,t,n,r,i){var a=0,o=0;return KT(e,t,n,(function(e,t){var n=t-i(e),u=t-r;a+=n*n,o+=u*u})),1-a/o}function QT(e,t,n){var r=0,i=0,a=0,o=0,u=0;KT(e,t,n,(function(e,t){++u,r+=(e-r)/u,i+=(t-i)/u,a+=(e*t-a)/u,o+=(e*e-o)/u}));var s=GT(r,i,a,o),c=function(e){return s[0]+s[1]*e};return{coef:s,predict:c,rSquared:XT(e,t,n,i,c)}}function ZT(e,t,n){var r=0,i=0,a=0,o=0,u=0;KT(e,t,n,(function(e,t){++u,e=Math.log(e),r+=(e-r)/u,i+=(t-i)/u,a+=(e*t-a)/u,o+=(e*e-o)/u}));var s=GT(r,i,a,o),c=function(e){return s[0]+s[1]*Math.log(e)};return{coef:s,predict:c,rSquared:XT(e,t,n,i,c)}}function JT(e,t,n){var r,i,a,o=C(YT(e,t,n),4),u=o[0],s=(o[1],o[2]),c=o[3],l=0,f=0,d=0,h=0,p=0;KT(e,t,n,(function(e,t){r=u[p++],i=Math.log(t),l+=(t*i-l)/p,f+=((a=r*t)-f)/p,d+=(a*i-d)/p,h+=(r*a-h)/p}));var v=C(GT(f/c,l/c,d/c,h/c),2),m=v[0],g=v[1],y=function(e){return Math.exp(m+g*(e-s))};return{coef:[Math.exp(m-g*s),g],predict:y,rSquared:XT(e,t,n,c,y)}}function eF(e,t,n){var r=0,i=0,a=0,o=0,u=0,s=0;KT(e,t,n,(function(e,t){var n=Math.log(e),c=Math.log(t);++s,r+=(n-r)/s,i+=(c-i)/s,a+=(n*c-a)/s,o+=(n*n-o)/s,u+=(t-u)/s}));var c=GT(r,i,a,o),l=function(e){return c[0]*Math.pow(e,c[1])};return c[0]=Math.exp(c[0]),{coef:c,predict:l,rSquared:XT(e,t,n,u,l)}}function tF(e,t,n){var r,i,a,o,u=C(YT(e,t,n),4),s=u[0],c=u[1],l=u[2],f=u[3],d=s.length,h=0,p=0,v=0,m=0,g=0;for(r=0;r<d;)i=s[r],a=c[r++],h+=((o=i*i)-h)/r,p+=(o*i-p)/r,v+=(o*o-v)/r,m+=(i*a-m)/r,g+=(o*a-g)/r;var y=v-h*h,b=h*y-p*p,x=(g*h-m*p)/b,w=(m*y-g*p)/b,_=-x*h,k=function(e){return x*(e-=l)*e+w*e+_+f};return{coef:[_-w*l+x*l*l+f,w-2*x*l,x],predict:k,rSquared:XT(e,t,n,f,k)}}function nF(e,t,n,r){if(1===r)return QT(e,t,n);if(2===r)return tF(e,t,n);var i,a,o,u,s,c=C(YT(e,t,n),4),l=c[0],f=c[1],d=c[2],h=c[3],p=l.length,v=[],m=[],g=r+1;for(i=0;i<g;++i){for(o=0,u=0;o<p;++o)u+=Math.pow(l[o],i)*f[o];for(v.push(u),s=new Float64Array(g),a=0;a<g;++a){for(o=0,u=0;o<p;++o)u+=Math.pow(l[o],i+a);s[a]=u}m.push(s)}m.push(v);var y=function(e){var t,n,r,i,a,o=e.length-1,u=[];for(t=0;t<o;++t){for(i=t,n=t+1;n<o;++n)Math.abs(e[t][n])>Math.abs(e[t][i])&&(i=n);for(r=t;r<o+1;++r)a=e[r][t],e[r][t]=e[r][i],e[r][i]=a;for(n=t+1;n<o;++n)for(r=o;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=o-1;n>=0;--n){for(a=0,r=n+1;r<o;++r)a+=e[r][n]*u[r];u[n]=(e[o][n]-a)/e[n][n]}return u}(m),b=function(e){e-=d;var t=h+y[0]+y[1]*e+y[2]*e*e;for(i=3;i<g;++i)t+=y[i]*Math.pow(e,i);return t};return{coef:rF(g,y,-d,h),predict:b,rSquared:XT(e,t,n,h,b)}}function rF(e,t,n,r){var i,a,o,u,s=Array(e);for(i=0;i<e;++i)s[i]=0;for(i=e-1;i>=0;--i)for(o=t[i],u=1,s[i]+=o,a=1;a<=i;++a)u*=(i+1-a)/a,s[i-a]+=o*Math.pow(n,a)*u;return s[0]+=r,s}function iF(e,t,n,r){for(var i=C(YT(e,t,n,!0),4),a=i[0],o=i[1],u=i[2],s=i[3],c=a.length,l=Math.max(2,~~(r*c)),f=new Float64Array(c),d=new Float64Array(c),h=new Float64Array(c).fill(1),p=-1;++p<=2;){for(var v=[0,l-1],m=0;m<c;++m){for(var g=a[m],y=v[0],b=v[1],x=g-a[y]>a[b]-g?y:b,w=0,_=0,k=0,E=0,O=0,S=1/Math.abs(a[x]-g||1),A=y;A<=b;++A){var D=a[A],j=o[A],T=aF(Math.abs(g-D)*S)*h[A],F=D*T;w+=T,_+=F,k+=j*T,E+=j*F,O+=D*F}var P=C(GT(_/w,k/w,E/w,O/w),2),M=P[0],N=P[1];f[m]=M+N*g,d[m]=Math.abs(o[m]-f[m]),oF(a,m+1,v)}if(2===p)break;var R=pT(d);if(Math.abs(R)<1e-12)break;for(var I,B,z=0;z<c;++z)I=d[z]/(6*R),h[z]=I>=1?1e-12:(B=1-I*I)*B}return function(e,t,n,r){for(var i,a=e.length,o=[],u=0,s=0,c=[];u<a;++u)i=e[u]+n,c[0]===i?c[1]+=(t[u]-c[1])/++s:(s=0,c[1]+=r,c=[i,t[u]],o.push(c));return c[1]+=r,o}(a,f,u,s)}function aF(e){return(e=1-e*e*e)*e*e}function oF(e,t,n){var r=e[t],i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}var uF=.5*Math.PI/180;function sF(e,t,n,r){n=n||25,r=Math.max(n,r||200);var i=function(t){return[t,e(t)]},a=t[0],o=t[1],u=o-a,s=u/r,c=[i(a)],l=[];if(n===r){for(var f=1;f<r;++f)c.push(i(a+f/n*u));return c.push(i(o)),c}l.push(i(o));for(var d=n;--d>0;)l.push(i(a+d/n*u));for(var h=c[0],p=l[l.length-1],v=1/u,m=function(e,t){for(var n=e,r=e,i=t.length,a=0;a<i;++a){var o=t[a][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}(h[1],l);p;){var g=i((h[0]+p[0])/2);g[0]-h[0]>=s&&cF(h,g,p,v,m)>uF?l.push(g):(h=p,c.push(p),l.pop()),p=l[l.length-1]}return c}function cF(e,t,n,r,i){var a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-o)}function lF(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function fF(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function dF(e,t,n){return n||e+(t?"_"+t:"")}var hF=function(){},pF={init:hF,add:hF,rem:hF,idx:0},vF={values:{init:function(e){return e.cell.store=!0},value:function(e){return e.cell.data.values()},idx:-1},count:{value:function(e){return e.cell.num}},__count__:{value:function(e){return e.missing+e.valid}},missing:{value:function(e){return e.missing}},valid:{value:function(e){return e.valid}},sum:{init:function(e){return e.sum=0},value:function(e){return e.sum},add:function(e,t){return e.sum+=+t},rem:function(e,t){return e.sum-=t}},product:{init:function(e){return e.product=1},value:function(e){return e.valid?e.product:void 0},add:function(e,t){return e.product*=t},rem:function(e,t){return e.product/=t}},mean:{init:function(e){return e.mean=0},value:function(e){return e.valid?e.mean:void 0},add:function(e,t){return e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:function(e,t){return e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}},average:{value:function(e){return e.valid?e.mean:void 0},req:["mean"],idx:1},variance:{init:function(e){return e.dev=0},value:function(e){return e.valid>1?e.dev/(e.valid-1):void 0},add:function(e,t){return e.dev+=e.mean_d*(t-e.mean)},rem:function(e,t){return e.dev-=e.mean_d*(t-e.mean)},req:["mean"],idx:1},variancep:{value:function(e){return e.valid>1?e.dev/e.valid:void 0},req:["variance"],idx:2},stdev:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(e){return e.valid>1?Math.sqrt(e.dev/e.valid):void 0},req:["variance"],idx:2},stderr:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(e){return e.cell.data.distinct(e.get)},req:["values"],idx:3},ci0:{value:function(e){return e.cell.data.ci0(e.get)},req:["values"],idx:3},ci1:{value:function(e){return e.cell.data.ci1(e.get)},req:["values"],idx:3},median:{value:function(e){return e.cell.data.q2(e.get)},req:["values"],idx:3},q1:{value:function(e){return e.cell.data.q1(e.get)},req:["values"],idx:3},q3:{value:function(e){return e.cell.data.q3(e.get)},req:["values"],idx:3},min:{init:function(e){return e.min=void 0},value:function(e){return e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min},add:function(e,t){(t<e.min||void 0===e.min)&&(e.min=t)},rem:function(e,t){t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:function(e){return e.max=void 0},value:function(e){return e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max},add:function(e,t){(t>e.max||void 0===e.max)&&(e.max=t)},rem:function(e,t){t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:function(e){return e.argmin=void 0},value:function(e){return e.argmin||e.cell.data.argmin(e.get)},add:function(e,t,n){t<e.min&&(e.argmin=n)},rem:function(e,t){t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(e){return e.argmax=void 0},value:function(e){return e.argmax||e.cell.data.argmax(e.get)},add:function(e,t,n){t>e.max&&(e.argmax=n)},rem:function(e,t){t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},mF=Object.keys(vF);function gF(e,t){return vF[e](t)}function yF(e,t){return e.idx-t.idx}function bF(){var e=this;this.valid=0,this.missing=0,this._ops.forEach((function(t){return t.init(e)}))}function xF(e,t){var n=this;null!=e&&""!==e?e===e&&(++this.valid,this._ops.forEach((function(r){return r.add(n,e,t)}))):++this.missing}function wF(e,t){var n=this;null!=e&&""!==e?e===e&&(--this.valid,this._ops.forEach((function(r){return r.rem(n,e,t)}))):--this.missing}function _F(e){var t=this;return this._out.forEach((function(n){return e[n.out]=n.value(t)})),e}function kF(e,t){var n=t||J_,r=function(e){var t={};return e.forEach((function(e){return t[e.name]=e})),e.forEach((function e(n){n.req&&n.req.forEach((function(n){t[n]||e(t[n]=vF[n]())}))})),Object.values(t).sort(yF)}(e),i=e.slice().sort(yF);function a(e){this._ops=r,this._out=i,this.cell=e,this.init()}return a.prototype.init=bF,a.prototype.add=xF,a.prototype.rem=wF,a.prototype.set=_F,a.prototype.get=n,a.fields=e.map((function(e){return e.out})),a}function EF(e){this._key=e?Q_(e):mj,this.reset()}mF.forEach((function(e){vF[e]=function(e,t){return function(n){return Vk({name:e,out:n||e},pF,t)}}(e,vF[e])}));var OF=EF.prototype;function SF(e){eT.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}OF.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},OF.add=function(e){this._add.push(e)},OF.rem=function(e){this._rem.push(e)},OF.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,u=i.length,s=Array(o-u),c={};for(e=0;e<u;++e)c[a(i[e])]=1;for(e=0,t=0;e<o;++e)c[a(n=r[e])]?c[a(n)]=0:s[t++]=n;return this._rem=[],this._add=s},OF.distinct=function(e){for(var t,n=this.values(),r={},i=n.length,a=0;--i>=0;)Xk(r,t=e(n[i])+"")||(r[t]=1,++a);return a},OF.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Yk(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},OF.argmin=function(e){return this.extent(e)[0]||{}},OF.argmax=function(e){return this.extent(e)[1]||{}},OF.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},OF.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},OF.quartile=function(e){return this._get===e&&this._q||(this._q=yT(this.values(),e),this._get=e),this._q},OF.q1=function(e){return this.quartile(e)[0]},OF.q2=function(e){return this.quartile(e)[1]},OF.q3=function(e){return this.quartile(e)[2]},OF.ci=function(e){return this._get===e&&this._ci||(this._ci=kT(this.values(),1e3,.05,e),this._get=e),this._ci},OF.ci0=function(e){return this.ci(e)[0]},OF.ci1=function(e){return this.ci(e)[1]},SF.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:mF},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},eE(SF,eT,{transform:function(e,t){var n=this,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=e.modified();return r.stamp=i.stamp,r.value&&(a||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=a?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(r.value=r.value||r.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),i.modifies(r._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&i.clean(!0).runAfter((function(){return n.clean()})),r.changes(i)},cross:function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function a(e){var t,a,o,u;for(t in e)for(o=e[t].tuple,a=0;a<i;++a)r[a][u=o[n[a]]]=u}a(e._prev),a(t),function a(o,u,s){var c=n[s],l=r[s++];for(var f in l){var d=o?o+"|"+f:f;u[c]=l[f],s<i?a(d,u,s):t[d]||e.cell(d,u)}}("",{},0)},init:function(e){var t=this._inputs=[],n=this._outputs=[],r={};function i(e){for(var n,i=Rk($_(e)),a=i.length,o=0;o<a;++o)r[n=i[o]]||(r[n]=1,t.push(n))}this._dims=Rk(e.groupby),this._dnames=this._dims.map((function(e){var t=H_(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:fF(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var a,o,u,s,c,l,f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,v={};for(p!==d.length&&K_("Unmatched number of fields and aggregate ops."),l=0;l<p;++l)a=f[l],o=d[l],null==a&&"count"!==o&&K_("Null aggregate field specified."),c=dF(o,s=H_(a),h[l]),n.push(c),"count"!==o?((u=v[s])||(i(a),(u=v[s]=[]).field=a,this._measures.push(u)),"count"!==o&&(this._countOnly=!1),u.push(gF(o,c))):this._counts.push(c);return this._measures=this._measures.map((function(e){return kF(e,e.field)})),{}},cellkey:fF(),cell:function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell:function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r=this._measures,i=r.length;n.agg=Array(i);for(var a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new EF),n},newtuple:function(e,t){for(var n=this._dnames,r=this._dims,i=r.length,a={},o=0;o<i;++o)a[n[o]]=r[o](e);return t?wj(t.tuple,a):yj(a)},clean:function(){var e=this.value;for(var t in e)0===e[t].num&&delete e[t]},add:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,!this._countOnly){n.store&&n.data.add(e);for(var r=n.agg,i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)}},rem:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,!this._countOnly){n.store&&n.data.rem(e);for(var r=n.agg,i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)}},celltuple:function(e){var t=e.tuple,n=this._counts;e.store&&e.data.values();for(var r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly)for(var a=e.agg,o=0,u=a.length;o<u;++o)a[o].set(t);return t},changes:function(e){var t,n,r,i,a=this._adds,o=this._mods,u=this._prev,s=this._drop,c=e.add,l=e.rem,f=e.mod;if(u)for(n in u)t=u[n],s&&!t.num||l.push(t.tuple);for(r=0,i=this._alen;r<i;++r)c.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=o[r]).num&&s?l:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e}});function AF(e){eT.call(this,null,e)}function CF(e,t,n){var r=e,i=t||[],a=n||[],o={},u=0;return{add:function(e){return a.push(e)},remove:function(e){return o[r(e)]=++u},size:function(){return i.length},data:function(e,t){return u&&(i=i.filter((function(e){return!o[r(e)]})),o={},u=0),t&&e&&i.sort(e),a.length&&(i=e?fE(e,i,a.sort(e)):i.concat(a),a=[]),i}}}function DF(e){eT.call(this,[],e)}function jF(e){Dj.call(this,null,TF,e)}function TF(e){return this.value&&!e.modified()?this.value:zk(e.fields,e.orders)}function FF(e){eT.call(this,null,e)}function PF(e){eT.call(this,null,e)}AF.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},eE(AF,eT,{transform:function(e,t){var n,r=!1!==e.interval,i=this._bins(e),a=i.start,o=i.step,u=e.as||["bin0","bin1"],s=u[0],c=u[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified($_(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[s]=t,e[c]=null==t?null:a+o*(1+(t-a)/o)}:function(e){return e[s]=i(e)}),t.modifies(r?u:s)},_bins:function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,i=xT(e),a=i.step,o=i.start,u=o+Math.ceil((i.stop-o)/a)*a;null!=(t=e.anchor)&&(n=t-(o+a*Math.floor((t-o)/a)),o+=n,u+=n);var s=function(e){var t=yk(r(e));return null==t?null:t<o?-1/0:t>u?1/0:(t=Math.max(o,Math.min(t,u-a)),o+a*Math.floor(1e-14+(t-o)/a))};return s.start=o,s.stop=i.stop,s.step=a,this.value=W_(s,$_(r),e.name||"bin_"+H_(r))}}),DF.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},eE(DF,eT,{transform:function(e,t){var n=t.fork(t.ALL),r=CF(mj,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(_j(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),eE(jF,Dj),FF.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},eE(FF,eT,{transform:function(e,t){var n=function(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(u(n),e.case,a)||[],s=0,c=i.length;s<c;++s)o.test(r=i[s])||t(r)}},r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,u=e.field,s=e.as||["text","count"],c=n((function(e){return i[e]=1+(i[e]||0)})),l=n((function(e){return i[e]-=1}));return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,l)),this._finish(t,s)},_parameterCheck:function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish:function(e,t){var n,r,i,a=this._counts,o=this._tuples||(this._tuples={}),u=t[0],s=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in a)r=o[n],i=a[n]||0,!r&&i?(o[n]=r=yj({}),r[u]=n,r[s]=i,c.add.push(r)):0===i?(r&&c.rem.push(r),a[n]=null,o[n]=null):r[s]!==i&&(r[s]=i,c.mod.push(r));return c.modifies(t)}}),PF.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},eE(PF,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter"),u=this.value;return o?(u&&(n.rem=u),u=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,a,o=[],u={},s=e.length,c=0;c<s;++c)for(u[t]=a=e[c],i=0;i<s;++i)u[n]=e[i],r(u)&&(o.push(yj(u)),(u={})[t]=a);return o}(u,i,a,e.filter||nk)):n.mod=u,n.source=this.value,n.modifies(r)}});var MF={kde:NT,mixture:UT,normal:MT,lognormal:LT,uniform:VT},NF="function";function RF(e,t){var n=e.function;Xk(MF,n)||K_("Unknown distribution function: "+n);var r=MF[n]();for(var i in e)"field"===i?r.data((e.from||t()).map(e[i])):"distributions"===i?r[i](e[i].map((function(e){return RF(e,t)}))):typeof r[i]===NF&&r[i](e[i]);return r}function IF(e){eT.call(this,null,e)}var BF=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],zF={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:BF},{name:"weights",type:"number",array:!0}]};function LF(e,t){return e?e.map((function(e,n){return t[n]||H_(e)})):null}function UF(e,t,n){var r,i,a,o,u,s,c=[],l=function(e){return e(o)};if(null==t)c.push(e.map(n));else for(r={},i=0,a=e.length;i<a;++i)o=e[i],(s=r[u=t.map(l)])||(r[u]=s=[],s.dims=u,c.push(s)),s.push(n(o));return c}IF.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:BF.concat(zF)},{name:"as",type:"string",array:!0,default:["value","density"]}]},eE(IF,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=RF(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200,o=e.method||"pdf";"pdf"!==o&&"cdf"!==o&&K_("Invalid density method: "+o),e.extent||r.data||K_("Missing density extent parameter."),o=r[o];var u=e.as||["value","density"],s=sF(o,e.extent||Gk(r.data()),i,a).map((function(e){var t={};return t[u[0]]=e[0],t[u[1]]=e[1],yj(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});function qF(e){eT.call(this,null,e)}qF.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function WF(e){Dj.call(this,null,HF,e),this.modified(!0)}function HF(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:W_((function(n){return t(n,e)}),$_(t),H_(t))}function $F(e){eT.call(this,[void 0,void 0],e)}function VF(e,t){Dj.call(this,e),this.parent=t,this.count=0}function GF(e){eT.call(this,{},e),this._keys=Zk();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function YF(e){Dj.call(this,null,KF,e)}function KF(e){return this.value&&!e.modified()?this.value:fk(e.name)?Rk(e.name).map((function(e){return Q_(e)})):Q_(e.name,e.as)}function XF(e){eT.call(this,Zk(),e)}function QF(e){eT.call(this,[],e)}function ZF(e){eT.call(this,[],e)}function JF(e){eT.call(this,null,e)}function eP(e){eT.call(this,[],e)}eE(qF,eT,{transform:function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,i=UF(t.source,e.groupby,J_),a=e.smooth||!1,o=e.field,u=e.step||function(e,t){return pE(Gk(e,t))/30}(r,o),s=_j((function(e,t){return o(e)-o(t)})),c=e.as||"bin",l=i.length,f=1/0,d=-1/0,h=0;h<l;++h){var p=i[h].sort(s);n=-1;var v,m=nu(ET(p,u,a,o));try{for(m.s();!(v=m.n()).done;){var g=v.value;g<f&&(f=g),g>d&&(d=g),p[++n][c]=g}}catch(y){m.e(y)}finally{m.f()}}return this.value={start:f,stop:d,step:u},t.reflow(!0).modifies(c)}}),eE(WF,Dj),$F.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},eE($F,eT,{transform:function(e,t){var n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field"),a=n[0],o=n[1];if((i||null==a)&&(a=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,(function(e){var t=yk(r(e));null!=t&&(t<a&&(a=t),t>o&&(o=t))})),!Number.isFinite(a)||!Number.isFinite(o)){var u=H_(r);u&&(u=' for field "'.concat(u,'"')),t.dataflow.warn("Infinite extent".concat(u,": [").concat(a,", ").concat(o,"]")),a=o=void 0}this.value=[a,o]}}),eE(VF,Dj,{connect:function(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add:function(e){this.count+=1,this.value.add.push(e)},rem:function(e){this.count-=1,this.value.rem.push(e)},mod:function(e){this.value.mod.push(e)},init:function(e){this.value.init(e,e.NO_SOURCE)},evaluate:function(){return this.value}}),eE(GF,eT,{activate:function(e){this._targets[this._targets.active++]=e},subflow:function(e,t,n,r){var i,a,o=this.value,u=Xk(o,e)&&o[e];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(a=r||(a=this._group[e])&&a.tuple,i=n.dataflow,u=new VF(n.fork(n.NO_SOURCE),this),i.add(u).connect(t(i,e,a)),o[e]=u,this.activate(u)),u},clean:function(){var e=this.value,t=0;for(var n in e)if(0===e[n].count){var r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){var i=this._targets.filter((function(e){return e&&e.count>0}));this.initTargets(i)}},initTargets:function(e){for(var t=this._targets,n=t.length,r=e?e.length:0,i=0;i<r;++i)t[i]=e[i];for(;i<n&&null!=t[i];++i)t[i]=null;t.active=r},transform:function(e,t){var n=this,r=t.dataflow,i=e.key,a=e.subflow,o=this._keys,u=e.modified("key"),s=function(e){return n.subflow(e,a,t)};return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(function(e){var t=mj(e),n=o.get(t);void 0!==n&&(o.delete(t),s(n).rem(e))})),t.visit(t.ADD,(function(e){var t=i(e);o.set(mj(e),t),s(t).add(e)})),u||t.modified(i.fields)?t.visit(t.MOD,(function(e){var t=mj(e),n=o.get(t),r=i(e);n===r?s(r).mod(e):(o.set(t,r),s(n).rem(e),s(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){s(o.get(mj(e))).mod(e)})),u&&t.visit(t.REFLOW,(function(e){var t=mj(e),n=o.get(t),r=i(e);n!==r&&(o.set(t,r),s(n).rem(e),s(r).add(e))})),t.clean()?r.runAfter((function(){n.clean(),o.clean()})):o.empty>r.cleanThreshold&&r.runAfter(o.clean),t}}),eE(YF,Dj),XF.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},eE(XF,eT,{transform:function(e,t){var n=t.dataflow,r=this.value,i=t.fork(),a=i.add,o=i.rem,u=i.mod,s=e.expr,c=!0;function l(t){var n=mj(t),i=s(t,e),l=r.get(n);i&&l?(r.delete(n),a.push(t)):i||l?c&&i&&!l&&u.push(t):(r.set(n,1),o.push(t))}return t.visit(t.REM,(function(e){var t=mj(e);r.has(t)?r.delete(t):o.push(e)})),t.visit(t.ADD,(function(t){s(t,e)?a.push(t):r.set(mj(t),1)})),t.visit(t.MOD,l),e.modified()&&(c=!1,t.visit(t.REFLOW,l)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),QF.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},eE(QF,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=LF(r,e.as||[]),a=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,u,s,c=r.map((function(t){return t(e)})),l=c.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<l;++f){for(u=bj(e),t=0;t<o;++t)u[i[t]]=null==(s=c[t][f])?null:s;a&&(u[a]=f),n.add.push(u)}})),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}}),ZF.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},eE(ZF,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(H_),a=e.as||["key","value"],o=a[0],u=a[1],s=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,a=0;a<s;++a)(t=bj(e))[o]=i[a],t[u]=r[a](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(a)}}),JF.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},eE(JF,eT,{transform:function(e,t){var n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,(function(t){return t[r]=n(t,e)}))}}),eE(eP,eT,{transform:function(e,t){var n,r,i,a=t.fork(t.ALL),o=e.generator,u=this.value,s=e.size-u.length;if(s>0){for(n=[];--s>=0;)n.push(i=yj(o(e))),u.push(i);a.add=a.add.length?a.materialize(a.ADD).add.concat(n):n}else r=u.slice(0,-s),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(r):r,u=u.slice(-s);return a.source=this.value=u,a}});var tP={value:"value",median:pT,mean:function(e,t){var n=0,r=0;if(void 0===t){var i,a=nu(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,c=nu(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;null!=(l=t(l,++s,e))&&(l=+l)>=l&&(++n,r+=l)}}catch(f){c.e(f)}finally{c.f()}}if(n)return r/n},min:aT,max:iT},nP=[];function rP(e){eT.call(this,[],e)}function iP(e){SF.call(this,e)}function aP(e){eT.call(this,null,e)}function oP(e){Dj.call(this,null,uP,e)}function uP(e){return this.value&&!e.modified()?this.value:sE(e.fields,e.flat)}function sP(e){eT.call(this,[],e),this._pending=null}function cP(e,t,n){n.forEach(yj);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function lP(e){eT.call(this,{},e)}function fP(e){Dj.call(this,null,dP,e)}function dP(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.extents,i=r.length,a=1/0,o=-1/0;for(t=0;t<i;++t)(n=r[t])[0]<a&&(a=n[0]),n[1]>o&&(o=n[1]);return[a,o]}function hP(e){Dj.call(this,null,pP,e)}function pP(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function vP(e){eT.call(this,null,e)}function mP(e){SF.call(this,e)}function gP(e){GF.call(this,e)}function yP(e){eT.call(this,null,e)}function bP(e){eT.call(this,null,e)}function xP(e){eT.call(this,null,e)}rP.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},eE(rP,eT,{transform:function(e,t){var n,r,i,a,o,u,s,c,l,f,d=t.fork(t.ALL),h=function(e){var t,n=e.method||tP.value;if(null!=tP[n])return n===tP.value?(t=void 0!==e.value?e.value:0,function(){return t}):tP[n];K_("Unrecognized imputation method: "+n)}(e),p=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),v=H_(e.field),m=H_(e.key),g=(e.groupby||[]).map(H_),y=function(e,t,n,r){var i,a,o,u,s,c,l,f,d=function(e){return e(f)},h=[],p=r?r.slice():[],v={},m={};for(p.forEach((function(e,t){return v[e]=t+1})),u=0,l=e.length;u<l;++u)c=n(f=e[u]),s=v[c]||(v[c]=p.push(c)),(o=m[a=(i=t?t.map(d):nP)+""])||(o=m[a]=[],h.push(o),o.values=i),o[s-1]=f;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),b=[],x=this.value,w=y.domain.length;for(o=0,c=y.length;o<c;++o)for(i=(n=y[o]).values,r=NaN,s=0;s<w;++s)if(null==n[s]){for(a=y.domain[s],f={_impute:!0},u=0,l=i.length;u<l;++u)f[g[u]]=i[u];f[m]=a,f[v]=Number.isNaN(r)?r=h(n,p):r,b.push(yj(f))}return b.length&&(d.add=d.materialize(d.ADD).add.concat(b)),x.length&&(d.rem=d.materialize(d.REM).rem.concat(x)),this.value=b,d}}),iP.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:mF},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},eE(iP,SF,{transform:function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Vk(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},changes:function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}}),aP.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},eE(aP,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=UF(r,e.groupby,e.field),a=(e.groupby||[]).map(H_),o=e.bandwidth,u=e.cumulative?"cdf":"pdf",s=e.as||["value","density"],c=[],l=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==u&&"cdf"!==u&&K_("Invalid density method: "+u),"shared"===e.resolve&&(l||(l=Gk(r,e.field)),f=d=e.steps||d),i.forEach((function(t){var n=NT(t,o)[u],r=e.counts?t.length:1;sF(n,l||Gk(t),f,d).forEach((function(e){for(var n={},i=0;i<a.length;++i)n[a[i]]=t.dims[i];n[s[0]]=e[0],n[s[1]]=e[1]*r,c.push(yj(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}}),eE(oP,Dj),eE(sP,eT,{transform:function(e,t){var n=this,r=t.dataflow;if(this._pending)return cP(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return cP(this,t,r.parse(e.values,e.format));if(e.async){var i=r.request(e.url,e.format).then((function(e){return n._pending=Rk(e.data),function(e){return e.touch(n)}}));return{async:i}}return r.request(e.url,e.format).then((function(e){return cP(n,t,Rk(e.data))}))}}),lP.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},eE(lP,eT,{transform:function(e,t){var n,r,i,a=e.fields,o=e.index,u=e.values,s=null==e.default?null:e.default,c=e.modified(),l=a.length,f=c?t.SOURCE:t.ADD,d=t,h=e.as;return u?(r=u.length,l>1&&!h&&K_('Multi-field lookup requires explicit "as" parameter.'),h&&h.length!==l*r&&K_('The "as" parameter has too few output field names.'),h=h||u.map(H_),n=function(e){for(var t,n,i=0,c=0;i<l;++i)if(null==(n=o.get(a[i](e))))for(t=0;t<r;++t,++c)e[h[c]]=s;else for(t=0;t<r;++t,++c)e[h[c]]=u[t](n)}):(h||K_("Missing output field names."),n=function(e){for(var t,n=0;n<l;++n)t=o.get(a[n](e)),e[h[n]]=null==t?s:t}),c?d=t.reflow(!0):(i=a.some((function(e){return t.modified(e.fields)})),f|=i?t.MOD:0),t.visit(f,n),d.modifies(h)}}),eE(fP,Dj),eE(hP,Dj),eE(vP,eT,{transform:function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),mP.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:mF,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},eE(mP,SF,{_transform:SF.prototype.transform,transform:function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",a=$_(n).concat($_(r)),o=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort(Lk),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:o.map((function(){return i})),fields:o.map((function(e){return function(e,t,n,r){return W_((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,a)})),as:o.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}}),eE(gP,GF,{transform:function(e,t){var n=this,r=e.subflow,i=e.field,a=function(e){return n.subflow(mj(e),r,t,e)};return(e.modified("field")||i&&t.modified($_(i)))&&K_("PreFacet does not support field modification."),this.initTargets(),i?(t.visit(t.MOD,(function(e){var t=a(e);i(e).forEach((function(e){return t.mod(e)}))})),t.visit(t.ADD,(function(e){var t=a(e);i(e).forEach((function(e){return t.add(yj(e))}))})),t.visit(t.REM,(function(e){var t=a(e);i(e).forEach((function(e){return t.rem(e)}))}))):(t.visit(t.MOD,(function(e){return a(e).mod(e)})),t.visit(t.ADD,(function(e){return a(e).add(e)})),t.visit(t.REM,(function(e){return a(e).rem(e)}))),t.clean()&&t.runAfter((function(){return n.clean()})),t}}),yP.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},eE(yP,eT,{transform:function(e,t){var n,r=t.fork(t.NO_SOURCE),i=e.fields,a=LF(e.fields,e.as||[]),o=i?function(e,t){return function(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}(e,t,i,a)}:xj;return this.value?n=this.value:(t=t.addAll(),n=this.value={}),t.visit(t.REM,(function(e){var t=mj(e);r.rem.push(n[t]),n[t]=null})),t.visit(t.ADD,(function(e){var t=o(e,yj({}));n[mj(e)]=t,r.add.push(t)})),t.visit(t.MOD,(function(e){r.mod.push(o(e,n[mj(e)]))})),r}}),eE(bP,eT,{transform:function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),xP.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function wP(e){eT.call(this,null,e)}function _P(e){eT.call(this,[],e),this.count=0}function kP(e){eT.call(this,null,e)}function EP(e){eT.call(this,null,e),this.modified(!0)}function OP(e){eT.call(this,null,e)}eE(xP,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var i=UF(t.materialize(t.SOURCE).source,e.groupby,e.field),a=(e.groupby||[]).map(H_),o=[],u=e.step||.01,s=e.probs||lF(u/2,1-1e-14,u),c=s.length;return i.forEach((function(e){for(var t=gT(e,s),n=0;n<c;++n){for(var i={},u=0;u<a.length;++u)i[a[u]]=e.dims[u];i[r[0]]=s[n],i[r[1]]=t[n],o.push(yj(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}}),eE(wP,eT,{transform:function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=mj(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=bj(e);r[mj(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t=r[mj(e)];for(var i in e)t[i]=e[i],n.modifies(i);n.mod.push(t)}))),n}}),_P.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},eE(_P,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((function(e,t){return e[mj(t)]=1,e}),{}),o=this.value,u=this.count,s=0;function c(e){var t,r;o.length<i?o.push(e):(r=~~((u+1)*wT()))<o.length&&r>=s&&(t=o[r],a[mj(t)]&&n.rem.push(t),o[r]=e),++u}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=mj(e);a[t]&&(a[t]=-1,n.rem.push(e)),--u})),o=o.filter((function(e){return-1!==a[mj(e)]}))),(t.rem.length||r)&&o.length<i&&t.source&&(s=u=o.length,t.visit(t.SOURCE,(function(e){a[mj(e)]||c(e)})),s=-1),r&&o.length>i){for(var l=o.length-i,f=0;f<l;++f)a[mj(o[f])]=-1,n.rem.push(o[f]);o=o.slice(l)}return t.mod.length&&t.visit(t.MOD,(function(e){a[mj(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||s<0)&&(n.add=o.filter((function(e){return!a[mj(e)]}))),this.count=u,this.value=n.source=o,n}}),kP.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},eE(kP,eT,{transform:function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=lF(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,yj(t)})),n.add=t.add.concat(this.value),n}}}),eE(EP,eT,{transform:function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});var SP=["unit0","unit1"];function AP(e){eT.call(this,Zk(),e)}function CP(e){eT.call(this,null,e)}OP.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:bS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:SP}]},eE(OP,eT,{transform:function(e,t){var n=e.field,r=!1!==e.interval,i="utc"===e.timezone,a=this._floor(e,t),o=(i?KS:YS)(a.unit).offset,u=e.as||SP,s=u[0],c=u[1],l=a.step,f=a.start||1/0,d=a.stop||-1/0,h=t.ADD;return(e.modified()||t.modified($_(n)))&&(h=(t=t.reflow(!0)).SOURCE,f=1/0,d=-1/0),t.visit(h,(function(e){var t,i,u=n(e);null==u?(e[s]=null,r&&(e[c]=null)):(e[s]=t=i=a(u),r&&(e[c]=i=o(t,l)),t<f&&(f=t),i>d&&(d=i))})),a.start=f,a.stop=d,t.modifies(r?u:s)},_floor:function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:mA({extent:e.extent||Gk(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),i=r.units,a=r.step,o=wS(i),u=this.value||{},s=(n?$S:qS)(o,a);return s.unit=gk(o),s.units=o,s.step=a,s.start=u.start,s.stop=u.stop,this.value=s}}),eE(AP,eT,{transform:function(e,t){var n=t.dataflow,r=e.field,i=this.value,a=function(e){return i.set(r(e),e)},o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,(function(e){return i.delete(r(e))})),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}}),eE(CP,eT,{transform:function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(_j(e.sort)):t.source).map(e.field))}});var DP={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=DP.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.data,r=t.compare,i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||K_("ntile num must be greater than zero.");var n=DP.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||K_("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var i=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var jP=Object.keys(DP);function TP(e){var t=Rk(e.ops),n=Rk(e.fields),r=Rk(e.params),i=Rk(e.as),a=this.outputs=[],o=this.windows=[],u={},s={},c=[],l=[],f=!0;function d(e){Rk($_(e)).forEach((function(e){return u[e]=1}))}d(e.sort),t.forEach((function(e,t){var u=n[t],h=H_(u),p=dF(e,h,i[t]);if(d(u),a.push(p),Xk(DP,e))o.push(function(e,t,n,r){var i=DP[e](t,n);return{init:i.init||ek,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],p));else{if(null==u&&"count"!==e&&K_("Null aggregate field specified."),"count"===e)return void c.push(p);f=!1;var v=s[h];v||((v=s[h]=[]).field=u,l.push(v)),v.push(gF(e,p))}})),(c.length||l.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return kF(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var u=r.data=new EF;return r.add=function(e){if(r.num+=1,!n){u&&u.add(e);for(var t=0;t<i;++t)a[t].add(a[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){u&&u.rem(e);for(var t=0;t<i;++t)a[t].rem(a[t].get(e),e)}},r.set=function(e){var i,o;for(u&&u.values(),i=0,o=t.length;i<o;++i)e[t[i]]=r.num;if(!n)for(i=0,o=a.length;i<o;++i)a[i].set(e)},r.init=function(){r.num=0,u&&u.reset();for(var e=0;e<i;++e)a[e].init()},r}(l,c,f)),this.inputs=Object.keys(u)}var FP=TP.prototype;function PP(e){eT.call(this,{},e),this._mlen=0,this._mods=[]}function MP(e,t,n,r){var i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],u=e.data(n),s=u.length,c=a?uS(i):null,l={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:i||Hk(-1)};t.init();for(var f=0;f<s;++f)NP(l,o,f,s),a&&RP(l,c),t.update(l,u[f])}function NP(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function RP(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}function IP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function BP(e){this._context=e}function zP(){}function LP(e){this._context=e}function UP(e){this._context=e}function qP(e,t){this._basis=new BP(e),this._beta=t}FP.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},FP.update=function(e,t){var n,r=this.cell,i=this.windows,a=e.data,o=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(a[n]);for(n=e.p1;n<e.i1;++n)r.add(a[n]);r.set(t)}for(n=0;n<o;++n)i[n].update(e,t)},PP.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:jP.concat(mF)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},eE(PP,eT,{transform:function(e,t){var n=this;this.stamp=t.stamp;var r=e.modified(),i=_j(e.sort),a=fF(e.groupby),o=function(e){return n.group(a(e))},u=this.state;u&&!r||(u=this.state=new TP(e)),r||t.modified(u.inputs)?(this.value={},t.visit(t.SOURCE,(function(e){return o(e).add(e)}))):(t.visit(t.REM,(function(e){return o(e).remove(e)})),t.visit(t.ADD,(function(e){return o(e).add(e)})));for(var s=0,c=this._mlen;s<c;++s)MP(this._mods[s],u,i,e);return this._mlen=0,this._mods=[],t.reflow(r).modifies(u.outputs)},group:function(e){var t=this.value[e];return t||(t=this.value[e]=CF(mj),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),BP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:IP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:IP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},LP.prototype={areaStart:zP,areaEnd:zP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:IP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},UP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:IP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},qP.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,u=t[n]-a,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+r*o),this._beta*t[s]+(1-this._beta)*(a+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var WP=function e(t){function n(e){return 1===t?new BP(e):new qP(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function HP(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function $P(e,t){this._context=e,this._k=(1-t)/6}$P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:HP(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:HP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var VP=function e(t){function n(e){return new $P(e,t)}return n.tension=function(t){return e(+t)},n}(0);function GP(e,t){this._context=e,this._k=(1-t)/6}GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:HP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var YP=function e(t){function n(e){return new GP(e,t)}return n.tension=function(t){return e(+t)},n}(0);function KP(e,t){this._context=e,this._k=(1-t)/6}KP.prototype={areaStart:zP,areaEnd:zP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:HP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var XP=function e(t){function n(e){return new KP(e,t)}return n.tension=function(t){return e(+t)},n}(0),QP=Math.abs,ZP=Math.atan2,JP=Math.cos,eM=Math.max,tM=Math.min,nM=Math.sin,rM=Math.sqrt,iM=1e-12,aM=Math.PI,oM=aM/2,uM=2*aM;function sM(e){return e>1?0:e<-1?aM:Math.acos(e)}function cM(e){return e>=1?oM:e<=-1?-oM:Math.asin(e)}function lM(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>iM){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>iM){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function fM(e,t){this._context=e,this._alpha=t}fM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:lM(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var dM=function e(t){function n(e){return t?new fM(e,t):new $P(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function hM(e,t){this._context=e,this._alpha=t}hM.prototype={areaStart:zP,areaEnd:zP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:lM(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var pM=function e(t){function n(e){return t?new hM(e,t):new KP(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function vM(e,t){this._context=e,this._alpha=t}vM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lM(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var mM=function e(t){function n(e){return t?new vM(e,t):new GP(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function gM(e){this._context=e}function yM(e){return new gM(e)}function bM(e){this._context=e}function xM(e){return e<0?-1:1}function wM(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(xM(a)+xM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function _M(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function kM(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function EM(e){this._context=e}function OM(e){this._context=new SM(e)}function SM(e){this._context=e}function AM(e){this._context=e}function CM(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function DM(e,t){this._context=e,this._t=t}gM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},bM.prototype={areaStart:zP,areaEnd:zP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kM(this,this._t0,_M(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kM(this,_M(this,n=wM(this,e,t)),n);break;default:kM(this,this._t0,n=wM(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(OM.prototype=Object.create(EM.prototype)).point=function(e,t){EM.prototype.point.call(this,t,e)},SM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},AM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=CM(e),i=CM(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var jM=Math.PI,TM=2*jM,FM=1e-6,PM=TM-FM;function MM(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function NM(){return new MM}MM.prototype=NM.prototype={constructor:MM,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,u=n-e,s=r-t,c=a-e,l=o-t,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>FM)if(Math.abs(l*u-s*c)>FM&&i){var d=n-a,h=r-o,p=u*u+s*s,v=d*d+h*h,m=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((jM-Math.acos((p+f-v)/(2*m*g)))/2),b=y/g,x=y/m;Math.abs(b-1)>FM&&(this._+="L"+(e+b*c)+","+(t+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+x*u)+","+(this._y1=t+x*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,a=!!a;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=e+o,c=t+u,l=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>FM||Math.abs(this._y1-c)>FM)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%TM+TM),f>PM?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>FM&&(this._+="A"+n+","+n+",0,"+ +(f>=jM)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var RM=NM;function IM(e){return function(){return e}}function BM(e){return e.innerRadius}function zM(e){return e.outerRadius}function LM(e){return e.startAngle}function UM(e){return e.endAngle}function qM(e){return e&&e.padAngle}function WM(e,t,n,r,i,a,o,u){var s=n-e,c=r-t,l=o-i,f=u-a,d=f*s-l*c;if(!(d*d<iM))return[e+(d=(l*(t-a)-f*(e-i))/d)*s,t+d*c]}function HM(e,t,n,r,i,a,o){var u=e-n,s=t-r,c=(o?a:-a)/rM(u*u+s*s),l=c*s,f=-c*u,d=e+l,h=t+f,p=n+l,v=r+f,m=(d+p)/2,g=(h+v)/2,y=p-d,b=v-h,x=y*y+b*b,w=i-a,_=d*v-p*h,k=(b<0?-1:1)*rM(eM(0,w*w*x-_*_)),E=(_*b-y*k)/x,O=(-_*y-b*k)/x,S=(_*b+y*k)/x,A=(-_*y+b*k)/x,C=E-m,D=O-g,j=S-m,T=A-g;return C*C+D*D>j*j+T*T&&(E=S,O=A),{cx:E,cy:O,x01:-l,y01:-f,x11:E*(i/w-1),y11:O*(i/w-1)}}Array.prototype.slice;function $M(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function VM(e){return e[0]}function GM(e){return e[1]}function YM(e,t){var n=IM(!0),r=null,i=yM,a=null;function o(o){var u,s,c,l=(o=$M(o)).length,f=!1;for(null==r&&(a=i(c=RM())),u=0;u<=l;++u)!(u<l&&n(s=o[u],u,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(s,u,o),+t(s,u,o));if(c)return a=null,c+""||null}return e="function"===typeof e?e:void 0===e?VM:IM(e),t="function"===typeof t?t:void 0===t?GM:IM(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:IM(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:IM(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:IM(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function KM(e,t,n){var r=null,i=IM(!0),a=null,o=yM,u=null;function s(s){var c,l,f,d,h,p=(s=$M(s)).length,v=!1,m=new Array(p),g=new Array(p);for(null==a&&(u=o(h=RM())),c=0;c<=p;++c){if(!(c<p&&i(d=s[c],c,s))===v)if(v=!v)l=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=l;--f)u.point(m[f],g[f]);u.lineEnd(),u.areaEnd()}v&&(m[c]=+e(d,c,s),g[c]=+t(d,c,s),u.point(r?+r(d,c,s):m[c],n?+n(d,c,s):g[c]))}if(h)return u=null,h+""||null}function c(){return YM().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?VM:IM(+e),t="function"===typeof t?t:IM(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?GM:IM(+n),s.x=function(t){return arguments.length?(e="function"===typeof t?t:IM(+t),r=null,s):e},s.x0=function(t){return arguments.length?(e="function"===typeof t?t:IM(+t),s):e},s.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:IM(+e),s):r},s.y=function(e){return arguments.length?(t="function"===typeof e?e:IM(+e),n=null,s):t},s.y0=function(e){return arguments.length?(t="function"===typeof e?e:IM(+e),s):t},s.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:IM(+e),s):n},s.lineX0=s.lineY0=function(){return c().x(e).y(t)},s.lineY1=function(){return c().x(e).y(n)},s.lineX1=function(){return c().x(r).y(t)},s.defined=function(e){return arguments.length?(i="function"===typeof e?e:IM(!!e),s):i},s.curve=function(e){return arguments.length?(o=e,null!=a&&(u=o(a)),s):o},s.context=function(e){return arguments.length?(null==e?a=u=null:u=o(a=e),s):a},s}var XM={draw:function(e,t){var n=Math.sqrt(t/aM);e.moveTo(n,0),e.arc(0,0,n,0,uM)}},QM=(Math.sqrt(1/3),Math.sin(aM/10)/Math.sin(7*aM/10));Math.sin(uM/10),Math.cos(uM/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function ZM(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}var JM=function(){return"undefined"!==typeof Image?Image:null},eN=uS(oS),tN=eN.right,nN=eN.left,rN=(uS(cT).center,tN);function iN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function aN(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var oN=Symbol("implicit");function uN(){var e=new Map,t=[],n=[],r=oN;function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==oN)return r;e.set(a,o=t.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,a=nu(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o+"";e.has(u)||e.set(u,t.push(o))}}catch(s){a.e(s)}finally{a.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return uN(t,n).unknown(r)},iN.apply(i,arguments),i}var sN,cN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lN(e){if(!(t=cN.exec(e)))throw new Error("invalid format: "+e);var t;return new fN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function fN(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function dN(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hN(e){return(e=dN(Math.abs(e)))?e[1]:NaN}function pN(e,t){var n=dN(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}lN.prototype=fN.prototype,fN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var vN={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return pN(100*e,t)},r:pN,s:function(e,t){var n=dN(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(sN=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+dN(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function mN(e){return e}var gN,yN,bN,xN=Array.prototype.map,wN=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function _N(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?mN:(t=xN.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?mN:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(xN.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=lN(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):vN[y]||(void 0===m&&(m=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?a:/[%p]/.test(y)?s:"",w=vN[y],_=/[defgprs%]/.test(y);function k(e){var i,a,s,d=b,k=x;if("c"===y)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==f&&(E=!1),d=(E?"("===f?f:c:"-"===f||"("===f?"":f)+d,k=("s"===y?wN[8+sN/3]:"")+k+(E&&"("===f?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){k=(46===s?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var O=d.length+e.length+k.length,S=O<p?new Array(p-O+1).join(t):"";switch(v&&h&&(e=r(S+e,S.length?p-k.length:1/0),S=""),n){case"<":e=d+e+k+S;break;case"=":e=d+S+e+k;break;case"^":e=S.slice(0,O=S.length>>1)+d+e+k+S.slice(O);break;default:e=S+d+e+k}return u(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=lN(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(hN(t)/3))),i=Math.pow(10,-r),a=wN[8+r/3];return function(e){return n(i*e)+a}}}}function kN(e,t,n,r){var i,a=WE(e,t,n);switch((r=lN(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hN(t)/3)))-hN(Math.abs(e)))}(a,o))||(r.precision=i),bN(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hN(t)-hN(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-hN(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return yN(r)}function EN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ON(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function SN(){}!function(e){gN=_N(e),yN=gN.format,bN=gN.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var AN=.7,CN=1/AN,DN="\\s*([+-]?\\d+)\\s*",jN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",TN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FN=/^#([0-9a-f]{3,8})$/,PN=new RegExp("^rgb\\("+[DN,DN,DN]+"\\)$"),MN=new RegExp("^rgb\\("+[TN,TN,TN]+"\\)$"),NN=new RegExp("^rgba\\("+[DN,DN,DN,jN]+"\\)$"),RN=new RegExp("^rgba\\("+[TN,TN,TN,jN]+"\\)$"),IN=new RegExp("^hsl\\("+[jN,TN,TN]+"\\)$"),BN=new RegExp("^hsla\\("+[jN,TN,TN,jN]+"\\)$"),zN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function LN(){return this.rgb().formatHex()}function UN(){return this.rgb().formatRgb()}function qN(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=FN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?WN(t):3===n?new GN(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?HN(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?HN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=PN.exec(e))?new GN(t[1],t[2],t[3],1):(t=MN.exec(e))?new GN(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=NN.exec(e))?HN(t[1],t[2],t[3],t[4]):(t=RN.exec(e))?HN(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=IN.exec(e))?QN(t[1],t[2]/100,t[3]/100,1):(t=BN.exec(e))?QN(t[1],t[2]/100,t[3]/100,t[4]):zN.hasOwnProperty(e)?WN(zN[e]):"transparent"===e?new GN(NaN,NaN,NaN,0):null}function WN(e){return new GN(e>>16&255,e>>8&255,255&e,1)}function HN(e,t,n,r){return r<=0&&(e=t=n=NaN),new GN(e,t,n,r)}function $N(e){return e instanceof SN||(e=qN(e)),e?new GN((e=e.rgb()).r,e.g,e.b,e.opacity):new GN}function VN(e,t,n,r){return 1===arguments.length?$N(e):new GN(e,t,n,null==r?1:r)}function GN(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function YN(){return"#"+XN(this.r)+XN(this.g)+XN(this.b)}function KN(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function XN(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function QN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new eR(e,t,n,r)}function ZN(e){if(e instanceof eR)return new eR(e.h,e.s,e.l,e.opacity);if(e instanceof SN||(e=qN(e)),!e)return new eR;if(e instanceof eR)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new eR(o,u,s,e.opacity)}function JN(e,t,n,r){return 1===arguments.length?ZN(e):new eR(e,t,n,null==r?1:r)}function eR(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tR(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function nR(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function rR(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return nR((n-r/t)*t,o,i,a,u)}}function iR(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return nR((n-r/t)*t,i,a,o,u)}}EN(SN,qN,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:LN,formatHex:LN,formatHsl:function(){return ZN(this).formatHsl()},formatRgb:UN,toString:UN}),EN(GN,VN,ON(SN,{brighter:function(e){return e=null==e?CN:Math.pow(CN,e),new GN(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?AN:Math.pow(AN,e),new GN(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YN,formatHex:YN,formatRgb:KN,toString:KN})),EN(eR,JN,ON(SN,{brighter:function(e){return e=null==e?CN:Math.pow(CN,e),new eR(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?AN:Math.pow(AN,e),new eR(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new GN(tR(e>=240?e-240:e+120,i,r),tR(e,i,r),tR(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var aR=function(e){return function(){return e}};function oR(e,t){return function(n){return e+n*t}}function uR(e,t){var n=t-e;return n?oR(e,n>180||n<-180?n-360*Math.round(n/360):n):aR(isNaN(e)?t:e)}function sR(e){return 1===(e=+e)?cR:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):aR(isNaN(t)?n:t)}}function cR(e,t){var n=t-e;return n?oR(e,n):aR(isNaN(e)?t:e)}var lR=function e(t){var n=sR(t);function r(e,t){var r=n((e=VN(e)).r,(t=VN(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=cR(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function fR(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=VN(t[n]),a[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return a=e(a),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=u(e),r+""}}}var dR=fR(rR),hR=fR(iR);function pR(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function vR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mR(e,t){return(vR(t)?pR:gR)(e,t)}function gR(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=ER(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function yR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function bR(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xR(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=ER(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var wR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_R=new RegExp(wR.source,"g");function kR(e,t){var n,r,i,a=wR.lastIndex=_R.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=wR.exec(e))&&(r=_R.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:bR(n,r)})),a=_R.lastIndex;return a<t.length&&(i=t.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}function ER(e,t){var n,r=typeof t;return null==t||"boolean"===r?aR(t):("number"===r?bR:"string"===r?(n=qN(t))?(t=n,lR):kR:t instanceof qN?lR:t instanceof Date?yR:vR(t)?pR:Array.isArray(t)?gR:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?xR:bR)(e,t)}function OR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function SR(e){return+e}var AR=[0,1];function CR(e){return e}function DR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function jR(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=DR(i,r),a=n(o,a)):(r=DR(r,i),a=n(a,o)),function(e){return a(r(e))}}function TR(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=DR(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=rN(e,t,1,r)-1;return a[n](i[n](t))}}function FR(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function PR(){var e,t,n,r,i,a,o=AR,u=AR,s=ER,c=CR;function l(){var e=Math.min(o.length,u.length);return c!==CR&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?TR:jR,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),u,s)))(e(c(t)))}return f.invert=function(n){return c(t((a||(a=r(u,o.map(e),bR)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,SR),l()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),l()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),s=OR,l()},f.clamp=function(e){return arguments.length?(c=!!e||CR,l()):c!==CR},f.interpolate=function(e){return arguments.length?(s=e,l()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function MR(){return PR()(CR,CR)}function NR(e){var t=e.domain;return e.ticks=function(e){var n=t();return UE(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return kN(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,u=a.length-1,s=a[o],c=a[u],l=10;for(c<s&&(i=s,s=c,c=i,i=o,o=u,u=i);l-- >0;){if((i=qE(s,c,n))===r)return a[o]=s,a[u]=c,t(a);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function RR(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function IR(e){return Math.log(e)}function BR(e){return Math.exp(e)}function zR(e){return-Math.log(-e)}function LR(e){return-Math.exp(-e)}function UR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qR(e){return function(t){return-e(-t)}}function WR(e){var t,n,r=e(IR,BR),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?UR:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=qR(t),n=qR(n),e(zR,LR)):e(IR,BR),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r,o=i(),u=o[0],s=o[o.length-1];(r=s<u)&&(d=u,u=s,s=d);var c,l,f,d=t(u),h=t(s),p=null==e?10:+e,v=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(l=1,c=n(d);l<a;++l)if(!((f=c*l)<u)){if(f>s)break;v.push(f)}}else for(;d<=h;++d)for(l=a-1,c=n(d);l>=1;--l)if(!((f=c*l)<u)){if(f>s)break;v.push(f)}2*v.length<p&&(v=UE(u,s,p))}else v=UE(d,h,Math.min(h-d,p)).map(n);return r?v.reverse():v},r.tickFormat=function(e,i){if(null==i&&(i=10===a?".0e":","),"function"!==typeof i&&(i=yN(i)),e===1/0)return i;null==e&&(e=10);var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(RR(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function HR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $R(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VR(e){return e<0?-e*e:e*e}function GR(e){var t=e(CR,CR),n=1;function r(){return 1===n?e(CR,CR):.5===n?e($R,VR):e(HR(n),HR(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},NR(t)}function YR(){var e=GR(PR());return e.copy=function(){return FR(e,YR()).exponent(e.exponent())},iN.apply(e,arguments),e}function KR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function QR(e){var t=1,n=e(KR(t),XR(t));return n.constant=function(n){return arguments.length?e(KR(t=+n),XR(t)):t},NR(n)}var ZR=1e3,JR=6e4,eI=36e5,tI=864e5,nI=6048e5,rI=2592e6,iI=31536e6,aI=new Date,oI=new Date;function uI(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,u=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return u;do{u.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return u},i.filter=function(n){return uI((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return aI.setTime(+t),oI.setTime(+r),e(aI),e(oI),Math.floor(n(aI,oI))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var sI=uI((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));sI.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?uI((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):sI:null};var cI=sI,lI=(sI.range,uI((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*ZR)}),(function(e,t){return(t-e)/ZR}),(function(e){return e.getUTCSeconds()}))),fI=lI,dI=(lI.range,uI((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ZR)}),(function(e,t){e.setTime(+e+t*JR)}),(function(e,t){return(t-e)/JR}),(function(e){return e.getMinutes()}))),hI=dI,pI=(dI.range,uI((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ZR-e.getMinutes()*JR)}),(function(e,t){e.setTime(+e+t*eI)}),(function(e,t){return(t-e)/eI}),(function(e){return e.getHours()}))),vI=pI,mI=(pI.range,uI((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*JR)/tI}),(function(e){return e.getDate()-1}))),gI=mI;mI.range;function yI(e){return uI((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*JR)/nI}))}var bI=yI(0),xI=yI(1),wI=yI(2),_I=yI(3),kI=yI(4),EI=yI(5),OI=yI(6),SI=(bI.range,xI.range,wI.range,_I.range,kI.range,EI.range,OI.range,uI((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),AI=SI,CI=(SI.range,uI((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));CI.every=function(e){return isFinite(e=Math.floor(e))&&e>0?uI((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var DI=CI,jI=(CI.range,uI((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*JR)}),(function(e,t){return(t-e)/JR}),(function(e){return e.getUTCMinutes()}))),TI=jI,FI=(jI.range,uI((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*eI)}),(function(e,t){return(t-e)/eI}),(function(e){return e.getUTCHours()}))),PI=FI,MI=(FI.range,uI((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/tI}),(function(e){return e.getUTCDate()-1}))),NI=MI;MI.range;function RI(e){return uI((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/nI}))}var II=RI(0),BI=RI(1),zI=RI(2),LI=RI(3),UI=RI(4),qI=RI(5),WI=RI(6),HI=(II.range,BI.range,zI.range,LI.range,UI.range,qI.range,WI.range,uI((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),$I=HI,VI=(HI.range,uI((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));VI.every=function(e){return isFinite(e=Math.floor(e))&&e>0?uI((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var GI=VI;VI.range;function YI(e,t,n,r,i,a){var o=[[fI,1,ZR],[fI,5,5e3],[fI,15,15e3],[fI,30,3e4],[a,1,JR],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,eI],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,tI],[r,2,1728e5],[n,1,nI],[t,1,rI],[t,3,7776e6],[e,1,iI]];function u(t,n,r){var i=Math.abs(n-t)/r,a=uS((function(e){return C(e,3)[2]})).right(o,i);if(a===o.length)return e.every(WE(t/iI,n/iI,r));if(0===a)return cI.every(Math.max(WE(t,n,r),1));var u=C(o[i/o[a-1][2]<o[a][2]/i?a-1:a],2),s=u[0],c=u[1];return s.every(c)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var a=n&&"function"===typeof n.range?n:u(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},u]}var KI=C(YI(GI,$I,II,NI,PI,TI),2),XI=KI[0],QI=KI[1],ZI=C(YI(DI,AI,bI,gI,vI,hI),2),JI=ZI[0],eB=ZI[1];function tB(e){return new Date(e)}function nB(e){return e instanceof Date?+e:+new Date(+e)}function rB(e,t,n,r,i,a,o,u,s,c){var l=MR(),f=l.invert,d=l.domain,h=c(".%L"),p=c(":%S"),v=c("%I:%M"),m=c("%I %p"),g=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(s(e)<e?h:u(e)<e?p:o(e)<e?v:a(e)<e?m:r(e)<e?i(e)<e?g:y:n(e)<e?b:x)(e)}return l.invert=function(e){return new Date(f(e))},l.domain=function(e){return arguments.length?d(Array.from(e,nB)):d().map(tB)},l.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?w:c(t)},l.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(RR(n,e)):l},l.copy=function(){return FR(l,rB(e,t,n,r,i,a,o,u,s,c))},l}function iB(){var e,t,n,r,i,a=0,o=1,u=CR,s=!1;function c(t){return null==t||isNaN(t=+t)?i:u(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,i;return arguments.length?(r=(n=C(t,2))[0],i=n[1],u=e(r,i),c):[u(0),u(1)]}}return c.domain=function(i){var u;return arguments.length?(u=C(i,2),a=u[0],o=u[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(u=e,c):u},c.range=l(ER),c.rangeRound=l(OR),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function aB(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oB(){var e=NR(iB()(CR));return e.copy=function(){return aB(e,oB())},aN.apply(e,arguments)}function uB(){var e=GR(iB());return e.copy=function(){return aB(e,uB()).exponent(e.exponent())},aN.apply(e,arguments)}function sB(e,t){void 0===t&&(t=e,e=ER);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function cB(){var e,t,n,r,i,a,o,u=0,s=.5,c=1,l=1,f=CR,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(l*e<l*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i,a;return arguments.length?(r=(n=C(t,3))[0],i=n[1],a=n[2],f=sB(e,[r,i,a]),h):[f(0),f(.5),f(1)]}}return h.domain=function(o){var f;return arguments.length?(f=C(o,3),u=f[0],s=f[1],c=f[2],e=a(u=+u),t=a(s=+s),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h):[u,s,c]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(ER),h.rangeRound=p(OR),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(u),t=o(s),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h}}function lB(){var e=GR(cB());return e.copy=function(){return aB(e,lB()).exponent(e.exponent())},aN.apply(e,arguments)}function fB(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function dB(e,t){var n=uR(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}var hB,pB=180/Math.PI,vB={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mB(e,t,n,r,i,a){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*pB,skewX:Math.atan(s)*pB,scaleX:o,scaleY:u}}function gB(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var u=[],s=[];return a=e(a),o=e(o),function(e,r,i,a,o,u){if(e!==i||r!==a){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:bR(e,i)},{i:s-2,x:bR(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:bR(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,u,s),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:bR(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,u,s),function(e,t,n,r,a,o){if(e!==n||t!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:bR(e,n)},{i:u-2,x:bR(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var yB=gB((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vB:mB(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),bB=gB((function(e){return null==e?vB:(hB||(hB=document.createElementNS("http://www.w3.org/2000/svg","g")),hB.setAttribute("transform",e),(e=hB.transform.baseVal.consolidate())?mB((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):vB)}),", ",")",")");function xB(e){return((e=Math.exp(e))+1/e)/2}var wB=function e(t,n,r){function i(e,i){var a,o,u=e[0],s=e[1],c=e[2],l=i[0],f=i[1],d=i[2],h=l-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/c)/t,a=function(e){return[u+e*h,s+e*p,c*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),g=(d*d-c*c+r*v)/(2*c*n*m),y=(d*d-c*c-r*v)/(2*d*n*m),b=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(y*y+1)-y);o=(x-b)/t,a=function(e){var r=e*o,i=xB(b),a=c/(n*m)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[u+a*h,s+a*p,c*i/xB(t*r+b)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function _B(e){return function(t,n){var r=e((t=JN(t)).h,(n=JN(n)).h),i=cR(t.s,n.s),a=cR(t.l,n.l),o=cR(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+""}}}var kB=_B(uR),EB=_B(cR),OB=Math.PI/180,SB=180/Math.PI,AB=.96422,CB=.82521,DB=4/29,jB=6/29,TB=3*jB*jB;function FB(e){if(e instanceof MB)return new MB(e.l,e.a,e.b,e.opacity);if(e instanceof UB)return qB(e);e instanceof GN||(e=$N(e));var t,n,r=BB(e.r),i=BB(e.g),a=BB(e.b),o=NB((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?t=n=o:(t=NB((.4360747*r+.3850649*i+.1430804*a)/AB),n=NB((.0139322*r+.0971045*i+.7141733*a)/CB)),new MB(116*o-16,500*(t-o),200*(o-n),e.opacity)}function PB(e,t,n,r){return 1===arguments.length?FB(e):new MB(e,t,n,null==r?1:r)}function MB(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function NB(e){return e>.008856451679035631?Math.pow(e,1/3):e/TB+DB}function RB(e){return e>jB?e*e*e:TB*(e-DB)}function IB(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function BB(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zB(e){if(e instanceof UB)return new UB(e.h,e.c,e.l,e.opacity);if(e instanceof MB||(e=FB(e)),0===e.a&&0===e.b)return new UB(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*SB;return new UB(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function LB(e,t,n,r){return 1===arguments.length?zB(e):new UB(e,t,n,null==r?1:r)}function UB(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function qB(e){if(isNaN(e.h))return new MB(e.l,0,0,e.opacity);var t=e.h*OB;return new MB(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function WB(e,t){var n=cR((e=PB(e)).l,(t=PB(t)).l),r=cR(e.a,t.a),i=cR(e.b,t.b),a=cR(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function HB(e){return function(t,n){var r=e((t=LB(t)).h,(n=LB(n)).h),i=cR(t.c,n.c),a=cR(t.l,n.l),o=cR(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}EN(MB,PB,ON(SN,{brighter:function(e){return new MB(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new MB(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new GN(IB(3.1338561*(t=AB*RB(t))-1.6168667*(e=1*RB(e))-.4906146*(n=CB*RB(n))),IB(-.9787684*t+1.9161415*e+.033454*n),IB(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),EN(UB,LB,ON(SN,{brighter:function(e){return new UB(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new UB(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return qB(this).rgb()}}));var $B=HB(uR),VB=HB(cR),GB=-.14861,YB=1.78277,KB=-.29227,XB=-.90649,QB=1.97294,ZB=-1.7884503806,JB=3.5172982438,ez=-.6557636667999999;function tz(e){if(e instanceof rz)return new rz(e.h,e.s,e.l,e.opacity);e instanceof GN||(e=$N(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ez*r+ZB*t-JB*n)/(ez+ZB-JB),a=r-i,o=(QB*(n-i)-KB*a)/XB,u=Math.sqrt(o*o+a*a)/(QB*i*(1-i)),s=u?Math.atan2(o,a)*SB-120:NaN;return new rz(s<0?s+360:s,u,i,e.opacity)}function nz(e,t,n,r){return 1===arguments.length?tz(e):new rz(e,t,n,null==r?1:r)}function rz(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function iz(e){return function t(n){function r(t,r){var i=e((t=nz(t)).h,(r=nz(r)).h),a=cR(t.s,r.s),o=cR(t.l,r.l),u=cR(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}EN(rz,nz,ON(SN,{brighter:function(e){return e=null==e?CN:Math.pow(CN,e),new rz(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?AN:Math.pow(AN,e),new rz(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*OB,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new GN(255*(t+n*(GB*r+YB*i)),255*(t+n*(KB*r+XB*i)),255*(t+n*(QB*r)),this.opacity)}}));var az,oz,uz=iz(uR),sz=iz(cR);function cz(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function lz(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}var fz="linear",dz="log",hz="pow",pz="sqrt",vz="symlog",mz="time",gz="utc",yz="sequential",bz="diverging",xz="quantile",wz="quantize",_z="threshold",kz="ordinal",Ez="point",Oz="band",Sz="bin-ordinal",Az="continuous",Cz="discrete",Dz="discretizing",jz="interpolating",Tz="temporal";function Fz(){var e,t,n=uN().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,u=0,s=0,c=.5;function l(){var n=r().length,l=a[1]<a[0],f=a[1-l],d=lz(n,u,s),h=a[l-0];e=(f-h)/(d||1),o&&(e=Math.floor(e)),h+=(f-h-e*(n-u))*c,t=e*(1-u),o&&(h=Math.round(h),t=Math.round(t));var p=lF(n).map((function(t){return h+e*t}));return i(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],l()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u=s,l()):u},n.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,o,u,s=a[1]<a[0],c=s?i().reverse():i(),l=c.length-1,f=+e[0],d=+e[1];if(f===f&&d===d&&(d<f&&(u=f,f=d,d=u),!(d<c[0]||f>a[1-s])))return n=Math.max(0,tN(c,f)-1),o=f===d?n:tN(c,d)-1,f-c[n]>t+1e-10&&++n,s&&(u=n,n=l-o,o=l-u),n>o?void 0:r().slice(n,o+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Fz().domain(r()).range(a).round(o).paddingInner(u).paddingOuter(s).align(c)},l()}function Pz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Pz(t())},e}var Mz=Array.prototype.map;function Nz(e){return Mz.call(e,yk)}var Rz=Array.prototype.slice;var Iz={};function Bz(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(n):n.invertExtent?function(e){return function(t){var n,r,i,a,o=e.range(),u=t[0],s=t[1],c=-1;for(s<u&&(r=u,u=s,s=r),i=0,a=o.length;i<a;++i)o[i]>=u&&o[i]<=s&&(c<0&&(c=i),n=i);if(!(c<0))return u=e.invertExtent(o[c]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=e,n};return r.metadata=xE(Rk(n)),r}function zz(e,t,n){return arguments.length>1?(Iz[e]=Bz(e,t,n),this):Lz(e)?Iz[e]:void 0}function Lz(e){return Xk(Iz,e)}function Uz(e,t){var n=Iz[e];return n&&n.metadata[t]}function qz(e){return Uz(e,Az)}function Wz(e){return Uz(e,Cz)}function Hz(e){return Uz(e,Dz)}function $z(e){return Uz(e,dz)}function Vz(e){return Uz(e,jz)}function Gz(e){return Uz(e,xz)}zz("identity",(function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,SR),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,SR):[0,1],NR(r)})),zz(fz,(function e(){var t=MR();return t.copy=function(){return FR(t,e())},iN.apply(t,arguments),NR(t)}),Az),zz(dz,(function e(){var t=WR(PR()).domain([1,10]);return t.copy=function(){return FR(t,e()).base(t.base())},iN.apply(t,arguments),t}),[Az,dz]),zz(hz,YR,Az),zz(pz,(function(){return YR.apply(null,arguments).exponent(.5)}),Az),zz(vz,(function e(){var t=QR(PR());return t.copy=function(){return FR(t,e()).constant(t.constant())},iN.apply(t,arguments)}),Az),zz(mz,(function(){return iN.apply(rB(JI,eB,DI,AI,bI,gI,vI,hI,fI,QA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[Az,Tz]),zz(gz,(function(){return iN.apply(rB(XI,QI,GI,$I,II,NI,PI,TI,fI,JA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[Az,Tz]),zz(yz,oB,[Az,jz]),zz("".concat(yz,"-").concat(fz),oB,[Az,jz]),zz("".concat(yz,"-").concat(dz),(function e(){var t=WR(iB()).domain([1,10]);return t.copy=function(){return aB(t,e()).base(t.base())},aN.apply(t,arguments)}),[Az,jz,dz]),zz("".concat(yz,"-").concat(hz),uB,[Az,jz]),zz("".concat(yz,"-").concat(pz),(function(){return uB.apply(null,arguments).exponent(.5)}),[Az,jz]),zz("".concat(yz,"-").concat(vz),(function e(){var t=QR(iB());return t.copy=function(){return aB(t,e()).constant(t.constant())},aN.apply(t,arguments)}),[Az,jz]),zz("".concat(bz,"-").concat(fz),(function e(){var t=NR(cB()(CR));return t.copy=function(){return aB(t,e())},aN.apply(t,arguments)}),[Az,jz]),zz("".concat(bz,"-").concat(dz),(function e(){var t=WR(cB()).domain([.1,1,10]);return t.copy=function(){return aB(t,e()).base(t.base())},aN.apply(t,arguments)}),[Az,jz,dz]),zz("".concat(bz,"-").concat(hz),lB,[Az,jz]),zz("".concat(bz,"-").concat(pz),(function(){return lB.apply(null,arguments).exponent(.5)}),[Az,jz]),zz("".concat(bz,"-").concat(vz),(function e(){var t=QR(cB());return t.copy=function(){return aB(t,e()).constant(t.constant())},aN.apply(t,arguments)}),[Az,jz]),zz(xz,(function e(){var t,n=[],r=[],i=[];function a(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=dT(n,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:r[rN(i,e)]}return o.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,r=nu(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;null==i||isNaN(i=+i)||n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n.sort(oS),a()},o.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return e().domain(n).range(r).unknown(t)},iN.apply(o,arguments)}),[Dz,xz]),zz(wz,(function e(){var t,n=0,r=1,i=1,a=[.5],o=[0,1];function u(e){return null!=e&&e<=e?o[rN(a,e,0,i)]:t}function s(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*r-(e-i)*n)/(i+1);return u}return u.domain=function(e){var t;return arguments.length?(t=C(e,2),n=t[0],r=t[1],n=+n,r=+r,s()):[n,r]},u.range=function(e){return arguments.length?(i=(o=Array.from(e)).length-1,s()):o.slice()},u.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},u.unknown=function(e){return arguments.length?(t=e,u):u},u.thresholds=function(){return a.slice()},u.copy=function(){return e().domain([n,r]).range(o).unknown(t)},iN.apply(NR(u),arguments)}),Dz),zz(_z,(function e(){var t,n=[.5],r=[0,1],i=1;function a(e){return null!=e&&e<=e?r[rN(n,e,0,i)]:t}return a.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(n).range(r).unknown(t)},iN.apply(a,arguments)}),Dz),zz(Sz,(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(rN(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=Nz(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Rz.call(e),r):n.slice()},r.tickFormat=function(e,n){return kN(t[0],gk(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[Cz,Dz]),zz(kz,uN,Cz),zz(Oz,Fz,Cz),zz(Ez,(function(){return Pz(Fz().paddingInner(1))}),Cz);var Yz=["clamp","base","constant","exponent"];function Kz(e,t){var n=t[0],r=gk(t)-n;return function(t){return e(n+t*r)}}function Xz(e,t,n){return sB(Jz(t||"rgb",n),e)}function Qz(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function Zz(e,t,n){var r,i,a,o=n-t;return o&&Number.isFinite(o)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),a=zz(i)().domain([t,n]).range([0,1]),Yz.forEach((function(t){return e[t]?a[t](e[t]()):0})),a):Hk(.5)}function Jz(e,t){var n=s[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function eL(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function tL(e,t){for(var n in e)rL(n,t(e[n]))}var nL={};function rL(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(nL[e]=t,this):nL[e]}tL({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},eL),tL({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return Xz(eL(e))}));var iL="symbol",aL=function(e){return fk(e)?e.map((function(e){return String(e)})):String(e)},oL=function(e,t){return e[1]-t[1]},uL=function(e,t){return t[1]-e[1]};function sL(e,t,n){var r;return aE(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(pE(e.domain())/n||1)))),dk(t)&&(r=t.step,t=t.interval),uE(t)&&(t=e.type===mz?YS(t):e.type==gz?KS(t):K_("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function cL(e,t,n){var r=e.range(),i=r[0],a=gk(r),o=oL;if(i>a&&(r=a,a=i,i=r,o=uL),i=Math.floor(i),a=Math.ceil(a),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return i<=e[1]&&e[1]<=a})).sort(o).map((function(e){return e[0]})),n>0&&t.length>1){for(var u=[t[0],gk(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=u)}return t}function lL(e,t){return e.bins?cL(e,e.bins):e.ticks?e.ticks(t):e.domain()}function fL(e,t,n,r,i,a){var o=t.type,u=aL;if(o===mz||i===mz)u=e.timeFormat(r);else if(o===gz||i===gz)u=e.utcFormat(r);else if($z(o)){var s=e.formatFloat(r);if(a||t.bins)u=s;else{var c=dL(t,n,!1);u=function(e){return c(e)?s(e):""}}}else if(t.tickFormat){var l=t.domain();u=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(u=e.format(r));return u}function dL(e,t,n){var r=lL(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/r.length),u=function(e){var t=e/Math.pow(i,Math.round(Math.log(e)/a));return t*i<i-.5&&(t*=i),t<=o};return n?r.filter(u):u}var hL=(lu(az={},xz,"quantiles"),lu(az,wz,"thresholds"),lu(az,_z,"domain"),az),pL=(lu(oz={},xz,"quantiles"),lu(oz,wz,"domain"),oz);function vL(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=gk(e),t}(e.bins):e.type===dz?dL(e,t,!0):hL[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[hL[e.type]]()):lL(e,t)}function mL(e,t,n,r,i,a,o){var u=pL[t.type]&&a!==mz&&a!==gz?function(e,t,n){var r,i=t[pL[t.type]](),a=i.length,o=a>1?i[1]-i[0]:i[0];for(r=1;r<a;++r)o=Math.min(o,i[r]-i[r-1]);return e.formatSpan(0,o,30,n)}(e,t,i):fL(e,t,n,i,a,o);return r===iL&&function(e){return hL[e.type]||e.bins}(t)?gL(u):"discrete"===r?bL(u):xL(u)}var gL=function(e){return function(t,n,r){var i=yL(r[n+1],yL(r.max,1/0)),a=wL(t,e),o=wL(i,e);return a&&o?a+" \u2013 "+o:o?"< "+o:"\u2265 "+a}},yL=function(e,t){return null!=e?e:t},bL=function(e){return function(t,n){return n?e(t):null}},xL=function(e){return function(t){return e(t)}},wL=function(e,t){return Number.isFinite(e)?t(e):null};function _L(e,t,n,r){var i=r||t.type;return uE(n)&&function(e){return Uz(e,Tz)}(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==mz?n||i!==gz?mL(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function kL(e,t,n){n=n||{};var r=Math.max(3,n.maxlen||7),i=_L(e,t,n.format,n.formatType);if(Hz(t.type)){var a=vL(t).slice(1).map(i),o=a.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(a.join(", "))}if(Wz(t.type)){var u=t.domain(),s=u.length,c=s>r?u.slice(0,r-2).map(i).join(", ")+", ending with "+u.slice(-1).map(i):u.map(i).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(c)}var l=t.domain();return"values from ".concat(i(l[0])," to ").concat(i(gk(l)))}var EL=0;var OL="p_";function SL(e){return e&&e.gradient}function AL(e,t,n){var r=e.gradient,i=e.id,a="radial"===r?OL:"";return i||(i=e.id="gradient_"+EL++,"radial"===r?(e.x1=CL(e.x1,.5),e.y1=CL(e.y1,.5),e.r1=CL(e.r1,0),e.x2=CL(e.x2,.5),e.y2=CL(e.y2,.5),e.r2=CL(e.r2,.5),a=OL):(e.x1=CL(e.x1,0),e.y1=CL(e.y1,0),e.x2=CL(e.x2,1),e.y2=CL(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function CL(e,t){return null!=e?e:t}function DL(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}var jL={basis:{curve:function(e){return new BP(e)}},"basis-closed":{curve:function(e){return new LP(e)}},"basis-open":{curve:function(e){return new UP(e)}},bundle:{curve:WP,tension:"beta",value:.85},cardinal:{curve:VP,tension:"tension",value:0},"cardinal-open":{curve:YP,tension:"tension",value:0},"cardinal-closed":{curve:XP,tension:"tension",value:0},"catmull-rom":{curve:dM,tension:"alpha",value:.5},"catmull-rom-closed":{curve:pM,tension:"alpha",value:.5},"catmull-rom-open":{curve:mM,tension:"alpha",value:.5},linear:{curve:yM},"linear-closed":{curve:function(e){return new bM(e)}},monotone:{horizontal:function(e){return new OM(e)},vertical:function(e){return new EM(e)}},natural:{curve:function(e){return new AM(e)}},step:{curve:function(e){return new DM(e,.5)}},"step-after":{curve:function(e){return new DM(e,1)}},"step-before":{curve:function(e){return new DM(e,0)}}};function TL(e,t,n){var r=Xk(jL,e)&&jL[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var FL={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},PL=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function ML(e){var t,n,r,i,a,o,u,s,c,l,f=[],d=e.slice().replace(PL[0],"###$1").split(PL[1]).slice(1);for(u=0,c=d.length;u<c;++u){for(n=(t=d[u]).slice(1).trim().replace(PL[2],"$1###$2").replace(PL[3],"$1###$2").split(PL[4]),r=[a=t.charAt(0)],s=0,l=n.length;s<l;++s)(i=+n[s])===i&&r.push(i);if(o=FL[a.toLowerCase()],r.length-1>o){var h=r.length;for(s=1,f.push([a].concat(r.slice(s,s+=o))),a="M"===a?"L":"m"===a?"l":a;s<h;s+=o)f.push([a].concat(r.slice(s,s+o)))}else f.push(r)}return f}var NL=Math.PI/180,RL=Math.PI/2,IL=2*Math.PI,BL=Math.sqrt(3)/2,zL={},LL={},UL=[].join;function qL(e){var t=UL.call(e);if(LL[t])return LL[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=c*o,f=-s*u,d=s*o,h=c*u,p=Math.cos(i),v=Math.sin(i),m=Math.cos(a),g=Math.sin(a),y=.5*(a-i),b=Math.sin(.5*y),x=8/3*b*b/Math.sin(y),w=n+p-x*v,_=r+v+x*p,k=n+m,E=r+g,O=k+x*g,S=E-x*m;return LL[t]=[l*w+f*_,d*w+h*_,l*O+f*S,d*O+h*S,l*k+f*E,d*k+h*E]}var WL=["l",0,0,0,0,0,0,0];function HL(e,t,n){var r=WL[0]=e[0];if("a"===r||"A"===r)WL[1]=t*e[1],WL[2]=n*e[2],WL[3]=e[3],WL[4]=e[4],WL[5]=e[5],WL[6]=t*e[6],WL[7]=n*e[7];else if("h"===r||"H"===r)WL[1]=t*e[1];else if("v"===r||"V"===r)WL[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)WL[i]=(i%2==1?t:n)*e[i];return WL}function $L(e,t,n,r,i,a){var o,u,s,c,l,f=null,d=0,h=0,p=0,v=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==a&&(a=i),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(o=t[m],1===i&&1===a||(o=HL(o,i,a)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+r);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+r);break;case"h":d+=o[1],e.lineTo(d+n,h+r);break;case"H":d=o[1],e.lineTo(d+n,h+r);break;case"v":h+=o[1],e.lineTo(d+n,h+r);break;case"V":h=o[1],e.lineTo(d+n,h+r);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+r);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+r);break;case"c":u=d+o[5],s=h+o[6],p=d+o[3],v=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+r,p+n,v+r,u+n,s+r),d=u,h=s;break;case"C":d=o[5],h=o[6],p=o[3],v=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,p+n,v+r,d+n,h+r);break;case"s":u=d+o[3],s=h+o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,d+o[1]+n,h+o[2]+r,u+n,s+r),p=d+o[1],v=h+o[2],d=u,h=s;break;case"S":u=o[3],s=o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"q":u=d+o[3],s=h+o[4],p=d+o[1],v=h+o[2],e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"Q":u=o[3],s=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"t":u=d+o[1],s=h+o[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-c,v=2*h-l):"q"===f[0]&&(p=2*d-p,v=2*h-v),c=p,l=v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),h=s,p=(d=u)+o[1],v=h+o[2];break;case"T":u=o[1],s=o[2],p=2*d-p,v=2*h-v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"a":VL(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+r]),d+=o[6],h+=o[7];break;case"A":VL(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}f=o}}function VL(e,t,n,r){for(var i=function(e,t,n,r,i,a,o,u,s){var c=UL.call(arguments);if(zL[c])return zL[c];var l=o*NL,f=Math.sin(l),d=Math.cos(l),h=d*(u-e)*.5+f*(s-t)*.5,p=d*(s-t)*.5-f*(u-e)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var m=d/n,g=f/n,y=-f/r,b=d/r,x=m*u+g*s,w=y*u+b*s,_=m*e+g*t,k=y*e+b*t,E=1/((_-x)*(_-x)+(k-w)*(k-w))-.25;E<0&&(E=0);var O=Math.sqrt(E);a==i&&(O=-O);var S=.5*(x+_)-O*(k-w),A=.5*(w+k)+O*(_-x),C=Math.atan2(w-A,x-S),D=Math.atan2(k-A,_-S)-C;D<0&&1===a?D+=IL:D>0&&0===a&&(D-=IL);for(var j=Math.ceil(Math.abs(D/(RL+.001))),T=[],F=0;F<j;++F){var P=C+F*D/j,M=C+(F+1)*D/j;T[F]=[S,A,P,M,n,r,f,d]}return zL[c]=T}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),a=0;a<i.length;++a){var o=qL(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var GL=.5773502691896257,YL={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,IL)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=BL*n,i=r-n*GL,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=BL*n,i=r-n*GL;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=BL*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=BL*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=BL*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=BL*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function KL(e){return Xk(YL,e)?YL[e]:function(e){if(!Xk(XL,e)){var t=ML(e);XL[e]={draw:function(e,n){$L(e,t,0,0,Math.sqrt(n)/2)}}}return XL[e]}(e)}var XL={};var QL=.448084975506;function ZL(e){return e.x}function JL(e){return e.y}function eU(e){return e.width}function tU(e){return e.height}function nU(e){return"function"===typeof e?e:function(){return+e}}function rU(e,t,n){return Math.max(t,Math.min(e,n))}function iU(){var e=ZL,t=JL,n=eU,r=tU,i=nU(0),a=i,o=i,u=i,s=null;function c(c,l,f){var d,h=null!=l?l:+e.call(this,c),p=null!=f?f:+t.call(this,c),v=+n.call(this,c),m=+r.call(this,c),g=Math.min(v,m)/2,y=rU(+i.call(this,c),0,g),b=rU(+a.call(this,c),0,g),x=rU(+o.call(this,c),0,g),w=rU(+u.call(this,c),0,g);if(s||(s=d=RM()),y<=0&&b<=0&&x<=0&&w<=0)s.rect(h,p,v,m);else{var _=h+v,k=p+m;s.moveTo(h+y,p),s.lineTo(_-b,p),s.bezierCurveTo(_-QL*b,p,_,p+QL*b,_,p+b),s.lineTo(_,k-w),s.bezierCurveTo(_,k-QL*w,_-QL*w,k,_-w,k),s.lineTo(h+x,k),s.bezierCurveTo(h+QL*x,k,h,k-QL*x,h,k-x),s.lineTo(h,p+y),s.bezierCurveTo(h,p+QL*y,h+QL*y,p,h+y,p),s.closePath()}if(d)return s=null,d+""||null}return c.x=function(t){return arguments.length?(e=nU(t),c):e},c.y=function(e){return arguments.length?(t=nU(e),c):t},c.width=function(e){return arguments.length?(n=nU(e),c):n},c.height=function(e){return arguments.length?(r=nU(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(i=nU(e),a=null!=t?nU(t):i,u=null!=n?nU(n):i,o=null!=r?nU(r):a,c):i},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}function aU(){var e,t,n,r,i,a,o,u,s=null;function c(e,t,n){var r=n/2;if(i){var c=o-t,l=e-a;if(c||l){var f=Math.sqrt(c*c+l*l),d=(c/=f)*u,h=(l/=f)*u,p=Math.atan2(l,c);s.moveTo(a-d,o-h),s.lineTo(e-c*r,t-l*r),s.arc(e,t,r,p-Math.PI,p),s.lineTo(a+d,o+h),s.arc(a,o,u,p,p+Math.PI)}else s.arc(e,t,r,0,IL);s.closePath()}else i=1;a=e,o=t,u=r}function l(a){var o,u,l,f=a.length,d=!1;for(null==s&&(s=l=RM()),o=0;o<=f;++o)!(o<f&&r(u=a[o],o,a))===d&&(d=!d)&&(i=0),d&&c(+e(u,o,a),+t(u,o,a),+n(u,o,a));if(l)return s=null,l+""||null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(e){return arguments.length?(t=e,l):t},l.size=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}function oU(e,t){return null!=e?e:t}var uU=function(e){return e.x||0},sU=function(e){return e.y||0},cU=function(e){return!(!1===e.defined)},lU=function(){var e=BM,t=zM,n=IM(0),r=null,i=LM,a=UM,o=qM,u=null;function s(){var s,c,l=+e.apply(this,arguments),f=+t.apply(this,arguments),d=i.apply(this,arguments)-oM,h=a.apply(this,arguments)-oM,p=QP(h-d),v=h>d;if(u||(u=s=RM()),f<l&&(c=f,f=l,l=c),f>iM)if(p>uM-iM)u.moveTo(f*JP(d),f*nM(d)),u.arc(0,0,f,d,h,!v),l>iM&&(u.moveTo(l*JP(h),l*nM(h)),u.arc(0,0,l,h,d,v));else{var m,g,y=d,b=h,x=d,w=h,_=p,k=p,E=o.apply(this,arguments)/2,O=E>iM&&(r?+r.apply(this,arguments):rM(l*l+f*f)),S=tM(QP(f-l)/2,+n.apply(this,arguments)),A=S,C=S;if(O>iM){var D=cM(O/l*nM(E)),j=cM(O/f*nM(E));(_-=2*D)>iM?(x+=D*=v?1:-1,w-=D):(_=0,x=w=(d+h)/2),(k-=2*j)>iM?(y+=j*=v?1:-1,b-=j):(k=0,y=b=(d+h)/2)}var T=f*JP(y),F=f*nM(y),P=l*JP(w),M=l*nM(w);if(S>iM){var N,R=f*JP(b),I=f*nM(b),B=l*JP(x),z=l*nM(x);if(p<aM&&(N=WM(T,F,B,z,R,I,P,M))){var L=T-N[0],U=F-N[1],q=R-N[0],W=I-N[1],H=1/nM(sM((L*q+U*W)/(rM(L*L+U*U)*rM(q*q+W*W)))/2),$=rM(N[0]*N[0]+N[1]*N[1]);A=tM(S,(l-$)/(H-1)),C=tM(S,(f-$)/(H+1))}}k>iM?C>iM?(m=HM(B,z,T,F,f,C,v),g=HM(R,I,P,M,f,C,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),C<S?u.arc(m.cx,m.cy,C,ZP(m.y01,m.x01),ZP(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,C,ZP(m.y01,m.x01),ZP(m.y11,m.x11),!v),u.arc(0,0,f,ZP(m.cy+m.y11,m.cx+m.x11),ZP(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,C,ZP(g.y11,g.x11),ZP(g.y01,g.x01),!v))):(u.moveTo(T,F),u.arc(0,0,f,y,b,!v)):u.moveTo(T,F),l>iM&&_>iM?A>iM?(m=HM(P,M,R,I,l,-A,v),g=HM(T,F,B,z,l,-A,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),A<S?u.arc(m.cx,m.cy,A,ZP(m.y01,m.x01),ZP(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,A,ZP(m.y01,m.x01),ZP(m.y11,m.x11),!v),u.arc(0,0,l,ZP(m.cy+m.y11,m.cx+m.x11),ZP(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,A,ZP(g.y11,g.x11),ZP(g.y01,g.x01),!v))):u.arc(0,0,l,w,x,v):u.lineTo(P,M)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-aM/2;return[JP(r)*n,nM(r)*n]},s.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:IM(+t),s):e},s.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:IM(+e),s):t},s.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:IM(+e),s):n},s.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:IM(+e),s):r},s.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:IM(+e),s):i},s.endAngle=function(e){return arguments.length?(a="function"===typeof e?e:IM(+e),s):a},s.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:IM(+e),s):o},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),fU=KM().x(uU).y1(sU).y0((function(e){return(e.y||0)+(e.height||0)})).defined(cU),dU=KM().y(sU).x1(uU).x0((function(e){return(e.x||0)+(e.width||0)})).defined(cU),hU=YM().x(uU).y(sU).defined(cU),pU=iU().x(uU).y(sU).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return oU(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return oU(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return oU(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return oU(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),vU=function(e,t){var n=null;function r(){var r;if(n||(n=r=RM()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:IM(e||XM),t="function"===typeof t?t:IM(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:IM(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:IM(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return KL(e.shape||"circle")})).size((function(e){return oU(e.size,64)})),mU=aU().x(uU).y(sU).defined(cU).size((function(e){return e.size||1}));function gU(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function yU(e,t,n,r){return pU.context(e)(t,n,r)}var bU=1;function xU(){bU=1}function wU(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+bU++),o=i.clipping[a]||(i.clipping[a]={id:a});return Bk(r)?o.path=r(null):gU(n)?o.path=yU(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+a+")"}function _U(e){this.clear(),e&&this.union(e)}function kU(e){this.mark=e,this.bounds=this.bounds||new _U}function EU(e){kU.call(this,e),this.items=this.items||[]}function OU(e){this._pending=0,this._loader=e||cj()}function SU(e){e._pending+=1}function AU(e){e._pending-=1}function CU(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}_U.prototype={clone:function(){return new _U(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set:function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add:function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand:function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate:function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints:function(e,t,n){var r=this.x1,i=this.y1,a=this.x2,o=this.y2,u=Math.cos(e),s=Math.sin(e),c=t-t*u+n*s,l=n-t*s-n*u;return[u*r-s*i+c,s*r+u*i+l,u*r-s*o+c,s*r+u*o+l,u*a-s*i+c,s*a+u*i+l,u*a-s*o+c,s*a+u*o+l]},union:function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect:function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses:function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith:function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects:function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},eE(EU,kU),OU.prototype={pending:function(){return this._pending},sanitizeURL:function(e){var t=this;return SU(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return AU(t),e})).catch((function(){return AU(t),null}))},loadImage:function(e){var t=this,n=JM();return SU(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n,a=Xk(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=a&&(i.crossOrigin=a),i.onload=function(){return AU(t)},i.onerror=function(){return AU(t)},i.src=r,i})).catch((function(e){return AU(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},ready:function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}};var DU,jU,TU,FU,PU,MU,NU,RU,IU=IL-1e-8,BU=function(e,t){return DU.add(e,t)},zU=function(e,t){return BU(jU=e,TU=t)},LU=function(e){return BU(e,DU.y1)},UU=function(e){return BU(DU.x1,e)},qU=function(e,t){return PU*e+NU*t},WU=function(e,t){return MU*e+RU*t},HU=function(e,t){return BU(qU(e,t),WU(e,t))},$U=function(e,t){return zU(qU(e,t),WU(e,t))};function VU(e,t){return DU=e,t?(FU=t*NL,PU=RU=Math.cos(FU),MU=Math.sin(FU),NU=-MU):(PU=RU=1,FU=MU=NU=0),GU}var GU={beginPath:function(){},closePath:function(){},moveTo:$U,lineTo:$U,rect:function(e,t,n,r){FU?(HU(e+n,t),HU(e+n,t+r),HU(e,t+r),$U(e,t)):(BU(e+n,t+r),zU(e,t))},quadraticCurveTo:function(e,t,n,r){var i=qU(e,t),a=WU(e,t),o=qU(n,r),u=WU(n,r);YU(jU,i,o,LU),YU(TU,a,u,UU),zU(o,u)},bezierCurveTo:function(e,t,n,r,i,a){var o=qU(e,t),u=WU(e,t),s=qU(n,r),c=WU(n,r),l=qU(i,a),f=WU(i,a);KU(jU,o,s,l,LU),KU(TU,u,c,f,UU),zU(l,f)},arc:function(e,t,n,r,i,a){if(r+=FU,i+=FU,jU=n*Math.cos(i)+e,TU=n*Math.sin(i)+t,Math.abs(i-r)>IU)BU(e-n,t-n),BU(e+n,t+n);else{var o,u,s=function(r){return BU(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(s(r),s(i),i!==r)if((r%=IL)<0&&(r+=IL),(i%=IL)<0&&(i+=IL),i<r&&(a=!a,o=r,r=i,i=o),a)for(i-=IL,o=r-r%RL,u=0;u<4&&o>i;++u,o-=RL)s(o);else for(o=r-r%RL+RL,u=0;u<4&&o<i;++u,o+=RL)s(o)}}};function YU(e,t,n,r){var i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function KU(e,t,n,r,i){var a,o=r-e+3*t-3*n,u=e+n-2*t,s=e-t,c=0,l=0;Math.abs(o)>1e-14?(a=u*u+s*o)>=0&&(c=(-u+(a=Math.sqrt(a)))/o,l=(-u-a)/o):c=.5*s/u,0<c&&c<1&&i(XU(c,e,t,n,r)),0<l&&l<1&&i(XU(l,e,t,n,r))}function XU(e,t,n,r,i){var a=1-e,o=a*a,u=e*e;return o*a*t+3*o*e*n+3*a*u*r+u*e*i}var QU=(QU=ZM(1,1))?QU.getContext("2d"):null,ZU=new _U;function JU(e){return function(t,n){if(!QU)return!0;e(QU,t),ZU.clear().union(t.bounds).intersect(n).round();for(var r=ZU.x1,i=ZU.y1,a=ZU.x2,o=ZU.y2,u=i;u<=o;++u)for(var s=r;s<=a;++s)if(QU.isPointInPath(s,u))return!0;return!1}}function eq(e,t){return t.contains(e.x||0,e.y||0)}function tq(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(ZU.set(n,r,n+i,r+a))}function nq(e,t){var n=e.x||0,r=e.y||0;return rq(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function rq(e,t,n,r,i){var a,o,u,s,c=e.x1,l=e.y1,f=e.x2,d=e.y2,h=r-t,p=i-n,v=0,m=1;for(s=0;s<4;++s){if(0===s&&(a=-h,o=-(c-t)),1===s&&(a=h,o=f-t),2===s&&(a=-p,o=-(l-n)),3===s&&(a=p,o=d-n),Math.abs(a)<1e-10&&o<0)return!1;if(u=o/a,a<0){if(u>m)return!1;u>v&&(v=u)}else if(a>0){if(u<v)return!1;u<m&&(m=u)}}return!0}function iq(e,t){e.globalCompositeOperation=t.blend||"source-over"}function aq(e,t){return null==e?t:e}function oq(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function uq(e,t,n){return SL(n)?function(e,t,n){var r,i=n.width(),a=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+aq(t.x1,.5)*i,n.y1+aq(t.y1,.5)*a,Math.max(i,a)*aq(t.r1,0),n.x1+aq(t.x2,.5)*i,n.y1+aq(t.y2,.5)*a,Math.max(i,a)*aq(t.r2,.5));else{var o=aq(t.x1,0),u=aq(t.y1,0),s=aq(t.x2,1),c=aq(t.y2,0);if(o!==s&&u!==c&&i!==a){var l=ZM(Math.ceil(i),Math.ceil(a)),f=l.getContext("2d");return f.scale(i,a),f.fillStyle=oq(f.createLinearGradient(o,u,s,c),t.stops),f.fillRect(0,0,i,a),e.createPattern(l,"no-repeat")}r=e.createLinearGradient(n.x1+o*i,n.y1+u*a,n.x1+s*i,n.y1+c*a)}return oq(r,t.stops)}(e,n,t.bounds):n}function sq(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=uq(e,t,t.fill),!0)}var cq=[];function lq(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=uq(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||cq),e.lineDashOffset=t.strokeDashOffset||0),!0))}function fq(e,t){return e.zindex-t.zindex||e.index-t.index}function dq(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,a=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(fq)}function hq(e,t){var n,r,i=e.items;if(i&&i.length){var a=dq(e);if(a&&a.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=a}for(n=0,r=i.length;n<r;++n)t(i[n])}}function pq(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var a=dq(e);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===a)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function vq(e){return function(t,n,r){hq(n,(function(n){r&&!r.intersects(n.bounds)||gq(e,t,n,n)}))}}function mq(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||gq(e,t,n.items[0],n.items)}}function gq(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(iq(t,n),n.fill&&sq(t,n,i)&&t.fill(),n.stroke&&lq(t,n,i)&&t.stroke()))}function yq(e){return e=e||nk,function(t,n,r,i,a,o){return r*=t.pixelRatio,i*=t.pixelRatio,pq(n,(function(n){var u=n.bounds;if((!u||u.contains(a,o))&&u)return e(t,n,r,i,a,o)?n:void 0}))}}function bq(e,t){return function(n,r,i,a){var o,u,s=Array.isArray(r)?r[0]:r,c=null==t?s.fill:t,l=s.stroke&&n.isPointInStroke;return l&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(c&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a))}}function xq(e){return yq(bq(e))}function wq(e,t){return"translate("+e+","+t+")"}function _q(e){return"rotate("+e+")"}function kq(e){return wq(e.x||0,e.y||0)}function Eq(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,a=n.angle||0;e.translate(r,i),a&&e.rotate(a*=NL),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return wq(e.x||0,e.y||0)+(e.angle?" "+_q(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(VU(e,n.angle),n),CU(e,n).translate(n.x||0,n.y||0)},draw:vq(r),pick:xq(r),isect:n||JU(r)}}var Oq=Eq("arc",(function(e,t){return lU.context(e)(t)}));function Sq(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i=bq(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(VU(e),r),CU(e,r[0]))},draw:mq(r),pick:function(e,t,n,r,a,o){var u=t.items,s=t.bounds;return!u||!u.length||s&&!s.contains(a,o)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,u,n,r)?u[0]:null)},isect:eq,tip:n}}var Aq=Sq("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?dU:fU).curve(TL(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,u=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][a]-i))<u&&(u=r,n=e[o]);return n}));function Cq(e,t){e.beginPath(),gU(t)?yU(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Dq(e){var t=aq(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function jq(e,t){var n=Dq(t);e("d",yU(null,t,n,n))}function Tq(e,t,n,r){var i=Dq(t);e.beginPath(),yU(e,t,(n||0)+i,(r||0)+i)}var Fq=bq(Tq),Pq=bq(Tq,!1),Mq=bq(Tq,!0);var Nq={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",kq(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=n.length,i=0;i<r;++i)e.union(n[i].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),CU(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;hq(t,(function(t){var i=t.x||0,a=t.y||0,o=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(Tq(e,t,i,a),iq(e,t),t.fill&&sq(e,t,u)&&e.fill(),t.stroke&&!o&&lq(e,t,u)&&e.stroke()),e.save(),e.translate(i,a),t.clip&&Cq(e,t),n&&n.translate(-i,-a),hq(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,a),e.restore(),o&&t.stroke&&u&&(Tq(e,t,i,a),iq(e,t),lq(e,t,u)&&e.stroke())}))},pick:function(e,t,n,r,i,a){var o=this;if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;var u=n*e.pixelRatio,s=r*e.pixelRatio;return pq(t,(function(c){var l,f,d,h=c.bounds;if(!h||h.contains(i,a)){f=c.x||0,d=c.y||0;var p=f+(c.width||0),v=d+(c.height||0),m=c.clip;if(!m||!(i<f||i>p||a<d||a>v)){if(e.save(),e.translate(f,d),f=i-f,d=a-d,m&&gU(c)&&!Mq(e,c,u,s))return e.restore(),null;var g=c.strokeForeground,y=!1!==t.interactive;return y&&g&&c.stroke&&Pq(e,c,u,s)?(e.restore(),c):(l=pq(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,d)?o.pick(e,n,r,f,d):null})),!l&&y&&(c.fill||!g&&c.stroke)&&Fq(e,c,u,s)&&(l=c),e.restore(),l||null)}}}))},isect:tq,content:function(e,t,n){e("clip-path",t.clip?wU(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),jq(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?jq(e,t):e("d","")}},Rq={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Iq(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function Bq(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function zq(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function Lq(e,t){return"center"===e?t/2:"right"===e?t:0}function Uq(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var qq={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=Iq(t,n),i=Bq(t,r),a=zq(t,r),o=(t.x||0)-Lq(t.align,i),u=(t.y||0)-Uq(t.baseline,a);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",Rq["xmlns:xlink"],"xlink:href"),e("transform",wq(o,u)),e("width",i),e("height",a),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,r=Bq(t,n),i=zq(t,n),a=(t.x||0)-Lq(t.align,r),o=(t.y||0)-Uq(t.baseline,i);return e.set(a,o,a+r,o+i)},draw:function(e,t,n){var r=this;hq(t,(function(t){if(!n||n.intersects(t.bounds)){var i=Iq(t,r),a=Bq(t,i),o=zq(t,i);if(0!==a&&0!==o){var u,s,c,l,f=(t.x||0)-Lq(t.align,a),d=(t.y||0)-Uq(t.baseline,o);!1!==t.aspect&&(s=i.width/i.height,c=t.width/t.height,s===s&&c===c&&s!==c&&(c<s?(d+=(o-(l=a/s))/2,o=l):(f+=(a-(l=o*s))/2,a=l))),(i.complete||i.toDataURL)&&(iq(e,t),e.globalAlpha=null!=(u=t.opacity)?u:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(i,f,d,a,o))}}}))},pick:yq(),isect:nk,get:Iq,xOffset:Lq,yOffset:Uq},Wq=Sq("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return hU.curve(TL(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<i)return e[a];return null}));function Hq(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,o=t.scaleY||1,u=(t.angle||0)*NL,s=t.pathCache;s&&s.path===n||((t.pathCache=s=ML(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(u),$L(e,s,0,0,a,o),e.rotate(-u),e.translate(-r,-i)):$L(e,s,r,i,a,o)}var $q={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return wq(e.x||0,e.y||0)+(e.angle?" "+_q(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function(e,t){return Hq(VU(e,t.angle),t)?e.set(0,0,0,0):CU(e,t,!0)},draw:vq(Hq),pick:xq(Hq),isect:JU(Hq)};function Vq(e,t){e.beginPath(),yU(e,t)}var Gq={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",yU(null,t))},bound:function(e,t){var n,r;return CU(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:vq(Vq),pick:xq(Vq),isect:tq};function Yq(e,t,n){var r,i,a,o;return!(!t.stroke||!lq(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0)}var Kq={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",kq(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return CU(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){hq(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&Yq(e,t,r)&&(iq(e,t),e.stroke())}}))},pick:yq((function(e,t,n,r){return!!e.isPointInStroke&&(Yq(e,t,1)&&e.isPointInStroke(n,r))})),isect:nq},Xq=Eq("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Qq=Eq("symbol",(function(e,t){return vU.context(e)(t)}),eq),Zq=lE(),Jq={height:aW,measureWidth:rW,estimateWidth:tW,width:tW,canvas:eW};function eW(e){Jq.width=e&&QU?rW:tW}function tW(e,t){return nW(cW(e,t),aW(e))}function nW(e,t){return~~(.8*e.length*t)}function rW(e,t){return aW(e)<=0||!(t=cW(e,t))?0:iW(t,fW(e))}function iW(e,t){var n="(".concat(t,") ").concat(e),r=Zq.get(n);return void 0===r&&(QU.font=t,r=QU.measureText(e).width,Zq.set(n,r)),r}function aW(e){return null!=e.fontSize?+e.fontSize||0:11}function oW(e){return null!=e.lineHeight?e.lineHeight:aW(e)+2}function uW(e){return t=e.lineBreak&&e.text&&!fk(e.text)?e.text.split(e.lineBreak):e.text,fk(t)?t.length>1?t:t[0]:t;var t}function sW(e){var t=uW(e);return(fk(t)?t.length-1:0)*oW(e)}function cW(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(Jq.width===rW){var t=fW(e);return function(e){return iW(e,t)}}var n=aW(e);return function(e){return nW(e,n)}}(e);if(r(t)<n)return t;var i,a=e.ellipsis||"\u2026",o="rtl"===e.dir,u=0,s=t.length;if(n-=r(a),o){for(;u<s;)i=u+s>>>1,r(t.slice(i))>n?u=i+1:s=i;return a+t.slice(u)}for(;u<s;)i=1+(u+s>>>1),r(t.slice(0,i))<n?u=i:s=i-1;return t.slice(0,u)+a}(e,n):n}function lW(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function fW(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+aW(e)+"px "+lW(e,t)}function dW(e){var t=e.baseline,n=aW(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*oW(e):"line-bottom"===t?.29*n-.5*oW(e):0)}eW(!0);var hW={left:"start",center:"middle",right:"end"},pW=new _U;function vW(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-RL,n+=i*Math.cos(t),r+=i*Math.sin(t)),pW.x1=n,pW.y1=r,pW}function mW(e,t,n){var r,i=Jq.height(t),a=t.align,o=vW(t),u=o.x1,s=o.y1,c=t.dx||0,l=(t.dy||0)+dW(t)-Math.round(.8*i),f=uW(t);if(fk(f)?(i+=oW(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,Jq.width(t,n))}),0)):r=Jq.width(t,f),"center"===a?c-=r/2:"right"===a&&(c-=r),e.set(c+=u,l+=s,c+r,l+i),t.angle&&!n)e.rotate(t.angle*NL,u,s);else if(2===n)return e.rotatedPoints(t.angle*NL,u,s);return e}var gW={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+dW(t),a=vW(t),o=a.x1,u=a.y1,s=t.angle||0;e("text-anchor",hW[t.align]||"start"),s?(n=wq(o,u)+" "+_q(s),(r||i)&&(n+=" "+wq(r,i))):n=wq(o+r,u+i),e("transform",n)},bound:mW,draw:function(e,t,n){hq(t,(function(t){var r,i,a,o,u,s,c,l=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===l||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=fW(t),e.textAlign=t.align||"left",i=(r=vW(t)).x1,a=r.y1,t.angle&&(e.save(),e.translate(i,a),e.rotate(t.angle*NL),i=a=0),i+=t.dx||0,a+=(t.dy||0)+dW(t),s=uW(t),iq(e,t),fk(s))for(u=oW(t),o=0;o<s.length;++o)c=cW(t,s[o]),t.fill&&sq(e,t,l)&&e.fillText(c,i,a),t.stroke&&lq(e,t,l)&&e.strokeText(c,i,a),a+=u;else c=cW(t,s),t.fill&&sq(e,t,l)&&e.fillText(c,i,a),t.stroke&&lq(e,t,l)&&e.strokeText(c,i,a);t.angle&&e.restore()}}))},pick:yq((function(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=vW(t),u=o.x1,s=o.y1,c=mW(pW,t,1),l=-t.angle*NL,f=Math.cos(l),d=Math.sin(l),h=f*i-d*a+(u-f*u+d*s),p=d*i+f*a+(s-d*u-f*s);return c.contains(h,p)})),isect:function(e,t){var n=mW(pW,e,2);return rq(t,n[0],n[1],n[2],n[3])||rq(t,n[0],n[1],n[4],n[5])||rq(t,n[4],n[5],n[6],n[7])||rq(t,n[2],n[3],n[6],n[7])}},yW=Sq("trail",(function(e,t){return mU.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null})),bW={arc:Oq,area:Aq,group:Nq,image:qq,line:Wq,path:$q,rect:Gq,rule:Kq,shape:Xq,symbol:Qq,text:gW,trail:yW};function xW(e,t,n){var r=bW[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new _U),e,n)}var wW={mark:null};function _W(e,t,n){var r,i,a,o,u=bW[e.marktype],s=u.bound,c=e.items,l=c&&c.length;if(u.nested)return l?a=c[0]:(wW.mark=e,a=wW),o=xW(a,s,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new _U,l)for(r=0,i=c.length;r<i;++r)t.union(xW(c[r],s,n));return e.bounds=t}var kW=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function EW(e,t){return JSON.stringify(e,kW,t)}function OW(e){return SW("string"===typeof e?JSON.parse(e):e)}function SW(e){var t,n,r,i=e.marktype,a=e.items;if(a)for(n=0,r=a.length;n<r;++n)t=i?"mark":"group",a[n][t]=e,a[n].zindex&&(a[n][t].zdirty=!0),"group"===(i||t)&&SW(a[n]);return i&&_W(e),e}function AW(e){arguments.length?this.root=OW(e):(this.root=CW({marktype:"group",name:"root",role:"frame"}),this.root.items=[new EU(this.root)])}function CW(e,t){var n={bounds:new _U,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function DW(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function jW(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function TW(e,t,n,r){var i,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(i=a||null,a=DW(e.ownerDocument,n,r),e.insertBefore(a,i)),a}function FW(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function PW(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function MW(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function NW(e,t){this._active=null,this._handlers={},this._loader=e||cj(),this._tooltip=t||RW}function RW(e,t,n,r){e.element().setAttribute("title",r||"")}function IW(e){this._el=null,this._bgcolor=null,this._loader=new OU(e)}AW.prototype={toJSON:function(e){return EW(this.root,e||0)},mark:function(e,t,n){var r=CW(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},NW.prototype={initialize:function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene:function(e){return arguments.length?(this._scene=e,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers:function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,du(t[this.eventName(e)]));else for(var r in t)n.push.apply(n,du(t[r]));return n},eventName:function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref:function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=DW(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,a,o=e&&e.mark;if(o&&(i=bW[o.marktype]).tip){for((a=MW(t,n))[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=i.tip(o.items,a)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect:function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.width(),o=i.height(),u=i.x1+r[0]+n.left,s=i.y1+r[1]+n.top;e.mark&&(e=e.mark.group);)u+=e.x||0,s+=e.y||0;return{x:u,y:s,width:a,height:o,left:u,top:s,right:u+a,bottom:s+o}}}},IW.prototype={initialize:function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize:function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty:function(){},render:function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render:function(){},renderAsync:function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},_load:function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},sanitizeURL:function(e){return this._load("sanitizeURL",e)},loadImage:function(e){return this._load("loadImage",e)}};var BW="dragenter",zW="dragleave",LW="dragover",UW="mousedown",qW="mousemove",WW="mouseout",HW="mouseover",$W="click",VW="mousewheel",GW="touchstart",YW="touchmove",KW="touchend",XW=qW,QW=WW,ZW=$W;function JW(e,t){NW.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function eH(e,t){(function(e){return e===GW||e===YW||e===KW?[GW,YW,KW]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function tH(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i||(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r)),this.fire(e,r)}}function nH(e){return function(t){this.fire(e,t),this._active=null}}eE(JW,NW,{initialize:function(e,t,n){var r=this;return this._canvas=e&&jW(e,"canvas"),[$W,UW,qW,WW,zW].forEach((function(e){return eH(r,e)})),NW.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",BW,zW,LW,UW,"mouseup",qW,WW,HW,$W,"dblclick","wheel",VW,GW,YW,KW],DOMMouseScroll:function(e){this.fire(VW,e)},mousemove:tH(qW,HW,WW),dragover:tH(LW,BW,zW),mouseout:nH(WW),dragleave:nH(zW),mousedown:function(e){this._down=this._active,this.fire(UW,e)},click:function(e){this._down===this._active&&(this.fire($W,e),this._down=null)},touchstart:function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(GW,e,!0)},touchmove:function(e){this.fire(YW,e,!0)},touchend:function(e){this.fire(KW,e,!0),this._touch=null},fire:function(e,t,n){var r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===ZW&&r&&r.href?this.handleHref(t,r,r.href):e!==XW&&e!==QW||this.handleTooltip(t,r,e!==QW),i)for(var a=0,o=i.length;a<o;++a)i[a].handler.call(this._obj,t,r)},on:function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(eH(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent:function(e){var t=MW(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick:function(e,t,n,r,i){var a=this.context();return bW[e.marktype].pick.call(this,a,e,t,n,r,i)}});var rH="undefined"!==typeof window&&window.devicePixelRatio||1;function iH(e){IW.call(this,e),this._options={},this._redraw=!1,this._dirty=new _U,this._tempb=new _U}var aH=IW.prototype;function oH(e,t){NW.call(this,e,t);var n=this;n._hrefHandler=uH(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=uH(n,(function(e,t){n.handleTooltip(e,t,e.type!==QW)}))}eE(iH,IW,{initialize:function(e,t,n,r,i,a){return this._options=a||{},this._canvas=this._options.externalContext?null:ZM(1,1,this._options.type),e&&this._canvas&&(FW(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),aH.initialize.call(this,e,t,n,r,i)},resize:function(e,t,n,r){if(aH.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,i,a){var o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),s=o?rH:i;for(var c in e.width=t*s,e.height=n*s,a)u[c]=a[c];o&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var i=this._options.externalContext;i||K_("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render:function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty,o=function(e,t,n){return(new _U).set(0,0,t,n).translate(-e[0],-e[1])}(n,r,i);t.save();var u=this._redraw||a.empty()?(this._redraw=!1,o.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,o.intersect(a),n);return this.clear(-n[0],-n[1],r,i),this.draw(t,e,u),t.restore(),a.clear(),this},draw:function(e,t,n){var r=bW[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Bk(n)?(e.beginPath(),n(e),e.clip()):Cq(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear:function(e,t,n,r){var i=this._options,a=this.context();"pdf"===i.type||i.externalContext||a.clearRect(e,t,n,r),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,r))}});var uH=function(e,t){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)}};eE(oH,NW,{initialize:function(e,t,n){var r=this._svg;return r&&(r.removeEventListener(ZW,this._hrefHandler),r.removeEventListener(XW,this._tooltipHandler),r.removeEventListener(QW,this._tooltipHandler)),this._svg=r=e&&jW(e,"svg"),r&&(r.addEventListener(ZW,this._hrefHandler),r.addEventListener(XW,this._tooltipHandler),r.addEventListener(QW,this._tooltipHandler)),NW.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._svg},on:function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:uH(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});var sH="aria-hidden",cH="aria-label",lH="role",fH="aria-roledescription",dH="graphics-object",hH="graphics-symbol",pH=function(e,t,n){var r;return lu(r={},lH,e),lu(r,fH,t),lu(r,cH,n||void 0),r},vH=xE(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),mH={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,r=t.title?wH(e):null,i=e.context,a=i.scales[t.scale].value,o=i.dataflow.locale(),u=a.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(Wz(u)?"discrete":u," scale")+" with ".concat(kL(o,a,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?wH(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,a=Object.keys(i),o=e.context,u=o.scales[i[a[0]]].value,s=o.dataflow.locale();return function(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(r)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+gk(e)}(a))+" with ".concat(kL(s,u,e))}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(xH(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(xH(e),"'")}}},gH={ariaRole:lH,ariaRoleDescription:fH,description:cH};function yH(e,t){var n=!1===t.aria;if(e(sH,n||void 0),n||null==t.description)for(var r in gH)e(gH[r],void 0);else{var i=t.mark.marktype;e(cH,t.description),e(lH,t.ariaRole||("group"===i?dH:hH)),e(fH,t.ariaRoleDescription||"".concat(i," mark"))}}function bH(e){return!1===e.aria?lu({},sH,!0):vH[e.role]?null:mH[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return pH(t.role||hH,t.desc,n.description||r(n))}catch(i){return null}}(e,mH[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return pH(n?dH:hH,"".concat(t," mark container"),e.description)}(e)}function xH(e){return Rk(e.text).join(" ")}function wH(e){try{return Rk(gk(e.items).items[0].text).join(" ")}catch(t){return null}}var _H=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function kH(){var e="",t="",n="",r=[],i=function(){return t=n=""},a=function(a){t&&(e+="".concat(t,">").concat(n),i()),r.push(a)},o=function(e,n){return null!=n&&(t+=" ".concat(e,'="').concat(_H(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),u},u={open:function(e){a(e),t="<"+e;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=0,c=r;s<c.length;s++){var l=c[s];for(var f in l)o(f,l[f])}return u},close:function(){var a=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(a,">"):"/>"):"</".concat(a,">"),i(),u},attr:o,text:function(e){return n+=_H(e),u},toString:function(){return e}};return u}var EH=function(e){return OH(kH(),e)+""};function OH(e,t){if(e.open(t.tagName),t.hasAttributes())for(var n=t.attributes,r=n.length,i=0;i<r;++i)e.attr(n[i].name,n[i].value);if(t.hasChildNodes())for(var a=t.childNodes,o=a.length,u=0;u<o;u++){var s=a[u];3===s.nodeType?e.text(s.nodeValue):OH(e,s)}return e.close()}var SH={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},AH={fill:"none","stroke-miterlimit":10},CH="http://www.w3.org/2000/xmlns/",DH=Rq.xmlns;function jH(e){IW.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var TH=IW.prototype;function FH(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function PH(e,t,n){var r,i,a;if("radial"===t.gradient){var o=TW(e,n++,"pattern",DH);UH(o,{id:OL+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),UH(o=TW(o,0,"rect",DH),{width:1,height:1,fill:"url(".concat(WH(),"#").concat(t.id,")")}),UH(e=TW(e,n++,"radialGradient",DH),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else UH(e=TW(e,n++,"linearGradient",DH),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)(a=TW(e,r,"stop",DH)).setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return FW(e,r),n}function MH(e,t,n){return(e=TW(e,n,"clipPath",DH)).setAttribute("id",t.id),t.path?TW(e,0,"path",DH).setAttribute("d",t.path):UH(TW(e,0,"rect",DH),{x:0,y:0,width:t.width,height:t.height}),FW(e,1),n+1}function NH(e,t,n,r,i){var a,o=e._svg;if(!o&&(o=DW(a=t.ownerDocument,r,DH),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var u=DW(a,"path",DH);o.appendChild(u),u.__data__=e;var s=DW(a,"g",DH);o.appendChild(s),s.__data__=e;var c=DW(a,"path",DH);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}eE(jH,IW,{initialize:function(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=TW(e,0,"svg",DH),this._svg.setAttributeNS(CH,"xmlns",DH),this._svg.setAttributeNS(CH,"xmlns:xlink",Rq["xmlns:xlink"]),this._svg.setAttribute("version",Rq.version),this._svg.setAttribute("class","marks"),FW(e,1),this._root=TW(this._svg,0,"g",DH),UH(this._root,AH),FW(this._svg,1)),this.background(this._bgcolor),TH.initialize.call(this,e,t,n,r,i)},background:function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),TH.background.apply(this,arguments)},resize:function(e,t,n,r){return TH.resize.call(this,e,t,n,r),this._svg&&(UH(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var e,t=this._svg,n=this._bgcolor;if(!t)return null;n&&(t.removeAttribute("style"),UH(e=TW(t,0,"rect",DH),{width:this._width,height:this._height,fill:n}));var r=EH(t);return n&&(t.removeChild(e),this._svg.style.setProperty("background-color",n)),r},_render:function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),FW(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty:function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,a,o,u,s=++this._dirtyID;for(a=0,o=e.length;a<o;++a)(n=(t=e[a]).mark).marktype!==r&&(r=n.marktype,i=bW[r]),n.zdirty&&n.dirty!==s&&(this._dirtyAll=!1,FH(t,s),n.items.forEach((function(e){e.dirty=s}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(u=n.items[0])._svg&&this._update(i,u._svg,u):t._svg&&(u=t._svg.parentNode)&&u.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==s&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,FH(t,s)),t._update=s));return!this._dirtyAll},mark:function(e,t,n){var r=this;if(!this.isDirty(t))return t._svg;var i=this._svg,a=bW[t.marktype],o=!1===t.interactive?"none":null,u="g"===a.tag,s=null,c=0,l=NH(t,e,n,"g",i);l.setAttribute("class",PW(t));var f=bH(t);for(var d in f)qH(l,d,f[d]);u||qH(l,"pointer-events",o),qH(l,"clip-path",t.clip?wU(this,t,t.group):null);var h=function(e){var t=r.isDirty(e),n=NH(e,l,s,a.tag,i);t&&(r._update(a,n,e),u&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;hq(n,(function(n){r=e.mark(t,n,r),++i})),FW(t,1+i)}(r,n,e)),s=n,++c};return a.nested?t.items.length&&h(t.items[0]):hq(t,h),FW(l,c),l},_update:function(e,t,n){RH=t,IH=t.__values__,yH(zH,n),e.attr(zH,n,this);var r=BH[e.type];r&&r.call(this,e,t,n),RH&&this.style(RH,n)},style:function(e,t){if(null!=t)for(var n in SH){var r="font"===n?lW(t):t[n];if(r!==IH[n]){var i=SH[n];null==r?e.removeAttribute(i):(SL(r)&&(r=AL(r,this._defs.gradient,WH())),e.setAttribute(i,r+"")),IH[n]=r}}},defs:function(){var e=this._svg,t=this._defs,n=t.el,r=0;for(var i in t.gradient)n||(t.el=n=TW(e,1,"defs",DH)),r=PH(n,t.gradient[i],r);for(var a in t.clipping)n||(t.el=n=TW(e,1,"defs",DH)),r=MH(n,t.clipping[a],r);n&&(0===r?(e.removeChild(n),t.el=null):FW(n,r))},_clearDefs:function(){var e=this._defs;e.gradient={},e.clipping={}}});var RH=null,IH=null,BH={group:function(e,t,n){var r=RH=t.childNodes[2];IH=r.__values__,e.foreground(zH,n,this),IH=t.__values__,RH=t.childNodes[1],e.content(zH,n,this);var i=RH=t.childNodes[0];e.background(zH,n,this);var a=!1===n.mark.interactive?"none":null;if(a!==IH.events&&(qH(r,"pointer-events",a),qH(i,"pointer-events",a),IH.events=a),n.strokeForeground&&n.stroke){var o=n.fill;qH(r,"display",null),this.style(i,n),qH(i,"stroke",null),o&&(n.fill=null),IH=r.__values__,this.style(r,n),o&&(n.fill=o),RH=null}else qH(r,"display","none")},image:function(e,t,n){!1===n.smooth?(LH(t,"image-rendering","optimizeSpeed"),LH(t,"image-rendering","pixelated")):LH(t,"image-rendering",null)},text:function(e,t,n){var r,i,a,o,u=uW(n);fk(u)?(r=(i=u.map((function(e){return cW(n,e)}))).join("\n"))!==IH.text&&(FW(t,0),a=t.ownerDocument,o=oW(n),i.forEach((function(e,r){var i=DW(a,"tspan",DH);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",o)),t.appendChild(i)})),IH.text=r):(i=cW(n,u))!==IH.text&&(t.textContent=i,IH.text=i),qH(t,"font-family",lW(n)),qH(t,"font-size",aW(n)+"px"),qH(t,"font-style",n.fontStyle),qH(t,"font-variant",n.fontVariant),qH(t,"font-weight",n.fontWeight)}};function zH(e,t,n){t!==IH[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(RH,e,t,n):qH(RH,e,t),IH[e]=t)}function LH(e,t,n){n!==IH[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),IH[t]=n)}function UH(e,t){for(var n in t)qH(e,n,t[n])}function qH(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function WH(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function HH(e){IW.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}eE(HH,IW,{svg:function(){return this._text},_render:function(e){var t=kH();t.open("svg",Vk({},Rq,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",AH,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark:function(e,t){var n=this,r=bW[t.marktype],i=r.tag,a=[yH,r.attr];e.open("g",{class:PW(t),"clip-path":t.clip?wU(this,t,t.group):null},bH(t),{"pointer-events":"g"!==i&&!1===t.interactive?"none":null});var o=function(o){var u=n.href(o);if(u&&e.open("a",u),e.open(i,n.attr(t,o,a,"g"!==i?i:null)),"text"===i){var s=uW(o);if(fk(s))for(var c={x:0,dy:oW(o)},l=0;l<s.length;++l)e.open("tspan",l?c:null).text(cW(o,s[l])).close();else e.text(cW(o,s))}else if("g"===i){var f=o.strokeForeground,d=o.fill,h=o.stroke;f&&h&&(o.stroke=null),e.open("path",n.attr(t,o,r.background,"bgrect")).close(),e.open("g",n.attr(t,o,r.content)),hq(o,(function(t){return n.mark(e,t)})),e.close(),f&&h?(d&&(o.fill=null),o.stroke=h,e.open("path",n.attr(t,o,r.foreground,"bgrect")).close(),d&&(o.fill=d)):e.open("path",n.attr(t,o,r.foreground,"bgfore")).close()}e.close(),u&&e.close()};return r.nested?t.items&&t.items.length&&o(t.items[0]):hq(t,o),e.close()},href:function(e){var t,n=this,r=e.href;if(r){if(t=this._hrefs&&this._hrefs[r])return t;this.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},attr:function(e,t,n,r){var i=this,a={},o=function(e,t,n,r){a[r||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(o,t,i)})):n(o,t,this),r&&function(e,t,n,r,i){if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(e["font-family"]=lW(t),e["font-size"]=aW(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(var a in SH){var o=t[a],u=SH[a];("transparent"!==o||"fill"!==u&&"stroke"!==u)&&null!=o&&(SL(o)&&(o=AL(o,i.gradient,"")),e[u]=o)}}(a,t,e,r,this._defs),a},defs:function(e){var t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){for(var r in e.open("defs"),t){var i=t[r],a=i.stops;"radial"===i.gradient?(e.open("pattern",{id:OL+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),e.close(),e.open("radialGradient",{id:r,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):e.open("linearGradient",{id:r,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(var o=0;o<a.length;++o)e.open("stop",{offset:a[o].offset,"stop-color":a[o].color}).close();e.close()}for(var u in n){var s=n[u];e.open("clipPath",{id:u}),s.path?e.open("path",{d:s.path}).close():e.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),e.close()}e.close()}}});var $H="canvas",VH="none",GH={Canvas:$H,PNG:"png",SVG:"svg",None:VH},YH={};function KH(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(YH[e]=t,this):YH[e]}function XH(e,t,n){var r=[],i=(new _U).union(t),a=e.marktype;return a?QH(e,i,n,r):"group"===a?ZH(e,i,n,r):K_("Intersect scene must be mark node or group item.")}function QH(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var i=e.items,a=e.marktype,o=i.length,u=0;if("group"===a)for(;u<o;++u)ZH(i[u],t,n,r);else for(var s=bW[a].isect;u<o;++u){var c=i[u];JH(c,t,s)&&r.push(c)}}return r}function ZH(e,t,n,r){n&&n(e.mark)&&JH(e,t,bW.group.isect)&&r.push(e);var i=e.items,a=i&&i.length;if(a){var o=e.x||0,u=e.y||0;t.translate(-o,-u);for(var s=0;s<a;++s)QH(i[s],t,n,r);t.translate(o,u)}return r}function JH(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}YH.canvas=YH.png={renderer:iH,headless:iH,handler:JW},YH.svg={renderer:jH,headless:HH,handler:oH},YH.none={};var e$=new _U;function t$(e){var t=e.clip;if(Bk(t))t(VU(e$.clear()));else{if(!t)return;e$.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(e$)}function n$(e,t,n){return e===t||("path"===n?r$(e,t):e instanceof Date&&t instanceof Date?+e===+t:aE(e)&&aE(t)?Math.abs(e-t)<=1e-9:e&&t&&(dk(e)||dk(t))?function(e,t){var n,r,i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(!n$(e[n=i[r]],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function r$(e,t){return n$(ML(e),ML(t))}function i$(){xU(),EL=0}var a$="top",o$="left",u$="right",s$="bottom",c$="start",l$="middle",f$="end",d$="group",h$="axis",p$="title",v$="frame",m$="scope",g$="legend",y$="row-header",b$="row-footer",x$="row-title",w$="column-header",_$="column-footer",k$="column-title",E$="padding",O$="fit",S$="fit-x",A$="fit-y",C$="none",D$="all",j$="each",T$="flush",F$="column",P$="row";function M$(e){eT.call(this,null,e)}function N$(e,t,n){return t(e.bounds.clear(),e,n)}eE(M$,eT,{transform:function(e,t){var n,r=t.dataflow,i=e.mark,a=i.marktype,o=bW[a],u=o.bound,s=i.bounds;if(o.nested)i.items.length&&r.dirty(i.items[0]),s=N$(i,u),i.items.forEach((function(e){e.bounds.clear().union(s)}));else if(a===d$||e.modified())switch(t.visit(t.MOD,(function(e){return r.dirty(e)})),s.clear(),i.items.forEach((function(e){return s.union(N$(e,u))})),i.role){case h$:case g$:case p$:t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){s.union(N$(e,u))})),t.visit(t.MOD,(function(e){n=n||s.alignsWith(e.bounds),r.dirty(e),s.union(N$(e,u))})),n&&(s.clear(),i.items.forEach((function(e){return s.union(e.bounds)})));return t$(i),t.modifies("bounds")}});var R$=":vega_identifier:";function I$(e){eT.call(this,0,e)}function B$(e){eT.call(this,null,e)}function z$(e){eT.call(this,null,e)}I$.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},eE(I$,eT,{transform:function(e,t){var n,r=(n=t.dataflow)._signals[R$]||(n._signals[R$]=n.add(0)),i=e.as,a=r.value;return t.visit(t.ADD,(function(e){return e[i]=e[i]||++a})),r.set(this.value=a),t}}),eE(B$,eT,{transform:function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r=n.marktype===d$?EU:kU;return t.visit(t.ADD,(function(e){return r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});var L$={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&U$(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}},U$=function(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)},q$=function(e,t){for(var n,r=1,i=e.length,a=e[0].bounds;r<i;a=n,++r)if(U$(a,n=e[r].bounds,t))return!0},W$=function(e){var t=e.bounds;return t.width()>1&&t.height()>1},H$=function(e){return e.forEach((function(e){return e.opacity=1})),e},$$=function(e,t){return e.reflow(t.modified()).modifies("opacity")};function V$(e){eT.call(this,null,e)}eE(z$,eT,{transform:function(e,t){var n,r,i=L$[e.method]||L$.parity,a=e.separation||0,o=t.materialize(t.SOURCE).source;if(o&&o.length){if(!e.method)return e.modified("method")&&(H$(o),t=$$(t,e)),t;if((o=o.filter(W$)).length){if(e.sort&&(o=o.slice().sort(e.sort)),n=H$(o),t=$$(t,e),n.length>=3&&q$(n,a)){do{n=i(n,a)}while(n.length>=3&&q$(n,a));n.length<3&&!gk(o).opacity&&(n.length>1&&(gk(n).opacity=0),gk(o).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),i=new _U;return t===a$||t===s$?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach((function(e){r(e)||(e.opacity=0)})));var u=n[0].mark.bounds.clear();return o.forEach((function(e){e.opacity&&u.union(e.bounds)})),t}}}}),eE(V$,eT,{transform:function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});var G$=new _U;function Y$(e,t,n){return e[t]===n?0:(e[t]=n,1)}function K$(e){var t=e.items[0].orient;return t===o$||t===u$}function X$(e,t,n,r){var i,a,o=t.items[0],u=o.datum,s=null!=o.translate?o.translate:.5,c=o.orient,l=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(u),f=o.range,d=o.offset,h=o.position,p=o.minExtent,v=o.maxExtent,m=u.title&&o.items[l[2]].items[0],g=o.titlePadding,y=o.bounds,b=m&&sW(m),x=0,w=0;switch(G$.clear().union(y),y.clear(),(i=l[0])>-1&&y.union(o.items[i].bounds),(i=l[1])>-1&&y.union(o.items[i].bounds),c){case a$:x=h||0,w=-d,a=Math.max(p,Math.min(v,-y.y1)),y.add(0,-a).add(f,0),m&&Q$(e,m,a,g,b,0,-1,y);break;case o$:x=-d,w=h||0,a=Math.max(p,Math.min(v,-y.x1)),y.add(-a,0).add(0,f),m&&Q$(e,m,a,g,b,1,-1,y);break;case u$:x=n+d,w=h||0,a=Math.max(p,Math.min(v,y.x2)),y.add(0,0).add(a,f),m&&Q$(e,m,a,g,b,1,1,y);break;case s$:x=h||0,w=r+d,a=Math.max(p,Math.min(v,y.y2)),y.add(0,0).add(f,a),m&&Q$(e,m,a,g,0,0,1,y);break;default:x=o.x,w=o.y}return CU(y.translate(x,w),o),Y$(o,"x",x+s)|Y$(o,"y",w+s)&&(o.bounds=G$,e.dirty(o),o.bounds=y,e.dirty(o)),o.mark.bounds.clear().union(y)}function Q$(e,t,n,r,i,a,o,u){var s=t.bounds;if(t.auto){var c=o*(n+i+r),l=0,f=0;e.dirty(t),a?l=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(s.translate(-l,-f)),e.dirty(t)}u.union(s)}var Z$=function(e,t){return Math.floor(Math.min(e,t))},J$=function(e,t){return Math.ceil(Math.max(e,t))};function eV(e){return(new _U).set(0,0,e.width||0,e.height||0)}function tV(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function nV(e,t,n){var r=dk(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function rV(e){return e<0?Math.ceil(-e):0}function iV(e,t,n){var r,i,a,o,u,s,c,l,f,d,h,p=!n.nodirty,v=n.bounds===T$?eV:tV,m=G$.set(0,0,0,0),g=nV(n.align,F$),y=nV(n.align,P$),b=nV(n.padding,F$),x=nV(n.padding,P$),w=n.columns||t.length,_=w<=0?1:Math.ceil(t.length/w),k=t.length,E=Array(k),O=Array(w),S=0,A=Array(k),C=Array(_),D=0,j=Array(k),T=Array(k),F=Array(k);for(i=0;i<w;++i)O[i]=0;for(i=0;i<_;++i)C[i]=0;for(i=0;i<k;++i)s=t[i],u=F[i]=v(s),s.x=s.x||0,j[i]=0,s.y=s.y||0,T[i]=0,a=i%w,o=~~(i/w),S=Math.max(S,c=Math.ceil(u.x2)),D=Math.max(D,l=Math.ceil(u.y2)),O[a]=Math.max(O[a],c),C[o]=Math.max(C[o],l),E[i]=b+rV(u.x1),A[i]=x+rV(u.y1),p&&e.dirty(t[i]);for(i=0;i<k;++i)i%w===0&&(E[i]=0),i<w&&(A[i]=0);if(g===j$)for(a=1;a<w;++a){for(h=0,i=a;i<k;i+=w)h<E[i]&&(h=E[i]);for(i=a;i<k;i+=w)E[i]=h+O[a-1]}else if(g===D$){for(h=0,i=0;i<k;++i)i%w&&h<E[i]&&(h=E[i]);for(i=0;i<k;++i)i%w&&(E[i]=h+S)}else for(g=!1,a=1;a<w;++a)for(i=a;i<k;i+=w)E[i]+=O[a-1];if(y===j$)for(o=1;o<_;++o){for(h=0,r=(i=o*w)+w;i<r;++i)h<A[i]&&(h=A[i]);for(i=o*w;i<r;++i)A[i]=h+C[o-1]}else if(y===D$){for(h=0,i=w;i<k;++i)h<A[i]&&(h=A[i]);for(i=w;i<k;++i)A[i]=h+D}else for(y=!1,o=1;o<_;++o)for(r=(i=o*w)+w;i<r;++i)A[i]+=C[o-1];for(f=0,i=0;i<k;++i)f=E[i]+(i%w?f:0),j[i]+=f-t[i].x;for(a=0;a<w;++a)for(d=0,i=a;i<k;i+=w)d+=A[i],T[i]+=d-t[i].y;if(g&&nV(n.center,F$)&&_>1)for(i=0;i<k;++i)(f=(u=g===D$?S:O[i%w])-F[i].x2-t[i].x-j[i])>0&&(j[i]+=f/2);if(y&&nV(n.center,P$)&&1!==w)for(i=0;i<k;++i)(d=(u=y===D$?D:C[~~(i/w)])-F[i].y2-t[i].y-T[i])>0&&(T[i]+=d/2);for(i=0;i<k;++i)m.union(F[i].translate(j[i],T[i]));switch(f=nV(n.anchor,"x"),d=nV(n.anchor,"y"),nV(n.anchor,F$)){case f$:f-=m.width();break;case l$:f-=m.width()/2}switch(nV(n.anchor,P$)){case f$:d-=m.height();break;case l$:d-=m.height()/2}for(f=Math.round(f),d=Math.round(d),m.clear(),i=0;i<k;++i)t[i].mark.bounds.clear();for(i=0;i<k;++i)(s=t[i]).x+=j[i]+=f,s.y+=T[i]+=d,m.union(s.mark.bounds.union(s.bounds.translate(j[i],T[i]))),p&&e.dirty(s);return m}function aV(e,t,n){var r,i,a,o,u,s,c,l=function(e){for(var t,n,r,i,a,o,u,s=e.items,c=s.length,l=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};l<c;++l)if(u=(o=s[l]).items,o.marktype===d$)switch(o.role){case h$:case g$:case p$:break;case y$:(t=f.rowheaders).push.apply(t,du(u));break;case b$:(n=f.rowfooters).push.apply(n,du(u));break;case w$:(r=f.colheaders).push.apply(r,du(u));break;case _$:(i=f.colfooters).push.apply(i,du(u));break;case x$:f.rowtitle=u[0];break;case k$:f.coltitle=u[0];break;default:(a=f.marks).push.apply(a,du(u))}return f}(t),f=l.marks,d=n.bounds===T$?oV:uV,h=n.offset,p=n.columns||f.length,v=p<=0?1:Math.ceil(f.length/p),m=v*p,g=iV(e,f,n);g.empty()&&g.set(0,0,0,0),l.rowheaders&&(s=nV(n.headerBand,P$,null),r=sV(e,l.rowheaders,f,p,v,-nV(h,"rowHeader"),Z$,0,d,"x1",0,p,1,s)),l.colheaders&&(s=nV(n.headerBand,F$,null),i=sV(e,l.colheaders,f,p,p,-nV(h,"columnHeader"),Z$,1,d,"y1",0,1,p,s)),l.rowfooters&&(s=nV(n.footerBand,P$,null),a=sV(e,l.rowfooters,f,p,v,nV(h,"rowFooter"),J$,0,d,"x2",p-1,p,1,s)),l.colfooters&&(s=nV(n.footerBand,F$,null),o=sV(e,l.colfooters,f,p,p,nV(h,"columnFooter"),J$,1,d,"y2",m-p,1,p,s)),l.rowtitle&&(u=nV(n.titleAnchor,P$),c=nV(h,"rowTitle"),c=u===f$?a+c:r-c,s=nV(n.titleBand,P$,.5),cV(e,l.rowtitle,c,0,g,s)),l.coltitle&&(u=nV(n.titleAnchor,F$),c=nV(h,"columnTitle"),c=u===f$?o+c:i-c,s=nV(n.titleBand,F$,.5),cV(e,l.coltitle,c,1,g,s))}function oV(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function uV(e,t){return e.bounds[t]}function sV(e,t,n,r,i,a,o,u,s,c,l,f,d,h){var p,v,m,g,y,b,x,w,_,k=n.length,E=0,O=0;if(!k)return E;for(p=l;p<k;p+=f)n[p]&&(E=o(E,s(n[p],c)));if(!t.length)return E;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),E+=a,v=0,g=t.length;v<g;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(p=l,v=0,g=t.length;v<g;++v,p+=f){for(y=(b=t[v]).mark.bounds,m=p;m>=0&&null==(x=n[m]);m-=d);u?(w=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),_=E):(w=E,_=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),_-(b.y||0))),b.x=w,b.y=_,e.dirty(b),O=o(O,y[c])}return O}function cV(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,u=n;r?o=Math.round(i.x1+a*i.width()):u=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=u,e.dirty(t)}}function lV(e,t,n,r,i,a,o){var u=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),s=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,u("offset",0)),c=u("anchor",c$),l=c===f$?1:c===l$?.5:0,f={align:j$,bounds:u("bounds",T$),columns:"vertical"===u("direction")?1:e.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(t){case o$:f.anchor={x:Math.floor(r.x1)-s,column:f$,y:l*(o||r.height()+2*r.y1),row:c};break;case u$:f.anchor={x:Math.ceil(r.x2)+s,y:l*(o||r.height()+2*r.y1),row:c};break;case a$:f.anchor={y:Math.floor(i.y1)-s,row:f$,x:l*(a||i.width()+2*i.x1),column:c};break;case s$:f.anchor={y:Math.ceil(i.y2)+s,x:l*(a||i.width()+2*i.x1),column:c};break;case"top-left":f.anchor={x:s,y:s};break;case"top-right":f.anchor={x:a-s,y:s,column:f$};break;case"bottom-left":f.anchor={x:s,y:o-s,row:f$};break;case"bottom-right":f.anchor={x:a-s,y:o-s,column:f$,row:f$}}return f}function fV(e,t){var n,r,i=t.items[0],a=i.datum,o=i.orient,u=i.bounds,s=i.x,c=i.y;return i._bounds?i._bounds.clear().union(u):i._bounds=u.clone(),u.clear(),function(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(t.datum.title){var o=t.items[1].items[0],u=o.anchor,s=t.titlePadding||0,c=r-o.x,l=r-o.y;switch(o.orient){case o$:i+=Math.ceil(o.bounds.width())+s;break;case u$:case s$:break;default:a+=o.bounds.height()+s}switch((i||a)&&hV(e,n,i,a),o.orient){case o$:l+=dV(t,n,o,u,1,1);break;case u$:c+=dV(t,n,o,f$,0,0)+s,l+=dV(t,n,o,u,1,1);break;case s$:c+=dV(t,n,o,u,0,0),l+=dV(t,n,o,f$,-1,0,1)+s;break;default:c+=dV(t,n,o,u,0,0)}(c||l)&&hV(e,o,c,l),(c=Math.round(o.bounds.x1-r))<0&&(hV(e,n,-c,0),hV(e,o,-c,0))}else(i||a)&&hV(e,n,i,a)}(e,i,i.items[0].items[0]),u=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(i,u),n=2*i.padding,r=2*i.padding,u.empty()||(n=Math.ceil(u.width()+n),r=Math.ceil(u.height()+r)),"symbol"===a.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),o!==C$&&(i.x=s=0,i.y=c=0),i.width=n,i.height=r,CU(u.set(s,c,s+n,c+r),i),i.mark.bounds.clear().union(u),i}function dV(e,t,n,r,i,a,o){var u="symbol"!==e.datum.type,s=n.datum.vgrad,c=(!u||!a&&s||o?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,l=s&&a?c:0,f=s&&a?0:c,d=i<=0?0:sW(n);return Math.round(r===c$?l:r===f$?f-d:.5*(c-d))}function hV(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function pV(e){eT.call(this,null,e)}function vV(e,t){var n=0;if(void 0===t){var r,i=nu(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,u=-1,s=nu(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;(c=+t(c,++u,e))&&(n+=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function mV(e){eT.call(this,null,e)}function gV(e){eT.call(this,null,e)}function yV(){return yj({})}function bV(e){eT.call(this,null,e)}function xV(e){eT.call(this,[],e)}eE(pV,eT,{transform:function(e,t){var n=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&aV(n,t,e.layout),function(e,t,n){var r,i,a,o,u,s=t.items,c=Math.max(0,t.width||0),l=Math.max(0,t.height||0),f=(new _U).set(0,0,c,l),d=f.clone(),h=f.clone(),p=[];for(o=0,u=s.length;o<u;++o)switch((i=s[o]).role){case h$:(K$(i)?d:h).union(X$(e,i,c,l));break;case p$:r=i;break;case g$:p.push(fV(e,i));break;case v$:case m$:case y$:case b$:case x$:case w$:case _$:case k$:d.union(i.bounds),h.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){var v={};for(var m in p.forEach((function(e){(a=e.orient||u$)!==C$&&(v[a]||(v[a]=[])).push(e)})),v){var g=v[m];iV(e,g,lV(g,m,n.legends,d,h,c,l))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&n.autosize.type===O$)switch(t.orient){case o$:case u$:f.add(r.x1,0).add(r.x2,0);break;case a$:case s$:f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(e,t,n,r,i){var a,o=t.items[0],u=o.frame,s=o.orient,c=o.anchor,l=o.offset,f=o.padding,d=o.items[0].items[0],h=o.items[1]&&o.items[1].items[0],p=s===o$||s===u$?r:n,v=0,m=0,g=0,y=0,b=0;if(u!==d$?s===o$?(v=i.y2,p=i.y1):s===u$?(v=i.y1,p=i.y2):(v=i.x1,p=i.x2):s===o$&&(v=r,p=0),a=c===c$?v:c===f$?p:(v+p)/2,h&&h.text){switch(s){case a$:case s$:b=d.bounds.height()+f;break;case o$:y=d.bounds.width()+f;break;case u$:y=-d.bounds.width()-f}G$.clear().union(h.bounds),G$.translate(y-(h.x||0),b-(h.y||0)),Y$(h,"x",y)|Y$(h,"y",b)&&(e.dirty(h),h.bounds.clear().union(G$),h.mark.bounds.clear().union(G$),e.dirty(h)),G$.clear().union(h.bounds)}else G$.clear();switch(G$.union(d.bounds),s){case a$:m=a,g=i.y1-G$.height()-l;break;case o$:m=i.x1-G$.width()-l,g=a;break;case u$:m=i.x2+G$.width()+l,g=a;break;case s$:m=a,g=i.y2+l;break;default:m=o.x,g=o.y}return Y$(o,"x",m)|Y$(o,"y",g)&&(G$.translate(m,g),e.dirty(o),o.bounds.clear().union(G$),t.bounds.clear().union(G$),e.dirty(o)),o.bounds}(e,r,c,l,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){var i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;var o=e._width,u=e._height,s=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1)),d=Math.max(0,Math.ceil(n.x2-s)),h=Math.max(0,Math.ceil(n.y2-l));if(i.contains===E$){var p=e.padding();o-=p.left+p.right,u-=p.top+p.bottom}a===C$?(c=0,f=0,s=o,l=u):a===O$?(s=Math.max(0,o-c-d),l=Math.max(0,u-f-h)):a===S$?(s=Math.max(0,o-c-d),u=l+f+h):a===A$?(o=s+c+d,l=Math.max(0,u-f-h)):"pad"===a&&(o=s+c+d,u=l+f+h);e._resizeView(o,u,s,l,[c,f],i.resize)}(e,t,f,n)}(n,t,e)})),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}}),eE(mV,eT,{transform:function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,o=sL(a,null==e.count?e.values?e.values.length:10:e.count,e.minstep),u=e.format||fL(n,a,o,e.formatSpecifier,e.formatType,!!e.values),s=e.values?cL(a,e.values,o):lL(a,o);return i&&(r.rem=i),i=s.map((function(e,t){return yj({index:t/(s.length-1||1),value:e,label:u(e)})})),e.extra&&i.length&&i.push(yj({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),eE(gV,eT,{transform:function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||yV,a=e.key||mj,o=this.value;return fk(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&K_("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=function(e){var t=Zk().test((function(e){return e.exit}));return t.lookup=function(n){return t.get(e(n))},t}(a)),t.visit(t.ADD,(function(e){var t=a(e),n=o.get(t);n?n.exit?(o.empty--,r.add.push(n)):r.mod.push(n):(n=i(e),o.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=a(e),n=o.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=a(e),n=o.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++o.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}}),eE(bV,eT,{transform:function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(fk(a)){if(!n.changed()&&!a.every((function(e){return i[e]})))return t.StopPropagation;a=a[0],n.encode=null}var o="enter"===a,u=i.update||rk,s=i.enter||rk,c=i.exit||rk,l=(a&&!o?i[a]:u)||rk;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){s(t,e),u(t,e)})),n.modifies(s.output),n.modifies(u.output),l!==rk&&l!==u&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&c!==rk&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),o||l!==rk){var f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,(function(t){var i=s(t,e)||r;(l(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(s.output)):t.visit(f,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation}}),eE(xV,eT,{transform:function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,a,o,u=t.dataflow.locale(),s=t.fork(t.NO_SOURCE|t.NO_FIELDS),c=this.value,l=e.type||iL,f=e.scale,d=+e.limit,h=sL(f,null==e.count?5:e.count,e.minstep),p=!!e.values||l===iL,v=e.format||mL(u,f,h,l,e.formatSpecifier,e.formatType,p),m=e.values||vL(f,h);return c&&(s.rem=c),l===iL?(d&&m.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),c=m.slice(0,d-1),o=!0):c=m,Bk(i=e.size)?(e.values||0!==f(c[0])||(c=c.slice(1)),a=c.reduce((function(t,n){return Math.max(t,i(n,e))}),0)):i=Hk(a=i||8),c=c.map((function(t,n){return yj({index:n,label:v(t,n,c),value:t,offset:a,size:i(t,e)})})),o&&(o=m[c.length],c.push(yj({index:c.length,label:"\u2026".concat(m.length-c.length," entries"),value:o,offset:a,size:i(o,e)})))):"gradient"===l?(n=f.domain(),r=Zz(f,n[0],gk(n)),m.length<3&&!e.values&&n[0]!==gk(n)&&(m=[n[0],gk(n)]),c=m.map((function(e,t){return yj({index:t,label:v(e,t,m),value:e,perc:r(e)})}))):(i=m.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+gk(t),a=i-r;if(e.type===_z){var o=n?a/n:.1;a=(i+=o)-(r-=o)}return function(e){return(e-r)/a}}(f),c=m.map((function(e,t){return yj({index:t,label:v(e,t,m),value:e,perc:t?r(e):0,perc2:t===i?1:r(m[t+1])})}))),s.source=c,s.add=c,this.value=c,s}});var wV=function(e){return e.source.x},_V=function(e){return e.source.y},kV=function(e){return e.target.x},EV=function(e){return e.target.y};function OV(e){eT.call(this,{},e)}OV.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},eE(OV,eT,{transform:function(e,t){var n=e.sourceX||wV,r=e.sourceY||_V,i=e.targetX||kV,a=e.targetY||EV,o=e.as||"path",u=e.orient||"vertical",s=e.shape||"line",c=DV.get(s+"-"+u)||DV.get(s);return c||K_("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[o]=c(n(e),r(e),i(e),a(e))})),t.reflow(e.modified()).modifies(o)}});var SV=function(e,t,n,r){return"M"+e+","+t+"L"+n+","+r},AV=function(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+n+","+r},CV=function(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),u=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(r-o)+" "+n+","+r},DV=Zk({line:SV,"line-radial":function(e,t,n,r){return SV(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:AV,"arc-radial":function(e,t,n,r){return AV(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:CV,"curve-radial":function(e,t,n,r){return CV(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n);return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*o+","+t*u+"L"+r*o+","+r*u},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n),s=(t+r)/2;return"M"+t*i+","+t*a+"C"+s*i+","+s*a+" "+s*o+","+s*u+" "+r*o+","+r*u}});function jV(e){eT.call(this,null,e)}jV.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},eE(jV,eT,{transform:function(e,t){var n,r,i,a=e.as||["startAngle","endAngle"],o=a[0],u=a[1],s=e.field||tk,c=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(s),h=d.length,p=c,v=(l-c)/vV(d),m=lF(h);for(e.sort&&m.sort((function(e,t){return d[e]-d[t]})),n=0;n<h;++n)i=d[m[n]],(r=f[m[n]])[o]=p,r[u]=p+=i*v;return this.value=d,t.reflow(e.modified()).modifies(a)}});function TV(e){return qz(e)&&e!==yz}var FV=xE(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function PV(e){eT.call(this,null,e),this.modified(!0)}function MV(e,t,n){$z(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+vE(t)));return t}function NV(e,t,n){return Bk(e)&&(t||n)?Kz(e,RV(t||[0,1],n)):e}function RV(e,t){return t?e.slice().reverse():e}function IV(e){eT.call(this,null,e)}eE(PV,eT,{transform:function(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";if(n===yz)return"sequential-linear";(function(e){var t=e.type;return qz(t)&&t!==mz&&t!==gz&&(e.scheme||e.range&&e.range.length&&e.range.every(uE))})(e)&&(r=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?"sequential-":3===t?"diverging-":"");return(r+n||fz).toLowerCase()}(e);for(i in r&&i===r.type||(this.value=r=zz(i)()),e)if(!FV[i]){if("padding"===i&&TV(r.type))continue;Bk(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(null!=t.rangeStep)a=function(e,t,n){e!==Oz&&e!==Ez&&K_("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===Ez?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*lz(n,i,r)]}(r,t,n);else if(t.scheme&&(a=function(e,t,n){var r,i=t.schemeExtent;fk(t.scheme)?r=Xz(t.scheme,t.interpolate,t.interpolateGamma):(r=rL(t.scheme.toLowerCase()))||K_("Unrecognized scheme name: ".concat(t.scheme));return n=e===_z?n+1:e===Sz?n-1:e===xz||e===wz?+t.schemeCount||5:n,Vz(e)?NV(r,i,t.reverse):Bk(r)?Qz(NV(r,i),n):e===kz?r:r.slice(0,n)}(r,t,n),Bk(a))){if(e.interpolator)return e.interpolator(a);K_("Scale type ".concat(r," does not support interpolating color schemes."))}if(a&&Vz(r))return e.interpolator(Xz(RV(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(Jz(t.interpolate,t.interpolateGamma)):Bk(e.round)?e.round(i):Bk(e.rangeRound)&&e.interpolate(i?OR:ER);a&&e.range(RV(a,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!fk(r)){var i=e.domain(),a=i[0],o=gk(i),u=r.step,s=null==r.start?a:r.start,c=null==r.stop?o:r.stop;u||K_("Scale bins parameter missing step property."),s<a&&(s=u*Math.ceil(a/u)),c>o&&(c=u*Math.floor(o/u)),r=lF(s,c+u/2,u)}r?e.bins=r:e.bins&&delete e.bins;e.type===Sz&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(MV(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,a,o=t.domain,u=e.type,s=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&(t===fz||t===hz||t===pz)}(e);if(!o)return 0;TV(u)&&t.padding&&o[0]!==gk(o)&&(o=function(e,t,n,r,i,a){var o=Math.abs(gk(n)-n[0]),u=o/(o-2*r),s=e===dz?Tk(t,null,u):e===pz?Fk(t,null,u,.5):e===hz?Fk(t,null,u,i||1):e===vz?Pk(t,null,u,a||1):jk(t,null,u);return(t=t.slice())[0]=s[0],t[t.length-1]=s[1],t}(u,o,t.range,t.padding,t.exponent,t.constant));if((s||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(o=o.slice()).length-1||1,s&&(o[0]>0&&(o[0]=0),o[i]<0&&(o[i]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[i]=t.domainMax),null!=t.domainMid)){var c=(a=t.domainMid)>o[i]?i+1:a<o[0]?0:i;c!==i&&n.warn("Scale domainMid exceeds domain min or max.",a),o.splice(c,0,a)}e.domain(MV(u,o,n)),u===kz&&e.unknown(t.domainImplicit?oN:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&sL(e,t.nice)||null);return o.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),eE(IV,eT,{transform:function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(_j(e.sort)),this.modified(n),t}});var BV="zero",zV="center",LV="normalize",UV=["y0","y1"];function qV(e){eT.call(this,null,e)}function WV(e,t,n,r,i){for(var a,o=(t-e.sum)/2,u=e.length,s=0;s<u;++s)(a=e[s])[r]=o,a[i]=o+=Math.abs(n(a))}function HV(e,t,n,r,i){for(var a,o=1/e.sum,u=0,s=e.length,c=0,l=0;c<s;++c)(a=e[c])[r]=u,a[i]=u=o*(l+=Math.abs(n(a)))}function $V(e,t,n,r,i){for(var a,o,u=0,s=0,c=e.length,l=0;l<c;++l)(a=+n(o=e[l]))<0?(o[r]=s,o[i]=s+=a):(o[r]=u,o[i]=u+=a)}qV.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:BV,values:[BV,zV,LV]},{name:"as",type:"string",array:!0,length:2,default:UV}]},eE(qV,eT,{transform:function(e,t){var n,r,i,a,o=e.as||UV,u=o[0],s=o[1],c=_j(e.sort),l=e.field||tk,f=e.offset===zV?WV:e.offset===LV?HV:$V;for(n=function(e,t,n,r){var i,a,o,u,s,c,l,f,d,h=[],p=function(e){return e(s)};if(null==t)h.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)s=e[a],(l=i[c=t.map(p)])||(i[c]=l=[],h.push(l)),l.push(s);for(c=0,d=0,u=h.length;c<u;++c){for(a=0,f=0,o=(l=h[c]).length;a<o;++a)f+=Math.abs(r(l[a]));l.sum=f,f>d&&(d=f),n&&l.sort(n)}return h.max=d,h}(t.source,e.groupby,c,l),r=0,i=n.length,a=n.max;r<i;++r)f(n[r],a,l,u,s);return t.reflow(e.modified()).modifies(o)}});var VV=function(e){return e};function GV(e,t){e&&KV.hasOwnProperty(e.type)&&KV[e.type](e,t)}var YV={Feature:function(e,t){GV(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)GV(n[r].geometry,t)}},KV={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){XV(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)XV(n[r],t,0)},Polygon:function(e,t){QV(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)QV(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)GV(n[r],t)}};function XV(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function QV(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)XV(e[n],t,1);t.polygonEnd()}function ZV(e,t){e&&YV.hasOwnProperty(e.type)?YV[e.type](e,t):GV(e,t)}var JV=function(){function e(){ru(this,e),this._partials=new Float64Array(32),this._n=0}return au(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,!(n=(t=r[--i])-((a=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=a+t)-a&&(a=e)}return a}}]),e}();var eG=1e-6,tG=1e-12,nG=Math.PI,rG=nG/2,iG=nG/4,aG=2*nG,oG=180/nG,uG=nG/180,sG=Math.abs,cG=Math.atan,lG=Math.atan2,fG=Math.cos,dG=Math.ceil,hG=Math.exp,pG=(Math.floor,Math.hypot),vG=Math.log,mG=Math.pow,gG=Math.sin,yG=Math.sign||function(e){return e>0?1:e<0?-1:0},bG=Math.sqrt,xG=Math.tan;function wG(e){return e>1?0:e<-1?nG:Math.acos(e)}function _G(e){return e>1?rG:e<-1?-rG:Math.asin(e)}function kG(){}var EG,OG,SG,AG,CG=new JV,DG=new JV,jG={point:kG,lineStart:kG,lineEnd:kG,polygonStart:function(){jG.lineStart=TG,jG.lineEnd=MG},polygonEnd:function(){jG.lineStart=jG.lineEnd=jG.point=kG,CG.add(sG(DG)),DG=new JV},result:function(){var e=CG/2;return CG=new JV,e}};function TG(){jG.point=FG}function FG(e,t){jG.point=PG,EG=SG=e,OG=AG=t}function PG(e,t){DG.add(AG*e-SG*t),SG=e,AG=t}function MG(){PG(EG,OG)}var NG=jG,RG=1/0,IG=RG,BG=-RG,zG=BG,LG={point:function(e,t){e<RG&&(RG=e);e>BG&&(BG=e);t<IG&&(IG=t);t>zG&&(zG=t)},lineStart:kG,lineEnd:kG,polygonStart:kG,polygonEnd:kG,result:function(){var e=[[RG,IG],[BG,zG]];return BG=zG=-(IG=RG=1/0),e}};var UG,qG,WG,HG,$G=LG,VG=0,GG=0,YG=0,KG=0,XG=0,QG=0,ZG=0,JG=0,eY=0,tY={point:nY,lineStart:rY,lineEnd:oY,polygonStart:function(){tY.lineStart=uY,tY.lineEnd=sY},polygonEnd:function(){tY.point=nY,tY.lineStart=rY,tY.lineEnd=oY},result:function(){var e=eY?[ZG/eY,JG/eY]:QG?[KG/QG,XG/QG]:YG?[VG/YG,GG/YG]:[NaN,NaN];return VG=GG=YG=KG=XG=QG=ZG=JG=eY=0,e}};function nY(e,t){VG+=e,GG+=t,++YG}function rY(){tY.point=iY}function iY(e,t){tY.point=aY,nY(WG=e,HG=t)}function aY(e,t){var n=e-WG,r=t-HG,i=bG(n*n+r*r);KG+=i*(WG+e)/2,XG+=i*(HG+t)/2,QG+=i,nY(WG=e,HG=t)}function oY(){tY.point=nY}function uY(){tY.point=cY}function sY(){lY(UG,qG)}function cY(e,t){tY.point=lY,nY(UG=WG=e,qG=HG=t)}function lY(e,t){var n=e-WG,r=t-HG,i=bG(n*n+r*r);KG+=i*(WG+e)/2,XG+=i*(HG+t)/2,QG+=i,ZG+=(i=HG*e-WG*t)*(WG+e),JG+=i*(HG+t),eY+=3*i,nY(WG=e,HG=t)}var fY=tY;function dY(e){this._context=e}dY.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,aG)}},result:kG};var hY,pY,vY,mY,gY,yY=new JV,bY={point:kG,lineStart:function(){bY.point=xY},lineEnd:function(){hY&&wY(pY,vY),bY.point=kG},polygonStart:function(){hY=!0},polygonEnd:function(){hY=null},result:function(){var e=+yY;return yY=new JV,e}};function xY(e,t){bY.point=wY,pY=mY=e,vY=gY=t}function wY(e,t){mY-=e,gY-=t,yY.add(bG(mY*mY+gY*gY)),mY=e,gY=t}var _Y=bY;function kY(){this._string=[]}function EY(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function OY(e,t){var n,r,i=4.5;function a(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),ZV(e,n(r))),r.result()}return a.area=function(e){return ZV(e,n(NG)),NG.result()},a.measure=function(e){return ZV(e,n(_Y)),_Y.result()},a.bounds=function(e){return ZV(e,n($G)),$G.result()},a.centroid=function(e){return ZV(e,n(fY)),fY.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,VV):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new kY):new dY(t=e),"function"!==typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)}function SY(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:kG,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function AY(e,t){return sG(e[0]-t[0])<eG&&sG(e[1]-t[1])<eG}function CY(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function DY(e,t,n,r,i){var a,o,u=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(AY(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}o[0]+=2e-6}u.push(n=new CY(r,e,null,!0)),s.push(n.o=new CY(r,null,n,!1)),u.push(n=new CY(o,e,null,!1)),s.push(n.o=new CY(o,null,n,!0))}})),u.length){for(s.sort(t),jY(u),jY(s),a=0,o=s.length;a<o;++a)s[a].e=n=!n;for(var c,l,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=c.length;a<o;++a)i.point((l=c[a])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((l=c[a])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}}function jY(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function TY(e){return[lG(e[1],e[0]),_G(e[2])]}function FY(e){var t=e[0],n=e[1],r=fG(n);return[r*fG(t),r*gG(t),gG(n)]}function PY(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function MY(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function NY(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function RY(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function IY(e){var t=bG(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function BY(e){return sG(e[0])<=nG?e[0]:yG(e[0])*((sG(e[0])+nG)%aG-nG)}kY.prototype={_radius:4.5,_circle:EY(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=EY(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var zY=tu().mark(LY);function LY(e){var t,n,r;return tu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=nu(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),zY,null,[[1,10,13,16]])}function UY(e){return Array.from(LY(e))}function qY(e,t,n,r){return function(i){var a,o,u,s=t(i),c=SY(),l=t(c),f=!1,d={point:h,lineStart:v,lineEnd:m,polygonStart:function(){d.point=g,d.lineStart=y,d.lineEnd=b,o=[],a=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=m,o=UY(o);var e=function(e,t){var n=BY(t),r=t[1],i=gG(r),a=[gG(n),-fG(n),0],o=0,u=0,s=new JV;1===i?r=rG+eG:-1===i&&(r=-rG-eG);for(var c=0,l=e.length;c<l;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],p=BY(h),v=h[1]/2+iG,m=gG(v),g=fG(v),y=0;y<d;++y,p=x,m=_,g=k,h=b){var b=f[y],x=BY(b),w=b[1]/2+iG,_=gG(w),k=fG(w),E=x-p,O=E>=0?1:-1,S=O*E,A=S>nG,C=m*_;if(s.add(lG(C*O*gG(S),g*k+C*fG(S))),o+=A?E+O*aG:E,A^p>=n^x>=n){var D=MY(FY(h),FY(b));IY(D);var j=MY(a,D);IY(j);var T=(A^E>=0?-1:1)*_G(j[2]);(r>T||r===T&&(D[0]||D[1]))&&(u+=A^E>=0?1:-1)}}return(o<-1e-6||o<eG&&s<-1e-12)^1&u}(a,r);o.length?(f||(i.polygonStart(),f=!0),DY(o,HY,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){s.point(e,t)}function v(){d.point=p,s.lineStart()}function m(){d.point=h,s.lineEnd()}function g(e,t){u.push([e,t]),l.point(e,t)}function y(){l.lineStart(),u=[]}function b(){g(u[0][0],u[0][1]),l.lineEnd();var e,t,n,r,s=l.clean(),d=c.result(),h=d.length;if(u.pop(),a.push(u),u=null,h)if(1&s){if((t=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&s&&d.push(d.pop().concat(d.shift())),o.push(d.filter(WY))}return d}}function WY(e){return e.length>1}function HY(e,t){return((e=e.x)[0]<0?e[1]-rG-eG:rG-e[1])-((t=t.x)[0]<0?t[1]-rG-eG:rG-t[1])}var $Y=qY((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var u=a>0?nG:-nG,s=sG(a-n);sG(s-nG)<eG?(e.point(n,r=(r+o)/2>0?rG:-rG),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(a,r),t=0):i!==u&&s>=nG&&(sG(n-i)<eG&&(n-=i*eG),sG(a-u)<eG&&(a-=u*eG),r=function(e,t,n,r){var i,a,o=gG(e-n);return sG(o)>eG?cG((gG(t)*(a=fG(r))*gG(n)-gG(r)*(i=fG(t))*gG(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=a,r=o),i=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*rG,r.point(-nG,i),r.point(0,i),r.point(nG,i),r.point(nG,0),r.point(nG,-i),r.point(0,-i),r.point(-nG,-i),r.point(-nG,0),r.point(-nG,i);else if(sG(e[0]-t[0])>eG){var a=e[0]<t[0]?nG:-nG;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-nG,-rG]);function VY(e,t,n,r,i,a){if(n){var o=fG(t),u=gG(t),s=r*n;null==i?(i=t+r*aG,a=t-s/2):(i=GY(o,i),a=GY(o,a),(r>0?i<a:i>a)&&(i+=r*aG));for(var c,l=i;r>0?l>a:l<a;l-=s)c=TY([o,-u*fG(l),-u*gG(l)]),e.point(c[0],c[1])}}function GY(e,t){(t=FY(t))[0]-=e,IY(t);var n=wG(-t[1]);return((-t[2]<0?-n:n)+aG-eG)%aG}function YY(e){var t=fG(e),n=6*uG,r=t>0,i=sG(t)>eG;function a(e,n){return fG(e)*fG(n)>t}function o(e,n,r){var i=[1,0,0],a=MY(FY(e),FY(n)),o=PY(a,a),u=a[0],s=o-u*u;if(!s)return!r&&e;var c=t*o/s,l=-t*u/s,f=MY(i,a),d=RY(i,c);NY(d,RY(a,l));var h=f,p=PY(d,h),v=PY(h,h),m=p*p-v*(PY(d,d)-1);if(!(m<0)){var g=bG(m),y=RY(h,(-p-g)/v);if(NY(y,d),y=TY(y),!r)return y;var b,x=e[0],w=n[0],_=e[1],k=n[1];w<x&&(b=x,x=w,w=b);var E=w-x,O=sG(E-nG)<eG;if(!O&&k<_&&(b=_,_=k,k=b),O||E<eG?O?_+k>0^y[1]<(sG(y[0]-x)<eG?_:k):_<=y[1]&&y[1]<=k:E>nG^(x<=y[0]&&y[0]<=w)){var S=RY(h,(-p+g)/v);return NY(S,d),[y,TY(S)]}}}function u(t,n){var i=r?e:nG-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return qY(a,(function(e){var t,n,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,d){var h,p=[f,d],v=a(f,d),m=r?v?0:u(f,d):v?u(f+(f<0?nG:-nG),d):0;if(!t&&(c=s=v)&&e.lineStart(),v!==s&&(!(h=o(t,p))||AY(t,h)||AY(p,h))&&(p[2]=1),v!==s)l=0,v?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(i&&t&&r^v){var g;m&n||!(g=o(p,t,!0))||(l=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!v||t&&AY(t,p)||e.point(p[0],p[1]),t=p,s=v,n=m},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return l|(c&&s)<<1}}}),(function(t,r,i,a){VY(a,e,n,i,t,r)}),r?[0,-e]:[-nG,e-nG])}var KY=1e9,XY=-KY;function QY(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,u,c){var l=0,f=0;if(null==i||(l=o(i,u))!==(f=o(a,u))||s(i,a)<0^u>0)do{c.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+u+4)%4)!==f);else c.point(a[0],a[1])}function o(r,i){return sG(r[0]-e)<eG?i>0?0:3:sG(r[0]-n)<eG?i>0?2:1:sG(r[1]-t)<eG?i>0?1:0:i>0?3:2}function u(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var s,c,l,f,d,h,p,v,m,g,y,b=o,x=SY(),w={point:_,lineStart:function(){w.point=k,c&&c.push(l=[]);g=!0,m=!1,p=v=NaN},lineEnd:function(){s&&(k(f,d),h&&m&&x.rejoin(),s.push(x.result()));w.point=_,m&&b.lineEnd()},polygonStart:function(){b=x,s=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var a,o,u=c[n],s=1,l=u.length,f=u[0],d=f[0],h=f[1];s<l;++s)a=d,o=h,d=(f=u[s])[0],h=f[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(e-a)&&++t:h<=r&&(d-a)*(r-o)<(h-o)*(e-a)&&--t;return t}(),n=y&&t,i=(s=UY(s)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&DY(s,u,t,a,o),o.polygonEnd());b=o,s=c=l=null}};function _(e,t){i(e,t)&&b.point(e,t)}function k(a,o){var u=i(a,o);if(c&&l.push([a,o]),g)f=a,d=o,h=u,g=!1,u&&(b.lineStart(),b.point(a,o));else if(u&&m)b.point(a,o);else{var s=[p=Math.max(XY,Math.min(KY,p)),v=Math.max(XY,Math.min(KY,v))],x=[a=Math.max(XY,Math.min(KY,a)),o=Math.max(XY,Math.min(KY,o))];!function(e,t,n,r,i,a){var o,u=e[0],s=e[1],c=0,l=1,f=t[0]-u,d=t[1]-s;if(o=n-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>c&&(c=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<l&&(l=o)}if(o=r-s,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>c&&(c=o)}if(o=a-s,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<l&&(l=o)}return c>0&&(e[0]=u+c*f,e[1]=s+c*d),l<1&&(t[0]=u+l*f,t[1]=s+l*d),!0}}}}}(s,x,e,t,n,r)?u&&(b.lineStart(),b.point(a,o),y=!1):(m||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),u||b.lineEnd(),y=!1)}p=a,v=o,m=u}return w}}function ZY(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function JY(e,t){return[sG(e)>nG?e+Math.round(-e/aG)*aG:e,t]}function eK(e,t,n){return(e%=aG)?t||n?ZY(nK(e),rK(t,n)):nK(e):t||n?rK(t,n):JY}function tK(e){return function(t,n){return[(t+=e)>nG?t-aG:t<-nG?t+aG:t,n]}}function nK(e){var t=tK(e);return t.invert=tK(-e),t}function rK(e,t){var n=fG(e),r=gG(e),i=fG(t),a=gG(t);function o(e,t){var o=fG(t),u=fG(e)*o,s=gG(e)*o,c=gG(t),l=c*n+u*r;return[lG(s*i-l*a,u*n-c*r),_G(l*i+s*a)]}return o.invert=function(e,t){var o=fG(t),u=fG(e)*o,s=gG(e)*o,c=gG(t),l=c*i-s*a;return[lG(s*i+c*a,u*n+l*r),_G(l*n-u*r)]},o}function iK(e){return function(t){var n=new aK;for(var r in e)n[r]=e[r];return n.stream=t,n}}function aK(){}function oK(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),ZV(n,e.stream($G)),t($G.result()),null!=r&&e.clipExtent(r),e}function uK(e,t,n){return oK(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,u])}),n)}function sK(e,t,n){return uK(e,[[0,0],t],n)}function cK(e,t,n){return oK(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}function lK(e,t,n){return oK(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}JY.invert=JY,aK.prototype={constructor:aK,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var fK=fG(30*uG);function dK(e,t){return+t?function(e,t){function n(r,i,a,o,u,s,c,l,f,d,h,p,v,m){var g=c-r,y=l-i,b=g*g+y*y;if(b>4*t&&v--){var x=o+d,w=u+h,_=s+p,k=bG(x*x+w*w+_*_),E=_G(_/=k),O=sG(sG(_)-1)<eG||sG(a-f)<eG?(a+f)/2:lG(w,x),S=e(O,E),A=S[0],C=S[1],D=A-r,j=C-i,T=y*D-g*j;(T*T/b>t||sG((g*D+y*j)/b-.5)>.3||o*d+u*h+s*p<fK)&&(n(r,i,a,o,u,s,A,C,O,x/=k,w/=k,_,v,m),m.point(A,C),n(A,C,O,x,w,_,c,l,f,d,h,p,v,m))}}return function(t){var r,i,a,o,u,s,c,l,f,d,h,p,v={point:m,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),v.lineStart=x},polygonEnd:function(){t.polygonEnd(),v.lineStart=g}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){l=NaN,v.point=y,t.lineStart()}function y(r,i){var a=FY([r,i]),o=e(r,i);n(l,f,c,d,h,p,l=o[0],f=o[1],c=r,d=a[0],h=a[1],p=a[2],16,t),t.point(l,f)}function b(){v.point=m,t.lineEnd()}function x(){g(),v.point=w,v.lineEnd=_}function w(e,t){y(r=e,t),i=l,a=f,o=d,u=h,s=p,v.point=y}function _(){n(l,f,c,d,h,p,i,a,r,o,u,s,16,t),v.lineEnd=b,b()}return v}}(e,t):function(e){return iK({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var hK=iK({point:function(e,t){this.stream.point(e*uG,t*uG)}});function pK(e,t,n,r,i,a){if(!a)return function(e,t,n,r,i){function a(a,o){return[t+e*(a*=r),n-e*(o*=i)]}return a.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},a}(e,t,n,r,i);var o=fG(a),u=gG(a),s=o*e,c=u*e,l=o/e,f=u/e,d=(u*n-o*t)/e,h=(u*t+o*n)/e;function p(e,a){return[s*(e*=r)-c*(a*=i)+t,n-c*e-s*a]}return p.invert=function(e,t){return[r*(l*e-f*t+d),i*(h-f*e-l*t)]},p}function vK(e){return mK((function(){return e}))()}function mK(e){var t,n,r,i,a,o,u,s,c,l,f=150,d=480,h=250,p=0,v=0,m=0,g=0,y=0,b=0,x=1,w=1,_=null,k=$Y,E=null,O=VV,S=.5;function A(e){return s(e[0]*uG,e[1]*uG)}function C(e){return(e=s.invert(e[0],e[1]))&&[e[0]*oG,e[1]*oG]}function D(){var e=pK(f,0,0,x,w,b).apply(null,t(p,v)),r=pK(f,d-e[0],h-e[1],x,w,b);return n=eK(m,g,y),u=ZY(t,r),s=ZY(n,u),o=dK(u,S),j()}function j(){return c=l=null,A}return A.stream=function(e){return c&&l===e?c:c=hK(function(e){return iK({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(k(o(O(l=e)))))},A.preclip=function(e){return arguments.length?(k=e,_=void 0,j()):k},A.postclip=function(e){return arguments.length?(O=e,E=r=i=a=null,j()):O},A.clipAngle=function(e){return arguments.length?(k=+e?YY(_=e*uG):(_=null,$Y),j()):_*oG},A.clipExtent=function(e){return arguments.length?(O=null==e?(E=r=i=a=null,VV):QY(E=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),j()):null==E?null:[[E,r],[i,a]]},A.scale=function(e){return arguments.length?(f=+e,D()):f},A.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],D()):[d,h]},A.center=function(e){return arguments.length?(p=e[0]%360*uG,v=e[1]%360*uG,D()):[p*oG,v*oG]},A.rotate=function(e){return arguments.length?(m=e[0]%360*uG,g=e[1]%360*uG,y=e.length>2?e[2]%360*uG:0,D()):[m*oG,g*oG,y*oG]},A.angle=function(e){return arguments.length?(b=e%360*uG,D()):b*oG},A.reflectX=function(e){return arguments.length?(x=e?-1:1,D()):x<0},A.reflectY=function(e){return arguments.length?(w=e?-1:1,D()):w<0},A.precision=function(e){return arguments.length?(o=dK(u,S=e*e),j()):bG(S)},A.fitExtent=function(e,t){return uK(A,e,t)},A.fitSize=function(e,t){return sK(A,e,t)},A.fitWidth=function(e,t){return cK(A,e,t)},A.fitHeight=function(e,t){return lK(A,e,t)},function(){return t=e.apply(this,arguments),A.invert=t.invert&&C,D()}}function gK(e){var t=0,n=nG/3,r=mK(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*uG,n=e[1]*uG):[t*oG,n*oG]},i}function yK(e,t){var n=gG(e),r=(n+gG(t))/2;if(sG(r)<eG)return function(e){var t=fG(e);function n(e,n){return[e*t,gG(n)/t]}return n.invert=function(e,n){return[e/t,_G(n*t)]},n}(e);var i=1+n*(2*r-n),a=bG(i)/r;function o(e,t){var n=bG(i-2*r*gG(t))/r;return[n*gG(e*=r),a-n*fG(e)]}return o.invert=function(e,t){var n=a-t,o=lG(e,sG(n))*yG(n);return n*r<0&&(o-=nG*yG(e)*yG(n)),[o/r,_G((i-(e*e+n*n)*r*r)/(2*r))]},o}function bK(){return gK(yK).scale(155.424).center([0,33.6442])}function xK(){return bK().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wK(e){return function(t,n){var r=fG(t),i=fG(n),a=e(r*i);return a===1/0?[2,0]:[a*i*gG(t),a*gG(n)]}}function _K(e){return function(t,n){var r=bG(t*t+n*n),i=e(r),a=gG(i),o=fG(i);return[lG(t*a,r*o),_G(r&&n*a/r)]}}var kK=wK((function(e){return bG(2/(1+e))}));kK.invert=_K((function(e){return 2*_G(e/2)}));var EK=wK((function(e){return(e=wG(e))&&e/gG(e)}));function OK(e,t){return[e,vG(xG((rG+t)/2))]}function SK(e){var t,n,r,i=vK(e),a=i.center,o=i.scale,u=i.translate,s=i.clipExtent,c=null;function l(){var a=nG*o(),u=i(function(e){function t(t){return(t=e(t[0]*uG,t[1]*uG))[0]*=oG,t[1]*=oG,t}return e=eK(e[0]*uG,e[1]*uG,e.length>2?e[2]*uG:0),t.invert=function(t){return(t=e.invert(t[0]*uG,t[1]*uG))[0]*=oG,t[1]*=oG,t},t}(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]:e===OK?[[Math.max(u[0]-a,c),t],[Math.min(u[0]+a,n),r]]:[[c,Math.max(u[1]-a,t)],[n,Math.min(u[1]+a,r)]])}return i.scale=function(e){return arguments.length?(o(e),l()):o()},i.translate=function(e){return arguments.length?(u(e),l()):u()},i.center=function(e){return arguments.length?(a(e),l()):a()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==c?null:[[c,t],[n,r]]},l()}function AK(e){return xG((rG+e)/2)}function CK(e,t){var n=fG(e),r=e===t?gG(e):vG(n/fG(t))/vG(AK(t)/AK(e)),i=n*mG(AK(e),r)/r;if(!r)return OK;function a(e,t){i>0?t<-rG+eG&&(t=-rG+eG):t>rG-eG&&(t=rG-eG);var n=i/mG(AK(t),r);return[n*gG(r*e),i-n*fG(r*e)]}return a.invert=function(e,t){var n=i-t,a=yG(r)*bG(e*e+n*n),o=lG(e,sG(n))*yG(n);return n*r<0&&(o-=nG*yG(e)*yG(n)),[o/r,2*cG(mG(i/a,1/r))-rG]},a}function DK(e,t){return[e,t]}function jK(e,t){var n=fG(e),r=e===t?gG(e):(n-fG(t))/(t-e),i=n/r+e;if(sG(r)<eG)return DK;function a(e,t){var n=i-t,a=r*e;return[n*gG(a),i-n*fG(a)]}return a.invert=function(e,t){var n=i-t,a=lG(e,sG(n))*yG(n);return n*r<0&&(a-=nG*yG(e)*yG(n)),[a/r,i-yG(r)*bG(e*e+n*n)]},a}EK.invert=_K((function(e){return e})),OK.invert=function(e,t){return[e,2*cG(hG(t))-rG]},DK.invert=DK;var TK=1.340264,FK=-.081106,PK=893e-6,MK=.003796,NK=bG(3)/2;function RK(e,t){var n=_G(NK*gG(t)),r=n*n,i=r*r*r;return[e*fG(n)/(NK*(TK+3*FK*r+i*(7*PK+9*MK*r))),n*(TK+FK*r+i*(PK+MK*r))]}function IK(e,t){var n=fG(t),r=fG(e)*n;return[n*gG(e)/r,gG(t)/r]}function BK(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function zK(e,t){return[fG(t)*gG(e),gG(t)]}function LK(e,t){var n=fG(t),r=1+fG(e)*n;return[n*gG(e)/r,gG(t)/r]}function UK(e,t){return[vG(xG((rG+t)/2)),-e]}RK.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(TK+FK*i+a*(PK+MK*i))-t)/(TK+3*FK*i+a*(7*PK+9*MK*i)))*r)*i*i,!(sG(n)<tG));++o);return[NK*e*(TK+3*FK*i+a*(7*PK+9*MK*i))/fG(r),_G(gG(r)/NK)]},IK.invert=_K(cG),BK.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(sG(n)>eG&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},zK.invert=_K(_G),LK.invert=_K((function(e){return 2*cG(e)})),UK.invert=function(e,t){return[-t,2*cG(hG(e))-rG]};var qK=Math.abs,WK=(Math.atan,Math.atan2,Math.ceil,Math.cos),HK=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),$K=(Math.tan,Math.PI),VK=$K/2,GK=(Math.SQRT1_2,KK(2));KK($K);function YK(e){return e>1?VK:e<-1?-VK:Math.asin(e)}function KK(e){return e>0?Math.sqrt(e):0}function XK(e,t){var n,r=e*HK(t),i=30;do{t-=n=(t+HK(t)-r)/(1+WK(t))}while(qK(n)>1e-6&&--i>0);return t/2}var QK=function(e,t,n){function r(r,i){return[e*r*WK(i=XK(n,i)),t*HK(i)]}return r.invert=function(r,i){return i=YK(i/t),[r/(e*WK(i)),YK((2*i+HK(2*i))/n)]},r}(GK/VK,GK,$K);var ZK=OY(),JK=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function eX(e,t){return function n(){var r=t();return r.type=e,r.path=OY().projection(r),r.copy=r.copy||function(){var e=n();return JK.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function tX(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(rX[e]=eX(e,t),this):rX[e]||null}function nX(e){return e&&e.path||ZK}var rX={albers:xK,albersusa:function(){var e,t,n,r,i,a,o=xK(),u=bK().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=bK().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){a=[e,t]}};function l(e){var t=e[0],o=e[1];return a=null,n.point(t,o),a||(r.point(t,o),a)||(i.point(t,o),a)}function f(){return e=t=null,l}return l.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(e)},l.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([o.stream(t=n),u.stream(n),s.stream(n)])},l.precision=function(e){return arguments.length?(o.precision(e),u.precision(e),s.precision(e),f()):o.precision()},l.scale=function(e){return arguments.length?(o.scale(e),u.scale(.35*e),s.scale(e),l.translate(o.translate())):o.scale()},l.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),a=+e[0],l=+e[1];return n=o.translate(e).clipExtent([[a-.455*t,l-.238*t],[a+.455*t,l+.238*t]]).stream(c),r=u.translate([a-.307*t,l+.201*t]).clipExtent([[a-.425*t+eG,l+.12*t+eG],[a-.214*t-eG,l+.234*t-eG]]).stream(c),i=s.translate([a-.205*t,l+.212*t]).clipExtent([[a-.214*t+eG,l+.166*t+eG],[a-.115*t-eG,l+.234*t-eG]]).stream(c),f()},l.fitExtent=function(e,t){return uK(l,e,t)},l.fitSize=function(e,t){return sK(l,e,t)},l.fitWidth=function(e,t){return cK(l,e,t)},l.fitHeight=function(e,t){return lK(l,e,t)},l.scale(1070)},azimuthalequalarea:function(){return vK(kK).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return vK(EK).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return gK(CK).scale(109.5).parallels([30,30])},conicequalarea:bK,conicequidistant:function(){return gK(jK).scale(131.154).center([0,13.9389])},equalEarth:function(){return vK(RK).scale(177.158)},equirectangular:function(){return vK(DK).scale(152.63)},gnomonic:function(){return vK(IK).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,a,o,u=1,s=0,c=0,l=1,f=1,d=0,h=null,p=1,v=1,m=iK({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),g=VV;function y(){return p=u*l,v=u*f,a=o=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(d){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+s,i+c]}return b.invert=function(n){var r=n[0]-s,i=n[1]-c;if(d){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/p,i/v]},b.stream=function(e){return a&&o===e?a:a=m(g(o=e))},b.postclip=function(e){return arguments.length?(g=e,h=n=r=i=null,y()):g},b.clipExtent=function(e){return arguments.length?(g=null==e?(h=n=r=i=null,VV):QY(h=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==h?null:[[h,n],[r,i]]},b.scale=function(e){return arguments.length?(u=+e,y()):u},b.translate=function(e){return arguments.length?(s=+e[0],c=+e[1],y()):[s,c]},b.angle=function(n){return arguments.length?(t=gG(d=n%360*uG),e=fG(d),y()):d*oG},b.reflectX=function(e){return arguments.length?(l=e?-1:1,y()):l<0},b.reflectY=function(e){return arguments.length?(f=e?-1:1,y()):f<0},b.fitExtent=function(e,t){return uK(b,e,t)},b.fitSize=function(e,t){return sK(b,e,t)},b.fitWidth=function(e,t){return cK(b,e,t)},b.fitHeight=function(e,t){return lK(b,e,t)},b},mercator:function(){return SK(OK).scale(961/aG)},mollweide:function(){return vK(QK).scale(169.529)},naturalEarth1:function(){return vK(BK).scale(175.295)},orthographic:function(){return vK(zK).scale(249.5).clipAngle(90.000001)},stereographic:function(){return vK(LK).scale(250).clipAngle(142)},transversemercator:function(){var e=SK(UK),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var iX in rX)tX(iX,rX[iX]);function aX(e,t,n){var r=lF(e,t-eG,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function oX(e,t,n){var r=lF(e,t-eG,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function uX(){var e,t,n,r,i,a,o,u,s,c,l,f,d=10,h=d,p=90,v=360,m=2.5;function g(){return{type:"MultiLineString",coordinates:y()}}function y(){return lF(dG(r/p)*p,n,p).map(l).concat(lF(dG(u/v)*v,o,v).map(f)).concat(lF(dG(t/d)*d,e,d).filter((function(e){return sG(e%p)>eG})).map(s)).concat(lF(dG(a/h)*h,i,h).filter((function(e){return sG(e%v)>eG})).map(c))}return g.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(n).reverse().slice(1),f(u).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],u=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),u>o&&(e=u,u=o,o=e),g.precision(m)):[[r,u],[n,o]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),g.precision(m)):[[t,a],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],v=+e[1],g):[p,v]},g.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],g):[d,h]},g.precision=function(d){return arguments.length?(m=+d,s=aX(a,i,90),c=oX(t,e,m),l=aX(u,o,90),f=oX(r,n,m),g):m},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function sX(){}var cX=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function lX(){var e=1,t=1,n=o;function r(e,t){return t.map((function(t){return i(e,t)}))}function i(r,i){var o=[],u=[];return function(n,r,i){var o,u,s,c,l,f,d=new Array,h=new Array;o=u=-1,c=n[0]>=r,cX[c<<1].forEach(p);for(;++o<e-1;)s=c,c=n[o+1]>=r,cX[s|c<<1].forEach(p);cX[c<<0].forEach(p);for(;++u<t-1;){for(o=-1,c=n[u*e+e]>=r,l=n[u*e]>=r,cX[c<<1|l<<2].forEach(p);++o<e-1;)s=c,c=n[u*e+e+o+1]>=r,f=l,l=n[u*e+o+1]>=r,cX[s|c<<1|l<<2|f<<3].forEach(p);cX[c|l<<3].forEach(p)}o=-1,l=n[u*e]>=r,cX[l<<2].forEach(p);for(;++o<e-1;)f=l,l=n[u*e+o+1]>=r,cX[l<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+u],s=[e[1][0]+o,e[1][1]+u],c=a(r),l=a(s);(t=h[c])?(n=d[l])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(s),i(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(s),h[t.end=l]=t):(t=d[l])?(n=h[c])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(s),i(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=c]=t):d[c]=h[l]={start:c,end:l,ring:[r,s]}}cX[l<<3].forEach(p)}(r,i,(function(e){n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):u.push(e)})),u.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==fX((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,i){n.forEach((function(n){var a,o=n[0],u=n[1],s=0|o,c=0|u,l=r[c*e+s];o>0&&o<e&&s===o&&(a=r[c*e+s-1],n[0]=o+(i-a)/(l-a)-.5),u>0&&u<t&&c===u&&(a=r[(c-1)*e+s],n[1]=u+(i-a)/(l-a)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.floor(n[0]),a=Math.floor(n[1]);return i>=0&&a>=0||K_("invalid size"),e=i,t=a,r},r.smooth=function(e){return arguments.length?(n=e?o:sX,r):n===o},r}function fX(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=dX(e,t[r]))return n;return 0}function dX(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,u=o-1;a<o;u=a++){var s=e[a],c=s[0],l=s[1],f=e[u],d=f[0],h=f[1];if(hX(s,f,t))return 0;l>r!==h>r&&n<(d-c)*(r-l)/(h-l)+c&&(i=-i)}return i}function hX(e,t,n){var r;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[r=+(e[0]===t[0])],n[r],t[r])}function pX(e,t,n){return function(r){var i=Gk(r),a=n?Math.min(i[0],0):i[0],o=i[1],u=o-a,s=t?WE(a,o,e):u/(e+1);return lF(a+s,o,s)}}function vX(e){eT.call(this,null,e)}function mX(e,t,n,r,i){var a=e.x1||0,o=e.y1||0,u=t*n<0;function s(e){e.forEach(c)}function c(e){u&&e.reverse(),e.forEach(l)}function l(e){e[0]=(e[0]-a)*t+r,e[1]=(e[1]-o)*n+i}return function(e){return e.coordinates.forEach(s),e}}function gX(e,t,n){var r=e>=0?e:bT(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function yX(e){return Bk(e)?e:Hk(+e)}function bX(){var e=function(e){return e[0]},t=function(e){return e[1]},n=tk,r=[-1,-1],i=960,a=500,o=2;function u(u,s){var c=gX(r[0],u,e)>>o,l=gX(r[1],u,t)>>o,f=c?c+2:0,d=l?l+2:0,h=2*f+(i>>o),p=2*d+(a>>o),v=new Float32Array(h*p),m=new Float32Array(h*p),g=v;u.forEach((function(r){var i=f+(+e(r)>>o),a=d+(+t(r)>>o);i>=0&&i<h&&a>=0&&a<p&&(v[i+a*h]+=+n(r))})),c>0&&l>0?(xX(h,p,v,m,c),wX(h,p,m,v,l),xX(h,p,v,m,c),wX(h,p,m,v,l),xX(h,p,v,m,c),wX(h,p,m,v,l)):c>0?(xX(h,p,v,m,c),xX(h,p,m,v,c),xX(h,p,v,m,c),g=m):l>0&&(wX(h,p,v,m,l),wX(h,p,m,v,l),wX(h,p,v,m,l),g=m);for(var y=s?Math.pow(2,-2*o):1/vV(g),b=0,x=h*p;b<x;++b)g[b]*=y;return{values:g,scale:1<<o,width:h,height:p,x1:f,y1:d,x2:f+(i>>o),y2:d+(a>>o)}}return u.x=function(t){return arguments.length?(e=yX(t),u):e},u.y=function(e){return arguments.length?(t=yX(e),u):t},u.weight=function(e){return arguments.length?(n=yX(e),u):n},u.size=function(e){if(!arguments.length)return[i,a];var t=+e[0],n=+e[1];return t>=0&&n>=0||K_("invalid size"),i=t,a=n,u},u.cellSize=function(e){return arguments.length?((e=+e)>=1||K_("invalid cell size"),o=Math.floor(Math.log(e)/Math.LN2),u):1<<o},u.bandwidth=function(e){return arguments.length?(1===(e=Rk(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&K_("invalid bandwidth"),r=e,u):r},u}function xX(e,t,n,r,i){for(var a=1+(i<<1),o=0;o<t;++o)for(var u=0,s=0;u<e+i;++u)u<e&&(s+=n[u+o*e]),u>=i&&(u>=a&&(s-=n[u-a+o*e]),r[u-i+o*e]=s/Math.min(u+1,e-1+a-u,a))}function wX(e,t,n,r,i){for(var a=1+(i<<1),o=0;o<e;++o)for(var u=0,s=0;u<t+i;++u)u<t&&(s+=n[o+u*e]),u>=i&&(u>=a&&(s-=n[o+(u-a)*e]),r[o+(u-i)*e]=s/Math.min(u+1,t-1+a-u,a))}function _X(e){eT.call(this,null,e)}vX.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},eE(vX,eT,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||J_,a=lX().smooth(!1!==e.smooth),o=e.thresholds||function(e,t,n){var r=pX(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return iT(t(e).values)})))}(r,i,e),u=null===e.as?null:e.as||"contour",s=[];return r.forEach((function(t){var n=i(t),r=a.size([n.width,n.height])(n.values,fk(o)?o:o(n.values));!function(e,t,n,r){var i=r.scale||t.scale,a=r.translate||t.translate;Bk(i)&&(i=i(n,r));Bk(a)&&(a=a(n,r));if((1===i||null==i)&&!a)return;var o=(aE(i)?i:i[0])||1,u=(aE(i)?i:i[1])||1,s=a&&a[0]||0,c=a&&a[1]||0;e.forEach(mX(t,o,u,s,c))}(r,n,t,e),r.forEach((function(e){s.push(xj(t,yj(null!=u?lu({},u,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=s,n}}),_X.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var kX=["x","y","weight","size","cellSize","bandwidth"];function EX(e,t){return kX.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function OX(e){eT.call(this,null,e)}eE(_X,eT,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,a,o,u,s=[],c=function(e){return e(a)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(u=n[o=t.map(c)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(a);return s}(t.materialize(t.SOURCE).source,e.groupby),a=(e.groupby||[]).map(H_),o=EX(bX(),e),u=e.as||"grid";return n=i.map((function(t){return yj(function(e,t){for(var n=0;n<a.length;++n)e[a[n]]=t[n];return e}(lu({},u,o(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),OX.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},eE(OX,eT,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=lX().smooth(!1!==e.smooth),o=e.values,u=e.thresholds||pX(e.count||10,e.nice,!!o),s=e.size;return o||(o=t.materialize(t.SOURCE).source,r=mX(n=EX(bX(),e)(o,!0),n.scale||1,n.scale||1,0,0),s=[n.width,n.height],o=n.values),u=fk(u)?u:u(o),o=a.size(s)(o,u),r&&o.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(o||[]).map(yj),i}});var SX="Feature",AX="FeatureCollection";function CX(e){eT.call(this,null,e)}function DX(e){eT.call(this,null,e)}function jX(e){eT.call(this,null,e)}function TX(e){eT.call(this,null,e)}function FX(e){eT.call(this,[],e),this.generator=uX()}function PX(e){eT.call(this,null,e)}function MX(e){if(!Bk(e))return!1;var t=xE($_(e));return t.$x||t.$y||t.$value||t.$max}function NX(e){eT.call(this,null,e),this.modified(!0)}function RX(e,t,n){Bk(e[t])&&e[t](n)}function IX(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,u,s,c,l,f,d,h=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(a=(v+g)/2))?v=a:g=a,(l=n>=(o=(m+y)/2))?m=o:y=o,i=h,!(h=h[f=l<<1|c]))return i[f]=p,e;if(u=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===u&&n===s)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(a=(v+g)/2))?v=a:g=a,(l=n>=(o=(m+y)/2))?m=o:y=o}while((f=l<<1|c)===(d=(s>=o)<<1|u>=a));return i[d]=h,i[f]=p,e}function BX(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function zX(e){return e[0]}function LX(e){return e[1]}function UX(e,t,n){var r=new qX(null==t?zX:t,null==n?LX:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function qX(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function WX(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}CX.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},eE(CX,eT,{transform:function(e,t){var n,r=this._features,i=this._points,a=e.fields,o=a&&a[0],u=a&&a[1],s=e.geojson||!a&&J_,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified($_(s))||o&&t.modified($_(o))||u&&t.modified($_(u)),this.value&&!n||(c=t.SOURCE,this._features=r=[],this._points=i=[]),s&&t.visit(c,(function(e){return r.push(s(e))})),o&&u&&(t.visit(c,(function(e){var t=o(e),n=u(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:SX,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:AX,features:r}}}),DX.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},eE(DX,eT,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||J_,a=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=nX(e.projection),n.materialize().reflow()):o=i===J_||t.modified(i.fields)?n.ADD_MOD:n.ADD;var u=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(o,(function(e){return e[a]=r(i(e))})),r.pointRadius(u),n.modifies(a)}}),jX.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},eE(jX,eT,{transform:function(e,t){var n,r=e.projection,i=e.fields[0],a=e.fields[1],o=e.as||["x","y"],u=o[0],s=o[1];function c(e){var t=r([i(e),a(e)]);t?(e[u]=t[0],e[s]=t[1]):(e[u]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(n=t.modified(i.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,c)),t.modifies(o)}}),TX.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},eE(TX,eT,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),a=e.pointRadius(n)(t(r));return e.pointRadius(i),a};return r.context=function(t){return e.context(t),r},r}(nX(e.projection),e.field||Q_("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,(function(e){return e[i]=r})),n.modifies(i)}}),FX.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},eE(FX,eT,{transform:function(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(var a in e)Bk(i[a])&&i[a](e[a]);return n=i(),r.length?t.mod.push(wj(r[0],n)):t.add.push(yj(n)),r[0]=n,t}}),PX.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},eE(PX,eT,{transform:function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||J_,a=function(e,t){var n;Bk(e)?(n=function(n){return e(n,t)},n.dep=MX(e)):e?n=Hk(e):(n=function(e){return e.$value/e.$max||0},n.dep=!0);return n}(e.opacity,e),o=function(e,t){var n;Bk(e)?(n=function(n){return VN(e(n,t))},n.dep=MX(e)):n=Hk(VN(e||"#888"));return n}(e.color,e),u=e.as||"image",s={$x:0,$y:0,$value:0,$max:r?iT(n.map((function(e){return iT(i(e).values)}))):0};return n.forEach((function(e){var t=i(e),n=Vk({},e,s);r||(n.$max=iT(t.values||[])),e[u]=function(e,t,n,r){for(var i=e.width,a=e.height,o=e.x1||0,u=e.y1||0,s=e.x2||i,c=e.y2||a,l=e.values,f=l?function(e){return l[e]}:ek,d=ZM(s-o,c-u),h=d.getContext("2d"),p=h.getImageData(0,0,s-o,c-u),v=p.data,m=u,g=0;m<c;++m){t.$y=m-u;for(var y=o,b=m*i;y<s;++y,g+=4){t.$x=y-o,t.$value=f(y+b);var x=n(t);v[g+0]=x.r,v[g+1]=x.g,v[g+2]=x.b,v[g+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}(t,n,o.dep?o:Hk(o(n)),a.dep?a:Hk(a(n)))})),t.reflow(!0).modifies(u)}}),eE(NX,eT,{transform:function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=tX((e||"mercator").toLowerCase());t||K_("Unrecognized projection type: "+e);return t()}(e.type),JK.forEach((function(t){null!=e[t]&&RX(n,t,e[t])}))):JK.forEach((function(t){e.modified(t)&&RX(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Rk(e)).length?e[0]:{type:AX,features:e.reduce((function(e,t){return e.concat(function(e){return e.type===AX?e.features:Rk(e).filter((function(e){return null!=e})).map((function(e){return e.type===SX?e:{type:SX,geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var HX=UX.prototype=qX.prototype;function $X(e){return function(){return e}}function VX(e){return 1e-6*(e()-.5)}function GX(e){return e.x+e.vx}function YX(e){return e.y+e.vy}HX.copy=function(){var e,t,n=new qX(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=WX(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=WX(t));return n},HX.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return IX(this.cover(t,n),t,n,e)},HX.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),u=new Array(a),s=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,u[n]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),n=0;n<a;++n)IX(this,o[n],u[n],e[n]);return this},HX.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,u,s=i-n||1,c=this._root;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,(o=new Array(4))[u]=c,c=o,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},HX.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},HX.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},HX.find=function(e,t,n){var r,i,a,o,u,s,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new BX(v,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(i=s.x0)>d||(a=s.y0)>h||(o=s.x1)<l||(u=s.y1)<f))if(v.length){var m=(i+o)/2,g=(a+u)/2;p.push(new BX(v[3],m,g,o,u),new BX(v[2],i,g,m,u),new BX(v[1],m,a,o,g),new BX(v[0],i,a,m,g)),(c=(t>=g)<<1|e>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);l=e-w,f=t-w,d=e+w,h=t+w,r=v.data}}return r},HX.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,u,s,c,l,f,d,h=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((c=a>=(u=(p+m)/2))?p=u:m=u,(l=o>=(s=(v+g)/2))?v=s:g=s,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},HX.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},HX.root=function(){return this._root},HX.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},HX.visit=function(e){var t,n,r,i,a,o,u=[],s=this._root;for(s&&u.push(new BX(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&s.length){var c=(r+a)/2,l=(i+o)/2;(n=s[3])&&u.push(new BX(n,c,l,a,o)),(n=s[2])&&u.push(new BX(n,r,l,c,o)),(n=s[1])&&u.push(new BX(n,c,i,a,l)),(n=s[0])&&u.push(new BX(n,r,i,c,l))}return this},HX.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new BX(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,u=t.y0,s=t.x1,c=t.y1,l=(o+s)/2,f=(u+c)/2;(a=i[0])&&n.push(new BX(a,o,u,l,f)),(a=i[1])&&n.push(new BX(a,l,u,s,f)),(a=i[2])&&n.push(new BX(a,o,f,l,c)),(a=i[3])&&n.push(new BX(a,l,f,s,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},HX.x=function(e){return arguments.length?(this._x=e,this):this._x},HX.y=function(e){return arguments.length?(this._y=e,this):this._y};var KX={value:function(){}};function XX(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new QX(r)}function QX(e){this._=e}function ZX(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function JX(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function eQ(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=KX,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}QX.prototype=XX.prototype={constructor:QX,on:function(e,t){var n,r=this._,i=ZX(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=eQ(r[n],e.name,t);else if(null==t)for(n in r)r[n]=eQ(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=JX(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new QX(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var tQ,nQ,rQ=XX,iQ=0,aQ=0,oQ=0,uQ=0,sQ=0,cQ=0,lQ="object"===typeof performance&&performance.now?performance:Date,fQ="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dQ(){return sQ||(fQ(hQ),sQ=lQ.now()+cQ)}function hQ(){sQ=0}function pQ(){this._call=this._time=this._next=null}function vQ(e,t,n){var r=new pQ;return r.restart(e,t,n),r}function mQ(){sQ=(uQ=lQ.now())+cQ,iQ=aQ=0;try{!function(){dQ(),++iQ;for(var e,t=tQ;t;)(e=sQ-t._time)>=0&&t._call.call(null,e),t=t._next;--iQ}()}finally{iQ=0,function(){var e,t,n=tQ,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:tQ=t);nQ=e,yQ(r)}(),sQ=0}}function gQ(){var e=lQ.now(),t=e-uQ;t>1e3&&(cQ-=t,uQ=e)}function yQ(e){iQ||(aQ&&(aQ=clearTimeout(aQ)),e-sQ>24?(e<1/0&&(aQ=setTimeout(mQ,e-lQ.now()-cQ)),oQ&&(oQ=clearInterval(oQ))):(oQ||(uQ=lQ.now(),oQ=setInterval(gQ,1e3)),iQ=1,fQ(mQ)))}pQ.prototype=vQ.prototype={constructor:pQ,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?dQ():+n)+(null==t?0:+t),this._next||nQ===this||(nQ?nQ._next=this:tQ=this,nQ=this),this._call=e,this._time=n,yQ()},stop:function(){this._call&&(this._call=null,this._time=1/0,yQ())}};var bQ=4294967296;function xQ(e){return e.x}function wQ(e){return e.y}var _Q=Math.PI*(3-Math.sqrt(5));function kQ(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,u=new Map,s=vQ(f),c=rQ("tick","end"),l=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%bQ)/bQ}}();function f(){d(),c.call("tick",t),n<r&&(s.stop(),c.call("end",t))}function d(r){var s,c,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(a-n)*i,u.forEach((function(e){e(n)})),s=0;s<l;++s)null==(c=e[s]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*_Q;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return s.restart(f),t},stop:function(){return s.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),u.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(l=e,u.forEach(p),t):l},force:function(e,n){return arguments.length>1?(null==n?u.delete(e):u.set(e,p(n)),t):u.get(e)},find:function(t,n,r){var i,a,o,u,s,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(i=t-(u=e[c]).x)*i+(a=n-u.y)*a)<r&&(s=u,r=o);return s},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function EQ(e){return e.index}function OQ(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}var SQ={center:function(e,t){var n,r=1;function i(){var i,a,o=n.length,u=0,s=0;for(i=0;i<o;++i)u+=(a=n[i]).x,s+=a.y;for(u=(u/o-e)*r,s=(s/o-t)*r,i=0;i<o;++i)(a=n[i]).x-=u,a.y-=s}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i},collide:function(e){var t,n,r,i=1,a=1;function o(){for(var e,o,s,c,l,f,d,h=t.length,p=0;p<a;++p)for(o=UX(t,GX,YX).visitAfter(u),e=0;e<h;++e)s=t[e],f=n[s.index],d=f*f,c=s.x+s.vx,l=s.y+s.vy,o.visit(v);function v(e,t,n,a,o){var u=e.data,h=e.r,p=f+h;if(!u)return t>c+p||a<c-p||n>l+p||o<l-p;if(u.index>s.index){var v=c-u.x-u.vx,m=l-u.y-u.vy,g=v*v+m*m;g<p*p&&(0===v&&(g+=(v=VX(r))*v),0===m&&(g+=(m=VX(r))*m),g=(p-(g=Math.sqrt(g)))/g*i,s.vx+=(v*=g)*(p=(h*=h)/(d+h)),s.vy+=(m*=g)*p,u.vx-=v*(p=1-p),u.vy-=m*p)}}}function u(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=$X(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,s()},o.iterations=function(e){return arguments.length?(a=+e,o):a},o.strength=function(e){return arguments.length?(i=+e,o):i},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:$X(+t),s(),o):e},o},nbody:function(){var e,t,n,r,i,a=$X(-30),o=1,u=1/0,s=.81;function c(n){var i,a=e.length,o=UX(e,xQ,wQ).visitAfter(f);for(r=n,i=0;i<a;++i)t=e[i],o.visit(d)}function l(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function f(e){var t,n,r,a,o,u=0,s=0;if(e.length){for(r=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(u+=t.value,s+=n,r+=n*t.x,a+=n*t.y);e.x=r/s,e.y=a/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=i[t.data.index]}while(t=t.next)}e.value=u}function d(e,a,c,l){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,h=l-a,p=f*f+d*d;if(h*h/s<p)return p<u&&(0===f&&(p+=(f=VX(n))*f),0===d&&(p+=(d=VX(n))*d),p<o&&(p=Math.sqrt(o*p)),t.vx+=f*e.value*r/p,t.vy+=d*e.value*r/p),!0;if(!(e.length||p>=u)){(e.data!==t||e.next)&&(0===f&&(p+=(f=VX(n))*f),0===d&&(p+=(d=VX(n))*d),p<o&&(p=Math.sqrt(o*p)));do{e.data!==t&&(h=i[e.data.index]*r/p,t.vx+=f*h,t.vy+=d*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,l()},c.strength=function(e){return arguments.length?(a="function"===typeof e?e:$X(+e),l(),c):a},c.distanceMin=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.distanceMax=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c},link:function(e){var t,n,r,i,a,o,u=EQ,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=$X(30),l=1;function f(r){for(var i=0,u=e.length;i<l;++i)for(var s,c,f,d,h,p,v,m=0;m<u;++m)c=(s=e[m]).source,d=(f=s.target).x+f.vx-c.x-c.vx||VX(o),h=f.y+f.vy-c.y-c.vy||VX(o),d*=p=((p=Math.sqrt(d*d+h*h))-n[m])/p*r*t[m],h*=p,f.vx-=d*(v=a[m]),f.vy-=h*v,c.vx+=d*(v=1-v),c.vy+=h*v}function d(){if(r){var o,s,c=r.length,l=e.length,f=new Map(r.map((function(e,t){return[u(e,t,r),e]})));for(o=0,i=new Array(c);o<l;++o)(s=e[o]).index=o,"object"!==typeof s.source&&(s.source=OQ(f,s.source)),"object"!==typeof s.target&&(s.target=OQ(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(o=0,a=new Array(l);o<l;++o)s=e[o],a[o]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);t=new Array(l),h(),n=new Array(l),p()}}function h(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,o=t,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(l=+e,f):l},f.strength=function(e){return arguments.length?(s="function"===typeof e?e:$X(+e),h(),f):s},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:$X(+e),p(),f):c},f},x:function(e){var t,n,r,i=$X(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=$X(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:$X(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:$X(+t),o(),a):e},a},y:function(e){var t,n,r,i=$X(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=$X(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:$X(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:$X(+t),o(),a):e},a}},AQ="forces",CQ=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],DQ=["static","iterations"],jQ=["x","y","vx","vy"];function TQ(e){eT.call(this,null,e)}function FQ(e,t,n,r){var i,a,o,u,s=Rk(t.forces);for(i=0,a=CQ.length;i<a;++i)(o=CQ[i])!==AQ&&t.modified(o)&&e[o](t[o]);for(i=0,a=s.length;i<a;++i)u=AQ+i,(o=n||t.modified(AQ,i)?MQ(s[i]):r&&PQ(s[i],r)?e.force(u):null)&&e.force(u,o);for(a=e.numForces||0;i<a;++i)e.force(AQ+i,null);return e.numForces=s.length,e}function PQ(e,t){var n,r;for(n in e)if(Bk(r=e[n])&&t.modified($_(r)))return 1;return 0}function MQ(e){var t,n;for(n in Xk(SQ,e.force)||K_("Unrecognized force: "+e.force),t=SQ[e.force](),e)Bk(t[n])&&NQ(t[n],e[n],e);return t}function NQ(e,t,n){e(Bk(t)?function(e){return t(e,n)}:t)}function RQ(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}TQ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:jQ}]},eE(TQ,eT,{transform:function(e,t){var n,r,i=this.value,a=t.changed(t.ADD_REM),o=e.modified(CQ),u=e.iterations||300;if(i?(a&&(t.modifies("index"),i.nodes(t.source)),(o||t.changed(t.MOD))&&FQ(i,e,0,t)):(this.value=i=function(e,t){var n=kQ(e),r=n.stop,i=n.restart,a=!1;return n.stopped=function(){return a},n.restart=function(){return a=!1,i()},n.stop=function(){return a=!0,r()},FQ(n,t,!0).on("end",(function(){return a=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){return n.touch(r).run()})),e.static||(a=!0,i.tick()),t.modifies("index")),o||a||e.modified(DQ)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/u)),e.static)for(i.stop();--u>=0;)i.tick();else if(i.stopped()&&i.restart(),!a)return t.StopPropagation;return this.finish(e,t)},finish:function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if((n=i[a]).name===AQ&&"link"===n.op._argval.force)for(var u,s=n.op._argops,c=0,l=s.length;c<l;++c)if("links"===s[c].name&&(u=s[c].op.source)){r.pulse(u,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(jQ)}});var IQ=tu().mark(BQ);function BQ(){var e,t,n,r,i,a;return tu().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=[e=this];case 1:t=n.reverse(),n=[];case 2:if(!(e=t.pop())){o.next=8;break}return o.next=5,e;case 5:if(r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);o.next=2;break;case 8:if(n.length){o.next=1;break}case 9:case"end":return o.stop()}}),IQ,this)}function zQ(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=UQ)):void 0===t&&(t=LQ);for(var n,r,i,a,o,u=new HQ(e),s=[u];n=s.pop();)if((i=t(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)s.push(r=i[a]=new HQ(i[a])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(WQ)}function LQ(e){return e.children}function UQ(e){return Array.isArray(e)?e[1]:null}function qQ(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function WQ(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function HQ(e){this.data=e,this.depth=this.height=0,this.parent=null}function $Q(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Array.from(e))).length,a=[];r<i;)t=e[r],n&&YQ(n,t)?++r:(n=XQ(a=VQ(a,t)),r=0);return n}function VQ(e,t){var n,r;if(KQ(t,e))return[t];for(n=0;n<e.length;++n)if(GQ(t,e[n])&&KQ(QQ(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(GQ(QQ(e[n],e[r]),t)&&GQ(QQ(e[n],t),e[r])&&GQ(QQ(e[r],t),e[n])&&KQ(ZQ(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function GQ(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function YQ(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function KQ(e,t){for(var n=0;n<t.length;++n)if(!YQ(e,t[n]))return!1;return!0}function XQ(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return QQ(e[0],e[1]);case 3:return ZQ(e[0],e[1],e[2])}}function QQ(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,u=t.r,s=a-n,c=o-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(n+a+s/f*l)/2,y:(r+o+c/f*l)/2,r:(f+i+u)/2}}function ZQ(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,u=t.y,s=t.r,c=n.x,l=n.y,f=n.r,d=r-o,h=r-c,p=i-u,v=i-l,m=s-a,g=f-a,y=r*r+i*i-a*a,b=y-o*o-u*u+s*s,x=y-c*c-l*l+f*f,w=h*p-d*v,_=(p*x-v*b)/(2*w)-r,k=(v*m-p*g)/w,E=(h*b-d*x)/(2*w)-i,O=(d*g-h*m)/w,S=k*k+O*O-1,A=2*(a+_*k+E*O),C=_*_+E*E-a*a,D=-(S?(A+Math.sqrt(A*A-4*S*C))/(2*S):C/A);return{x:r+_+k*D,y:i+E+O*D,r:D}}function JQ(e,t,n){var r,i,a,o,u=e.x-t.x,s=e.y-t.y,c=u*u+s*s;c?(i=t.r+n.r,i*=i,o=e.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=e.x-r*u-a*s,n.y=e.y-r*s+a*u):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*u-a*s,n.y=t.y+r*s+a*u)):(n.x=t.x+n.r,n.y=t.y)}function eZ(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function tZ(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function nZ(e){this._=e,this.next=null,this.previous=null}function rZ(e){if(!(i=(e=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var t,n,r,i,a,o,u,s,c,l,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;JQ(n,t,r=e[2]),t=new nZ(t),n=new nZ(n),r=new nZ(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(u=3;u<i;++u){JQ(t._,n._,r=e[u]),r=new nZ(r),s=n.next,c=t.previous,l=n._.r,f=t._.r;do{if(l<=f){if(eZ(s._,r._)){n=s,t.next=n,n.previous=t,--u;continue e}l+=s._.r,s=s.next}else{if(eZ(c._,r._)){(t=c).next=n,n.previous=t,--u;continue e}f+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=tZ(t);(r=r.next)!==n;)(o=tZ(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=$Q(t),u=0;u<i;++u)(t=e[u]).x-=r.x,t.y-=r.y;return r.r}function iZ(e){return null==e?null:aZ(e)}function aZ(e){if("function"!==typeof e)throw new Error;return e}function oZ(){return 0}function uZ(e){return function(){return e}}function sZ(e){return Math.sqrt(e.value)}function cZ(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function lZ(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,u=e(n)*t||0;if(u)for(i=0;i<o;++i)r[i].r+=u;if(a=rZ(r),u)for(i=0;i<o;++i)r[i].r-=u;n.r=a+u}}}function fZ(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function dZ(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function hZ(e,t,n,r,i){for(var a,o=e.children,u=-1,s=o.length,c=e.value&&(r-t)/e.value;++u<s;)(a=o[u]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*c}HQ.prototype=zQ.prototype=lu({constructor:HQ,count:function(){return this.eachAfter(RQ)},each:function(e,t){var n,r=-1,i=nu(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.call(t,a,++r,this)}}catch(o){i.e(o)}finally{i.f()}return this},eachAfter:function(e,t){for(var n,r,i,a=this,o=[a],u=[],s=-1;a=o.pop();)if(u.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=u.pop();)e.call(t,a,++s,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(e.call(t,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){var n,r=-1,i=nu(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(e.call(t,a,++r,this))return a}}catch(o){i.e(o)}finally{i.f()}},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return zQ(this).eachBefore(qQ)}},Symbol.iterator,BQ);var pZ={depth:-1},vZ={};function mZ(e){return e.id}function gZ(e){return e.parentId}function yZ(){var e=mZ,t=gZ;function n(n){var r,i,a,o,u,s,c,l=Array.from(n),f=l.length,d=new Map;for(i=0;i<f;++i)r=l[i],u=l[i]=new HQ(r),null!=(s=e(r,i,n))&&(s+="")&&(c=u.id=s,d.set(c,d.has(c)?vZ:u)),null!=(s=t(r,i,n))&&(s+="")&&(u.parent=s);for(i=0;i<f;++i)if(s=(u=l[i]).parent){if(!(o=d.get(s)))throw new Error("missing: "+s);if(o===vZ)throw new Error("ambiguous: "+s);o.children?o.children.push(u):o.children=[u],u.parent=o}else{if(a)throw new Error("multiple roots");a=u}if(!a)throw new Error("no root");if(a.parent=pZ,a.eachBefore((function(e){e.depth=e.parent.depth+1,--f})).eachBefore(WQ),a.parent=null,f>0)throw new Error("cycle");return a}return n.id=function(t){return arguments.length?(e=aZ(t),n):e},n.parentId=function(e){return arguments.length?(t=aZ(e),n):t},n}function bZ(e,t){return e.parent===t.parent?1:2}function xZ(e){var t=e.children;return t?t[0]:e.t}function wZ(e){var t=e.children;return t?t[t.length-1]:e.t}function _Z(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function kZ(e,t,n){return e.a.parent===t.parent?e.a:n}function EZ(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function OZ(e,t){return e.parent===t.parent?1:2}function SZ(e,t){return e+t.x}function AZ(e,t){return Math.max(e,t.y)}function CZ(e,t,n,r,i){for(var a,o=e.children,u=-1,s=o.length,c=e.value&&(i-n)/e.value;++u<s;)(a=o[u]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*c}EZ.prototype=Object.create(HQ.prototype);var DZ=(1+Math.sqrt(5))/2;function jZ(e,t,n,r,i,a){for(var o,u,s,c,l,f,d,h,p,v,m,g=[],y=t.children,b=0,x=0,w=y.length,_=t.value;b<w;){s=i-n,c=a-r;do{l=y[x++].value}while(!l&&x<w);for(f=d=l,m=l*l*(v=Math.max(c/s,s/c)/(_*e)),p=Math.max(d/m,m/f);x<w;++x){if(l+=u=y[x].value,u<f&&(f=u),u>d&&(d=u),m=l*l*v,(h=Math.max(d/m,m/f))>p){l-=u;break}p=h}g.push(o={value:l,dice:s<c,children:y.slice(b,x)}),o.dice?hZ(o,n,r,i,_?r+=c*l/_:a):CZ(o,n,r,_?n+=s*l/_:i,a),_-=l,b=x}return g}var TZ=function e(t){function n(e,n,r,i,a){jZ(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(DZ),FZ=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,u,s,c,l,f=-1,d=o.length,h=e.value;++f<d;){for(s=(u=o[f]).children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?hZ(u,n,r,i,h?r+=(a-r)*u.value/h:a):CZ(u,n,r,h?n+=(i-n)*u.value/h:i,a),h-=u.value}else e._squarify=o=jZ(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(DZ);function PZ(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}function MZ(e){eT.call(this,null,e)}MZ.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var NZ=function(e){return e.values};function RZ(){var e=[],t={entries:function(e){return r(n(e,0),0)},key:function(n){return e.push(n),t}};function n(t,r){if(r>=e.length)return t;for(var i,a,o,u=t.length,s=e[r++],c={},l={},f=-1;++f<u;)(o=c[i=s(a=t[f])+""])?o.push(a):c[i]=[a];for(i in c)l[i]=n(c[i],r);return l}function r(t,n){if(++n>e.length)return t;var i=[];for(var a in t)i.push({key:a,values:r(t[a],n)});return i}return t}function IZ(e){eT.call(this,null,e)}eE(MZ,eT,{transform:function(e,t){t.source||K_("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each((function(e){e.children&&vj(e.data)&&i.rem.push(e.data)})),this.value=a=zQ({values:Rk(e.keys).reduce((function(e,t){return e.key(t),e}),RZ()).entries(i.source)},NZ),n&&a.each((function(e){e.children&&(e=yj(e.data),i.add.push(e),i.source.push(e))})),PZ(a,mj,mj)),i.source.root=a,i}});var BZ=function(e,t){return e.parent===t.parent?1:2};eE(IZ,eT,{transform:function(e,t){t.source&&t.source.root||K_(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(_j(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,i=0,a=t.length;i<a;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?BZ:tk);try{this.value=n(i)}catch(o){K_(o)}return i.each((function(e){return function(e,t,n){for(var r=e.data,i=t.length-1,a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}(e,r,a)})),t.reflow(e.modified()).modifies(a).modifies("leaf")}});var zZ=["x","y","r","depth","children"];function LZ(e){IZ.call(this,e)}LZ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:zZ.length,default:zZ}]},eE(LZ,IZ,{layout:function(){var e=null,t=1,n=1,r=oZ;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(cZ(e)).eachAfter(lZ(r,.5)).eachBefore(fZ(1)):i.eachBefore(cZ(sZ)).eachAfter(lZ(oZ,1)).eachAfter(lZ(r,i.r/Math.min(t,n))).eachBefore(fZ(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=iZ(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:uZ(+e),i):r},i},params:["radius","size","padding"],fields:zZ});var UZ=["x0","y0","x1","y1","depth","children"];function qZ(e){IZ.call(this,e)}function WZ(e){eT.call(this,null,e)}qZ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:UZ.length,default:UZ}]},eE(qZ,IZ,{layout:function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&hZ(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,u=r.y1-n;o<i&&(i=o=(i+o)/2),u<a&&(a=u=(a+u)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=u}}(t,a)),r&&i.eachBefore(dZ),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},params:["size","round","padding"],fields:UZ}),WZ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},eE(WZ,eT,{transform:function(e,t){t.source||K_("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?PZ(yZ().id(e.key).parentId(e.parentKey)(i.source),e.key,nk):PZ(yZ()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});var HZ={tidy:function(){var e=bZ,t=1,n=1,r=null;function i(i){var s=function(e){for(var t,n,r,i,a,o=new EZ(e,0),u=[o];t=u.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)u.push(n=t.children[i]=new EZ(r[i],i)),n.parent=t;return(o.parent=new EZ(null,0)).children=[o],o}(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(u);else{var c=i,l=i,f=i;i.eachBefore((function(e){e.x<c.x&&(c=e),e.x>l.x&&(l=e),e.depth>f.depth&&(f=e)}));var d=c===l?1:e(c,l)/2,h=d-c.x,p=t/(l.x+d+h),v=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*v}))}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,u=n,s=a.parent.children[0],c=a.m,l=o.m,f=u.m,d=s.m;u=wZ(u),a=xZ(a),u&&a;)s=xZ(s),(o=wZ(o)).a=t,(i=u.z+f-a.z-c+e(u._,a._))>0&&(_Z(kZ(u,t,r),t,i),c+=i,l+=i),f+=u.m,c+=a.m,d+=s.m,l+=o.m;u&&!wZ(o)&&(o.t=u,o.m+=f-l),a&&!xZ(s)&&(s.t=a,s.m+=c-d,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=OZ,t=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(SZ,0)/e.length}(n),t.y=function(e){return 1+e.reduce(AZ,0)}(n)):(t.x=a?o+=e(t,a):0,t.y=0,a=t)}));var u=function(e){for(var t;t=e.children;)e=t[0];return e}(i),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=u.x-e(u,s)/2,l=s.x+e(s,u)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(l-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},$Z=["x","y","depth","children"];function VZ(e){IZ.call(this,e)}function GZ(e){eT.call(this,[],e)}VZ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:$Z.length,default:$Z}]},eE(VZ,IZ,{layout:function(e){var t=e||"tidy";if(Xk(HZ,t))return HZ[t]();K_("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:$Z}),GZ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},eE(GZ,eT,{transform:function(e,t){var n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||K_("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(function(e){return a[mj(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&a[mj(t)]&&a[mj(n)]&&i.add.push(yj({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){return a[mj(e)]=1})),n.forEach((function(e){(a[mj(e.source)]||a[mj(e.target)])&&i.mod.push(e)}))),i}});var YZ={binary:function(e,t,n,r,i){var a,o,u=e.children,s=u.length,c=new Array(s+1);for(c[0]=o=a=0;a<s;++a)c[a+1]=o+=u[a].value;!function e(t,n,r,i,a,o,s){if(t>=n-1){var l=u[t];return l.x0=i,l.y0=a,l.x1=o,void(l.y1=s)}var f=c[t],d=r/2+f,h=t+1,p=n-1;for(;h<p;){var v=h+p>>>1;c[v]<d?h=v+1:p=v}d-c[h-1]<c[h]-d&&t+1<h&&--h;var m=c[h]-f,g=r-m;if(o-i>s-a){var y=r?(i*g+o*m)/r:o;e(t,h,m,i,a,y,s),e(h,n,g,y,a,o,s)}else{var b=r?(a*g+s*m)/r:s;e(t,h,m,i,a,o,b),e(h,n,g,i,b,o,s)}}(0,s,e.value,t,n,r,i)},dice:hZ,slice:CZ,slicedice:function(e,t,n,r,i){(1&e.depth?CZ:hZ)(e,t,n,r,i)},squarify:TZ,resquarify:FZ},KZ=["x0","y0","x1","y1","depth","children"];function XZ(e){IZ.call(this,e)}XZ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:KZ.length,default:KZ}]},eE(XZ,IZ,{layout:function(){var e=function(){var e=TZ,t=!1,n=1,r=1,i=[0],a=oZ,o=oZ,u=oZ,s=oZ,c=oZ;function l(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(dZ),e}function f(t){var n=i[t.depth],r=t.x0+n,l=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=a(t)/2,r+=c(t)-n,l+=o(t)-n,(f-=u(t)-n)<r&&(r=f=(r+f)/2),(d-=s(t)-n)<l&&(l=d=(l+d)/2),e(t,r,l,f,d))}return l.round=function(e){return arguments.length?(t=!!e,l):t},l.size=function(e){return arguments.length?(n=+e[0],r=+e[1],l):[n,r]},l.tile=function(t){return arguments.length?(e=aZ(t),l):e},l.padding=function(e){return arguments.length?l.paddingInner(e).paddingOuter(e):l.paddingInner()},l.paddingInner=function(e){return arguments.length?(a="function"===typeof e?e:uZ(+e),l):a},l.paddingOuter=function(e){return arguments.length?l.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):l.paddingTop()},l.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:uZ(+e),l):o},l.paddingRight=function(e){return arguments.length?(u="function"===typeof e?e:uZ(+e),l):u},l.paddingBottom=function(e){return arguments.length?(s="function"===typeof e?e:uZ(+e),l):s},l.paddingLeft=function(e){return arguments.length?(c="function"===typeof e?e:uZ(+e),l):c},l}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Xk(YZ,t)?e.tile(YZ[t]):K_("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:KZ});function QZ(e,t,n,r){var i=e.width,a=e.height,o=n||r,u=ZM(i,a).getContext("2d");t.forEach((function(e){return ZZ(u,e,o)}));var s,c,l,f,d,h=new Uint32Array(u.getImageData(0,0,i,a).data.buffer),p=e.bitmap(),v=o&&e.bitmap();for(c=0;c<a;++c)for(s=0;s<i;++s)(d=4278190080&h[c*i+s])&&(l=e(s),f=e(c),r||p.set(l,f),o&&268435456^d&&v.set(l,f));return[p,v]}function ZZ(e,t,n){if(t.length){var r=t[0].mark.marktype;"group"===r?t.forEach((function(t){t.items.forEach((function(t){return ZZ(e,t.items,n)}))})):bW[r].draw(e,{items:n?t.map(JZ):t})}}function JZ(e){var t=xj(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=.0625,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}var eJ=31,tJ=new Uint32Array(33),nJ=new Uint32Array(33);nJ[0]=0,tJ[0]=~nJ[0];for(var rJ=1;rJ<=32;++rJ)nJ[rJ]=nJ[rJ-1]<<1|1,tJ[rJ]=~nJ[rJ];function iJ(e,t,n){var r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),o=function(e){return~~((e+n)/r)};return o.invert=function(e){return e*r-n},o.bitmap=function(){return function(e,t){var n=new Uint32Array(~~((e*t+32)/32));function r(e,t){n[e]|=t}function i(e,t){n[e]&=t}return{array:n,get:function(t,r){var i=r*e+t;return n[i>>>5]&1<<(i&eJ)},set:function(t,n){var i=n*e+t;r(i>>>5,1<<(i&eJ))},clear:function(t,n){var r=n*e+t;i(r>>>5,~(1<<(r&eJ)))},getRange:function(t,r,i,a){for(var o,u,s,c,l=a;l>=r;--l)if((s=(o=l*e+t)>>>5)===(c=(u=l*e+i)>>>5)){if(n[s]&tJ[o&eJ]&nJ[1+(u&eJ)])return!0}else{if(n[s]&tJ[o&eJ])return!0;if(n[c]&nJ[1+(u&eJ)])return!0;for(var f=s+1;f<c;++f)if(n[f])return!0}return!1},setRange:function(t,n,i,a){for(var o,u,s,c,l;n<=a;++n)if((s=(o=n*e+t)>>>5)===(c=(u=n*e+i)>>>5))r(s,tJ[o&eJ]&nJ[1+(u&eJ)]);else for(r(s,tJ[o&eJ]),r(c,nJ[1+(u&eJ)]),l=s+1;l<c;++l)r(l,4294967295)},clearRange:function(t,n,r,a){for(var o,u,s,c,l;n<=a;++n)if((s=(o=n*e+t)>>>5)===(c=(u=n*e+r)>>>5))i(s,nJ[o&eJ]|tJ[1+(u&eJ)]);else for(i(s,nJ[o&eJ]),i(c,tJ[1+(u&eJ)]),l=s+1;l<c;++l)i(l,0)},outOfBounds:function(n,r,i,a){return n<0||r<0||a>=t||i>=e}}}(i,a)},o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function aJ(e,t,n,r,i,a){var o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>a}function oJ(){return!1}function uJ(e,t,n,r,i,a,o,u){var s=i*a/(2*r),c=e(t-s),l=e(t+s),f=e(n-(a/=2)),d=e(n+a);return o.outOfBounds(c,f,l,d)||o.getRange(c,f,l,d)||u&&u.getRange(c,f,l,d)}function sJ(e,t,n,r,i,a,o,u){var s=i*a/(2*r),c=e(t-s),l=e(t+s),f=e(n-(a/=2)),d=e(n+a);return c=c>0?c:0,f=f>0?f:0,l=l<e.width?l:e.width-1,d=d<e.height?d:e.height-1,o.getRange(c,f,l,d)||u&&u.getRange(c,f,l,d)}function cJ(e){return e?[sJ,oJ]:[uJ,aJ]}var lJ=[-1,-1,1,1],fJ=[-1,1,-1,1];var dJ=["right","center","left"],hJ=["bottom","middle","top"];function pJ(e,t,n,r,i,a,o,u,s,c,l,f){return!(i.outOfBounds(e,n,t,r)||(f&&a?a.getRange(e,n,t,r)||!function(e,t,n,r,i){return i[0]<=e&&n<=i[2]&&i[3]<=t&&r<=i[5]}(o,s,u,c,l):i.getRange(e,n,t,r)))}var vJ={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},mJ={naive:function(e,t,n,r){var i=e.width,a=e.height;return function(e){for(var t,n,o,u,s,c,l,f=e.datum.datum.items[r].items,d=f.length,h=e.datum.fontSize,p=Jq.width(e.datum,e.datum.text),v=0,m=0;m<d;++m)t=f[m].x,o=f[m].y,s=(t+(n=void 0===f[m].x2?t:f[m].x2))/2,c=(o+(u=void 0===f[m].y2?o:f[m].y2))/2,(l=Math.abs(n-t+u-o))>=v&&(v=l,e.x=s,e.y=c);return s=p/2,c=h/2,t=e.x-s,n=e.x+s,o=e.y-c,u=e.y+c,e.align="center",t<0&&n<=i?e.align="left":0<=t&&i<n&&(e.align="right"),e.baseline="middle",o<0&&u<=a?e.baseline="top":0<=o&&a<u&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,r,i){var a=e.width,o=e.height,u=C(cJ(i),2),s=u[0],c=u[1],l=t[0],f=t[1];function d(t,n,r,i,u){var d,h=e.invert(t),p=e.invert(n),v=r,m=o;if(!c(h,p,i,u,a,o)&&!s(e,h,p,u,i,v,l,f)&&!s(e,h,p,u,i,u,l,null)){for(;m-v>=1;)s(e,h,p,u,i,d=(v+m)/2,l,f)?m=d:v=d;if(v>r)return[h,p,v,!0]}}return function(t){for(var i,u,f,h,p,v,m,g,y,b,x,w,_,k,E,O,S,A=t.datum.datum.items[r].items,D=A.length,j=t.datum.fontSize,T=Jq.width(t.datum,t.datum.text),F=n?j:0,P=!1,M=!1,N=0,R=0;R<D;++R){for(i=A[R].x,f=A[R].y,i>(u=void 0===A[R].x2?i:A[R].x2)&&(S=i,i=u,u=S),f>(h=void 0===A[R].y2?f:A[R].y2)&&(S=f,f=h,h=S),b=~~(((y=e(i))+(x=e(u)))/2),_=~~(((w=e(f))+(k=e(h)))/2),m=b;m>=y;--m)for(g=_;g>=w;--g)if(O=d(m,g,F,T,j)){var I=C(O,4);t.x=I[0],t.y=I[1],F=I[2],P=I[3]}for(m=b;m<=x;++m)for(g=_;g<=k;++g)if(O=d(m,g,F,T,j)){var B=C(O,4);t.x=B[0],t.y=B[1],F=B[2],P=B[3]}P||n||(p=(i+u)/2,v=(f+h)/2,(E=Math.abs(u-i+h-f))>=N&&!c(p,v,T,j,a,o)&&!s(e,p,v,j,T,j,l,null)&&(N=E,t.x=p,t.y=v,M=!0))}return!(!P&&!M)&&(p=T/2,v=j/2,l.setRange(e(t.x-p),e(t.y-v),e(t.x+p),e(t.y+v)),t.align="center",t.baseline="middle",!0)}},floodfill:function(e,t,n,r,i){var a=e.width,o=e.height,u=C(cJ(i),2),s=u[0],c=u[1],l=t[0],f=t[1],d=e.bitmap();return function(t){for(var i,u,h,p,v,m,g,y,b,x,w,_,k=t.datum.datum.items[r].items,E=k.length,O=t.datum.fontSize,S=Jq.width(t.datum,t.datum.text),A=[],D=n?O:0,j=!1,T=!1,F=0,P=0;P<E;++P){for(i=k[P].x,h=k[P].y,u=void 0===k[P].x2?i:k[P].x2,p=void 0===k[P].y2?h:k[P].y2,A.push([e((i+u)/2),e((h+p)/2)]);A.length;){var M=C(A.pop(),2);if(g=M[0],y=M[1],!(l.get(g,y)||f.get(g,y)||d.get(g,y))){d.set(g,y);for(var N=0;N<4;++N)v=g+lJ[N],m=y+fJ[N],d.outOfBounds(v,m,v,m)||A.push([v,m]);if(v=e.invert(g),m=e.invert(y),b=D,x=o,!c(v,m,S,O,a,o)&&!s(e,v,m,O,S,b,l,f)&&!s(e,v,m,O,S,O,l,null)){for(;x-b>=1;)s(e,v,m,O,S,w=(b+x)/2,l,f)?x=w:b=w;b>D&&(t.x=v,t.y=m,D=b,j=!0)}}}j||n||(v=(i+u)/2,m=(h+p)/2,(_=Math.abs(u-i+p-h))>=F&&!c(v,m,S,O,a,o)&&!s(e,v,m,O,S,O,l,null)&&(F=_,t.x=v,t.y=m,T=!0))}return!(!j&&!T)&&(v=S/2,m=O/2,l.setRange(e(t.x-v),e(t.y-m),e(t.x+v),e(t.y+m)),t.align="center",t.baseline="middle",!0)}}};function gJ(e,t,n,r,i,a,o,u,s,c,l){if(!e.length)return e;var f,d,h=Math.max(r.length,i.length),p=function(e,t){for(var n=new Float64Array(t),r=e.length,i=0;i<r;++i)n[i]=e[i]||0;for(var a=r;a<t;++a)n[a]=n[r-1];return n}(r,h),v=function(e,t){for(var n=new Int8Array(t),r=e.length,i=0;i<r;++i)n[i]|=vJ[e[i]];for(var a=r;a<t;++a)n[a]=n[r-1];return n}(i,h),m=(f=e[0].datum)&&f.mark&&f.mark.marktype,g="group"===m&&e[0].datum.items[s].marktype,y="area"===g,b=function(e,t,n,r){var i=function(e){return[e.x,e.x,e.x,e.y,e.y,e.y]};return e?"line"===e||"area"===e?function(e){return i(e.datum)}:"line"===t?function(e){var t=e.datum.items[r].items;return i(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:function(e){var t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:i}(m,g,u,s),x=null===c||c===1/0,w=iJ(t[0],t[1],x?0:c),_=y&&"naive"===l,k=e.map((function(e){return{datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:b(e)}}));if(!_){n&&k.sort((function(e,t){return n(e.datum,t.datum)}));for(var E=!1,O=0;O<v.length&&!E;++O)E=5===v[O]||p[O]<0;m&&(o||y)&&(a=[e.map((function(e){return e.datum}))].concat(a)),d=a.length?QZ(w,a,E,y):function(e,t){var n=e.bitmap();return(t||[]).forEach((function(t){return n.set(e(t.boundary[0]),e(t.boundary[3]))})),[n,void 0]}(w,o&&k)}var S=y?mJ[l](w,d,o,s,x):function(e,t,n,r,i){var a=e.width,o=e.height,u=t[0],s=t[1],c=r.length;return function(t){var l=t.boundary,f=t.datum.fontSize;if(!i&&(l[2]<0||l[5]<0||l[0]>a||l[3]>o))return!1;for(var d,h,p,v,m,g,y,b,x,w,_,k,E,O,S,A=0,C=0;C<c;++C){if(d=(3&n[C])-1,h=(n[C]>>>2&3)-1,p=0===d&&0===h||r[C]<0,v=d&&h?Math.SQRT1_2:1,m=r[C]<0?-1:1,g=l[1+d]+r[C]*d*v,b=(_=l[4+h]+m*f*h/2+r[C]*h*v)-f/2,x=_+f/2,k=e(g),O=e(b),S=e(x),i&&(k=k<0?0:k,O=O<0?0:O,S=S>=e.height?e.height-1:S),!A){if(!pJ(k,k,O,S,u,s,g,g,b,x,l,p))continue;A=Jq.width(t.datum,t.datum.text)}if(y=(w=g+m*A*d/2)+A/2,k=e(g=w-A/2),E=e(y),i&&(k=k<0?0:k,E=E>=e.width?e.width-1:E),pJ(k,E,O,S,u,s,g,y,b,x,l,p))return t.x=d?d*m<0?y:g:w,t.y=h?h*m<0?x:b:_,t.align=dJ[d*m+1],t.baseline=hJ[h*m+1],u.setRange(k,O,E,S),!0}return!1}}(w,d,v,p,x);return k.forEach((function(e){return e.opacity=+S(e)})),k}var yJ=["x","y","opacity","align","baseline"],bJ=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function xJ(e){eT.call(this,null,e)}function wJ(e,t){var n,r,i,a,o,u,s=[],c=function(e){return e(a)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(u=n[o=t.map(c)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(a);return s}function _J(e){eT.call(this,null,e)}xJ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:bJ},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:yJ.length,default:yJ}]},eE(xJ,eT,{transform:function(e,t){var n=e.modified();if(n||t.changed(t.ADD_REM)||function(n){var r=e[n];return Bk(r)&&t.modified(r.fields)}("sort")){e.size&&2===e.size.length||K_("Size parameter should be specified as a [width, height] array.");var r=e.as||yJ;return gJ(t.materialize(t.SOURCE).source||[],e.size,e.sort,Rk(null==e.offset?1:e.offset),Rk(e.anchor||bJ),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach((function(e){var t=e.datum;t[r[0]]=e.x,t[r[1]]=e.y,t[r[2]]=e.opacity,t[r[3]]=e.align,t[r[4]]=e.baseline})),t.reflow(n).modifies(r)}}}),_J.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},eE(_J,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=wJ(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(H_),a=i.length,o=e.as||[H_(e.x),H_(e.y)],u=[];r.forEach((function(t){iF(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<a;++r)n[i[r]]=t.dims[r];n[o[0]]=e[0],n[o[1]]=e[1],u.push(yj(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});var kJ={linear:QT,log:ZT,exp:JT,pow:eF,quad:tF,poly:nF};function EJ(e){eT.call(this,null,e)}EJ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(kJ)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},eE(EJ,eT,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=wJ(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(H_),a=e.method||"linear",o=e.order||3,u=function(e,t){return"poly"===e?t:"quad"===e?2:1}(a,o),s=e.as||[H_(e.x),H_(e.y)],c=kJ[a],l=[],f=e.extent;Xk(kJ,a)||K_("Invalid regression method: "+a),null!=f&&"log"===a&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),r.forEach((function(n){if(n.length<=u)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=c(n,e.x,e.y,o);if(e.params)l.push(yj({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var d=f||Gk(n,e.x),h=function(e){for(var t={},r=0;r<i.length;++r)t[i[r]]=n.dims[r];t[s[0]]=e[0],t[s[1]]=e[1],l.push(yj(t))};"linear"===a?d.forEach((function(e){return h([e,r.predict(e)])})):sF(r.predict,d,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});var OJ=Math.pow(2,-52),SJ=new Uint32Array(512),AJ=function(){function e(t){ru(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return au(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,a=e.length>>1,o=1/0,u=1/0,s=-1/0,c=-1/0,l=0;l<a;l++){var f=e[2*l],d=e[2*l+1];f<o&&(o=f),d<u&&(u=d),f>s&&(s=f),d>c&&(c=d),this._ids[l]=l}for(var h,p,v,m=(o+s)/2,g=(u+c)/2,y=1/0,b=0;b<a;b++){var x=CJ(m,g,e[2*b],e[2*b+1]);x<y&&(h=b,y=x)}var w=e[2*h],_=e[2*h+1];y=1/0;for(var k=0;k<a;k++)if(k!==h){var E=CJ(w,_,e[2*k],e[2*k+1]);E<y&&E>0&&(p=k,y=E)}for(var O=e[2*p],S=e[2*p+1],A=1/0,C=0;C<a;C++)if(C!==h&&C!==p){var D=FJ(w,_,O,S,e[2*C],e[2*C+1]);D<A&&(v=C,A=D)}var j=e[2*v],T=e[2*v+1];if(A===1/0){for(var F=0;F<a;F++)this._dists[F]=e[2*F]-e[0]||e[2*F+1]-e[1];PJ(this._ids,this._dists,0,a-1);for(var P=new Uint32Array(a),M=0,N=0,R=-1/0;N<a;N++){var I=this._ids[N];this._dists[I]>R&&(P[M++]=I,R=this._dists[I])}return this.hull=P.subarray(0,M),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(jJ(w,_,O,S,j,T)){var B=p,z=O,L=S;p=v,O=j,S=T,v=B,j=z,T=L}var U=function(e,t,n,r,i,a){var o=n-e,u=r-t,s=i-e,c=a-t,l=o*o+u*u,f=s*s+c*c,d=.5/(o*c-u*s);return{x:e+(c*l-u*f)*d,y:t+(o*f-s*l)*d}}(w,_,O,S,j,T);this._cx=U.x,this._cy=U.y;for(var q=0;q<a;q++)this._dists[q]=CJ(e[2*q],e[2*q+1],U.x,U.y);PJ(this._ids,this._dists,0,a-1),this._hullStart=h;var W=3;n[h]=t[v]=p,n[p]=t[h]=v,n[v]=t[p]=h,r[h]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(w,_)]=h,i[this._hashKey(O,S)]=p,i[this._hashKey(j,T)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(var H,$,V=0;V<this._ids.length;V++){var G=this._ids[V],Y=e[2*G],K=e[2*G+1];if(!(V>0&&Math.abs(Y-H)<=OJ&&Math.abs(K-$)<=OJ)&&(H=Y,$=K,G!==h&&G!==p&&G!==v)){for(var X=0,Q=0,Z=this._hashKey(Y,K);Q<this._hashSize&&(-1===(X=i[(Z+Q)%this._hashSize])||X===n[X]);Q++);for(var J=X=t[X],ee=void 0;ee=n[J],!jJ(Y,K,e[2*J],e[2*J+1],e[2*ee],e[2*ee+1]);)if((J=ee)===X){J=-1;break}if(-1!==J){var te=this._addTriangle(J,G,n[J],-1,-1,r[J]);r[G]=this._legalize(te+2),r[J]=te,W++;for(var ne=n[J];ee=n[ne],jJ(Y,K,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,G,ee,r[G],-1,r[ne]),r[G]=this._legalize(te+2),n[ne]=ne,W--,ne=ee;if(J===X)for(;jJ(Y,K,e[2*(ee=t[J])],e[2*ee+1],e[2*J],e[2*J+1]);)te=this._addTriangle(ee,G,J,-1,r[J],r[ee]),this._legalize(te+2),r[ee]=te,n[J]=J,W--,J=ee;this._hullStart=t[G]=J,n[J]=t[ne]=G,n[G]=ne,i[this._hashKey(Y,K)]=G,i[this._hashKey(e[2*J],e[2*J+1])]=J}}}this.hull=new Uint32Array(W);for(var re=0,ie=this._hullStart;re<W;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,a=0;;){var o=n[e],u=e-e%3;if(a=u+(e+2)%3,-1!==o){var s=o-o%3,c=u+(e+1)%3,l=s+(o+2)%3,f=t[a],d=t[e],h=t[c],p=t[l];if(TJ(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=f;var v=n[l];if(-1===v){var m=this._hullStart;do{if(this._hullTri[m]===l){this._hullTri[m]=e;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(e,v),this._link(o,n[a]),this._link(a,l);var g=s+(o+1)%3;i<SJ.length&&(SJ[i++]=g)}else{if(0===i)break;e=SJ[--i]}}else{if(0===i)break;e=SJ[--i]}}return a}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,a){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NJ,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RJ,i=t.length,a=new Float64Array(2*i),o=0;o<i;o++){var u=t[o];a[2*o]=n(u),a[2*o+1]=r(u)}return new e(a)}}]),e}();function CJ(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}function DJ(e,t,n,r,i,a){var o=(r-t)*(i-e),u=(n-e)*(a-t);return Math.abs(o-u)>=33306690738754716e-32*Math.abs(o+u)?o-u:0}function jJ(e,t,n,r,i,a){return(DJ(i,a,e,t,n,r)||DJ(e,t,n,r,i,a)||DJ(n,r,i,a,e,t))<0}function TJ(e,t,n,r,i,a,o,u){var s=e-o,c=t-u,l=n-o,f=r-u,d=i-o,h=a-u,p=l*l+f*f,v=d*d+h*h;return s*(f*v-p*h)-c*(l*v-p*d)+(s*s+c*c)*(l*h-f*d)<0}function FJ(e,t,n,r,i,a){var o=n-e,u=r-t,s=i-e,c=a-t,l=o*o+u*u,f=s*s+c*c,d=.5/(o*c-u*s),h=(c*l-u*f)*d,p=(o*f-s*l)*d;return h*h+p*p}function PJ(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var a=e[i],o=t[a],u=i-1;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=a}else{var s=n+1,c=r;MJ(e,n+r>>1,s),t[e[n]]>t[e[r]]&&MJ(e,n,r),t[e[s]]>t[e[r]]&&MJ(e,s,r),t[e[n]]>t[e[s]]&&MJ(e,n,s);for(var l=e[s],f=t[l];;){do{s++}while(t[e[s]]<f);do{c--}while(t[e[c]]>f);if(c<s)break;MJ(e,s,c)}e[n+1]=e[c],e[c]=l,r-s+1>=c-n?(PJ(e,t,s,r),PJ(e,t,n,c-1)):(PJ(e,t,n,c-1),PJ(e,t,s,r))}}function MJ(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function NJ(e){return e[0]}function RJ(e){return e[1]}var IJ=1e-6,BJ=function(){function e(){ru(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return au(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>IJ||Math.abs(this._y1-i)>IJ)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),zJ=function(){function e(){ru(this,e),this._=[]}return au(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),LJ=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=C(n,4),i=r[0],a=r[1],o=r[2],u=r[3];if(ru(this,e),!((o=+o)>=(i=+i))||!((u=+u)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=i,this.ymax=u,this.ymin=a,this._init()}return au(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,a=n.triangles,o=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),s=0,c=0,l=a.length;s<l;s+=3,c+=2){var f=2*a[s],d=2*a[s+1],h=2*a[s+2],p=r[f],v=r[f+1],m=r[d],g=r[d+1],y=r[h],b=r[h+1],x=m-p,w=g-v,_=y-p,k=b-v,E=x*x+w*w,O=_*_+k*k,S=2*(x*k-w*_);if(S)if(Math.abs(S)<1e-8)e=(p+y)/2,t=(v+b)/2;else{var A=1/S;e=p+(k*E-w*O)*A,t=v+(x*O-_*E)*A}else e=(p+y)/2-1e8*k,t=(v+b)/2+1e8*_;u[c]=e,u[c+1]=t}var C,D,j,T=i[i.length-1],F=4*T,P=r[2*T],M=r[2*T+1];o.fill(0);for(var N=0;N<i.length;++N)C=F,D=P,j=M,F=4*(T=i[N]),P=r[2*T],M=r[2*T+1],o[C+2]=o[F]=j-M,o[C+3]=o[F+1]=P-D}},{key:"render",value:function(e){var t=null==e?e=new BJ:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,a=n.hull,o=this.circumcenters,u=this.vectors;if(a.length<=1)return null;for(var s=0,c=r.length;s<c;++s){var l=r[s];if(!(l<s)){var f=2*Math.floor(s/3),d=2*Math.floor(l/3),h=o[f],p=o[f+1],v=o[d],m=o[d+1];this._renderSegment(h,p,v,m,e)}}for(var g,y=a[a.length-1],b=0;b<a.length;++b){g=y,y=a[b];var x=2*Math.floor(i[y]/3),w=o[x],_=o[x+1],k=4*g,E=this._project(w,_,u[k+2],u[k+3]);E&&this._renderSegment(w,_,E[0],E[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new BJ:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new BJ:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:tu().mark((function e(){var t,n,r,i;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(i=this.cellPolygon(n))){e.next=8;break}return i.index=n,e.next=8,i;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new zJ;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var a,o=this._regioncode(e,t),u=this._regioncode(n,r);0===o&&0===u?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,o,u))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:tu().mark((function e(t){var n,r,i,a,o,u,s,c,l;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=nu(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(a=i.value,!(o=this._clip(a))){e.next=23;break}u=0,s=n.length;case 10:if(!(u<s)){e.next=23;break}c=0,l=o.length;case 12:if(!(c<l)){e.next=20;break}if(n[u]!=o[c]||n[u+1]!=o[c+1]||n[(u+2)%s]!=o[(c+l-2)%l]||n[(u+3)%s]!=o[(c+l-1)%l]){e.next=17;break}return e.next=16,a;case 16:return e.abrupt("break",23);case 17:c+=2,e.next=12;break;case 20:u+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,a=n.triangles,o=r[e];if(-1===o)return null;var u=[],s=o;do{var c=Math.floor(s/3);if(u.push(t[2*c],t[2*c+1]),a[s=s%3===2?s-2:s+1]!==e)break;s=i[s]}while(s!==o&&-1!==s);return u}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,a,o,u=t.length,s=null,c=t[u-2],l=t[u-1],f=this._regioncode(c,l),d=0;d<u;d+=2)if(n=c,r=l,c=t[d],l=t[d+1],i=f,f=this._regioncode(c,l),0===i&&0===f)a=o,o=0,s?s.push(c,l):s=[c,l];else{var h=void 0,p=void 0,v=void 0,m=void 0,g=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,c,l,i,f)))continue;var y=C(h,4);p=y[0],v=y[1],m=y[2],g=y[3]}else{if(null===(h=this._clipSegment(c,l,n,r,f,i)))continue;var b=C(h,4);m=b[0],g=b[1],p=b[2],v=b[3],a=o,o=this._edgecode(p,v),a&&o&&this._edge(e,a,o,s,s.length),s?s.push(p,v):s=[p,v]}a=o,o=this._edgecode(m,g),a&&o&&this._edge(e,a,o,s,s.length),s?s.push(m,g):s=[m,g]}if(s)a=o,o=this._edgecode(s[0],s[1]),a&&o&&this._edge(e,a,o,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}},{key:"_clipSegment",value:function(e,t,n,r,i,a){for(;;){if(0===i&&0===a)return[e,t,n,r];if(i&a)return null;var o=void 0,u=void 0,s=i||a;8&s?(o=e+(n-e)*(this.ymax-t)/(r-t),u=this.ymax):4&s?(o=e+(n-e)*(this.ymin-t)/(r-t),u=this.ymin):2&s?(u=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(u=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),i?(e=o,t=u,i=this._regioncode(e,t)):(n=o,r=u,a=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,a){var o,u=Array.from(t);if((o=this._project(u[0],u[1],n,r))&&u.unshift(o[0],o[1]),(o=this._project(u[u.length-2],u[u.length-1],i,a))&&u.push(o[0],o[1]),u=this._clipFinite(e,u))for(var s,c=0,l=u.length,f=this._edgecode(u[l-2],u[l-1]);c<l;c+=2)s=f,f=this._edgecode(u[c],u[c+1]),s&&f&&(c=this._edge(e,s,f,u,c),l=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var a=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin}r[i]===a&&r[i+1]===o||!this.contains(e,a,o)||(r.splice(i,0,a,o),i+=2)}if(r.length>4)for(var u=0;u<r.length;u+=2){var s=(u+2)%r.length,c=(u+4)%r.length;(r[u]===r[s]&&r[s]===r[c]||r[u+1]===r[s+1]&&r[s+1]===r[c+1])&&(r.splice(s,2),u-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,a,o,u=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<u&&(o=this.ymin,a=e+(u=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<u&&(o=this.ymax,a=e+(u=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<u&&(a=this.xmax,o=t+(u=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<u&&(a=this.xmin,o=t+(u=i)*r)}return[a,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),UJ=tu().mark(KJ),qJ=2*Math.PI,WJ=Math.pow;function HJ(e){return e[0]}function $J(e){return e[1]}function VJ(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var GJ=function(){function e(t){ru(this,e),this._delaunator=new AJ(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return au(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],a=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),o=0,u=t.length/2;o<u;++o){var s=VJ(t[2*o],t[2*o+1],a);t[2*o]=s[0],t[2*o+1]=s[1]}this._delaunator=new AJ(t)}else delete this.collinear;for(var c=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,v=c.length;p<v;++p){var m=f[p%3===2?p-2:p+1];-1!==c[p]&&-1!==d[m]||(d[m]=p)}for(var g=0,y=l.length;g<y;++g)h[l[g]]=g;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}},{key:"voronoi",value:function(e){return new LJ(this,e)}},{key:"neighbors",value:tu().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,a=this.halfedges,o=this.triangles,!(u=this.collinear)){e.next=10;break}if(!((s=u.indexOf(t))>0)){e.next=6;break}return e.next=6,u[s-1];case 6:if(!(s<u.length-1)){e.next=9;break}return e.next=9,u[s+1];case 9:return e.abrupt("return");case 10:if(-1!==(c=n[t])){e.next=13;break}return e.abrupt("return");case 13:l=c,f=-1;case 14:return e.next=16,f=o[l];case 16:if(o[l=l%3===2?l-2:l+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(l=a[l])){e.next=26;break}if((d=r[(i[t]+1)%r.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(l!==c){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,a=this._hullIndex,o=this.halfedges,u=this.triangles,s=this.points;if(-1===r[e]||!s.length)return(e+1)%(s.length>>1);var c=e,l=WJ(t-s[2*e],2)+WJ(n-s[2*e+1],2),f=r[e],d=f;do{var h=u[d],p=WJ(t-s[2*h],2)+WJ(n-s[2*h+1],2);if(p<l&&(l=p,c=h),u[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=o[d])){if((d=i[(a[e]+1)%i.length])!==h&&WJ(t-s[2*d],2)+WJ(n-s[2*d+1],2)<l)return d;break}}while(d!==f);return c}},{key:"render",value:function(e){for(var t=null==e?e=new BJ:void 0,n=this.points,r=this.halfedges,i=this.triangles,a=0,o=r.length;a<o;++a){var u=r[a];if(!(u<a)){var s=2*i[a],c=2*i[u];e.moveTo(n[s],n[s+1]),e.lineTo(n[c],n[c+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new BJ:void 0,r=this.points,i=0,a=r.length;i<a;i+=2){var o=r[i],u=r[i+1];e.moveTo(o+t,u),e.arc(o,u,t,0,qJ)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new BJ:void 0,n=this.hull,r=this.points,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(var o=1;o<a;++o){var u=2*n[o];e.lineTo(r[u],r[u+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new zJ;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new BJ:void 0,r=this.points,i=this.triangles,a=2*i[e*=3],o=2*i[e+1],u=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[u],r[u+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:tu().mark((function e(){var t,n,r;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new zJ;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HJ,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$J,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?YJ(t,n,r,i):Float64Array.from(KJ(t,n,r,i)))}}]),e}();function YJ(e,t,n,r){for(var i=e.length,a=new Float64Array(2*i),o=0;o<i;++o){var u=e[o];a[2*o]=t.call(r,u,o,e),a[2*o+1]=n.call(r,u,o,e)}return a}function KJ(e,t,n,r){var i,a,o,u;return tu().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=0,a=nu(e),s.prev=2,a.s();case 4:if((o=a.n()).done){s.next=13;break}return u=o.value,s.next=8,t.call(r,u,i,e);case 8:return s.next=10,n.call(r,u,i,e);case 10:++i;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),a.e(s.t0);case 18:return s.prev=18,a.f(),s.finish(18);case 21:case"end":return s.stop()}}),UJ,null,[[2,15,18,21]])}function XJ(e){eT.call(this,null,e)}XJ.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var QJ=[-1e5,-1e5,1e5,1e5];function ZJ(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}eE(XJ,eT,{transform:function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:QJ;for(var a=this.value=GJ.from(r,e.x,e.y).voronoi(i),o=0,u=r.length;o<u;++o){var s=a.cellPolygon(o);r[o][n]=s?ZJ(s):null}return t.reflow(e.modified()).modifies(n)}});var JJ=Math.PI/180,e0=2048;function t0(){var e,t,n,r,i,a,o,u=[256,256],s=o0,c=[],l=Math.random,f={};function d(e,t,n){for(var r,i,a,o=t.x,c=t.y,f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),d=s(u),h=l()<.5?1:-1,p=-h;(r=d(p+=h))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=f));)if(t.x=o+i,t.y=c+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>u[0]||t.y+t.y1>u[1])&&(!n||!r0(t,e,u[0]))&&(!n||a0(t,n))){for(var v,m=t.sprite,g=t.width>>5,y=u[0]>>5,b=t.x-(g<<4),x=127&b,w=32-x,_=t.y1-t.y0,k=(t.y+t.y0)*y+(b>>5),E=0;E<_;E++){v=0;for(var O=0;O<=g;O++)e[k+O]|=v<<w|(O<g?(v=m[E*g+O])>>>x:0);k+=y}return t.sprite=null,!0}return!1}return f.layout=function(){for(var s=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=e0/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(ZM()),f=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((u[0]>>5)*u[1]),h=null,p=c.length,v=-1,m=[],g=c.map((function(u){return{text:e(u),font:t(u),style:r(u),weight:i(u),rotate:a(u),size:~~(n(u)+1e-14),padding:o(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}})).sort((function(e,t){return t.size-e.size}));++v<p;){var y=g[v];y.x=u[0]*(l()+.5)>>1,y.y=u[1]*(l()+.5)>>1,n0(s,y,g,v),y.hasText&&d(f,y,h)&&(m.push(y),h?i0(h,y):h=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=u[0]>>1,y.y-=u[1]>>1)}return m},f.words=function(e){return arguments.length?(c=e,f):c},f.size=function(e){return arguments.length?(u=[+e[0],+e[1]],f):u},f.font=function(e){return arguments.length?(t=u0(e),f):t},f.fontStyle=function(e){return arguments.length?(r=u0(e),f):r},f.fontWeight=function(e){return arguments.length?(i=u0(e),f):i},f.rotate=function(e){return arguments.length?(a=u0(e),f):a},f.text=function(t){return arguments.length?(e=u0(t),f):e},f.spiral=function(e){return arguments.length?(s=s0[e]||e,f):s},f.fontSize=function(e){return arguments.length?(n=u0(e),f):n},f.padding=function(e){return arguments.length?(o=u0(e),f):o},f.random=function(e){return arguments.length?(l=e,f):l},f}function n0(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,2048/a,e0/a);var o,u,s,c,l,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=i.measureText(t.text+"m").width*a,s=t.size<<1,t.rotate){var v=Math.sin(t.rotate*JJ),m=Math.cos(t.rotate*JJ),g=o*m,y=o*v,b=s*m,x=s*v;o=Math.max(Math.abs(g+x),Math.abs(g-x))+31>>5<<5,s=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else o=o+31>>5<<5;if(s>h&&(h=s),f+o>=2048&&(f=0,d+=h,h=0),d+s>=e0)break;i.translate((f+(o>>1))/a,(d+(s>>1))/a),t.rotate&&i.rotate(t.rotate*JJ),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=o,t.height=s,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=s>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var w=i.getImageData(0,0,2048/a,e0/a).data,_=[];--r>=0;)if((t=n[r]).hasText){for(u=(o=t.width)>>5,s=t.y1-t.y0,c=0;c<s*u;c++)_[c]=0;if(null==(f=t.xoff))return;d=t.yoff;var k=0,E=-1;for(l=0;l<s;l++){for(c=0;c<o;c++){var O=u*l+(c>>5),S=w[2048*(d+l)+(f+c)<<2]?1<<31-c%32:0;_[O]|=S,k|=S}k?E=l:(t.y0++,s--,l--,d++)}t.y1=t.y0+E,t.sprite=_.slice(0,(t.y1-t.y0)*u)}}}function r0(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),u=127&o,s=32-u,c=e.y1-e.y0,l=(e.y+e.y0)*n+(o>>5),f=0;f<c;f++){r=0;for(var d=0;d<=a;d++)if((r<<s|(d<a?(r=i[f*a+d])>>>u:0))&t[l+d])return!0;l+=n}return!1}function i0(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function a0(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function o0(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function u0(e){return"function"===typeof e?e:function(){return e}}var s0={archimedean:o0,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},c0=["x","y","font","fontSize","fontStyle","fontWeight","angle"],l0=["text","font","rotate","fontSize","fontStyle","fontWeight"];function f0(e){eT.call(this,t0(),e)}f0.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:c0}]},eE(f0,eT,{transform:function(e,t){!e.size||e.size[0]&&e.size[1]||K_("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||l0.some((function(n){var r=e[n];return Bk(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,a=this.value,o=e.as||c0,u=e.fontSize||14;if(Bk(u)?r=e.fontSizeRange:u=Hk(u),r){var s=u,c=zz("sqrt")().domain(Gk(i,s)).range(r);u=function(e){return c(s(e))}}i.forEach((function(e){e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0}));for(var l,f,d=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(u).random(wT).layout(),h=a.size(),p=h[0]>>1,v=h[1]>>1,m=d.length,g=0;g<m;++g)(f=(l=d[g]).datum)[o[0]]=l.x+p,f[o[1]]=l.y+v,f[o[2]]=l.font,f[o[3]]=l.size,f[o[4]]=l.style,f[o[5]]=l.weight,f[o[6]]=l.rotate;return t.reflow(n).modifies(o)}}});var d0=function(e){return new Uint8Array(e)},h0=function(e){return new Uint16Array(e)},p0=function(e){return new Uint32Array(e)};function v0(e,t,n){var r=(t<257?d0:t<65537?h0:p0)(e);return n&&r.set(n),r}function m0(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this,a=i.bisect(i.range,e.value),o=e.index,u=a[0],s=a[1],c=o.length;for(n=0;n<u;++n)t[o[n]]|=r;for(n=s;n<c;++n)t[o[n]]|=r;return i}}}function g0(){var e=p0(0),t=[],n=0;return{insert:function(r,i,a){if(!i.length)return[];var o,u,s,c=n,l=i.length,f=p0(l),d=Array(l);for(s=0;s<l;++s)d[s]=r(i[s]),f[s]=s;if(d=function(e,t){return e.sort.call(t,(function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0})),function(e,t){return Array.from(t,(function(t){return e[t]}))}(e,t)}(d,f),c)o=t,u=e,t=Array(c+l),e=p0(c+l),function(e,t,n,r,i,a,o,u,s){var c,l=0,f=0;for(c=0;l<r&&f<o;++c)t[l]<i[f]?(u[c]=t[l],s[c]=n[l++]):(u[c]=i[f],s[c]=a[f++]+e);for(;l<r;++l,++c)u[c]=t[l],s[c]=n[l];for(;f<o;++f,++c)u[c]=i[f],s[c]=a[f]+e}(a,o,u,c,d,f,l,t,e);else{if(a>0)for(s=0;s<l;++s)f[s]+=a;t=d,e=f}return n=c+l,{index:f,value:d}},remove:function(r,i){var a,o,u,s=n;for(o=0;!i[e[o]]&&o<s;++o);for(u=o;o<s;++o)i[a=e[o]]||(e[u]=a,t[u]=t[o],++u);n=s-r},bisect:function(e,r){var i;return r?i=r.length:(r=t,i=n),[nN(r,e[0],0,i),tN(r,e[1],0,i)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function y0(e){eT.call(this,function(){var e=8,t=[],n=p0(0),r=v0(0,e),i=v0(0,e);return{data:function(){return t},seen:function(){return n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var a,o,u,s=t.length,c=Array(s-e),l=t;for(o=0;!n[o]&&o<s;++o)c[o]=t[o],l[o]=o;for(u=o;o<s;++o)a=t[o],n[o]?l[o]=-1:(l[o]=u,r[u]=r[o],i[u]=i[o],c[u]=a,a._index=u++),r[o]=0;return t=c,l},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){return i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=v0(t,e,r),i=v0(t,e))}}}(),e),this._indices=null,this._dims=null}function b0(e){eT.call(this,null,e)}y0.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},eE(y0,eT,{transform:function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init:function(e,t){for(var n,r,i=e.fields,a=e.query,o=this._indices={},u=this._dims=[],s=a.length,c=0;c<s;++c)r=o[n=i[c].fname]||(o[n]=g0()),u.push(m0(r,c,a[c]));return this.eval(e,t)},reinit:function(e,t){var n,r,i,a,o,u,s,c,l,f=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,v=this._dims,m=this.value,g=m.curr(),y=m.prev(),b=m.all(),x=f.rem=f.add,w=f.mod,_=h.length,k={};if(y.set(g),t.rem.length&&(o=this.remove(e,t,f)),t.add.length&&m.add(t.add),t.mod.length)for(u={},s=0,c=(a=t.mod).length;s<c;++s)u[a[s]._index]=1;for(s=0;s<_;++s)l=d[s],(!v[s]||e.modified("fields",s)||t.modified(l.fields))&&((n=k[i=l.fname])||(p[i]=r=g0(),k[i]=n=r.insert(l,t.source,0)),v[s]=m0(r,s,h[s]).onAdd(n,g));for(s=0,c=m.data().length;s<c;++s)o[s]||(y[s]!==g[s]?x.push(s):u[s]&&g[s]!==b&&w.push(s));return m.mask=(1<<_)-1,f},eval:function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert:function(e,t,n){var r,i,a,o=t.add,u=this.value,s=this._dims,c=this._indices,l=e.fields,f={},d=n.add,h=u.size()+o.length,p=s.length,v=u.size();u.resize(h,p),u.add(o);var m=u.curr(),g=u.prev(),y=u.all();for(r=0;r<p;++r)a=f[i=l[r].fname]||(f[i]=c[i].insert(l[r],o,v)),s[r].onAdd(a,m);for(;v<h;++v)g[v]=y,m[v]!==y&&d.push(v)},modify:function(e,t){var n,r,i,a=t.mod,o=this.value,u=o.curr(),s=o.all(),c=e.mod;for(n=0,r=c.length;n<r;++n)u[i=c[n]._index]!==s&&a.push(i)},remove:function(e,t,n){var r,i,a,o,u=this._indices,s=this.value,c=s.curr(),l=s.prev(),f=s.all(),d={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)d[a=p[r]._index]=1,l[a]=o=c[a],c[a]=f,o!==f&&h.push(a);for(a in u)u[a].remove(i,d);return this.reindex(t,i,d),d},reindex:function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)}))},update:function(e,t,n){var r,i,a=this._dims,o=e.query,u=t.stamp,s=a.length,c=0;for(n.filters=0,i=0;i<s;++i)e.modified("query",i)&&(r=i,++c);if(1===c)c=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,c=0;i<s;++i)e.modified("query",i)&&(c|=a[i].one,this.incrementAll(a[i],o[i],u,n.add),n.rem=n.add);return c},incrementAll:function(e,t,n,r){var i,a,o,u=this.value,s=u.seen(),c=u.curr(),l=u.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],v=h[1],m=d[0],g=d[1],y=e.one;if(p<m)for(i=p,a=Math.min(m,v);i<a;++i)s[o=f[i]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=y;else if(p>m)for(i=m,a=Math.min(p,g);i<a;++i)s[o=f[i]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=y;if(v>g)for(i=Math.max(p,g),a=v;i<a;++i)s[o=f[i]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=y;else if(v<g)for(i=Math.max(m,v),a=g;i<a;++i)s[o=f[i]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=y;e.range=t.slice()},incrementOne:function(e,t,n,r){var i,a,o,u=this.value.curr(),s=e.index(),c=e.bisect(e.range),l=e.bisect(t),f=l[0],d=l[1],h=c[0],p=c[1],v=e.one;if(f<h)for(i=f,a=Math.min(h,d);i<a;++i)u[o=s[i]]^=v,n.push(o);else if(f>h)for(i=h,a=Math.min(f,p);i<a;++i)u[o=s[i]]^=v,r.push(o);if(d>p)for(i=Math.max(f,p),a=d;i<a;++i)u[o=s[i]]^=v,n.push(o);else if(d<p)for(i=Math.max(h,d),a=p;i<a;++i)u[o=s[i]]^=v,r.push(o);e.range=t.slice()}}),b0.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},eE(b0,eT,{transform:function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),u=r.curr(),s=r.prev(),c=function(e){return u[e]&n?null:o[e]};return a.filter(a.MOD,c),i&i-1?(a.filter(a.ADD,(function(e){var t=u[e]&n;return!t&&t^s[e]&n?o[e]:null})),a.filter(a.REM,(function(e){var t=u[e]&n;return t&&!(t^t^s[e]&n)?o[e]:null}))):(a.filter(a.ADD,c),a.filter(a.REM,(function(e){return(u[e]&n)===i?o[e]:null}))),a.filter(a.SOURCE,(function(e){return c(e._index)}))}});var x0,w0,_0,k0,E0,O0="Literal",S0="Property",A0="ArrayExpression",C0="BinaryExpression",D0="CallExpression",j0="ConditionalExpression",T0="LogicalExpression",F0="MemberExpression",P0="ObjectExpression",M0="UnaryExpression";function N0(e){this.type=e}N0.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case A0:return e.elements;case C0:case T0:return[e.left,e.right];case D0:return[e.callee].concat(e.arguments);case j0:return[e.test,e.consequent,e.alternate];case F0:return[e.object,e.property];case P0:return e.properties;case S0:return[e.key,e.value];case M0:return[e.argument];default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(x0={})[1]="Boolean",x0[2]="<end>",x0[3]="Identifier",x0[4]="Keyword",x0[5]="Null",x0[6]="Numeric",x0[7]="Punctuator",x0[8]="String",x0[9]="RegularExpression";var R0="Identifier",I0="Unexpected token %0",B0="Invalid regular expression",z0="Invalid regular expression: missing /",L0="Octal literals are not allowed in strict mode.",U0="ILLEGAL",q0="Disabled.",W0=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),H0=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function $0(e,t){if(!e)throw new Error("ASSERT: "+t)}function V0(e){return e>=48&&e<=57}function G0(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Y0(e){return"01234567".indexOf(e)>=0}function K0(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function X0(e){return 10===e||13===e||8232===e||8233===e}function Q0(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&W0.test(String.fromCharCode(e))}function Z0(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&H0.test(String.fromCharCode(e))}var J0={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function e1(){for(;_0<k0;){var e=w0.charCodeAt(_0);if(!K0(e)&&!X0(e))break;++_0}}function t1(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)_0<k0&&G0(w0[_0])?(r=w0[_0++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):g1({},I0,U0);return String.fromCharCode(i)}function n1(){var e,t,n,r;for(t=0,"}"===(e=w0[_0])&&g1({},I0,U0);_0<k0&&G0(e=w0[_0++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&g1({},I0,U0),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function r1(){var e,t;for(e=w0.charCodeAt(_0++),t=String.fromCharCode(e),92===e&&(117!==w0.charCodeAt(_0)&&g1({},I0,U0),++_0,(e=t1("u"))&&"\\"!==e&&Q0(e.charCodeAt(0))||g1({},I0,U0),t=e);_0<k0&&Z0(e=w0.charCodeAt(_0));)++_0,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==w0.charCodeAt(_0)&&g1({},I0,U0),++_0,(e=t1("u"))&&"\\"!==e&&Z0(e.charCodeAt(0))||g1({},I0,U0),t+=e);return t}function i1(){var e,t;return e=_0,t=92===w0.charCodeAt(_0)?r1():function(){var e,t;for(e=_0++;_0<k0;){if(92===(t=w0.charCodeAt(_0)))return _0=e,r1();if(!Z0(t))break;++_0}return w0.slice(e,_0)}(),{type:1===t.length?3:J0.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:_0}}function a1(){var e,t,n,r,i=_0,a=w0.charCodeAt(_0),o=w0[_0];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++_0,{type:7,value:String.fromCharCode(a),start:i,end:_0};default:if(61===(e=w0.charCodeAt(_0+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return _0+=2,{type:7,value:String.fromCharCode(a)+String.fromCharCode(e),start:i,end:_0};case 33:case 61:return _0+=2,61===w0.charCodeAt(_0)&&++_0,{type:7,value:w0.slice(i,_0),start:i,end:_0}}}return">>>="===(r=w0.substr(_0,4))?{type:7,value:r,start:i,end:_0+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:_0+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:i,end:_0+=2}:("//"===t&&g1({},I0,U0),"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:i,end:++_0}:void g1({},I0,U0))}function o1(){var e,t,n;if($0(V0((n=w0[_0]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=_0,e="","."!==n){if(e=w0[_0++],n=w0[_0],"0"===e){if("x"===n||"X"===n)return++_0,function(e){for(var t="";_0<k0&&G0(w0[_0]);)t+=w0[_0++];return 0===t.length&&g1({},I0,U0),Q0(w0.charCodeAt(_0))&&g1({},I0,U0),{type:6,value:parseInt("0x"+t,16),start:e,end:_0}}(t);if(Y0(n))return function(e){for(var t="0"+w0[_0++];_0<k0&&Y0(w0[_0]);)t+=w0[_0++];return(Q0(w0.charCodeAt(_0))||V0(w0.charCodeAt(_0)))&&g1({},I0,U0),{type:6,value:parseInt(t,8),octal:!0,start:e,end:_0}}(t);n&&V0(n.charCodeAt(0))&&g1({},I0,U0)}for(;V0(w0.charCodeAt(_0));)e+=w0[_0++];n=w0[_0]}if("."===n){for(e+=w0[_0++];V0(w0.charCodeAt(_0));)e+=w0[_0++];n=w0[_0]}if("e"===n||"E"===n)if(e+=w0[_0++],"+"!==(n=w0[_0])&&"-"!==n||(e+=w0[_0++]),V0(w0.charCodeAt(_0)))for(;V0(w0.charCodeAt(_0));)e+=w0[_0++];else g1({},I0,U0);return Q0(w0.charCodeAt(_0))&&g1({},I0,U0),{type:6,value:parseFloat(e),start:t,end:_0}}function u1(){var e,t,n,r;return E0=null,e1(),e=_0,t=function(){var e,t,n,r;for($0("/"===(e=w0[_0]),"Regular expression literal must start with a slash"),t=w0[_0++],n=!1,r=!1;_0<k0;)if(t+=e=w0[_0++],"\\"===e)X0((e=w0[_0++]).charCodeAt(0))&&g1({},z0),t+=e;else if(X0(e.charCodeAt(0)))g1({},z0);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||g1({},z0),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";_0<k0&&Z0((e=w0[_0]).charCodeAt(0));)++_0,"\\"===e&&_0<k0?g1({},I0,U0):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&g1({},B0,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";g1({},B0)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(Awe){g1({},B0)}try{return new RegExp(e,t)}catch(r){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:_0}}function s1(){if(e1(),_0>=k0)return{type:2,start:_0,end:_0};var e=w0.charCodeAt(_0);return Q0(e)?i1():40===e||41===e||59===e?a1():39===e||34===e?function(){var e,t,n,r,i="",a=!1;for($0("'"===(e=w0[_0])||'"'===e,"String literal must starts with a quote"),t=_0,++_0;_0<k0;){if((n=w0[_0++])===e){e="";break}if("\\"===n)if((n=w0[_0++])&&X0(n.charCodeAt(0)))"\r"===n&&"\n"===w0[_0]&&++_0;else switch(n){case"u":case"x":"{"===w0[_0]?(++_0,i+=n1()):i+=t1(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Y0(n)?(0!==(r="01234567".indexOf(n))&&(a=!0),_0<k0&&Y0(w0[_0])&&(a=!0,r=8*r+"01234567".indexOf(w0[_0++]),"0123".indexOf(n)>=0&&_0<k0&&Y0(w0[_0])&&(r=8*r+"01234567".indexOf(w0[_0++]))),i+=String.fromCharCode(r)):i+=n}else{if(X0(n.charCodeAt(0)))break;i+=n}}return""!==e&&g1({},I0,U0),{type:8,value:i,octal:a,start:t,end:_0}}():46===e?V0(w0.charCodeAt(_0+1))?o1():a1():V0(e)?o1():a1()}function c1(){var e=E0;return _0=e.end,E0=s1(),_0=e.end,e}function l1(){var e=_0;E0=s1(),_0=e}function f1(e,t,n){var r=new N0("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function d1(e,t){var n=new N0("CallExpression");return n.callee=e,n.arguments=t,n}function h1(e){var t=new N0(R0);return t.name=e,t}function p1(e){var t=new N0("Literal");return t.value=e.value,t.raw=w0.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function v1(e,t,n){var r=new N0("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function m1(e,t,n){var r=new N0("Property");return r.key=t,r.value=n,r.kind=e,r}function g1(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return $0(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=_0,n.description=i,n}function y1(e){2===e.type&&g1(e,"Unexpected end of input"),6===e.type&&g1(e,"Unexpected number"),8===e.type&&g1(e,"Unexpected string"),3===e.type&&g1(e,"Unexpected identifier"),4===e.type&&g1(e,"Unexpected reserved word"),g1(e,I0,e.value)}function b1(e){var t=c1();7===t.type&&t.value===e||y1(t)}function x1(e){return 7===E0.type&&E0.value===e}function w1(e){return 4===E0.type&&E0.value===e}function _1(){var e=[];for(_0=E0.start,b1("[");!x1("]");)x1(",")?(c1(),e.push(null)):(e.push(M1()),x1("]")||b1(","));return c1(),function(e){var t=new N0("ArrayExpression");return t.elements=e,t}(e)}function k1(){_0=E0.start;var e=c1();return 8===e.type||6===e.type?(e.octal&&g1(e,L0),p1(e)):h1(e.value)}function E1(){var e,t,n;return _0=E0.start,3===(e=E0).type?(n=k1(),b1(":"),m1("init",n,M1())):2!==e.type&&7!==e.type?(t=k1(),b1(":"),m1("init",t,M1())):void y1(e)}function O1(){var e,t,n=[],r={},i=String;for(_0=E0.start,b1("{");!x1("}");)t="$"+((e=E1()).key.type===R0?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?g1({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),x1("}")||b1(",");return b1("}"),function(e){var t=new N0("ObjectExpression");return t.properties=e,t}(n)}var S1={if:1};function A1(){var e,t,n;if(x1("("))return function(){b1("(");var e=N1();return b1(")"),e}();if(x1("["))return _1();if(x1("{"))return O1();if(e=E0.type,_0=E0.start,3===e||S1[E0.value])n=h1(c1().value);else if(8===e||6===e)E0.octal&&g1(E0,L0),n=p1(c1());else{if(4===e)throw new Error(q0);1===e?((t=c1()).value="true"===t.value,n=p1(t)):5===e?((t=c1()).value=null,n=p1(t)):x1("/")||x1("/=")?(n=p1(u1()),l1()):y1(c1())}return n}function C1(){var e=[];if(b1("("),!x1(")"))for(;_0<k0&&(e.push(M1()),!x1(")"));)b1(",");return b1(")"),e}function D1(){return b1("."),function(){_0=E0.start;var e=c1();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||y1(e),h1(e.value)}()}function j1(){b1("[");var e=N1();return b1("]"),e}function T1(){var e=function(){var e;for(e=A1();;)if(x1("."))e=v1(".",e,D1());else if(x1("("))e=d1(e,C1());else{if(!x1("["))break;e=v1("[",e,j1())}return e}();if(7===E0.type&&(x1("++")||x1("--")))throw new Error(q0);return e}function F1(){var e,t;if(7!==E0.type&&4!==E0.type)t=T1();else{if(x1("++")||x1("--"))throw new Error(q0);if(x1("+")||x1("-")||x1("~")||x1("!"))e=c1(),t=F1(),t=function(e,t){var n=new N0("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(w1("delete")||w1("void")||w1("typeof"))throw new Error(q0);t=T1()}}return t}function P1(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function M1(){var e,t;return e=function(){var e,t,n,r,i,a,o,u,s,c;if(e=E0,s=F1(),0===(i=P1(r=E0)))return s;for(r.prec=i,c1(),t=[e,E0],a=[s,r,o=F1()];(i=P1(E0))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),u=a.pop().value,s=a.pop(),t.pop(),n=f1(u,s,o),a.push(n);(r=c1()).prec=i,a.push(r),t.push(E0),n=F1(),a.push(n)}for(n=a[c=a.length-1],t.pop();c>1;)t.pop(),n=f1(a[c-1].value,a[c-2],n),c-=2;return n}(),x1("?")&&(c1(),t=M1(),b1(":"),e=function(e,t,n){var r=new N0("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,M1())),e}function N1(){var e=M1();if(x1(","))throw new Error(q0);return e}function R1(e){_0=0,k0=(w0=e).length,E0=null,l1();var t=N1();if(2!==E0.type)throw new Error("Unexpect token after expression.");return t}var I1={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function B1(e){function t(t,n,r){return function(i){return function(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date",r="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&K_("Missing arguments to clamp function."),t.length>3&&K_("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:i,test:t("test",i),if:function(t){t.length<3&&K_("Missing arguments to if function."),t.length>3&&K_("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function z1(e){var t=(e=e||{}).allowed?xE(e.allowed):{},n=e.forbidden?xE(e.forbidden):{},r=e.constants||I1,i=(e.functions||B1)(f),a=e.globalvar,o=e.fieldvar,u=Bk(a)?a:function(e){return"".concat(a,'["').concat(e,'"]')},s={},c={},l=0;function f(e){if(uE(e))return e;var t=d[e.type];return null==t&&K_("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var i=e.name;return l>0?i:Xk(n,i)?K_("Illegal identifier: "+i):Xk(r,i)?r[i]:Xk(t,i)?i:(s[i]=1,u(i))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(l+=1);var r=f(e.property);return n===o&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(l-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&K_("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Xk(i,t)&&i[t];return r||K_("Unrecognized function: "+t),Bk(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+" "+e.operator+" "+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){l+=1;var t=f(e.key);return l-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(s),fields:Object.keys(c)};return s={},c={},t}return h.functions=i,h.constants=r,h}var L1,U1,q1,W1,H1,$1,V1,G1,Y1,K1,X1,Q1,Z1,J1,e2,t2,n2=new JV,r2=new JV,i2={point:kG,lineStart:kG,lineEnd:kG,polygonStart:function(){n2=new JV,i2.lineStart=a2,i2.lineEnd=o2},polygonEnd:function(){var e=+n2;r2.add(e<0?aG+e:e),this.lineStart=this.lineEnd=this.point=kG},sphere:function(){r2.add(aG)}};function a2(){i2.point=u2}function o2(){s2(L1,U1)}function u2(e,t){i2.point=s2,L1=e,U1=t,q1=e*=uG,W1=fG(t=(t*=uG)/2+iG),H1=gG(t)}function s2(e,t){var n=(e*=uG)-q1,r=n>=0?1:-1,i=r*n,a=fG(t=(t*=uG)/2+iG),o=gG(t),u=H1*o,s=W1*a+u*fG(i),c=u*r*gG(i);n2.add(lG(c,s)),q1=e,W1=a,H1=o}var c2,l2,f2,d2,h2,p2,v2,m2,g2,y2,b2,x2,w2,_2,k2,E2,O2={point:S2,lineStart:C2,lineEnd:D2,polygonStart:function(){O2.point=j2,O2.lineStart=T2,O2.lineEnd=F2,J1=new JV,i2.polygonStart()},polygonEnd:function(){i2.polygonEnd(),O2.point=S2,O2.lineStart=C2,O2.lineEnd=D2,n2<0?($1=-(G1=180),V1=-(Y1=90)):J1>eG?Y1=90:J1<-1e-6&&(V1=-90),t2[0]=$1,t2[1]=G1},sphere:function(){$1=-(G1=180),V1=-(Y1=90)}};function S2(e,t){e2.push(t2=[$1=e,G1=e]),t<V1&&(V1=t),t>Y1&&(Y1=t)}function A2(e,t){var n=FY([e*uG,t*uG]);if(Z1){var r=MY(Z1,n),i=MY([r[1],-r[0],0],r);IY(i),i=TY(i);var a,o=e-K1,u=o>0?1:-1,s=i[0]*oG*u,c=sG(o)>180;c^(u*K1<s&&s<u*e)?(a=i[1]*oG)>Y1&&(Y1=a):c^(u*K1<(s=(s+360)%360-180)&&s<u*e)?(a=-i[1]*oG)<V1&&(V1=a):(t<V1&&(V1=t),t>Y1&&(Y1=t)),c?e<K1?P2($1,e)>P2($1,G1)&&(G1=e):P2(e,G1)>P2($1,G1)&&($1=e):G1>=$1?(e<$1&&($1=e),e>G1&&(G1=e)):e>K1?P2($1,e)>P2($1,G1)&&(G1=e):P2(e,G1)>P2($1,G1)&&($1=e)}else e2.push(t2=[$1=e,G1=e]);t<V1&&(V1=t),t>Y1&&(Y1=t),Z1=n,K1=e}function C2(){O2.point=A2}function D2(){t2[0]=$1,t2[1]=G1,O2.point=S2,Z1=null}function j2(e,t){if(Z1){var n=e-K1;J1.add(sG(n)>180?n+(n>0?360:-360):n)}else X1=e,Q1=t;i2.point(e,t),A2(e,t)}function T2(){i2.lineStart()}function F2(){j2(X1,Q1),i2.lineEnd(),sG(J1)>eG&&($1=-(G1=180)),t2[0]=$1,t2[1]=G1,Z1=null}function P2(e,t){return(t-=e)<0?t+360:t}function M2(e,t){return e[0]-t[0]}function N2(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var R2={sphere:kG,point:I2,lineStart:z2,lineEnd:q2,polygonStart:function(){R2.lineStart=W2,R2.lineEnd=H2},polygonEnd:function(){R2.lineStart=z2,R2.lineEnd=q2}};function I2(e,t){e*=uG;var n=fG(t*=uG);B2(n*fG(e),n*gG(e),gG(t))}function B2(e,t,n){++c2,f2+=(e-f2)/c2,d2+=(t-d2)/c2,h2+=(n-h2)/c2}function z2(){R2.point=L2}function L2(e,t){e*=uG;var n=fG(t*=uG);_2=n*fG(e),k2=n*gG(e),E2=gG(t),R2.point=U2,B2(_2,k2,E2)}function U2(e,t){e*=uG;var n=fG(t*=uG),r=n*fG(e),i=n*gG(e),a=gG(t),o=lG(bG((o=k2*a-E2*i)*o+(o=E2*r-_2*a)*o+(o=_2*i-k2*r)*o),_2*r+k2*i+E2*a);l2+=o,p2+=o*(_2+(_2=r)),v2+=o*(k2+(k2=i)),m2+=o*(E2+(E2=a)),B2(_2,k2,E2)}function q2(){R2.point=I2}function W2(){R2.point=$2}function H2(){V2(x2,w2),R2.point=I2}function $2(e,t){x2=e,w2=t,e*=uG,t*=uG,R2.point=V2;var n=fG(t);_2=n*fG(e),k2=n*gG(e),E2=gG(t),B2(_2,k2,E2)}function V2(e,t){e*=uG;var n=fG(t*=uG),r=n*fG(e),i=n*gG(e),a=gG(t),o=k2*a-E2*i,u=E2*r-_2*a,s=_2*i-k2*r,c=pG(o,u,s),l=_G(c),f=c&&-l/c;g2.add(f*o),y2.add(f*u),b2.add(f*s),l2+=l,p2+=l*(_2+(_2=r)),v2+=l*(k2+(k2=i)),m2+=l*(E2+(E2=a)),B2(_2,k2,E2)}var G2="intersect",Y2="union",K2="index:unit";function X2(e,t){for(var n,r,i=t.fields,a=t.values,o=i.length,u=0;u<o;++u)if((r=i[u]).getter=Q_.getter||Q_(r.field),rE(n=r.getter(e))&&(n=yk(n)),rE(a[u])&&(a[u]=yk(a[u])),rE(a[u][0])&&(a[u]=a[u].map(yk)),"E"===r.type){if(fk(a[u])?a[u].indexOf(n)<0:n!==a[u])return!1}else if("R"===r.type){if(!tE(n,a[u]))return!1}else if("R-RE"===r.type){if(!tE(n,a[u],!0,!1))return!1}else if("R-E"===r.type){if(!tE(n,a[u],!1,!1))return!1}else if("R-LE"===r.type&&!tE(n,a[u],!1,!0))return!1;return!0}var Q2=Q_("_vgsid_"),Z2=function(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)<0?r=a+1:i=a}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}(e(t),n)}}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);var o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)>0?i=a:r=a+1}return r}}}(Q2),J2=Z2.left,e3=Z2.right;var t3={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=yk(t[0]),r=yk(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=yk(t[0]),r=yk(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function n3(e,t,n,r){t[0].type!==O0&&K_("First argument to selection functions must be a string literal.");var i=t[0].value,a="unit",o="@unit",u=":"+i;(t.length>=2&&gk(t).value)!==G2||Xk(r,o)||(r["@unit"]=n.getData(i).indataRef(n,a)),Xk(r,u)||(r[u]=n.getData(i).tuplesRef())}function r3(e){var t=this.context.data[e];return t?t.values.value:[]}var i3=function(e){return function(t,n){return this.context.dataflow.locale()[e](n)(t)}},a3=i3("format"),o3=i3("timeFormat"),u3=i3("utcFormat"),s3=i3("timeParse"),c3=i3("utcParse"),l3=new Date(2e3,0,1);function f3(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(l3.setYear(2e3),l3.setMonth(e),l3.setDate(t),o3.call(this,l3,n)):""}function d3(e,t,n,r){t[0].type!==O0&&K_("First argument to data functions must be a string literal.");var i=t[0].value,a=":"+i;if(!Xk(a,r))try{r[a]=n.getData(i).tuplesRef()}catch(o){}}function h3(e,t,n,r){if(t[0].type===O0)p3(n,r,t[0].value);else for(e in n.scales)p3(n,r,e)}function p3(e,t,n){var r="%"+n;if(!Xk(t,r))try{t[r]=e.scaleRef(n)}catch(i){}}function v3(e,t){var n;return Bk(e)?e:uE(e)?(n=t.scales[e])&&n.value:void 0}function m3(e,t,n){t.__bandwidth=function(e){return e&&e.bandwidth?e.bandwidth():0},n._bandwidth=h3,n._range=h3,n._scale=h3;var r=function(t){return"_["+(t.type===O0?vE("%"+t.value):vE("%")+"+"+e(t))+"]"};return{_bandwidth:function(e){return"this.__bandwidth(".concat(r(e[0]),")")},_range:function(e){return"".concat(r(e[0]),".range()")},_scale:function(t){return"".concat(r(t[0]),"(").concat(e(t[1]),")")}}}function g3(e,t){return function(n,r,i){if(n){var a=v3(n,(i||this).context);return a&&a.path[e](r)}return t(r)}}var y3=g3("area",(function(e){return r2=new JV,ZV(e,i2),2*r2})),b3=g3("bounds",(function(e){var t,n,r,i,a,o,u;if(Y1=G1=-($1=V1=1/0),e2=[],ZV(e,O2),n=e2.length){for(e2.sort(M2),t=1,a=[r=e2[0]];t<n;++t)N2(r,(i=e2[t])[0])||N2(r,i[1])?(P2(r[0],i[1])>P2(r[0],r[1])&&(r[1]=i[1]),P2(i[0],r[1])>P2(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(u=P2(r[1],i[0]))>o&&(o=u,$1=i[0],G1=r[1])}return e2=t2=null,$1===1/0||V1===1/0?[[NaN,NaN],[NaN,NaN]]:[[$1,V1],[G1,Y1]]})),x3=g3("centroid",(function(e){c2=l2=f2=d2=h2=p2=v2=m2=0,g2=new JV,y2=new JV,b2=new JV,ZV(e,R2);var t=+g2,n=+y2,r=+b2,i=pG(t,n,r);return i<tG&&(t=p2,n=v2,r=m2,l2<eG&&(t=f2,n=d2,r=h2),(i=pG(t,n,r))<tG)?[NaN,NaN]:[lG(n,t)*oG,_G(r/i)*oG]}));function w3(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function _3(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function k3(e){var t=VN(e);return.2126*_3(t.r)+.7152*_3(t.g)+.0722*_3(t.b)}function E3(e,t){return e===t||e!==e&&t!==t||(fk(e)?!(!fk(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!E3(e[n],t[n]))return!1;return!0}(e,t):!(!dk(e)||!dk(t))&&O3(e,t))}function O3(e,t){for(var n in e)if(!E3(e[n],t[n]))return!1;return!0}function S3(e){return function(t){return O3(e,t)}}var A3={};function C3(e){return fk(e)||ArrayBuffer.isView(e)?e:null}function D3(e){return C3(e)||(uE(e)?e:null)}var j3=function(e){return e.data};function T3(e,t){var n=r3.call(t,e);return n.root&&n.root.lookup||{}}var F3=function(){return"undefined"!==typeof window&&window||null};var P3={random:function(){return wT()},cumulativeNormal:FT,cumulativeLogNormal:BT,cumulativeUniform:HT,densityNormal:TT,densityLogNormal:IT,densityUniform:WT,quantileNormal:PT,quantileLogNormal:zT,quantileUniform:$T,sampleNormal:jT,sampleLogNormal:RT,sampleUniform:qT,isArray:fk,isBoolean:nE,isDate:rE,isDefined:function(e){return void 0!==e},isNumber:aE,isObject:dk,isRegExp:oE,isString:uE,isTuple:vj,isValid:function(e){return null!=e&&e===e},toBoolean:mE,toDate:yE,toNumber:yk,toString:bE,indexof:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=D3(e)).indexOf.apply(t,r)},join:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=C3(e)).join.apply(t,r)},lastindexof:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=D3(e)).lastIndexOf.apply(t,r)},replace:function(e,t,n){return Bk(n)&&K_("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return C3(e).slice().reverse()},slice:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=D3(e)).slice.apply(t,r)},flush:Jk,lerp:cE,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),Vk.apply(void 0,du(e))},pad:hE,peek:gk,pluck:function(e,t){var n=A3[t]||(A3[t]=Q_(t));return fk(e)?e.map(n):n(e)},span:pE,inrange:tE,truncate:wE,rgb:VN,lab:PB,hcl:LB,hsl:JN,luminance:k3,contrast:function(e,t){var n=k3(e),r=k3(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:lF,format:a3,utcFormat:u3,utcParse:c3,utcOffset:ZS,utcSequence:tA,timeFormat:o3,timeParse:s3,timeOffset:QS,timeSequence:eA,timeUnitSpecifier:kS,monthFormat:function(e){return f3.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return f3.call(this,e,1,"%b")},dayFormat:function(e){return f3.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return f3.call(this,0,2+e,"%a")},quarter:Mk,utcquarter:Nk,week:AS,utcweek:PS,dayofyear:SS,utcdayofyear:FS,warn:function(){return w3(this.context.dataflow,"warn",arguments)},info:function(){return w3(this.context.dataflow,"info",arguments)},debug:function(){return w3(this.context.dataflow,"debug",arguments)},extent:Gk,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=C(e,2),i=r[0],a=r[1],o=(new _U).set(i[0],i[1],a[0],a[1]);return XH(n||this.context.dataflow.scenegraph().root,o,function(e){var t=null;if(e){var n=Rk(e.marktype),r=Rk(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:Ik,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){var e=F3();return e?e.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){var e=F3();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return lz(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(nk).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?$L(n,t=t||ML(e)):e}},panLinear:Ok,panLog:Sk,panPow:Ak,panSymlog:Ck,zoomLinear:jk,zoomLog:Tk,zoomPow:Fk,zoomSymlog:Pk,encode:function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,a){var o,u,s=this.context.dataflow,c=this.context.data[e],l=c.input,f=s.stamp(),d=c.changes;if(!1===s._trigger||!(l.value.length||t||r))return 0;if((!d||d.stamp<f)&&(c.changes=d=s.changeset(),d.stamp=f,s.runAfter((function(){c.modified=!0,s.pulse(l,d).run()}),!0,1)),n&&(o=!0===n?nk:fk(n)||vj(n)?n:S3(n),d.remove(o)),t&&d.insert(t),r&&(o=S3(r),l.value.some(o)?d.remove(o):d.insert(r)),i)for(u in a)d.modify(i,u,a[u]);return 1}},M3=["view","item","group","xy","x","y"],N3="this.",R3={},I3={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_[".concat(vE("$"+e),"]")},functions:function(e){var t=B1(e);for(var n in M3.forEach((function(e){return t[e]="event.vega."+e})),P3)t[n]=N3+n;return Vk(t,m3(e,P3,R3)),t},constants:I1,visitors:R3},B3=z1(I3);function z3(e,t,n){return 1===arguments.length?P3[e]:(P3[e]=t,n&&(R3[e]=n),B3&&(B3.functions[e]=N3+e),this)}function L3(e,t){var n,r={};try{n=R1(e=uE(e)?e:vE(e)+"")}catch(a){K_("Expression parse error: "+e)}n.visit((function(e){if(e.type===D0){var n=e.callee.name,i=I3.visitors[n];i&&i(n,e.arguments,t,r)}}));var i=B3(n);return i.globals.forEach((function(e){var n="$"+e;!Xk(r,n)&&t.getSignal(e)&&(r[n]=t.signalRef(e))})),{$expr:Vk({code:i.code},t.options.ast?{ast:n}:null),$fields:i.fields,$params:r}}z3("bandwidth",(function(e,t){var n=v3(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),h3),z3("copy",(function(e,t){var n=v3(e,(t||this).context);return n?n.copy():void 0}),h3),z3("domain",(function(e,t){var n=v3(e,(t||this).context);return n?n.domain():[]}),h3),z3("range",(function(e,t){var n=v3(e,(t||this).context);return n&&n.range?n.range():[]}),h3),z3("invert",(function(e,t,n){var r=v3(e,(n||this).context);return r?fk(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),h3),z3("scale",(function(e,t,n){var r=v3(e,(n||this).context);return r?r(t):void 0}),h3),z3("gradient",(function(e,t,n,r,i){e=v3(e,(i||this).context);var a=DL(t,n),o=e.domain(),u=o[0],s=gk(o),c=J_;return s-u?c=Zz(e,u,s):e=(e.interpolator?zz("sequential")().interpolator(e.interpolator()):zz("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,s=1]),e.ticks&&(u!==(o=e.ticks(+r||15))[0]&&o.unshift(u),s!==gk(o)&&o.push(s)),o.forEach((function(t){return a.stop(c(t),e(t))})),a}),h3),z3("geoArea",y3,h3),z3("geoBounds",b3,h3),z3("geoCentroid",x3,h3),z3("geoShape",(function(e,t,n){var r=v3(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),h3),z3("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,r){t[0].type!==O0&&K_("First argument to indata must be a string literal."),t[1].type!==O0&&K_("Second argument to indata must be a string literal.");var i=t[0].value,a=t[1].value,o="@"+a;Xk(o,r)||(r[o]=n.getData(i).indataRef(n,a))})),z3("data",r3,d3),z3("treePath",(function(e,t,n){var r=T3(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(j3):void 0}),d3),z3("treeAncestors",(function(e,t){var n=T3(e,this)[t];return n?n.ancestors().map(j3):void 0}),d3),z3("vlSelectionTest",(function(e,t,n){for(var r,i,a,o,u,s=this.context.data[e],c=s?s.values.value:[],l=s?s[K2]&&s[K2].value:void 0,f=n===G2,d=c.length,h=0;h<d;++h)if(r=c[h],l&&f){if(-1===(a=(i=i||{})[o=r.unit]||0))continue;if(u=X2(t,r),i[o]=u?-1:++a,u&&1===l.size)return!0;if(!u&&a===l.get(o).count)return!1}else if(f^(u=X2(t,r)))return u;return d&&f}),n3),z3("vlSelectionIdTest",(function(e,t,n){var r=this.context.data[e],i=r?r.values.value:[],a=r?r[K2]&&r[K2].value:void 0,o=n===G2,u=Q2(t),s=J2(i,u);if(s===i.length)return!1;if(Q2(i[s])!==u)return!1;if(a&&o){if(1===a.size)return!0;if(e3(i,u)-s<a.size)return!1}return!0}),n3),z3("vlSelectionResolve",(function(e,t,n,r){for(var i,a,o,u,s,c,l,f,d,h,p,v=this.context.data[e],m=v?v.values.value:[],g={},y={},b={},x=m.length,w=0;w<x;++w){for(u=(i=m[w]).unit,a=i.fields,o=i.values,h=0,p=a.length;h<p;++h)s=a[h],l=(c=g[s.field]||(g[s.field]={}))[u]||(c[u]=[]),b[s.field]=f=s.type.charAt(0),d=t3[f+"_union"],c[u]=d(l,Rk(o[h]));n&&(l=y[u]||(y[u]=[])).push(Rk(o).reduce((function(e,t,n){return e[a[n].field]=t,e}),{}))}return t=t||Y2,Object.keys(g).forEach((function(e){g[e]=Object.keys(g[e]).map((function(t){return g[e][t]})).reduce((function(n,r){return void 0===n?r:t3[b[e]+"_"+t](n,r)}))})),m=Object.keys(y),n&&m.length&&(g[r?"vlPoint":"vlMulti"]=t===Y2?lu({},"or",m.reduce((function(e,t){return e.push.apply(e,du(y[t])),e}),[])):lu({},"and",m.map((function(e){return lu({},"or",y[e])})))),g}),n3),z3("vlSelectionTuples",(function(e,t){return e.map((function(e){return Vk({values:t.fields.map((function(t){return(t.getter||(t.getter=Q_(t.field)))(e.datum)}))},t)}))}));var U3=xE(["rule"]),q3=xE(["group","image","rect"]);function W3(e){return(e+"").toLowerCase()}function H3(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(void 0,du(t.concat(n)));return e&&e.functions?r.bind(e.functions):r}var $3={operator:function(e,t){return H3(e,["_"],t.code)},parameter:function(e,t){return H3(e,["datum","_"],t.code)},event:function(e,t){return H3(e,["event"],t.code)},handler:function(e,t){return H3(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";"))},encode:function(e,t){var n=t.marktype,r=t.channels,i="var o=item,datum=o.datum,m=0,$;";for(var a in r){var o="o["+vE(a)+"]";i+="$=".concat(r[a].code,";if(").concat(o,"!==$)").concat(o,"=$,m=1;")}return i+=function(e,t){var n="";return U3[t]||(e.x2&&(e.x?(q3[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(q3[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),H3(e,["item","_"],i+="return m;")},codegen:{get:function(e){var t="[".concat(e.map(vE).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator:function(e,t){var n,r=Function("a","b","var u, v; return "+e.map((function(e,r){var i,a,o=t[r];return e.path?(i="a".concat(e.path),a="b".concat(e.path)):((n=n||{})["f"+r]=e,i="this.f".concat(r,"(a)"),a="this.f".concat(r,"(b)")),function(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(i,a,-o,o)})).join("")+"0;");return n?r.bind(n):r}}};function V3(e,t,n){if(!e||!dk(e))return e;for(var r,i=0,a=G3.length;i<a;++i)if(Xk(e,(r=G3[i]).key))return r.parse(e,t,n);return e}var G3=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||K_("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=sE(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);var r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=W_(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Q_(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){var n=e.$encode,r={};for(var i in n){var a=n[i];r[i]=W_(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Rk(e.$compare).map((function(e){return e&&e.$tupleid?mj:e}));return t.fn[n]||(t.fn[n]=zk(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var a=t.fork().parse(n),o=a.get(n.operators[0].id),u=a.signals.parent;return u&&u.set(i),o.detachSubflow=function(){return t.detach(a)},o}}},{key:"$tupleid",parse:function(){return mj}}];var Y3={skip:!0};function K3(e,t,n,r){return new X3(e,t,n,r)}function X3(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||$3,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Q3(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function Z3(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}X3.prototype=Q3.prototype={fork:function(){var e=new Q3(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach:function(e){this.subcontext=this.subcontext.filter((function(t){return t!==e}));for(var t=Object.keys(e.nodes),n=0,r=t;n<r.length;n++){var i=r[n];e.nodes[i]._targets=null}for(var a=0,o=t;a<o.length;a++){var u=o[a];e.nodes[u].detach()}e.nodes=null},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),function(e){return"collect"===W3(e)}(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){var a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push((function(){a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data){var o=function(r){var i=n.data[r]||(n.data[r]={});e.data[r].forEach((function(e){return i[e]=t}))};for(var u in e.data)o(u)}},resolve:function(){return(this.unresolved||[]).forEach((function(e){return e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[W3(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression:function(e){return this.expr.operator(this,e)},parameterExpression:function(e){return this.expr.parameter(this,e)},eventExpression:function(e){return this.expr.event(this,e)},handlerExpression:function(e){return this.expr.handler(this,e)},encodeExpression:function(e){return this.expr.encode(this,e)},parse:function(e){var t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((function(e){return t.parseOperator(e)})),n.forEach((function(e){return t.parseOperatorParameters(e)})),(e.streams||[]).forEach((function(e){return t.parseStream(e)})),(e.updates||[]).forEach((function(e){return t.parseUpdate(e)})),t.resolve()},parseOperator:function(e){var t=this;!function(e){return"operator"===W3(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){var t=this;if(e.params){var n=t.get(e.id);n||K_("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};var n=this;for(var r in e){var i=e[r];t[r]=fk(i)?i.map((function(e){return V3(e,n,t)})):V3(i,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,i=null!=e.stream?n.get(e.stream):void 0;e.source?i=n.events(e.source,e.type,r):e.merge&&(i=(t=e.merge.map((function(e){return n.get(e)})))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((function(e){return n.get(e)})),i=i.between(t[0],t[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&K_("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),n.stream(e,i)},parseUpdate:function(e){var t,n=this,r=dk(r=e.source)?r.$ref:r,i=n.get(r),a=e.update,o=void 0;i||K_("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),a&&a.$expr&&(a.$params&&(o=n.parseParameters(a.$params)),a=n.handlerExpression(a.$expr)),n.update(e,i,t,a,o)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach((function(e){n.update(t.signals[e],i[e],Y3)})),Object.keys(r||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(nk).insert(r[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}};var J3="default";function e5(e,t){var n=e.globalCursor()?"undefined"!==typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function t5(e,t){var n=e._runtime.data;return Xk(n,t)||K_("Unrecognized data set: "+t),n[t]}function n5(e,t){kj(t)||K_("Second argument to changes must be a changeset.");var n=t5(this,e);return n.modified=!0,this.pulse(n.input,t)}function r5(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function i5(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function a5(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function o5(e){var t=a5(e),n=r5(e),r=i5(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(K_){e.error(K_)}}))}function u5(e,t,n){var r,i,a=e._renderer,o=a&&a.canvas();return o&&(i=a5(e),(r=MW(t.changedTouches?t.changedTouches[0]:t,o))[0]-=i[0],r[1]-=i[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function a(e){if(!e)return n;uE(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Hk(e),item:Hk(t||{}),group:i,xy:a,x:function(e){return a(e)[0]},y:function(e){return a(e)[1]}}}(e,n,r),t}var s5="view",c5={trap:!1};function l5(e,t,n,r){e._eventListeners.push({type:n,sources:Rk(t),handler:r})}function f5(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||dk(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function d5(e){return e.item}function h5(e){return e.item.mark.source}function p5(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function v5(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}function m5(e,t,n,r){var i=n.event||"input",a=function(){return e.update(t.value)};r.signal(n.signal,t.value),t.addEventListener(i,a),l5(r,t,i,a),e.set=function(e){t.value=e,t.dispatchEvent(function(e){return"undefined"!==typeof Event?new Event(e):{type:e}}(i))}}function g5(e,t,n,r){var i=r.signal(n.signal),a=v5("div",{class:"vega-bind"}),o="radio"===n.input?a:a.appendChild(v5("label"));o.appendChild(v5("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(a);var u=y5;switch(n.input){case"checkbox":u=b5;break;case"select":u=x5;break;case"radio":u=w5;break;case"range":u=_5}u(e,o,n,i)}function y5(e,t,n,r){var i=v5("input");for(var a in n)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(function(){return e.update(i.value)})),e.elements=[i],e.set=function(e){return i.value=e}}function b5(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var a=v5("input",i);t.appendChild(a),a.addEventListener("change",(function(){return e.update(a.checked)})),e.elements=[a],e.set=function(e){return a.checked=!!e||null}}function x5(e,t,n,r){var i=v5("select",{name:n.signal}),a=n.labels||[];n.options.forEach((function(e,t){var n={value:e};k5(e,r)&&(n.selected=!0),i.appendChild(v5("option",n,(a[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(function(){e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(k5(n.options[t],e))return void(i.selectedIndex=t)}}function w5(e,t,n,r){var i=v5("span",{class:"vega-bind-radio"}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((function(t,o){var u={type:"radio",name:n.signal,value:t};k5(t,r)&&(u.checked=!0);var s=v5("input",u);s.addEventListener("change",(function(){return e.update(t)}));var c=v5("label",{},(a[o]||t)+"");return c.prepend(s),i.appendChild(c),s})),e.set=function(t){for(var n=e.elements,r=n.length,i=0;i<r;++i)k5(n[i].value,t)&&(n[i].checked=!0)}}function _5(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,o=n.step||WE(a,i,100),u=v5("input",{type:"range",name:n.signal,min:a,max:i,step:o});u.value=r;var s=v5("span",{},+r);t.appendChild(u),t.appendChild(s);var c=function(){s.textContent=u.value,e.update(+u.value)};u.addEventListener("input",c),u.addEventListener("change",c),e.elements=[u],e.set=function(e){u.value=e,s.textContent=e}}function k5(e,t){return e===t||e+""===t+""}function E5(e,t,n,r,i,a){return(t=t||new r(e.loader())).initialize(n,r5(e),i5(e),a5(e),i,a).background(e.background())}function O5(e,t){return t?function(){try{t.apply(this,arguments)}catch(K_){e.error(K_)}}:null}function S5(e,t,n){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.innerHTML=""}catch(Awe){t=null,e.error(Awe)}return t}var A5=function(e){return+e||0};function C5(e){return dk(e)?{top:A5(e.top),bottom:A5(e.bottom),left:A5(e.left),right:A5(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(A5(e))}function D5(e,t,n,r){return j5.apply(this,arguments)}function j5(){return j5=Jo(tu().mark((function e(t,n,r,i){var a,o;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=KH(n),(o=a&&a.headless)||K_("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",E5(t,null,null,o,r,i).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)}))),j5.apply(this,arguments)}function T5(){return T5=Jo(tu().mark((function e(t,n){var r;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==GH.Canvas&&t!==GH.SVG&&t!==GH.PNG&&K_("Unrecognized image type: "+t),e.next=3,D5(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===GH.SVG?F5(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)}))),T5.apply(this,arguments)}function F5(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function P5(){return P5=Jo(tu().mark((function e(t,n){var r;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D5(this,GH.Canvas,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}}),e,this)}))),P5.apply(this,arguments)}function M5(){return M5=Jo(tu().mark((function e(t){var n;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D5(this,GH.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)}))),M5.apply(this,arguments)}var N5="width",R5="height",I5="padding",B5={skip:!0};function z5(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===I5?r.left+r.right:0)}function L5(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===I5?r.top+r.bottom:0)}function U5(e,t){return t.modified&&fk(t.input.value)&&e.indexOf("_:vega:_")}function q5(e,t){return!("parent"===e||t instanceof tT.proxy)}function W5(e,t,n,r){var i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":fk(e)?H5(e):dk(e)&&!rE(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(fk(n)?H5(n):$5(n))})).join("\n")):e+"";var t}(r))}function H5(e){return"["+e.map($5).join(", ")+"]"}function $5(e){return fk(e)?"[\u2026]":dk(e)&&!rE(e)?"{\u2026}":e}function V5(e,t){var n=this;if(t=t||{},Zj.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){var r=Vk({},e.locale,t.locale);n.locale(TD(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||GH.Canvas,n._scenegraph=new AW;var i=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||W5,n._redraw=!0,n._handler=(new JW).scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){var t=Vk({defaults:{}},e),n=function(e,t){t.forEach((function(t){fk(e[t])&&(e[t]=xE(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);var a=function(e,t,n){return K3(e,tT,P3,n).parse(t)}(n,e,t.expr);n._runtime=a,n._signals=a.signals,n._bind=(e.bindings||[]).map((function(e){return{state:null,param:Vk({},e)}})),a.root&&a.root.set(i),i.source=a.data.root.input,n.pulse(a.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=z5(n,n._width),n._viewHeight=L5(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=z5(e,t.size),a()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=L5(e,t.size),a()}),{size:r});var o=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}(n),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(n),function(e){var t=e._signals.cursor||(e._signals.cursor=e.add({user:J3,item:null}));e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,i=r?uE(r)?r:r.user:J3,a=n.item&&n.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}})),e.add(null,(function(t){var n=t.cursor,r=this.value;return uE(n)||(r=n.item,n=n.user),e5(e,n&&n!==J3?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function G5(e,t){return Xk(e._signals,t)?e._signals[t]:K_("Unrecognized signal name: "+vE(t))}function Y5(e,t){var n=(e._targets||[]).filter((function(e){return e._update&&e._update.handler===t}));return n.length?n[0]:null}function K5(e,t,n,r){var i=Y5(n,r);return i||((i=O5(e,(function(){return r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function X5(e,t,n){var r=Y5(t,n);return r&&t._targets.remove(r),e}eE(V5,Zj,{evaluate:function(e,t,n){var r=this;return Jo(tu().mark((function i(){return tu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Zj.prototype.evaluate.call(r,e,t);case 2:if(!r._redraw&&!r._resize){i.next=14;break}if(i.prev=3,!r._renderer){i.next=8;break}return r._resize&&(r._resize=0,o5(r)),i.next=8,r._renderer.renderAsync(r._scenegraph.root);case 8:r._redraw=!1,i.next=14;break;case 11:i.prev=11,i.t0=i.catch(3),r.error(i.t0);case 14:return n&&fj(r,n),i.abrupt("return",r);case 16:case"end":return i.stop()}}),i,null,[[3,11]])})))()},dirty:function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description:function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&Z3(this._el,this._desc=t),this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(e,t,n){var r=G5(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},width:function(e){return arguments.length?this.signal("width",e):this.signal("width")},height:function(e){return arguments.length?this.signal("height",e):this.signal("height")},padding:function(e){return arguments.length?this.signal("padding",C5(e)):C5(this.signal("padding"))},autosize:function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background:function(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer:function(e){return arguments.length?(KH(e)||K_("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip:function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader:function(e){return arguments.length?(e!==this._loader&&(Zj.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize:function(){return this._autosize=1,this.touch(G5(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,r,i,a){this.runAfter((function(o){var u=0;o._autosize=0,o.width()!==n&&(u=1,o.signal(N5,n,B5),o._resizeWidth.skip(!0)),o.height()!==r&&(u=1,o.signal(R5,r,B5),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),u&&o.run("enter"),a&&o.runAfter((function(e){return e.resize()}))}),!1,1)},addEventListener:function(e,t,n){var r=t;return n&&!1===n.trap||((r=O5(this,t)).raw=t),this._handler.on(e,r),this},removeEventListener:function(e,t){for(var n,r,i=this._handler.handlers(e),a=i.length;--a>=0;)if(r=i[a].type,n=i[a].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},addResizeListener:function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener:function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener:function(e,t){return K5(this,e,G5(this,e),t)},removeSignalListener:function(e,t){return X5(this,G5(this,e),t)},addDataListener:function(e,t){return K5(this,e,t5(this,e).values,t)},removeDataListener:function(e,t){return X5(this,t5(this,e).values,t)},globalCursor:function(e){if(arguments.length){if(this._globalCursor!==!!e){var t=e5(this,null);this._globalCursor=!!e,t&&e5(this,t)}return this}return this._globalCursor},preventDefault:function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var r=new pQ,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?dQ():+n,r._restart((function a(o){o+=i,r._restart(a,i+=t,n),e(o)}),t,n)},r.restart(e,t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var r,i=this,a=new Fj(n),o=function(n,r){i.runAsync(null,(function(){e===s5&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),a.receive(u5(i,n,r))}))};if("timer"===e)f5(i,"timer",t)&&i.timer(o,t);else if(e===s5)f5(i,"view",t)&&i.addEventListener(t,o,c5);else if("window"===e?f5(i,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&f5(i,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var u=0,s=r.length;u<s;++u)r[u].addEventListener(t,o);l5(i,r,t,o)}else i.warn("Can not resolve event source: "+e);return a},finalize:function(){var e,t,n,r=this._tooltip,i=this._timers,a=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",d5),h5,p5(e)),this.on(this.events("view","mouseout",d5),h5,p5(t)),this},data:function(e,t){return arguments.length<2?t5(this,e).values.value:n5.call(this,e,Ej().remove(nk).insert(t))},change:n5,insert:function(e,t){return n5.call(this,e,Ej().insert(t))},remove:function(e,t){return n5.call(this,e,Ej().remove(t))},scale:function(e){var t=this._runtime.scales;return Xk(t,e)||K_("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){var n=this,r=n._renderType,i=n._eventConfig.bind,a=KH(r);e=n._el=e?S5(n,e,!0):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Z3(t,e.description()))}(n),a||n.error("Unrecognized renderer type: "+r);var o=a.handler||JW,u=e?a.renderer:a.headless;return n._renderer=u?E5(n,n._renderer,e,u):null,n._handler=function(e,t,n,r){var i=new r(e.loader(),O5(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,a5(e),e);return t&&t.handlers().forEach((function(e){i.on(e.type,e.handler)})),i}(n,n._handler,e,o),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=S5(n,t,!0):e.appendChild(v5("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==i&&(e.element=S5(n,e.param.element,!!e.param.input))})),n._bind.forEach((function(e){!function(e,t,n){if(t){var r=n.param,i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:function(t){t!=e.signal(r.signal)&&e.runAsync(null,(function(){i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=$k(r.debounce,i.update))),(null==r.input&&r.element?m5:g5)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0)}}(n,e.element||t,e)}))),n},toImageURL:function(e,t){return T5.apply(this,arguments)},toCanvas:function(e,t){return P5.apply(this,arguments)},toSVG:function(e){return M5.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:U5,signals:q5,recurse:!0})},setState:function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this}});var Q5,Z5,J5="[",e6="]",t6=/[[\]{}]/,n6={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function r6(e,t,n){return Q5=t||"view",Z5=n||n6,a6(e.trim()).map(o6)}function i6(e,t,n,r,i){for(var a,o=e.length,u=0;t<o;++t){if(a=e[t],!u&&a===n)return t;i&&i.indexOf(a)>=0?--u:r&&r.indexOf(a)>=0&&++u}return t}function a6(e){for(var t=[],n=e.length,r=0,i=0;i<n;)i=i6(e,i,",","[{","]}"),t.push(e.substring(r,i).trim()),r=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function o6(e){return"["===e[0]?function(e){var t,n=e.length,r=1;if((r=i6(e,r,e6,J5,e6))===n)throw"Empty between selector: "+e;if(2!==(t=a6(e.substring(1,r))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+e;t=t.map(o6);var i=o6(e.slice(1).trim());if(i.between)return{between:t,stream:i};i.between=t;return i}(e):function(e){var t,n,r={source:Q5},i=[],a=[0,0],o=0,u=0,s=e.length,c=0;if("}"===e[s-1]){if(!((c=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{a=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(c+1,s-1))}catch(Awe){throw"Invalid throttle specification: "+e}s=(e=e.slice(0,c).trim()).length,c=0}if(!s)throw e;"@"===e[0]&&(o=++c);(t=i6(e,c,":"))<s&&(i.push(e.substring(u,t).trim()),u=c=++t);if((c=i6(e,c,J5))===s)i.push(e.substring(u,s).trim());else if(i.push(e.substring(u,c).trim()),n=[],(u=++c)===s)throw"Unmatched left bracket: "+e;for(;c<s;){if((c=i6(e,c,e6))===s)throw"Unmatched left bracket: "+e;if(n.push(e.substring(u,c).trim()),c<s-1&&e[++c]!==J5)throw"Expected left bracket: "+e;u=++c}if(!(s=i.length)||t6.test(i[s-1]))throw"Invalid event selector: "+e;s>1?(r.type=i[1],o?r.markname=i[0].slice(1):!function(e){return Z5[e]}(i[0])?r.source=i[0]:r.marktype=i[0]):r.type=i[0];"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);a[0]&&(r.throttle=a[0]);a[1]&&(r.debounce=a[1]);return r}(e)}function u6(e){return dk(e)?e:{type:e||"pad"}}var s6=function(e){return+e||0};function c6(e){return dk(e)?e.signal?e:{top:s6(e.top),bottom:s6(e.bottom),left:s6(e.left),right:s6(e.right)}:{top:t=s6(e),bottom:t,left:t,right:t};var t}var l6=function(e){return dk(e)&&!fk(e)?Vk({},e):{value:e}};function f6(e,t,n,r){return null!=n?(dk(n)&&!fk(n)||fk(n)&&n.length&&dk(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function d6(e,t,n){for(var r in t)f6(e,r,t[r]);for(var i in n)f6(e,i,n[i],"update")}function h6(e,t,n){for(var r in t)n&&Xk(n,r)||(e[r]=Vk(e[r]||{},t[r]));return e}function p6(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var v6="mark",m6="frame",g6="scope",y6="legend-label",b6="title-text",x6="title-subtitle";function w6(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}var _6=function(e){return uE(e)?vE(e):e.signal?"(".concat(e.signal,")"):S6(e)};function k6(e){if(null!=e.gradient)return function(e){var t=[e.start,e.stop,e.count].map((function(e){return null==e?null:vE(e)}));for(;t.length&&null==gk(t);)t.pop();return t.unshift(_6(e.gradient)),"gradient(".concat(t.join(","),")")}(e);var t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?E6("hcl",e.h,e.c,e.l):e.h||e.s?E6("hsl",e.h,e.s,e.l):e.l||e.a?E6("lab",e.l,e.a,e.b):e.r||e.g||e.b?E6("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?S6(e.field):void 0!==e.value?vE(e.value):void 0;return null!=e.scale&&(t=function(e,t){var n=_6(e.scale);null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1===+e.band?"":"*"+O6(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat(O6(e.exponent),")")),null!=e.mult&&(t+="*".concat(O6(e.mult))),null!=e.offset&&(t+="+".concat(O6(e.offset))),e.round&&(t="round(".concat(t,")")),t}var E6=function(e,t,n,r){return"(".concat(e,"(").concat([t,n,r].map(k6).join(","),")+'')")};function O6(e){return dk(e)?"("+k6(e)+")":e}function S6(e){return A6(dk(e)?e:{datum:e})}function A6(e){var t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):K_("Invalid field reference: "+vE(e));return e.signal||(r=uE(r)?X_(r).map(vE).join("]["):A6(r)),t+"["+r+"]"}function C6(e,t,n,r,i,a){var o={};for(var u in(a=a||{}).encoders={$encode:o},e=function(e,t,n,r,i){var a,o,u,s={},c={};for(o in o="lineBreak","text"!==t||null==i[o]||p6(o,e)||w6(s,o,i[o]),("legend"==n||String(n).startsWith("axis"))&&(n=null),u=n===m6?i.group:n===v6?Vk({},i.mark,i[t]):null)p6(o,e)||("fill"===o||"stroke"===o)&&(p6("fill",e)||p6("stroke",e))||w6(s,o,u[o]);for(o in Rk(r).forEach((function(t){var n=i.style&&i.style[t];for(var r in n)p6(r,e)||w6(s,r,n[r])})),e=Vk({},e),s)(u=s[o]).signal?(a=a||{})[o]=u:c[o]=u;return e.enter=Vk(c,e.enter),a&&(e.update=Vk(a,e.update)),e}(e,t,n,r,i.config),e)o[u]=D6(e[u],t,a,i);return a}function D6(e,t,n,r){var i,a={},o={};for(var u in e)null!=e[u]&&(a[u]=j6((i=e[u],fk(i)?function(e){var t="";return e.forEach((function(e){var n=k6(e);t+=e.test?"(".concat(e.test,")?").concat(n,":"):n})),":"===gk(t)&&(t+="null"),t}(i):k6(i)),r,n,o));return{$expr:{marktype:t,channels:a},$fields:Object.keys(o),$output:Object.keys(e)}}function j6(e,t,n,r){var i=L3(e,t);return i.$fields.forEach((function(e){return r[e]=1})),Vk(n,i.$params),i.$expr}var T6=["value","update","init","react","bind"];function F6(e,t){K_(e+' for "outer" push: '+vE(t))}function P6(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||F6("No prior signal definition",n),T6.forEach((function(t){void 0!==e[t]&&F6("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function M6(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function N6(e,t,n,r){return new M6(e,t,n,r)}function R6(e,t){return N6("operator",e,t)}function I6(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function B6(e,t){return t?{$field:e,$name:t}:{$field:e}}var z6=B6("key");function L6(e,t){return{$compare:e,$order:t}}function U6(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var q6="scope",W6="view";function H6(e){return e&&e.signal}function $6(e){if(H6(e))return!0;if(dk(e))for(var t in e)if($6(e[t]))return!0;return!1}function V6(e,t){return null!=e?e:t}function G6(e){return e&&e.signal||e}var Y6="timer";function K6(e,t){return(e.merge?X6:e.stream?Q6:e.type?Z6:K_("Invalid stream specification: "+vE(e)))(e,t)}function X6(e,t){var n=e.merge.map((function(e){return K6(e,t)})),r=J6({merge:n},e,t);return t.addStream(r).id}function Q6(e,t){var n=J6({stream:K6(e.stream,t)},e,t);return t.addStream(n).id}function Z6(e,t){var n;e.type===Y6?(n=t.event(Y6,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(function(e){return e===q6?W6:e||W6}(e.source),e.type);var r=J6({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function J6(e,t,n){var r=t.between;return r&&(2!==r.length&&K_('Stream "between" parameter must have 2 entries: '+vE(t)),e.between=[K6(r[0],n),K6(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===q6&&r.push("inScope(event.item)"),r.length&&(e.filter=L3("("+r.join(")&&(")+")",n).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var e4={code:"_.$value",ast:{type:"Identifier",value:"value"}};function t4(e,t,n){var r=e.encode,i={target:n},a=e.events,o=e.update,u=[];a||K_("Signal update missing events specification."),uE(a)&&(a=r6(a,t.isSubscope()?q6:W6)),a=Rk(a).filter((function(e){return e.signal||e.scale?(u.push(e),0):1})),u.length>1&&(u=[n4(u)]),a.length&&u.push(a.length>1?{merge:a}:a[0]),null!=r&&(o&&K_("Signal encode and update are mutually exclusive."),o="encode(item(),"+vE(r)+")"),i.update=uE(o)?L3(o,t):null!=o.expr?L3(o.expr,t):null!=o.value?o.value:null!=o.signal?{$expr:e4,$params:{$value:t.signalRef(o.signal)}}:K_("Invalid signal update specification."),e.force&&(i.options={force:!0}),u.forEach((function(e){return t.addUpdate(Vk(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):K6(e,t)}}(e,t),i))}))}function n4(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}var r4=function(e){return function(t,n,r){return N6(e,n,t||void 0,r)}},i4=r4("aggregate"),a4=r4("axisticks"),o4=r4("bound"),u4=r4("collect"),s4=r4("compare"),c4=r4("datajoin"),l4=r4("encode"),f4=r4("expression"),d4=r4("facet"),h4=r4("field"),p4=r4("key"),v4=r4("legendentries"),m4=r4("load"),g4=r4("mark"),y4=r4("multiextent"),b4=r4("multivalues"),x4=r4("overlap"),w4=r4("params"),_4=r4("prefacet"),k4=r4("projection"),E4=r4("proxy"),O4=r4("relay"),S4=r4("render"),A4=r4("scale"),C4=r4("sieve"),D4=r4("sortitems"),j4=r4("viewlayout"),T4=r4("values"),F4=0,P4={min:"min",max:"max",count:"sum"};function M4(e,t){var n,r=t.getScale(e.name).params;for(n in r.domain=B4(e.domain,e,t),null!=e.range&&(r.range=V4(e,t,r)),null!=e.interpolate&&function(e,t){t.interpolate=N4(e.type||e),null!=e.gamma&&(t.interpolateGamma=N4(e.gamma))}(e.interpolate,r),null!=e.nice&&(r.nice=function(e){return dk(e)?{interval:N4(e.interval),step:N4(e.step)}:N4(e)}(e.nice)),null!=e.bins&&(r.bins=function(e,t){return e.signal||fk(e)?R4(e,t):t.objectProperty(e)}(e.bins,t)),e)Xk(r,n)||"name"===n||(r[n]=N4(e[n],t))}function N4(e,t){return dk(e)?e.signal?t.signalRef(e.signal):K_("Unsupported object: "+vE(e)):e}function R4(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return N4(e,t)}))}function I4(e){K_("Can not find data set: "+vE(e))}function B4(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(fk(e)?z4:e.fields?U4:L4)(e,t,n);null==t.domainMin&&null==t.domainMax||K_("No scale domain defined for domainMin/domainMax to override.")}function z4(e,t,n){return e.map((function(e){return N4(e,n)}))}function L4(e,t,n){var r=n.getData(e.data);return r||I4(e.data),Wz(t.type)?r.valuesRef(n,e.field,W4(e.sort,!1)):Gz(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function U4(e,t,n){var r=e.data,i=e.fields.reduce((function(e,t){return t=uE(t)?{data:r,field:t}:fk(t)||t.signal?function(e,t){var n="_:vega:_"+F4++,r=u4({});if(fk(e))r.value={$ingest:e};else if(e.signal){var i="setdata("+vE(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,C4({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Wz(t.type)?q4:Gz(t.type)?H4:$4)(e,n,i)}function q4(e,t,n){var r,i,a=W4(e.sort,!0),o=n.map((function(e){var n=t.getData(e.data);return n||I4(e.data),n.countsRef(t,e.field,a)})),u={groupby:z6,pulse:o};a&&(r=a.op||"count",i=a.field?U6(r,a.field):"count",u.ops=[P4[r]],u.fields=[t.fieldRef(i)],u.as=[i]),r=t.add(i4(u));var s=t.add(u4({pulse:I6(r)}));return i=t.add(T4({field:z6,sort:t.sortRef(a),pulse:I6(s)})),I6(i)}function W4(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!P4[e.op]&&K_("Multiple domain scales can not be sorted using "+e.op):K_("No field provided for sort aggregate op: "+e.op):dk(e)?e.field="key":e={field:"key"}),e}function H4(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||I4(e.data),n.domainRef(t,e.field)}));return I6(t.add(b4({values:r})))}function $4(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||I4(e.data),n.extentRef(t,e.field)}));return I6(t.add(y4({extents:r})))}function V4(e,t,n){var r=t.config.range,i=e.range;if(i.signal)return t.signalRef(i.signal);if(uE(i)){if(r&&Xk(r,i))return V4(e=Vk({},e,{range:r[i]}),t,n);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=Wz(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:K_("Unrecognized scale range value: "+vE(i))}else{if(i.scheme)return n.scheme=fk(i.scheme)?R4(i.scheme,t):N4(i.scheme,t),i.extent&&(n.schemeExtent=R4(i.extent,t)),void(i.count&&(n.schemeCount=N4(i.count,t)));if(i.step)return void(n.rangeStep=N4(i.step,t));if(Wz(e.type)&&!fk(i))return B4(i,e,t);fk(i)||K_("Unsupported range type: "+vE(i))}return i.map((function(e){return(fk(e)?R4:N4)(e,t)}))}function G4(e,t,n){return fk(e)?e.map((function(e){return G4(e,t,n)})):dk(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:K_("Unsupported parameter object: "+vE(e)):e}var Y4="top",K4="left",X4="right",Q4="bottom",Z4="center",J4="index",e8="label",t8="perc",n8="value",r8="guide-label",i8="guide-title",a8="group-title",o8="group-subtitle",u8="symbol",s8="gradient",c8="discrete",l8="size",f8=[l8,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],d8={name:1,style:1,interactive:1},h8={value:0},p8={value:1},v8="group",m8="rect",g8="rule",y8="text";function b8(e){return e.type=v8,e.interactive=e.interactive||!1,e}function x8(e,t){var n=function(n,r){return V6(e[n],V6(t[n],r))};return n.isVertical=function(n){return"vertical"===V6(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return V6(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return V6(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return V6(e.columns,V6(t.columns,+n.isVertical(!0)))},n}function w8(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function _8(e,t,n){return"item.anchor === '".concat("start","' ? ").concat(e," : item.anchor === '").concat("end","' ? ").concat(t," : ").concat(n)}var k8=_8(vE(K4),vE(X4),vE(Z4));function E8(e,t){return t?e?dk(e)?Object.assign({},e,{offset:E8(e.offset,t)}):{value:e,offset:t}:t:e}function O8(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=h6(e.encode,t,d8)):e.interactive=!1,e}function S8(e,t,n,r){var i,a,o,u,s,c=x8(e,n),l=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength();l?(a=[0,1],o=[0,0],u=f,s=d):(a=[0,0],o=[1,0],u=d,s=f);var h={enter:i={opacity:h8,x:h8,y:h8,width:l6(u),height:l6(s)},update:Vk({},i,{opacity:p8,fill:{gradient:t,start:a,stop:o}}),exit:{opacity:h8}};return d6(h,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),O8({type:m8,role:"legend-gradient",encode:h},r)}function A8(e,t,n,r,i){var a,o,u,s,c=x8(e,n),l=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength(),h="";l?(a="y",u="y2",o="x",s="width",h="1-"):(a="x",u="x2",o="y",s="height");var p={opacity:h8,fill:{scale:t,field:n8}};p[a]={signal:h+"datum."+t8,mult:d},p[o]=h8,p[u]={signal:h+"datum.perc2",mult:d},p[s]=l6(f);var v={enter:p,update:Vk({},p,{opacity:p8}),exit:{opacity:h8}};return d6(v,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),O8({type:m8,role:"legend-band",key:n8,from:i,encode:v},r)}var C8="datum.".concat(t8,'<=0?"').concat(K4,'":datum.').concat(t8,'>=1?"').concat(X4,'":"').concat(Z4,'"'),D8="datum.".concat(t8,'<=0?"').concat(Q4,'":datum.').concat(t8,'>=1?"').concat(Y4,'":"').concat("middle",'"');function j8(e,t,n,r){var i,a,o,u,s=x8(e,t),c=s.isVertical(),l=l6(s.gradientThickness()),f=s.gradientLength(),d=s("labelOverlap"),h="",p={enter:i={opacity:h8},update:a={opacity:p8,text:{field:e8}},exit:{opacity:h8}};return d6(p,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:V6(e.labelLimit,t.gradientLabelLimit)}),c?(i.align={value:"left"},i.baseline=a.baseline={signal:D8},o="y",u="x",h="1-"):(i.align=a.align={signal:C8},i.baseline={value:"top"},o="x",u="y"),i[o]=a[o]={signal:h+"datum."+t8,mult:f},i[u]=a[u]=l,l.offset=V6(e.labelOffset,t.gradientLabelOffset)||0,d=d?{separation:s("labelSeparation"),method:d,order:"datum.index"}:void 0,O8({type:y8,role:y6,style:r8,key:n8,from:r,encode:p,overlap:d},n)}function T8(e,t,n,r,i){var a,o,u,s,c,l=x8(e,t),f=n.entries,d=!(!f||!f.interactive),h=f?f.name:void 0,p=l("clipHeight"),v=l("symbolOffset"),m={data:"value"},g="(".concat(i,") ? datum.").concat("offset"," : datum.").concat(l8),y=p?l6(p):{field:l8},b="datum.".concat(J4),x="max(1, ".concat(i,")");y.mult=.5,a={enter:o={opacity:h8,x:{signal:g,mult:.5,offset:v},y:y},update:u={opacity:p8,x:o.x,y:o.y},exit:{opacity:h8}};var w=null,_=null;e.fill||(w=t.symbolBaseFillColor,_=t.symbolBaseStrokeColor),d6(a,{fill:l("symbolFillColor",w),shape:l("symbolType"),size:l("symbolSize"),stroke:l("symbolStrokeColor",_),strokeDash:l("symbolDash"),strokeDashOffset:l("symbolDashOffset"),strokeWidth:l("symbolStrokeWidth")},{opacity:l("symbolOpacity")}),f8.forEach((function(t){e[t]&&(u[t]=o[t]={scale:e[t],field:n8})}));var k=O8({type:"symbol",role:"legend-symbol",key:n8,from:m,clip:!!p||void 0,encode:a},n.symbols),E=l6(v);E.offset=l("labelOffset"),d6(a={enter:o={opacity:h8,x:{signal:g,offset:E},y:y},update:u={opacity:p8,text:{field:e8},x:o.x,y:o.y},exit:{opacity:h8}},{align:l("labelAlign"),baseline:l("labelBaseline"),fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:l("labelLimit")});var O=O8({type:y8,role:y6,style:r8,key:n8,from:m,encode:a},n.labels);return a={enter:{noBound:{value:!p},width:h8,height:p?l6(p):h8,opacity:h8},exit:{opacity:h8},update:u={opacity:p8,row:{signal:null},column:{signal:null}}},l.isVertical(!0)?(s="ceil(item.mark.items.length / ".concat(x,")"),u.row.signal="".concat(b,"%").concat(s),u.column.signal="floor(".concat(b," / ").concat(s,")"),c={field:["row",b]}):(u.row.signal="floor(".concat(b," / ").concat(x,")"),u.column.signal="".concat(b," % ").concat(x),c={field:b}),u.column.signal="(".concat(i,")?").concat(u.column.signal,":").concat(b),b8({role:g6,from:r={facet:{data:r,name:"value",groupby:J4}},encode:h6(a,f,d8),marks:[k,O],name:h,interactive:d,sort:c})}var F8='item.orient === "left"',P8='item.orient === "right"',M8="(".concat(F8," || ").concat(P8,")"),N8="datum.vgrad && ".concat(M8),R8=_8('"top"','"bottom"','"middle"'),I8=_8('"right"','"left"','"center"'),B8="datum.vgrad && ".concat(P8," ? (").concat(I8,") : (").concat(M8," && !(datum.vgrad && ").concat(F8,')) ? "left" : ').concat(k8),z8="item._anchor || (".concat(M8,' ? "middle" : "start")'),L8="".concat(N8," ? (").concat(F8," ? -90 : 90) : 0"),U8="".concat(M8," ? (datum.vgrad ? (").concat(P8,' ? "bottom" : "top") : ').concat(R8,') : "top"');function q8(e,t){var n;return dk(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+W8(e.path)+")":e.sphere&&(n="geoShape("+W8(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function W8(e){return dk(e)&&e.signal?e.signal:vE(e)}function H8(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===v8?g6:t||v6:t}function $8(e){return{marktype:e.type,name:e.name||void 0,role:e.role||H8(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function V8(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function G8(e,t){var n=nT(e.type);n||K_("Unrecognized transform type: "+vE(e.type));var r=N6(n.type.toLowerCase(),null,Y8(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Y8(e,t,n){for(var r={},i=e.params.length,a=0;a<i;++a){var o=e.params[a];r[o.name]=K8(o,t,n)}return r}function K8(e,t,n){var r=e.type,i=t[e.name];return"index"===r?function(e,t,n){uE(t.from)||K_('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(fk(r)||K_("Expected an array of sub-parameters. Instead: "+vE(r)),r.map((function(t){return Q8(e,t,n)}))):Q8(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!H6(i)?i.map((function(t){return X8(e,t,n)})):X8(e,i,n):void(e.required&&K_("Missing required "+vE(t.type)+" parameter: "+vE(e.name)))}function X8(e,t,n){var r=e.type;if(H6(t))return t9(r)?K_("Expression references can not be signals."):n9(r)?n.fieldRef(t):r9(r)?n.compareRef(t):n.signalRef(t.signal);var i=e.expr||n9(r);return i&&Z8(t)?n.exprRef(t.expr,t.as):i&&J8(t)?B6(t.field,t.as):t9(r)?L3(t,n):e9(r)?I6(n.getData(t).values):n9(r)?B6(t):r9(r)?n.compareRef(t):t}function Q8(e,t,n){for(var r,i=e.params.length,a=0;a<i;++a){for(var o in(r=e.params[a]).key)if(r.key[o]!==t[o]){r=null;break}if(r)break}r||K_("Unsupported parameter: "+vE(t));var u=Vk(Y8(r,t,n),r.key);return I6(n.add(w4(u)))}var Z8=function(e){return e&&e.expr},J8=function(e){return e&&e.field},e9=function(e){return"data"===e},t9=function(e){return"expr"===e},n9=function(e){return"field"===e},r9=function(e){return"compare"===e};function i9(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:I6(t.getData(e.data).output)}function a9(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function o9(e){return uE(e)?e:null}function u9(e,t,n){var r,i=U6(n.op,n.field);if(t.ops){for(var a=0,o=t.as.length;a<o;++a)if(t.as[a]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function s9(e,t,n,r,i,a,o){var u,s,c=t[n]||(t[n]={}),l=function(e){return dk(e)?("descending"===e.order?"-":"+")+U6(e.op,e.field):""}(a),f=o9(i);if(null!=f&&(e=t.scope,u=c[f+=l?"|"+l:""]),!u){var d=a?{field:z6,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:I6(t.output)};l&&(d.sort=e.sortRef(a)),s=e.add(N6(r,void 0,d)),o&&(t.index[i]=s),u=I6(s),null!=f&&(c[f]=u)}return u}function c9(e,t,n){var r=e.remove,i=e.insert,a=e.toggle,o=e.modify,u=e.values,s=t.add(R6()),c=L3("if("+e.trigger+',modify("'+n+'",'+[i,r,a,o,u].map((function(e){return null==e?"null":e})).join(",")+"),0)",t);s.update=c.$expr,s.params=c.$params}function l9(e,t){var n,r,i,a,o,u,s,c=H8(e),l=e.type===v8,f=e.from&&e.from.facet,d=e.overlap,h=e.layout||c===g6||c===m6,p=c===v6||h||f,v=function(e,t,n){var r,i,a,o,u;return e?(r=e.facet)&&(t||K_("Only group marks can be faceted."),null!=r.field?o=u=i9(r,n):(e.data?u=I6(n.getData(e.data).aggregate):((a=G8(Vk({type:"aggregate",groupby:Rk(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),a.params.pulse=i9(r,n),o=u=I6(n.add(a))),i=n.keyRef(r.groupby,!0))):o=I6(n.add(u4(null,[{}]))),o||(o=i9(e,n)),{key:i,pulse:o,parent:u}}(e.from,l,t),m=I6(r=t.add(c4({key:v.key||(e.key?B6(e.key):void 0),pulse:v.pulse,clean:!l})));r=i=t.add(u4({pulse:m})),r=t.add(g4({markdef:$8(e),interactive:V8(e.interactive,t),clip:q8(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:I6(r)}));var g=I6(r);(r=a=t.add(l4(C6(e.encode,e.type,c,e.style,t,{mod:!1,pulse:g})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=G8(e,t),i=n.metadata;(i.generates||i.changes)&&K_("Mark transforms should not generate new data."),i.nomod||(a.params.mod=!0),n.params.pulse=I6(r),t.add(r=n)})),e.sort&&(r=t.add(D4({sort:t.compareRef(e.sort),pulse:I6(r)})));var y=I6(r);(f||h)&&(u=I6(h=t.add(j4({layout:t.objectProperty(e.layout),legends:t.legends,mark:g,pulse:y}))));var b=t.add(o4({mark:g,pulse:u||y}));s=I6(b),l&&(p&&((n=t.operators).pop(),h&&n.pop()),t.pushState(y,u||s,m),f?function(e,t,n){var r,i=e.from.facet,a=i.name,o=i9(i,t);i.name||K_("Facet must have a name: "+vE(i)),i.data||K_("Facet must reference a data set: "+vE(i)),i.field?r=t.add(_4({field:t.fieldRef(i.field),pulse:o})):i.groupby?r=t.add(d4({key:t.keyRef(i.groupby),group:I6(t.proxy(n.parent)),pulse:o})):K_("Facet must specify groupby or field: "+vE(i));var u=t.fork(),s=u.add(u4()),c=u.add(C4({pulse:I6(s)}));u.addData(a,new a9(u,s,s,c)),u.addSignal("parent",null),r.params.subflow={$subflow:u.parse(e).toRuntime()}}(e,t,v):p?function(e,t,n){var r=t.add(_4({pulse:n.pulse})),i=t.fork();i.add(C4()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}(e,t,v):t.parse(e),t.popState(),p&&(h&&n.push(h),n.push(b))),d&&(s=function(e,t,n){var r=e.method,i=e.bound,a=e.separation,o={separation:H6(a)?n.signalRef(a.signal):a,method:H6(r)?n.signalRef(r.signal):r,pulse:t};e.order&&(o.sort=n.compareRef({field:e.order}));if(i){var u=i.tolerance;o.boundTolerance=H6(u)?n.signalRef(u.signal):+u,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return I6(n.add(x4(o)))}(d,s,t));var x=t.add(S4({pulse:s})),w=t.add(C4({pulse:I6(x)},void 0,t.parent()));null!=e.name&&(o=e.name,t.addData(o,new a9(t,i,x,w)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&K_("Marks only support modify triggers."),c9(e,t,o)})))}function f9(e,t){var n,r,i,a=t.config.legend,o=e.encode||{},u=x8(e,a),s=o.legend||{},c=s.name||void 0,l=s.interactive,f=s.style,d={},h=0;f8.forEach((function(t){return e[t]?(d[t]=e[t],h=h||e[t]):0})),h||K_("Missing valid scale for legend.");var p=function(e,t){var n=e.type||u8;e.type||1!==function(e){return f8.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=qz(t)?s8:Hz(t)?c8:u8);return n!==s8?n:Hz(t)?c8:s8}(e,t.scaleType(h)),v={title:null!=e.title,scales:d,type:p,vgrad:"symbol"!==p&&u.isVertical()},m=I6(t.add(u4(null,[v]))),g=I6(t.add(v4(r={type:p,scale:t.scaleRef(h),count:t.objectProperty(u("tickCount")),limit:t.property(u("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===s8?(i=[S8(e,h,a,o.gradient),j8(e,a,o.labels,g)],r.count=r.count||t.signalRef("max(2,2*floor((".concat(G6(u.gradientLength()),")/100))"))):p===c8?i=[A8(e,h,a,o.gradient,g),j8(e,a,o.labels,g)]:(n=function(e,t){var n=x8(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,a),i=[T8(e,a,o,g,G6(n.columns))],r.size=function(e,t,n){var r=G6(h9("size",e,n)),i=G6(h9("strokeWidth",e,n)),a=G6(function(e,t,n){return w8("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,r8));return L3("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(a,")"),t)}(e,t,i[0].marks)),i=[b8({role:"legend-entry",from:m,encode:{enter:{x:{value:0},y:{value:0}}},marks:i,layout:n,interactive:l})],v.title&&i.push(function(e,t,n,r){var i=x8(e,t),a={enter:{opacity:h8},update:{opacity:p8,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:h8}};return d6(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:z8},angle:{signal:L8},align:{signal:B8},baseline:{signal:U8},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),O8({type:y8,role:"legend-title",style:i8,from:r,encode:a},n)}(e,a,o.title,m)),l9(b8({role:"legend",from:m,encode:h6(d9(u,e,a),s,d8),marks:i,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:c,interactive:l,style:f}),t)}function d9(e,t,n){var r={enter:{},update:{}};return d6(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function h9(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):w8(e,n[0].encode)}a9.fromEntries=function(e,t){var n=t.length,r=t[n-1],i=t[n-2],a=t[0],o=null,u=1;for(a&&"load"===a.type&&(a=t[1]),e.add(t[0]);u<n;++u)t[u].params.pulse=I6(t[u-1]),e.add(t[u]),"aggregate"===t[u].type&&(o=t[u]);return new a9(e,a,i,r,o)},a9.prototype={countsRef:function(e,t,n){var r,i,a,o=this,u=o.counts||(o.counts={}),s=o9(t);return null!=s&&(e=o.scope,r=u[s]),r?n&&n.field&&u9(e,r.agg.params,n):(a={groupby:e.fieldRef(t,"key"),pulse:I6(o.output)},n&&n.field&&u9(e,a,n),i=e.add(i4(a)),r=e.add(u4({pulse:I6(i)})),r={agg:i,ref:I6(r)},null!=s&&(u[s]=r)),r.ref},tuplesRef:function(){return I6(this.values)},extentRef:function(e,t){return s9(e,this,"extent","extent",t,!1)},domainRef:function(e,t){return s9(e,this,"domain","values",t,!1)},valuesRef:function(e,t,n){return s9(e,this,"vals","values",t,n||!0)},lookupRef:function(e,t){return s9(e,this,"lookup","tupleindex",t,!1)},indataRef:function(e,t){return s9(e,this,"indata","tupleindex",t,!0,!0)}};var p9='item.orient==="'.concat(K4,'"?-90:item.orient==="').concat(X4,'"?90:0');function v9(e,t){var n=x8(e=uE(e)?{text:e}:e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,o=i.interactive,u=i.style,s=[],c=I6(t.add(u4(null,[{}])));return s.push(function(e,t,n,r){var i={value:0},a=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return d6(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),O8({type:y8,role:b6,style:a8,from:r,encode:o},n)}(e,n,function(e){var t=e.encode;return t&&t.title||Vk({name:e.name,interactive:e.interactive,style:e.style},t)}(e),c)),e.subtitle&&s.push(function(e,t,n,r){var i={value:0},a=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return d6(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),O8({type:y8,role:x6,style:o8,from:r,encode:o},n)}(e,n,r.subtitle,c)),l9(b8({role:"title",from:c,encode:m9(n,i),marks:s,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:o,style:u}),t)}function m9(e,t){var n={enter:{},update:{}};return d6(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:k8},angle:{signal:p9},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),h6(n,t,d8)}function g9(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(G8(e,t))})),e.on&&e.on.forEach((function(n){c9(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,a,o,u,s=[],c=null,l=!1,f=!1;e.values?H6(e.values)||$6(e.format)?(s.push(b9(t,e)),s.push(c=y9())):s.push(c=y9({$ingest:e.values,$format:e.format})):e.url?$6(e.url)||$6(e.format)?(s.push(b9(t,e)),s.push(c=y9())):s.push(c=y9({$request:e.url,$format:e.format})):e.source&&(c=r=Rk(e.source).map((function(e){return I6(t.getData(e).output)})),s.push(null));for(i=0,a=n.length;i<a;++i)u=(o=n[i]).metadata,c||u.source||s.push(c=y9()),s.push(o),u.generates&&(f=!0),u.modifies&&!f&&(l=!0),u.source?c=o:u.changes&&(c=null);r&&(a=r.length-1,s[0]=O4({derive:l,pulse:a?r:r[0]}),(l||a)&&s.splice(1,0,y9()));c||s.push(y9());return s.push(C4({})),s}(e,t,n))}function y9(e){var t=u4({},e);return t.metadata={source:!0},t}function b9(e,t){return m4({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}var x9=function(e){return e===Q4||e===Y4},w9=function(e,t,n){return H6(e)?A9(e.signal,t,n):e===K4||e===Y4?t:n},_9=function(e,t,n){return H6(e)?O9(e.signal,t,n):x9(e)?t:n},k9=function(e,t,n){return H6(e)?S9(e.signal,t,n):x9(e)?n:t},E9=function(e,t,n){return H6(e)?C9(e.signal,t,n):e===Y4?{value:t}:{value:n}},O9=function(e,t,n){return j9("".concat(e," === '").concat(Y4,"' || ").concat(e," === '").concat(Q4,"'"),t,n)},S9=function(e,t,n){return j9("".concat(e," !== '").concat(Y4,"' && ").concat(e," !== '").concat(Q4,"'"),t,n)},A9=function(e,t,n){return F9("".concat(e," === '").concat(K4,"' || ").concat(e," === '").concat(Y4,"'"),t,n)},C9=function(e,t,n){return F9("".concat(e," === '").concat(Y4,"'"),t,n)},D9=function(e,t,n){return F9("".concat(e," === '").concat(X4,"'"),t,n)},j9=function(e,t,n){return t=null!=t?l6(t):t,n=null!=n?l6(n):n,T9(t)&&T9(n)?(t=t?t.signal||vE(t.value):null,n=n?n.signal||vE(n.value):null,{signal:"".concat(e," ? (").concat(t,") : (").concat(n,")")}):[Vk({test:e},t)].concat(n||[])},T9=function(e){return null==e||1===Object.keys(e).length},F9=function(e,t,n){return{signal:"".concat(e," ? (").concat(M9(t),") : (").concat(M9(n),")")}},P9=function(e,t,n,r,i){return{signal:(null!=r?"".concat(e," === '").concat(K4,"' ? (").concat(M9(r),") : "):"")+(null!=n?"".concat(e," === '").concat(Q4,"' ? (").concat(M9(n),") : "):"")+(null!=i?"".concat(e," === '").concat(X4,"' ? (").concat(M9(i),") : "):"")+(null!=t?"".concat(e," === '").concat(Y4,"' ? (").concat(M9(t),") : "):"")+"(null)"}},M9=function(e){return H6(e)?e.signal:null==e?null:vE(e)},N9=function(e,t){var n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function R9(e,t,n,r){var i;if(t&&Xk(t,e))return t[e];if(Xk(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r["guide-title"][i]}if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r["guide-label"][i]}return null}function I9(e){var t,n={},r=nu(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i)for(var a in i)n[a]=1}}catch(o){r.e(o)}finally{r.f()}return Object.keys(n)}function B9(e,t){return{scale:e.scale,range:t}}function z9(e,t,n,r,i){var a,o,u,s=x8(e,t),c=e.orient,l=e.gridScale,f=w9(c,1,-1),d=function(e,t){if(1===t);else if(dk(e)){for(var n=e=Vk({},e);null!=n.mult;){if(!dk(n.mult))return n.mult=H6(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=Vk({},n.mult)}n.mult=t}else e=H6(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,f),h={enter:a={opacity:h8},update:u={opacity:p8},exit:o={opacity:h8}};d6(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});var p={scale:e.scale,field:n8,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},v=_9(c,{signal:"height"},{signal:"width"}),m=l?{scale:l,range:0,mult:f,offset:d}:{value:0,offset:d},g=l?{scale:l,range:1,mult:f,offset:d}:Vk(v,{mult:f,offset:d});return a.x=u.x=_9(c,p,m),a.y=u.y=k9(c,p,m),a.x2=u.x2=k9(c,g),a.y2=u.y2=_9(c,g),o.x=_9(c,p),o.y=k9(c,p),O8({type:g8,role:"axis-grid",key:n8,from:r,encode:h},n)}function L9(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function U9(e,t,n,r,i,a){var o,u=x8(e,t),s=e.orient,c=e.scale,l=w9(s,-1,1),f=G6(u("labelFlush")),d=G6(u("labelFlushOffset")),h=u("labelAlign"),p=u("labelBaseline"),v=0===f||!!f,m=l6(i);m.mult=l,m.offset=l6(u("labelPadding")||0),m.offset.mult=l;var g={scale:c,field:n8,band:.5,offset:E8(a.offset,u("labelOffset"))},y=_9(s,v?L9(c,f,'"left"','"right"','"center"'):{value:"center"},function(e,t,n){return H6(e)?D9(e.signal,t,n):e===X4?{value:t}:{value:n}}(s,"left","right")),b=_9(s,E9(s,"bottom","top"),v?L9(c,f,'"top"','"bottom"','"middle"'):{value:"middle"}),x=L9(c,f,"-(".concat(d,")"),d,0);v=v&&d;var w={opacity:h8,x:_9(s,g,m),y:k9(s,g,m)},_={enter:w,update:o={opacity:p8,text:{field:e8},x:w.x,y:w.y,align:y,baseline:b},exit:{opacity:h8,x:w.x,y:w.y}};d6(_,{dx:!h&&v?_9(s,x):null,dy:!p&&v?k9(s,x):null}),d6(_,{angle:u("labelAngle"),fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontWeight:u("labelFontWeight"),fontStyle:u("labelFontStyle"),limit:u("labelLimit"),lineHeight:u("labelLineHeight")},{align:h,baseline:p});var k=u("labelBound"),E=u("labelOverlap");return E=E||k?{separation:u("labelSeparation"),method:E,order:"datum.index",bound:k?{scale:c,orient:s,tolerance:k}:null}:void 0,o.align!==y&&(o.align=N9(o.align,y)),o.baseline!==b&&(o.baseline=N9(o.baseline,b)),O8({type:y8,role:"axis-label",style:r8,key:n8,from:r,encode:_,overlap:E},n)}function q9(e,t,n,r){var i,a,o=x8(e,t),u=e.orient,s=w9(u,-1,1),c={enter:i={opacity:h8,anchor:l6(o("titleAnchor",null)),align:{signal:k8}},update:a=Vk({},i,{opacity:p8,text:l6(e.title)}),exit:{opacity:h8}},l={signal:'lerp(range("'.concat(e.scale,'"), ').concat(_8(0,1,.5),")")};return a.x=_9(u,l),a.y=k9(u,l),i.angle=_9(u,h8,function(e,t){return 0===t?0:H6(e)?{signal:"(".concat(e.signal,") * ").concat(t)}:{value:e*t}}(s,90)),i.baseline=_9(u,E9(u,Q4,Y4),{value:Q4}),a.angle=i.angle,a.baseline=i.baseline,d6(c,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),function(e,t,n,r){var i=function(e,t){return null!=e?(n.update[t]=N9(l6(e),n.update[t]),!1):!p6(t,r)},a=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===a?l6(o):_9(t,l6(o),l6(a))}(o,u,c,n),c.update.align=N9(c.update.align,i.align),c.update.angle=N9(c.update.angle,i.angle),c.update.baseline=N9(c.update.baseline,i.baseline),O8({type:y8,role:"axis-title",style:i8,from:r,encode:c},n)}function W9(e,t){var n,r=function(e,t){var n,r,i,a=t.config,o=a.style,u=a.axis,s="band"===t.scaleType(e.scale)&&a.axisBand,c=e.orient;if(H6(c)){var l=I9([a.axisX,a.axisY]),f=I9([a.axisTop,a.axisBottom,a.axisLeft,a.axisRight]);n={};var d,h=nu(l);try{for(h.s();!(d=h.n()).done;)n[i=d.value]=_9(c,R9(i,a.axisX,u,o),R9(i,a.axisY,u,o))}catch(m){h.e(m)}finally{h.f()}r={};var p,v=nu(f);try{for(v.s();!(p=v.n()).done;)r[i=p.value]=P9(c.signal,R9(i,a.axisTop,u,o),R9(i,a.axisBottom,u,o),R9(i,a.axisLeft,u,o),R9(i,a.axisRight,u,o))}catch(m){v.e(m)}finally{v.f()}}else n=c===Y4||c===Q4?a.axisX:a.axisY,r=a["axis"+c[0].toUpperCase()+c.slice(1)];return n||r||s?Vk({},u,n,r,s):u}(e,t),i=e.encode||{},a=i.axis||{},o=a.name||void 0,u=a.interactive,s=a.style,c=x8(e,r),l=function(e){var t,n,r=e("tickBand"),i=e("tickOffset");return r?r.signal?(t={signal:"(".concat(r.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(r.signal,") === 'extent'")},dk(i)||(i={signal:"(".concat(r.signal,") === 'extent' ? 0 : ").concat(i)})):"extent"===r?(t=1,n=!0,i=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:i}}(c),f={scale:e.scale,ticks:!!c("ticks"),labels:!!c("labels"),grid:!!c("grid"),domain:!!c("domain"),title:null!=e.title},d=I6(t.add(u4({},[f]))),h=I6(t.add(a4({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];return f.grid&&p.push(z9(e,r,i.grid,h,l)),f.ticks&&(n=c("tickSize"),p.push(function(e,t,n,r,i,a){var o,u,s,c=x8(e,t),l=e.orient,f=w9(l,-1,1),d={enter:o={opacity:h8},update:s={opacity:p8},exit:u={opacity:h8}};d6(d,{stroke:c("tickColor"),strokeCap:c("tickCap"),strokeDash:c("tickDash"),strokeDashOffset:c("tickDashOffset"),strokeOpacity:c("tickOpacity"),strokeWidth:c("tickWidth")});var h=l6(i);h.mult=f;var p={scale:e.scale,field:n8,band:a.band,extra:a.extra,offset:a.offset,round:c("tickRound")};return s.y=o.y=_9(l,h8,p),s.y2=o.y2=_9(l,h),u.x=_9(l,p),s.x=o.x=k9(l,h8,p),s.x2=o.x2=k9(l,h),u.y=k9(l,p),O8({type:g8,role:"axis-tick",key:n8,from:r,encode:d},n)}(e,r,i.ticks,h,n,l))),f.labels&&(n=f.ticks?n:0,p.push(U9(e,r,i.labels,h,n,l))),f.domain&&p.push(function(e,t,n,r){var i,a,o=x8(e,t),u=e.orient,s={enter:i={opacity:h8},update:a={opacity:p8},exit:{opacity:h8}};d6(s,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});var c=B9(e,0),l=B9(e,1);return i.x=a.x=_9(u,c,h8),i.x2=a.x2=_9(u,l),i.y=a.y=k9(u,c,h8),i.y2=a.y2=k9(u,l),O8({type:g8,role:"axis-domain",from:r,encode:s},n)}(e,r,i.domain,d)),f.title&&p.push(q9(e,r,i.title,d)),l9(b8({role:"axis",from:d,encode:h6(H9(c,e),a,d8),marks:p,aria:c("aria"),description:c("description"),zindex:c("zindex"),name:o,interactive:u,style:s}),t)}function H9(e,t){var n={enter:{},update:{}};return d6(n,{orient:e("orient"),offset:e("offset")||0,position:V6(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function $9(e,t,n){var r=Rk(e.signals),i=Rk(e.scales);return n||r.forEach((function(e){return P6(e,t)})),Rk(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var i in e)"name"!==i&&(r[i]=G4(e[i],i,t));for(var a in n)null==r[a]&&(r[a]=G4(n[a],a,t));t.addProjection(e.name,r)}(e,t)})),i.forEach((function(e){return function(e,t){var n=e.type||"linear";Lz(n)||K_("Unrecognized scale type: "+vE(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Rk(e.data).forEach((function(e){return g9(e,t)})),i.forEach((function(e){return M4(e,t)})),(n||r).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?K_("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=L3(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((function(e){return t4(e,t,n.id)}))}(e,t)})),Rk(e.axes).forEach((function(e){return W9(e,t)})),Rk(e.marks).forEach((function(e){return l9(e,t)})),Rk(e.legends).forEach((function(e){return f9(e,t)})),e.title&&v9(e.title,t),t.parseLambdas(),t}function V9(e,t){var n=t.config,r=I6(t.root=t.add(R6())),i=function(e,t){var n=function(n){return V6(e[n],t[n])},r=[G9("background",n("background")),G9("autosize",u6(n("autosize"))),G9("padding",c6(n("padding"))),G9("width",n("width")||0),G9("height",n("height")||0)],i=r.reduce((function(e,t){return e[t.name]=t,e}),{}),a={};return Rk(e.signals).forEach((function(e){Xk(i,e.name)?e=Vk(i[e.name],e):r.push(e),a[e.name]=e})),Rk(t.signals).forEach((function(e){Xk(a,e.name)||Xk(i,e.name)||r.push(e)})),r}(e,n);i.forEach((function(e){return P6(e,t)})),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;var a=t.add(u4()),o=t.add(l4(C6(function(e){return h6({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e)}(e.encode),v8,m6,e.style,t,{pulse:I6(a)}))),u=t.add(j4({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:I6(o)}));t.operators.pop(),t.pushState(I6(o),I6(u),null),$9(e,t,i),t.operators.push(u);var s=t.add(o4({mark:r,pulse:I6(u)}));return s=t.add(S4({pulse:I6(s)})),s=t.add(C4({pulse:I6(s)})),t.addData("root",new a9(t,a,a,s)),t}function G9(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Y9(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function K9(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function X9(e){return(fk(e)?Q9:Z9)(e)}function Q9(e){for(var t=e.length,n="[",r=0;r<t;++r){var i=e[r];n+=(r>0?",":"")+(dk(i)?i.signal||X9(i):vE(i))}return n+"]"}function Z9(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+vE(t)+":"+(dk(n)?n.signal||X9(n):vE(n));return r+"}"}function J9(e,t,n){return dk(e)||K_("Input Vega specification must be an object."),t=pk(function(){var e="sans-serif",t="#4c78a8",n="#000",r="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),V9(e,new Y9(t,n)).toRuntime()}Y9.prototype=K9.prototype={parse:function(e){return $9(e,this)},fork:function(){return new K9(this)},isSubscope:function(){return this._subid>0},toRuntime:function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},proxy:function(e){var t=e instanceof M6?I6(e):e;return this.add(E4({value:t}))},addStream:function(e){return this.streams.push(e),e.id=this.id(),e},addUpdate:function(e){return this.updates.push(e),e},finish:function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},pushState:function(e,t,n){this._encode.push(I6(this.add(C4({pulse:e})))),this._parent.push(t),this._lookup.push(n?I6(this.proxy(n)):null),this._markpath.push(-1)},popState:function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent:function(){return gk(this._parent)},encode:function(){return gk(this._encode)},lookup:function(){return gk(this._lookup)},markpath:function(){var e=this._markpath;return++e[e.length-1]},fieldRef:function(e,t){if(uE(e))return B6(e,t);e.signal||K_("Unsupported field reference: "+vE(e));var n=e.signal,r=this.field[n];if(!r){var i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=I6(this.add(h4(i)))}return r},compareRef:function(e){var t=this,n=!1,r=function(e){return H6(e)?(n=!0,t.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(n=!0,t.exprRef(e.expr)):e},i=Rk(e.field).map(r),a=Rk(e.order).map(r);return n?I6(this.add(s4({fields:i,orders:a}))):L6(i,a)},keyRef:function(e,t){var n=!1,r=this.signals;return e=Rk(e).map((function(e){return H6(e)?(n=!0,I6(r[e.signal])):e})),n?I6(this.add(p4({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef:function(e){if(!e)return e;var t=U6(e.op,e.field),n=e.order||"ascending";return n.signal?I6(this.add(s4({fields:t,orders:this.signalRef(n.signal)}))):L6(t,n)},event:function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal:function(e){return Xk(this.signals,e)},addSignal:function(e,t){this.hasOwnSignal(e)&&K_("Duplicate signal name: "+vE(e));var n=t instanceof M6?t:this.add(R6(t));return this.signals[e]=n},getSignal:function(e){return this.signals[e]||K_("Unrecognized signal name: "+vE(e)),this.signals[e]},signalRef:function(e){return this.signals[e]?I6(this.signals[e]):(Xk(this.lambdas,e)||(this.lambdas[e]=this.add(R6(null))),I6(this.lambdas[e]))},parseLambdas:function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=L3(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property:function(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty:function(e){return e&&dk(e)?this.signalRef(e.signal||X9(e)):e},exprRef:function(e,t){var n={expr:L3(e,this)};return t&&(n.expr.$name=t),I6(this.add(f4(n)))},addBinding:function(e,t){this.bindings||K_("Nested signals do not support binding: "+vE(e)),this.bindings.push(Vk({signal:e},t))},addScaleProj:function(e,t){Xk(this.scales,e)&&K_("Duplicate scale or projection name: "+vE(e)),this.scales[e]=this.add(t)},addScale:function(e,t){this.addScaleProj(e,A4(t))},addProjection:function(e,t){this.addScaleProj(e,k4(t))},getScale:function(e){return this.scales[e]||K_("Unrecognized scale name: "+vE(e)),this.scales[e]},scaleRef:function(e){return I6(this.getScale(e))},scaleType:function(e){return this.getScale(e).params.type},projectionRef:function(e){return this.scaleRef(e)},projectionType:function(e){return this.scaleType(e)},addData:function(e,t){return Xk(this.data,e)&&K_("Duplicate data set name: "+vE(e)),this.data[e]=t},getData:function(e){return this.data[e]||K_("Undefined data set name: "+vE(e)),this.data[e]},addDataPipeline:function(e,t){return Xk(this.data,e)&&K_("Duplicate data set name: "+vE(e)),this.addData(e,a9.fromEntries(this,t))}};var e7="5.21.0";Vk(tT,u,c,l,f,d,p,h,v,m,g,y);var t7=e7;var n7={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},r7={"*":function(e,t){return e*t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},">":function(e,t){return e>t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&":function(e,t){return e&t},"|":function(e,t){return e|t},"^":function(e,t){return e^t},"<<":function(e,t){return e<<t},">>":function(e,t){return e>>t},">>>":function(e,t){return e>>>t}},i7={"+":function(e){return+e},"-":function(e){return-e},"~":function(e){return~e},"!":function(e){return!e}},a7=Array.prototype.slice,o7=function(e,t,n){var r=n?n(t[0]):t[0];return r[e].apply(r,a7.call(t,1))},u7={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},now:Date.now,utc:Date.UTC,datetime:function(e,t,n,r,i,a,o){return new Date(e,t||0,null!=n?n:1,r||0,i||0,a||0,o||0)},date:function(e){return new Date(e).getDate()},day:function(e){return new Date(e).getDay()},year:function(e){return new Date(e).getFullYear()},month:function(e){return new Date(e).getMonth()},hours:function(e){return new Date(e).getHours()},minutes:function(e){return new Date(e).getMinutes()},seconds:function(e){return new Date(e).getSeconds()},milliseconds:function(e){return new Date(e).getMilliseconds()},time:function(e){return new Date(e).getTime()},timezoneoffset:function(e){return new Date(e).getTimezoneOffset()},utcdate:function(e){return new Date(e).getUTCDate()},utcday:function(e){return new Date(e).getUTCDay()},utcyear:function(e){return new Date(e).getUTCFullYear()},utcmonth:function(e){return new Date(e).getUTCMonth()},utchours:function(e){return new Date(e).getUTCHours()},utcminutes:function(e){return new Date(e).getUTCMinutes()},utcseconds:function(e){return new Date(e).getUTCSeconds()},utcmilliseconds:function(e){return new Date(e).getUTCMilliseconds()},length:function(e){return e.length},join:function(){return o7("join",arguments)},indexof:function(){return o7("indexOf",arguments)},lastindexof:function(){return o7("lastIndexOf",arguments)},slice:function(){return o7("slice",arguments)},reverse:function(e){return e.slice().reverse()},parseFloat:parseFloat,parseInt:parseInt,upper:function(e){return String(e).toUpperCase()},lower:function(e){return String(e).toLowerCase()},substring:function(){return o7("substring",arguments,String)},split:function(){return o7("split",arguments,String)},replace:function(){return o7("replace",arguments,String)},trim:function(e){return String(e).trim()},regexp:RegExp,test:function(e,t){return RegExp(e).test(t)}},s7=["view","item","group","xy","x","y"],c7={Literal:function(e,t){return t.value},Identifier:function(e,t){var n=t.name;return e.memberDepth>0?n:"datum"===n?e.datum:"event"===n?e.event:"item"===n?e.item:n7[n]||e.params["$"+n]},MemberExpression:function(e,t){var n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);var i=e(t.property);return n&&(e.memberDepth-=1),r[i]},CallExpression:function(e,t){var n=t.arguments,r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),"if"===r?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||u7[r]).apply(e.fn,n.map(e))},ArrayExpression:function(e,t){return t.elements.map(e)},BinaryExpression:function(e,t){return r7[t.operator](e(t.left),e(t.right))},UnaryExpression:function(e,t){return i7[t.operator](e(t.argument))},ConditionalExpression:function(e,t){return e(t.test)?e(t.consequent):e(t.alternate)},LogicalExpression:function(e,t){return"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right)},ObjectExpression:function(e,t){return t.properties.reduce((function(t,n){e.memberDepth+=1;var r=e(n.key);return e.memberDepth-=1,t[r]=e(n.value),t}),{})}};function l7(e,t,n,r,i,a){var o=function e(t){return c7[t.type](e,t)};return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=a,s7.forEach((function(e){return o.fn[e]=function(){var t;return(t=i.vega)[e].apply(t,arguments)}})),o(e)}var f7={operator:function(e,t){var n=t.ast,r=e.functions;return function(e){return l7(n,r,e)}},parameter:function(e,t){var n=t.ast,r=e.functions;return function(e,t){return l7(n,r,t,e)}},event:function(e,t){var n=t.ast,r=e.functions;return function(e){return l7(n,r,void 0,void 0,e)}},handler:function(e,t){var n=t.ast,r=e.functions;return function(e,t){var i=t.item&&t.item.datum;return l7(n,r,e,i,t)}},encode:function(e,t){var n=t.marktype,r=t.channels,i=e.functions,a="group"===n||"image"===n||"rect"===n;return function(e,t){var o,u=e.datum,s=0;for(var c in r)o=l7(r[c].ast,i,t,u,void 0,e),e[c]!==o&&(e[c]=o,s=1);return"rule"!==n&&function(e,t,n){var r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(e,r,a),s}}};Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var d7=n(7622),h7=n.n(d7),p7=n(8262),v7=n.n(p7),m7=n(2248),g7=n.n(m7);function y7(e){return!!e.or}function b7(e){return!!e.and}function x7(e){return!!e.not}function w7(e,t){if(x7(e))w7(e.not,t);else if(b7(e)){var n,r=nu(e.and);try{for(r.s();!(n=r.n()).done;){w7(n.value,t)}}catch(o){r.e(o)}finally{r.f()}}else if(y7(e)){var i,a=nu(e.or);try{for(a.s();!(i=a.n()).done;){w7(i.value,t)}}catch(o){a.e(o)}finally{a.f()}}else t(e)}function _7(e,t){return x7(e)?{not:_7(e.not,t)}:b7(e)?{and:e.and.map((function(e){return _7(e,t)}))}:y7(e)?{or:e.or.map((function(e){return _7(e,t)}))}:t(e)}var k7=v7(),E7=h7();function O7(e){throw new Error(e)}function S7(e,t){var n,r={},i=nu(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;Xk(e,a)&&(r[a]=e[a])}}catch(o){i.e(o)}finally{i.f()}return r}function A7(e,t){var n,r=Object.assign({},e),i=nu(t);try{for(i.s();!(n=i.n()).done;){delete r[n.value]}}catch(a){i.e(a)}finally{i.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat(du(this).map((function(e){return g7()(e)})).join(","),")")};var C7=g7();function D7(e){if(aE(e))return e;var t=uE(e)?e:g7()(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function j7(e){return!1===e||null===e}function T7(e,t){return e.includes(t)}function F7(e,t){var n,r=0,i=nu(e.entries());try{for(i.s();!(n=i.n()).done;){var a=C(n.value,2),o=a[0];if(t(a[1],o,r++))return!0}}catch(u){i.e(u)}finally{i.f()}return!1}function P7(e,t){var n,r=0,i=nu(e.entries());try{for(i.s();!(n=i.n()).done;){var a=C(n.value,2),o=a[0];if(!t(a[1],o,r++))return!1}}catch(u){i.e(u)}finally{i.f()}return!0}function M7(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];N7(e,null!==o&&void 0!==o?o:{})}return e}function N7(e,t){var n,r=nu(W7(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;vk(e,i,t[i],!0)}}catch(a){r.e(a)}finally{r.f()}}function R7(e,t){var n,r,i=[],a={},o=nu(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;(n=t(u))in a||(a[n]=1,i.push(u))}}catch(s){o.e(s)}finally{o.f()}return i}function I7(e,t){var n=W7(e),r=W7(t);if(n.length!==r.length)return!1;var i,a=nu(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(e[o]!==t[o])return!1}}catch(u){a.e(u)}finally{a.f()}return!0}function B7(e,t){if(e.size!==t.size)return!1;var n,r=nu(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}function z7(e,t){var n,r=nu(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.has(i))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function L7(e){var t,n=new Set,r=nu(e);try{var i=function(){var e,r=X_(t.value).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),i=r.map((function(e,t){return r.slice(0,t+1).join("")})),a=nu(i);try{for(a.s();!(e=a.n()).done;){var o=e.value;n.add(o)}}catch(u){a.e(u)}finally{a.f()}};for(r.s();!(t=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return n}function U7(e,t){return void 0===e||void 0===t||z7(L7(e),L7(t))}function q7(e){return 0===W7(e).length}var W7=Object.keys,H7=Object.values,$7=Object.entries;function V7(e){return!0===e||!1===e}function G7(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Y7(e,t){return x7(e)?"!(".concat(Y7(e.not,t),")"):b7(e)?"(".concat(e.and.map((function(e){return Y7(e,t)})).join(") && ("),")"):y7(e)?"(".concat(e.or.map((function(e){return Y7(e,t)})).join(") || ("),")"):t(e)}function K7(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&K7(e[n],t)&&delete e[n],q7(e)}function X7(e){return e.charAt(0).toUpperCase()+e.substr(1)}function Q7(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=X_(e),r=[],i=1;i<=n.length;i++){var a="[".concat(n.slice(0,i).map(vE).join("]["),"]");r.push("".concat(t).concat(a))}return r.join(" && ")}function Z7(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(vE(X_(e).join(".")),"]")}function J7(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function eee(e){return"".concat(X_(e).map(J7).join("\\."))}function tee(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function nee(e){return"".concat(X_(e).join("."))}function ree(e){return e?X_(e).length:0}function iee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];if(void 0!==a)return a}}var aee=42;function oee(e){var t=++aee;return e?String(e)+t:t}function uee(){aee=42}function see(e){return cee(e)?e:"__".concat(e)}function cee(e){return e.startsWith("__")}function lee(e){if(void 0!==e)return(e%360+360)%360}function fee(e){return!!aE(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var dee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hee="row",pee="column",vee="facet",mee="x",gee="y",yee="x2",bee="y2",xee="xOffset",wee="yOffset",_ee="radius",kee="radius2",Eee="theta",Oee="theta2",See="latitude",Aee="longitude",Cee="latitude2",Dee="longitude2",jee="color",Tee="fill",Fee="stroke",Pee="shape",Mee="size",Nee="angle",Ree="opacity",Iee="fillOpacity",Bee="strokeOpacity",zee="strokeWidth",Lee="strokeDash",Uee="text",qee="order",Wee="detail",Hee="key",$ee="tooltip",Vee="href",Gee="url",Yee="description",Kee={theta:1,theta2:1,radius:1,radius2:1};function Xee(e){return e in Kee}var Qee={longitude:1,longitude2:1,latitude:1,latitude2:1};var Zee=W7(Qee),Jee=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),Kee),Qee),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function ete(e){return e===jee||e===Tee||e===Fee}var tte={row:1,column:1,facet:1},nte=W7(tte),rte=Object.assign(Object.assign({},Jee),tte),ite=W7(rte),ate=(rte.order,rte.detail,rte.tooltip,dee(rte,["order","detail","tooltip"])),ote=(ate.row,ate.column,ate.facet,dee(ate,["row","column","facet"]));W7(ate),W7(ote);function ute(e){return!!rte[e]}var ste=[yee,bee,Cee,Dee,Oee,kee];function cte(e){return lte(e)!==e}function lte(e){switch(e){case yee:return mee;case bee:return gee;case Cee:return See;case Dee:return Aee;case Oee:return Eee;case kee:return _ee}return e}function fte(e){if(Xee(e))switch(e){case Eee:return"startAngle";case Oee:return"endAngle";case _ee:return"outerRadius";case kee:return"innerRadius"}return e}function dte(e){switch(e){case mee:return yee;case gee:return bee;case See:return Cee;case Aee:return Dee;case Eee:return Oee;case _ee:return kee}}function hte(e){switch(e){case mee:case yee:return"width";case gee:case bee:return"height"}}function pte(e){switch(e){case mee:return"xOffset";case gee:return"yOffset"}}function vte(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}var mte=W7(Jee),gte=(Jee.x,Jee.y,Jee.x2,Jee.y2,Jee.xOffset,Jee.yOffset,Jee.latitude,Jee.longitude,Jee.latitude2,Jee.longitude2,Jee.theta,Jee.theta2,Jee.radius,Jee.radius2,dee(Jee,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"])),yte=W7(gte),bte={x:1,y:1},xte=W7(bte);function wte(e){return e in bte}var _te={theta:1,radius:1},kte=W7(_te);function Ete(e){return"width"===e?mee:gee}var Ote={xOffset:1,yOffset:1};W7(Ote);function Ste(e){return e in Ote}gte.text,gte.tooltip,gte.href,gte.url,gte.description,gte.detail,gte.key,gte.order;var Ate=dee(gte,["text","tooltip","href","url","description","detail","key","order"]),Cte=W7(Ate);var Dte=Object.assign(Object.assign(Object.assign(Object.assign({},bte),_te),Ote),Ate),jte=W7(Dte);function Tte(e){return!!Dte[e]}function Fte(e,t){return function(e){switch(e){case jee:case Tee:case Fee:case Yee:case Wee:case Hee:case $ee:case Vee:case qee:case Ree:case Iee:case Bee:case zee:case vee:case hee:case pee:return Pte;case mee:case gee:case xee:case wee:case See:case Aee:return Mte;case yee:case bee:case Cee:case Dee:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Mee:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Lee:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Pee:return{point:"always",geoshape:"always"};case Uee:return{text:"always"};case Nee:return{point:"always",square:"always",text:"always"};case Gee:return{image:"always"};case Eee:case _ee:return{text:"always",arc:"always"};case Oee:case kee:return{arc:"always"}}}(e)[t]}var Pte={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Mte=dee(Pte,["geoshape"]);function Nte(e){switch(e){case mee:case gee:case Eee:case _ee:case xee:case wee:case Mee:case Nee:case zee:case Ree:case Iee:case Bee:case yee:case bee:case Oee:case kee:return;case vee:case hee:case pee:case Pee:case Lee:case Uee:case $ee:case Vee:case Gee:case Yee:return"discrete";case jee:case Tee:case Fee:return"flexible";case See:case Aee:case Cee:case Dee:case Wee:case Hee:case qee:return}}var Rte={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ite={count:1,min:1,max:1};function Bte(e){return!!e&&!!e.argmin}function zte(e){return!!e&&!!e.argmax}function Lte(e){return uE(e)&&!!Rte[e]}var Ute=new Set(["count","valid","missing","distinct"]);function qte(e){return uE(e)&&Ute.has(e)}var Wte=new Set(["count","sum","distinct","valid","missing"]),Hte=new Set(["mean","average","median","q1","q3","min","max"]);function $te(e){return nE(e)&&(e=boe(e,void 0)),"bin"+W7(e).map((function(t){return Kte(e[t])?G7("_".concat(t,"_").concat($7(e[t]))):G7("_".concat(t,"_").concat(e[t]))})).join("")}function Vte(e){return!0===e||Yte(e)&&!e.binned}function Gte(e){return"binned"===e||Yte(e)&&!0===e.binned}function Yte(e){return dk(e)}function Kte(e){return null===e||void 0===e?void 0:e.param}function Xte(e){switch(e){case hee:case pee:case Mee:case jee:case Tee:case Fee:case zee:case Ree:case Iee:case Bee:case Pee:return 6;case Lee:return 4;default:return 10}}function Qte(e){return e&&!!e.expr}function Zte(e){var t,n={},r=nu(W7(e||{}));try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i]=lne(e[i])}}catch(a){r.e(a)}finally{r.f()}return n}var Jte=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ene(e){var t=e.anchor,n=e.frame,r=e.offset,i=e.orient,a=e.angle,o=e.limit,u=e.color,s=e.subtitleColor,c=e.subtitleFont,l=e.subtitleFontSize,f=e.subtitleFontStyle,d=e.subtitleFontWeight,h=e.subtitleLineHeight,p=e.subtitlePadding,v=Jte(e,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),m=Object.assign(Object.assign({},v),u?{fill:u}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),void 0!==a?{angle:a}:{}),void 0!==o?{limit:o}:{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{subtitleColor:s}:{}),c?{subtitleFont:c}:{}),l?{subtitleFontSize:l}:{}),f?{subtitleFontStyle:f}:{}),d?{subtitleFontWeight:d}:{}),h?{subtitleLineHeight:h}:{}),p?{subtitlePadding:p}:{});return{titleMarkConfig:m,subtitleMarkConfig:S7(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:g,subtitle:y}}function tne(e){return uE(e)||fk(e)&&uE(e[0])}function nne(e){return e&&!!e.signal}function rne(e){return!!e.step}function ine(e){return!fk(e)&&("field"in e&&"data"in e)}var ane=W7({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),one={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},une=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],sne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function cne(e){var t=fk(e.condition)?e.condition.map(fne):fne(e.condition);return Object.assign(Object.assign({},lne(e)),{condition:t})}function lne(e){if(Qte(e)){var t=e.expr,n=sne(e,["expr"]);return Object.assign({signal:t},n)}return e}function fne(e){if(Qte(e)){var t=e.expr,n=sne(e,["expr"]);return Object.assign({signal:t},n)}return e}function dne(e){if(Qte(e)){var t=e.expr,n=sne(e,["expr"]);return Object.assign({signal:t},n)}return nne(e)?e:void 0!==e?{value:e}:void 0}function hne(e){return nne(e)?e.signal:vE(e)}function pne(e){return nne(e)?e.signal:vE(e.value)}function vne(e){return nne(e)?e.signal:null==e?null:vE(e)}function mne(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function gne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,a=r.ignoreVgConfig;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!a||i&&i!==e?yne(e,t,n,r):void 0}function yne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return iee(i?bne(e,t,n.style):void 0,bne(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function bne(e,t,n){return xne(e,mne(t),n)}function xne(e,t,n){var r,i,a=nu(t=Rk(t));try{for(a.s();!(i=a.n()).done;){var o=n[i.value];o&&void 0!==o[e]&&(r=o[e])}}catch(u){a.e(u)}finally{a.f()}return r}function wne(e,t){return Rk(e).reduce((function(e,n){var r;return e.field.push(noe(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function _ne(e,t){var n=du(e);return t.forEach((function(e){var t,r=nu(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(k7(i,e))return}}catch(a){r.e(a)}finally{r.f()}n.push(e)})),n}function kne(e,t){return k7(e,t)||!t?e:e?[].concat(du(Rk(e)),du(Rk(t))).join(", "):t}function Ene(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((tne(n)||nne(n))&&(tne(r)||nne(r)))return{explicit:e.explicit,value:kne(n,r)};if(tne(n)||nne(n))return{explicit:e.explicit,value:n};if(tne(r)||nne(r))return{explicit:e.explicit,value:r};if(!tne(n)&&!nne(n)&&!tne(r)&&!nne(r))return{explicit:e.explicit,value:_ne(n,r)};throw new Error("It should never reach here")}function One(e){return"Invalid specification ".concat(C7(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var Sne='Autosize "fit" only works for single views and layered views.';function Ane(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function Cne(e){var t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function Dne(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(hte(e),"."):'Dropping "fit" because spec has discrete size.'}function jne(e){return"Unknown field for ".concat(e,". Cannot calculate view size.")}function Tne(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function Fne(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function Pne(e){return"Selection not supported for ".concat(e," yet.")}var Mne="The same selection must be used to override scale domains in a layered view.";function Nne(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}function Rne(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function Ine(e){return"Ignoring an invalid transform: ".concat(C7(e),".")}function Bne(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function zne(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(C7(n),"}.")}function Lne(e){return'Invalid field type "'.concat(e,'".')}function Une(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function qne(e){return'Invalid aggregation operator "'.concat(e,'".')}function Wne(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function Hne(e,t){return"Dropping ".concat(C7(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function $ne(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function Vne(e){return"".concat(e," encoding has no scale, so specified scale is ignored.")}function Gne(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function Yne(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}function Kne(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function Xne(e){return"The ".concat(e," for range marks cannot be an expression")}function Qne(e){return"Using unaggregated domain with raw field has no effect (".concat(C7(e),").")}function Zne(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function Jne(e){return"Unaggregated domain is currently unsupported for log scale (".concat(C7(e),").")}function ere(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function tre(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function nre(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function rre(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}var ire="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function are(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function ore(e){return"Cannot stack non-linear scale (".concat(e,").")}function ure(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function sre(e,t){return"Invalid ".concat(e,": ").concat(C7(t),".")}function cre(e){return"1D error band does not support ".concat(e,".")}function lre(e){return"Channel ".concat(e,' is required for "binned" bin.')}function fre(e){return"Channel ".concat(e,' should not be used with "binned" bin.')}var dre=lk(uk),hre=dre;function pre(e){return hre=e}function vre(){return hre=dre}function mre(){var e;(e=hre).warn.apply(e,arguments)}function gre(e){if(e&&dk(e)){var t,n=nu(Cre);try{for(n.s();!(t=n.n()).done;){if(t.value in e)return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}new WeakMap;var yre=["january","february","march","april","may","june","july","august","september","october","november","december"],bre=yre.map((function(e){return e.substr(0,3)})),xre=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],wre=xre.map((function(e){return e.substr(0,3)}));function _re(e,t){var n=[];if(t&&void 0!==e.day&&W7(e).length>1&&(mre(function(e){return"Dropping day from datetime ".concat(C7(e)," as day cannot be combined with other units.")}(e)),delete(e=E7(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var r=t?function(e){if(fee(e)&&(e=+e),aE(e))return e-1;var t=e.toLowerCase(),n=yre.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=bre.indexOf(r);if(-1!==i)return i;throw new Error(sre("month",e))}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var i=t?function(e){if(fee(e)&&(e=+e),aE(e))return e>4&&mre(sre("quarter",e)),e-1;throw new Error(sre("quarter",e))}(e.quarter):e.quarter;n.push(aE(i)?3*i:"".concat(i,"*3"))}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var a=t?function(e){if(fee(e)&&(e=+e),aE(e))return e%7;var t=e.toLowerCase(),n=xre.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=wre.indexOf(r);if(-1!==i)return i;throw new Error(sre("day",e))}(e.day):e.day;n.push(aE(a)?a+1:"".concat(a,"+1"))}else n.push(1);for(var o=0,u=["hours","minutes","seconds","milliseconds"];o<u.length;o++){var s=e[u[o]];n.push("undefined"===typeof s?0:s)}return n}function kre(e){var t=_re(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function Ere(e){var t=_re(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function Ore(e){var t=_re(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,du(t))):+Om(Date,du(t))}var Sre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Are={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Cre=W7(Are);function Dre(e){return e.startsWith("utc")}var jre={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Tre(e){return Cre.filter((function(t){return Fre(e,t)}))}function Fre(e,t){var n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function Pre(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},i=r.end,a=Q7(t),o=Dre(e)?"utc":"";function u(e){return"quarter"===e?"(".concat(o,"quarter(").concat(a,")-1)"):"".concat(o).concat(e,"(").concat(a,")")}var s,c={},l=nu(Cre);try{for(l.s();!(s=l.n()).done;){var f=s.value;Fre(e,f)&&(c[f]=u(f),n=f)}}catch(d){l.e(d)}finally{l.f()}return i&&(c[n]+="+1"),Ere(c)}function Mre(e){if(e){var t=Tre(e);return"timeUnitSpecifier(".concat(C7(t),", ").concat(C7(jre),")")}}function Nre(e){var t;if(e)return uE(e)?t={unit:e}:dk(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),Dre(t.unit)&&(t.utc=!0,t.unit=function(e){return e.substr(3)}(t.unit)),t}function Rre(e){var t=Nre(e),n=t.utc,r=Sre(t,["utc"]);return r.unit?(n?"utc":"")+W7(r).map((function(e){return G7("".concat("unit"===e?"":"_".concat(e,"_")).concat(r[e]))})).join(""):(n?"utc":"")+"timeunit"+W7(r).map((function(e){return G7("_".concat(e,"_").concat(r[e]))})).join("")}function Ire(e){return e&&!!e.field&&void 0!==e.equal}function Bre(e){return e&&!!e.field&&void 0!==e.lt}function zre(e){return e&&!!e.field&&void 0!==e.lte}function Lre(e){return e&&!!e.field&&void 0!==e.gt}function Ure(e){return e&&!!e.field&&void 0!==e.gte}function qre(e){if(null===e||void 0===e?void 0:e.field){if(fk(e.range)&&2===e.range.length)return!0;if(nne(e.range))return!0}return!1}function Wre(e){return e&&!!e.field&&(fk(e.oneOf)||fk(e.in))}function Hre(e){return e&&!!e.field&&void 0!==e.valid}function $re(e){return Wre(e)||Ire(e)||qre(e)||Bre(e)||Lre(e)||zre(e)||Ure(e)}function Vre(e,t){return koe(e,{timeUnit:t,wrapTime:!0})}function Gre(e,t){return e.map((function(e){return Vre(e,t)}))}function Yre(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.field,i=null===(t=Nre(e.timeUnit))||void 0===t?void 0:t.unit,a=i?"time(".concat(Pre(i,r),")"):noe(e,{expr:"datum"});if(Ire(e))return"".concat(a,"===").concat(Vre(e.equal,i));if(Bre(e)){var o=e.lt;return"".concat(a,"<").concat(Vre(o,i))}if(Lre(e)){var u=e.gt;return"".concat(a,">").concat(Vre(u,i))}if(zre(e)){var s=e.lte;return"".concat(a,"<=").concat(Vre(s,i))}if(Ure(e)){var c=e.gte;return"".concat(a,">=").concat(Vre(c,i))}if(Wre(e))return"indexof([".concat(Gre(e.oneOf,i).join(","),"], ").concat(a,") !== -1");if(Hre(e))return Kre(a,e.valid);if(qre(e)){var l=e.range,f=nne(l)?{signal:"".concat(l.signal,"[0]")}:l[0],d=nne(l)?{signal:"".concat(l.signal,"[1]")}:l[1];if(null!==f&&null!==d&&n)return"inrange("+a+", ["+Vre(f,i)+", "+Vre(d,i)+"])";var h=[];return null!==f&&h.push("".concat(a," >= ").concat(Vre(f,i))),null!==d&&h.push("".concat(a," <= ").concat(Vre(d,i))),h.length>0?h.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(C7(e)))}function Kre(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function Xre(e){var t;return $re(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=Nre(e.timeUnit))||void 0===t?void 0:t.unit}):e}var Qre={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Zre(e){return"ordinal"===e||"nominal"===e}var Jre=Qre.quantitative,eie=Qre.ordinal,tie=Qre.temporal,nie=Qre.nominal,rie=Qre.geojson;W7(Qre);function iie(e){if(e)switch(e=e.toLowerCase()){case"q":case Jre:return"quantitative";case"t":case tie:return"temporal";case"o":case eie:return"ordinal";case"n":case nie:return"nominal";case rie:return"geojson"}}var aie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oie="linear",uie="log",sie="time",cie="utc",lie="point",fie="band",die={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};W7(die);function hie(e,t){var n=die[e],r=die[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var pie={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function vie(e){return pie[e]}var mie=new Set(["linear","log","pow","sqrt","symlog"]),gie=new Set([].concat(du(mie),["time","utc"]));function yie(e){return mie.has(e)}var bie=new Set(["quantile","quantize","threshold"]),xie=new Set([].concat(du(gie),du(bie),["sequential","identity"])),wie=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);function _ie(e){return wie.has(e)}function kie(e){return xie.has(e)}function Eie(e){return gie.has(e)}function Oie(e){return bie.has(e)}function Sie(e){return null===e||void 0===e?void 0:e.param}var Aie={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},Cie=(W7(Aie),aie(Aie,["type","domain","range","rangeMax","rangeMin","scheme"])),Die=W7(Cie);function jie(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Eie(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return Eie(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return Eie(e);case"nice":return Eie(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return kie(e)&&!T7(["log","time","utc","threshold","quantile"],e)}}function Tie(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return ete(e)?void 0:'Cannot use the scale property "'.concat(e,'" with non-color channel.');case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Fie(e,t){return T7([eie,nie],t)?void 0===e||_ie(e):t===tie?T7([sie,cie,void 0],e):t!==Jre||(yie(e)||Oie(e)||void 0===e)}function Pie(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Tte(e))return!1;switch(e){case mee:case gee:case xee:case wee:case Eee:case _ee:return!!Eie(t)||("band"===t||"point"===t&&!n);case Mee:case zee:case Ree:case Iee:case Bee:case Nee:return Eie(t)||Oie(t)||T7(["band","point","ordinal"],t);case jee:case Tee:case Fee:return"band"!==t;case Lee:case Pee:return"ordinal"===t||Oie(t)}}var Mie={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Nie=Mie.arc,Rie=Mie.area,Iie=Mie.bar,Bie=Mie.image,zie=Mie.line,Lie=Mie.point,Uie=Mie.rect,qie=Mie.rule,Wie=Mie.text,Hie=Mie.tick,$ie=Mie.trail,Vie=Mie.circle,Gie=Mie.square,Yie=Mie.geoshape;function Kie(e){return["line","area","trail"].includes(e)}function Xie(e){return["rect","bar","image","arc"].includes(e)}var Qie=new Set(W7(Mie));function Zie(e){return e.type}var Jie=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),eae=W7({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),tae=W7({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function nae(e){return e&&void 0!=e.band}var rae={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},iae={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},aae={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function oae(e){var t=e.channel,n=e.channelDef,r=e.markDef,i=e.scale,a=e.config,o=fae(e);return qae(n)&&!qte(n.aggregate)&&i&&Eie(i.get("type"))?function(e){var t=e.fieldDef,n=e.channel,r=e.markDef,i=e.ref,a=e.config;if(Kie(r.type))return i;if(null===gne("invalid",r,a))return[uae(t,n),i];return i}({fieldDef:n,channel:t,markDef:r,ref:o,config:a}):o}function uae(e,t){var n=sae(e,!0),r="y"===lte(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function sae(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Kre(uE(e)?e:noe(e,{expr:"datum"}),!t)}function cae(e,t,n,r){var i={};if(t&&(i.scale=t),Hae(e)){var a=e.datum;gre(a)?i.signal=kre(a):nne(a)?i.signal=a.signal:Qte(a)?i.signal=a.expr:i.value=a}else i.field=noe(e,n);if(r){var o=r.offset,u=r.band;o&&(i.offset=o),u&&(i.band=u)}return i}function lae(e){var t=e.scaleName,n=e.fieldOrDatumDef,r=e.fieldOrDatumDef2,i=e.offset,a=e.startSuffix,o=e.bandPosition,u=void 0===o?.5:o,s=0<u&&u<1?"datum":void 0,c=noe(n,{expr:s,suffix:a}),l=void 0!==r?noe(r,{expr:s}):noe(n,{suffix:"end",expr:s}),f={};if(0===u||1===u){f.scale=t;var d=0===u?c:l;f.field=d}else{var h=nne(u)?"".concat(u.signal," * ").concat(c," + (1-").concat(u.signal,") * ").concat(l):"".concat(u," * ").concat(c," + ").concat(1-u," * ").concat(l);f.signal='scale("'.concat(t,'", ').concat(h,")")}return i&&(f.offset=i),f}function fae(e){var t,n=e.channel,r=e.channelDef,i=e.channel2Def,a=e.markDef,o=e.config,u=e.scaleName,s=e.scale,c=e.stack,l=e.offset,f=e.defaultRef,d=e.bandPosition;if(r){if(Gae(r)){var h=null===s||void 0===s?void 0:s.get("type");if(Yae(r)){null!==d&&void 0!==d||(d=Rae({fieldDef:r,fieldDef2:i,markDef:a,config:o}));var p=r.bin,v=r.timeUnit,m=r.type;if(Vte(p)||d&&v&&m===tie)return(null===c||void 0===c?void 0:c.impute)?cae(r,u,{binSuffix:"mid"},{offset:l}):d&&!_ie(h)?lae({scaleName:u,fieldOrDatumDef:r,bandPosition:d,offset:l}):cae(r,u,Ooe(r,n)?{binSuffix:"range"}:{},{offset:l});if(Gte(p)){if(qae(i))return lae({scaleName:u,fieldOrDatumDef:r,fieldOrDatumDef2:i,bandPosition:d,offset:l});mre(lre(n===mee?yee:bee))}}return cae(r,u,_ie(h)?{binSuffix:"range"}:{},{offset:l,band:"band"===h?null!==(t=null!==d&&void 0!==d?d:r.bandPosition)&&void 0!==t?t:.5:void 0})}if(Kae(r)){var g=r.value,y=l?{offset:l}:{};return Object.assign(Object.assign({},dae(n,g)),y)}}return Bk(f)&&(f=f()),f?Object.assign(Object.assign({},f),l?{offset:l}:{}):f}function dae(e,t){return T7(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:T7(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:dne(t)}function hae(e){return e&&"number"!==e&&"time"!==e}function pae(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(C7(n)):"",")")}function vae(e){var t,n,r=e.fieldOrDatumDef,i=e.format,a=e.formatType,o=e.expr,u=e.normalizeStack,s=e.config;if(hae(a))return gae({fieldOrDatumDef:r,format:i,formatType:a,expr:o,config:s});var c=mae(r,o,u);if(_oe(r)){var l=function(e,t,n,r,i){return!t||n?(n=uE(n)?n:r,"".concat(i?"utc":"time","Format(").concat(e,", '").concat(n,"')")):function(e,t,n){if(e){var r=Mre(e),i=n||Dre(e);return"".concat(i?"utc":"time","Format(").concat(t,", ").concat(r,")")}}(t,e,i)}(c,qae(r)?null===(t=Nre(r.timeUnit))||void 0===t?void 0:t.unit:void 0,i,s.timeFormat,Xae(r)&&(null===(n=r.scale)||void 0===n?void 0:n.type)===cie);return l?{signal:l}:void 0}return i=xae(Wae(r),i,s),qae(r)&&Vte(r.bin)?{signal:kae(c,noe(r,{expr:o,binSuffix:"end"}),i,a,s)}:i||"quantitative"===Wae(r)?{signal:"".concat(wae(c,i))}:{signal:"isValid(".concat(c,") ? ").concat(c,' : ""+').concat(c)}}function mae(e,t,n){return qae(e)?n?"".concat(noe(e,{expr:t,suffix:"end"}),"-").concat(noe(e,{expr:t,suffix:"start"})):noe(e,{expr:t}):function(e){var t=e.datum;return gre(t)?kre(t):"".concat(C7(t))}(e)}function gae(e){var t=e.fieldOrDatumDef,n=e.format,r=e.formatType,i=e.expr,a=e.normalizeStack,o=e.config,u=e.field;return null!==u&&void 0!==u||(u=mae(t,i,a)),qae(t)&&Vte(t.bin)?{signal:kae(u,noe(t,{expr:i,binSuffix:"end"}),n,r,o)}:{signal:pae(r,u,n)}}function yae(e,t,n,r,i,a){var o;if(!hae(r))return _oe(e)?function(e,t,n,r){if(e)return e;if(t)return{signal:Mre(t)};return r?void 0:n.timeFormat}(n,qae(e)?null===(o=Nre(e.timeUnit))||void 0===o?void 0:o.unit:void 0,i,a):xae(t,n,i)}function bae(e,t,n){return e&&(nne(e)||"number"===e||"time"===e)?e:_oe(t)&&"time"!==n&&"utc"!==n?"time":void 0}function xae(e,t,n){return uE(t)?t:e===Jre?n.numberFormat:void 0}function wae(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function _ae(e,t,n,r){var i;return hae(n)?pae(n,e,t):wae(e,null!==(i=uE(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function kae(e,t,n,r,i){var a=_ae(e,n,r,i),o=_ae(t,n,r,i);return"".concat(Kre(e,!1),' ? "null" : ').concat(a,' + "').concat(" \u2013 ",'" + ').concat(o)}var Eae="min",Oae={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Sae(e){return e in Oae}function Aae(e){return!!e&&!!e.encoding}function Cae(e){return!!e&&("count"===e.op||!!e.field)}function Dae(e){return!!e&&fk(e)}function jae(e){return"row"in e||"column"in e}function Tae(e){return!!e&&"header"in e}function Fae(e){return"facet"in e}var Pae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Mae(e){var t=e.field,n=e.timeUnit,r=e.bin,i=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function Nae(e){return"sort"in e}function Rae(e){var t=e.fieldDef,n=e.fieldDef2,r=e.markDef,i=e.config;if(Gae(t)&&void 0!==t.bandPosition)return t.bandPosition;if(qae(t)){var a=t.timeUnit,o=t.bin;if(a&&!n)return Xie(r.type)?0:yne("timeUnitBandPosition",r,i);if(Vte(o))return.5}}function Iae(e){var t,n,r,i=e.channel,a=e.fieldDef,o=e.fieldDef2,u=e.markDef,s=e.config,c=e.scaleType,l=e.useVlSizeChannel,f=hte(i),d=gne(l?"size":f,u,s,{vgChannel:f});if(void 0!==d)return d;if(qae(a)){var h=a.timeUnit,p=a.bin;if(h&&!o)return{band:yne("timeUnitBandSize",u,s)};if(Vte(p)&&!_ie(c))return{band:1}}return Xie(u.type)?c?_ie(c)?(null===(t=s[u.type])||void 0===t?void 0:t.discreteBandSize)||{band:1}:null===(n=s[u.type])||void 0===n?void 0:n.continuousBandSize:null===(r=s[u.type])||void 0===r?void 0:r.discreteBandSize:void 0}function Bae(e,t,n,r){return!!(Vte(e.bin)||e.timeUnit&&Yae(e)&&"temporal"===e.type)&&void 0!==Rae({fieldDef:e,fieldDef2:t,markDef:n,config:r})}function zae(e){return e&&"condition"in e}function Lae(e){var t=e&&e.condition;return!!t&&!fk(t)&&qae(t)}function Uae(e){var t=e&&e.condition;return!!t&&!fk(t)&&Gae(t)}function qae(e){return e&&(!!e.field||"count"===e.aggregate)}function Wae(e){return e&&e.type}function Hae(e){return e&&"datum"in e}function $ae(e){return Yae(e)&&!roe(e)||Vae(e)}function Vae(e){return Hae(e)&&aE(e.datum)}function Gae(e){return qae(e)||Hae(e)}function Yae(e){return e&&("field"in e||"count"===e.aggregate)&&"type"in e}function Kae(e){return e&&"value"in e&&"value"in e}function Xae(e){return e&&("scale"in e||"sort"in e)}function Qae(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function Zae(e){return e&&"legend"in e}function Jae(e){return e&&("format"in e||"formatType"in e)}function eoe(e){return A7(e,["legend","axis","header","scale"])}function toe(e){return"op"in e}function noe(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.field,o=i.prefix,u=i.suffix,s="";if(ioe(e))a=see("count");else{var c;if(!i.nofn)if(toe(e))c=e.op;else{var l=e.bin,f=e.aggregate,d=e.timeUnit;Vte(l)?(c=$te(l),u=(null!==(t=i.binSuffix)&&void 0!==t?t:"")+(null!==(n=i.suffix)&&void 0!==n?n:"")):f?zte(f)?(s='["'.concat(a,'"]'),a="argmax_".concat(f.argmax)):Bte(f)?(s='["'.concat(a,'"]'),a="argmin_".concat(f.argmin)):c=String(f):d&&(c=Rre(d),u=(!["range","mid"].includes(i.binSuffix)&&i.binSuffix||"")+(null!==(r=i.suffix)&&void 0!==r?r:""))}c&&(a=a?"".concat(c,"_").concat(a):c)}return u&&(a="".concat(a,"_").concat(u)),o&&(a="".concat(o,"_").concat(a)),i.forAs?nee(a):i.expr?Z7(a,i.expr)+s:eee(a)+s}function roe(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return qae(e)&&!!e.bin;case"temporal":return!1}throw new Error(Lne(e.type))}function ioe(e){return"count"===e.aggregate}var aoe=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,i=e.field;if(zte(t))return"".concat(i," for argmax(").concat(t.argmax,")");if(Bte(t))return"".concat(i," for argmin(").concat(t.argmin,")");var a=Nre(r),o=t||(null===a||void 0===a?void 0:a.unit)||(null===a||void 0===a?void 0:a.maxbins)&&"timeunit"||Vte(n)&&"bin";return o?"".concat(o.toUpperCase(),"(").concat(i,")"):i}(e);default:return function(e,t){var n,r=e.field,i=e.bin,a=e.timeUnit,o=e.aggregate;if("count"===o)return t.countTitle;if(Vte(i))return"".concat(r," (binned)");if(a){var u=null===(n=Nre(a))||void 0===n?void 0:n.unit;if(u)return"".concat(r," (").concat(Tre(u).join("-"),")")}else if(o)return zte(o)?"".concat(r," for max ").concat(o.argmax):Bte(o)?"".concat(r," for min ").concat(o.argmin):"".concat(X7(o)," of ").concat(r);return r}(e,t)}},ooe=aoe;function uoe(e){ooe=e}function soe(){uoe(aoe)}function coe(e,t,n){var r,i,a=n.allowDisabling,o=n.includeDefault,u=void 0===o||o,s=null===(r=loe(e))||void 0===r?void 0:r.title;if(!qae(e))return null!==s&&void 0!==s?s:e.title;var c=e,l=u?foe(c,t):void 0;return a?iee(s,c.title,l):null!==(i=null!==s&&void 0!==s?s:c.title)&&void 0!==i?i:l}function loe(e){return Qae(e)&&e.axis?e.axis:Zae(e)&&e.legend?e.legend:Tae(e)&&e.header?e.header:void 0}function foe(e,t){return ooe(e,t)}function doe(e){var t;if(Jae(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=loe(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function hoe(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Nae(e)&&fk(e.sort))return"ordinal";var r=e.aggregate,i=e.bin;if(e.timeUnit)return"temporal";if(i||r&&!zte(r)&&!Bte(r))return"quantitative";if(Xae(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(die[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function poe(e){return qae(e)?e:Lae(e)?e.condition:void 0}function voe(e){return Gae(e)?e:Uae(e)?e.condition:void 0}function moe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(uE(e)||aE(e)||nE(e)){var i=uE(e)?"string":aE(e)?"number":"boolean";return mre(zne(t,i,e)),{value:e}}return Gae(e)?goe(e,t,n,r):Uae(e)?Object.assign(Object.assign({},e),{condition:goe(e.condition,t,n,r)}):e}function goe(e,t,n,r){if(Jae(e)){e.format;var i=e.formatType,a=Pae(e,["format","formatType"]);if(hae(i)&&!n.customFormatTypes)return mre(Bne(t)),goe(a,t,n,r)}else{var o=Qae(e)?"axis":Zae(e)?"legend":Tae(e)?"header":null;if(o&&e[o]){var u=e[o],s=(u.format,u.formatType),c=Pae(u,["format","formatType"]);if(hae(s)&&!n.customFormatTypes)return mre(Bne(t)),goe(Object.assign(Object.assign({},e),lu({},o,c)),t,n,r)}}return qae(e)?yoe(e,t,r):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=aE(n)?"quantitative":uE(n)?"nominal":gre(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function yoe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.compositeMark,i=void 0!==r&&r,a=e.aggregate,o=e.timeUnit,u=e.bin,s=e.field,c=Object.assign({},e);if(i||!a||Lte(a)||zte(a)||Bte(a)||(mre(qne(a)),delete c.aggregate),o&&(c.timeUnit=Nre(o)),s&&(c.field="".concat(s)),Vte(u)&&(c.bin=boe(u,t)),Gte(u)&&!wte(t)&&mre(fre(t)),Yae(c)){var l=c.type,f=iie(l);l!==f&&(c.type=f),"quantitative"!==l&&qte(a)&&(mre(Une(l,a)),c.type="quantitative")}else if(!cte(t)){var d=hoe(c,t);c.type=d}if(Yae(c)){var h=woe(c,t)||{},p=h.compatible,v=h.warning;!1===p&&mre(v)}if(Nae(c)&&uE(c.sort)){var m=c.sort;if(Sae(m))return Object.assign(Object.assign({},c),{sort:{encoding:m}});var g=m.substr(1);if("-"===m.charAt(0)&&Sae(g))return Object.assign(Object.assign({},c),{sort:{encoding:g,order:"descending"}})}if(Tae(c)){var y=c.header;if(y){var b=y.orient,x=Pae(y,["orient"]);if(b)return Object.assign(Object.assign({},c),{header:Object.assign(Object.assign({},x),{labelOrient:y.labelOrient||b,titleOrient:y.titleOrient||b})})}}return c}function boe(e,t){return nE(e)?{maxbins:Xte(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:Xte(t)})}var xoe={compatible:!0};function woe(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case hee:case pee:case vee:return roe(e)?xoe:{compatible:!1,warning:Gne(t)};case mee:case gee:case xee:case wee:case jee:case Tee:case Fee:case Uee:case Wee:case Hee:case $ee:case Vee:case Gee:case Nee:case Eee:case _ee:case Yee:return xoe;case Aee:case Dee:case See:case Cee:return n!==Jre?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:xoe;case Ree:case Iee:case Bee:case zee:case Mee:case Oee:case kee:case yee:case bee:return"nominal"!==n||e.sort?xoe:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case Pee:case Lee:return roe(e)||function(e){var t;return Xae(e)&&Oie(null===(t=e.scale)||void 0===t?void 0:t.type)}(e)?xoe:{compatible:!1,warning:Yne(t)};case qee:return"nominal"!==e.type||"sort"in e?xoe:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function _oe(e){var t=doe(e).formatType;return"time"===t||!t&&function(e){return e&&("temporal"===e.type||qae(e)&&!!e.timeUnit)}(e)}function koe(e,t){var n,r,i=t.timeUnit,a=t.type,o=t.wrapTime,u=t.undefinedIfExprNotRequired,s=i&&(null===(n=Nre(i))||void 0===n?void 0:n.unit),c=s||"temporal"===a;return Qte(e)?r=e.expr:nne(e)?r=e.signal:gre(e)?(c=!0,r=kre(e)):(uE(e)||aE(e))&&c&&(r="datetime(".concat(C7(e),")"),function(e){return!!Are[e]}(s)&&(aE(e)&&e<1e4||uE(e)&&isNaN(Date.parse(e)))&&(r=kre(lu({},s,e)))),r?o&&c?"time(".concat(r,")"):r:u?void 0:C7(e)}function Eoe(e,t){var n=e.type;return t.map((function(t){var r=koe(t,{timeUnit:qae(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function Ooe(e,t){return Vte(e.bin)?Tte(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}var Soe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Aoe(e){return e&&e.condition}var Coe=["domain","grid","labels","ticks","title"],Doe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},joe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Toe=Object.assign(Object.assign({},joe),{style:1,labelExpr:1,encoding:1});function Foe(e){return!!Toe[e]}W7(Toe);var Poe=W7({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function Moe(e){return"mark"in e}var Noe=function(){function e(t,n){ru(this,e),this.name=t,this.run=n}return au(e,[{key:"hasMatchingType",value:function(e){return!!Moe(e)&&function(e){return Zie(e)?e.type:e}(e.mark)===this.name}}]),e}(),Roe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ioe(e,t){var n=e&&e[t];return!!n&&(fk(n)?F7(n,(function(e){return!!e.field})):qae(n)||Lae(n))}function Boe(e,t){var n=e&&e[t];return!!n&&(fk(n)?F7(n,(function(e){return!!e.field})):qae(n)||Hae(n)||Uae(n))}function zoe(e,t){if(wte(t)){var n=e[t];if((qae(n)||Hae(n))&&Zre(n.type))return Boe(e,pte(t))}return!1}function Loe(e){return F7(ite,(function(t){if(Ioe(e,t)){var n=e[t];if(fk(n))return F7(n,(function(e){return!!e.aggregate}));var r=poe(n);return r&&!!r.aggregate}return!1}))}function Uoe(e,t){var n=[],r=[],i=[],a=[],o={};return $oe(e,(function(u,s){if(qae(u)){var c=u.field,l=u.aggregate,f=u.bin,d=u.timeUnit,h=Roe(u,["field","aggregate","bin","timeUnit"]);if(l||d||f){var p,v=loe(u),m=null===v||void 0===v?void 0:v.title,g=noe(u,{forAs:!0}),y=Object.assign(Object.assign(Object.assign({},m?[]:{title:coe(u,t,{allowDisabling:!0})}),h),{field:g});if(l){if(zte(l)?(p="argmax",g=noe({op:"argmax",field:l.argmax},{forAs:!0}),y.field="".concat(g,".").concat(c)):Bte(l)?(p="argmin",g=noe({op:"argmin",field:l.argmin},{forAs:!0}),y.field="".concat(g,".").concat(c)):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(p=l),p){var b={op:p,as:g};c&&(b.field=c),a.push(b)}}else if(n.push(g),Yae(u)&&Vte(f)){if(r.push({bin:f,field:c,as:g}),n.push(noe(u,{binSuffix:"end"})),Ooe(u,s)&&n.push(noe(u,{binSuffix:"range"})),wte(s)){var x={field:"".concat(g,"_end")};o["".concat(s,"2")]=x}y.bin="binned",cte(s)||(y.type=Jre)}else if(d){i.push({timeUnit:d,field:c,as:g});var w=Yae(u)&&u.type!==tie&&"time";w&&(s===Uee||s===$ee?y.formatType=w:!function(e){return!!gte[e]}(s)?wte(s)&&(y.axis=Object.assign({formatType:w},y.axis)):y.legend=Object.assign({formatType:w},y.legend))}o[s]=y}else n.push(c),o[s]=e[s]}else o[s]=e[s]})),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function qoe(e,t,n,r){var i,a,o={},u=nu(W7(e));try{for(u.s();!(i=u.n()).done;){var s=i.value;ute(s)||mre("".concat(a=s,"-encoding is dropped as ").concat(a," is not a valid encoding channel."))}}catch(d){u.e(d)}finally{u.f()}var c,l=nu(mte);try{var f=function(){var i=c.value;if(!e[i])return"continue";var a=e[i];if(Ste(i)){var u=vte(i),s=o[u];if(qae(s)){if(function(e){return"quantitative"===e||"temporal"===e}(s.type)&&qae(a))return mre(function(e){return"".concat(e,"Offset dropped because ").concat(e," is continuous")}(u)),"continue"}else i=u,mre(function(e){return"There is no ".concat(e," encoding. Replacing ").concat(e,"Offset encoding as ").concat(e,".")}(u))}if("angle"!==i||"arc"!==t||e.theta||(mre("Arc marks uses theta channel rather than angle, replacing angle with theta."),i=Eee),!function(e,t,n){var r=Fte(t,n);if(!r)return!1;if("binned"===r){var i=e[t===yee?mee:gee];return!!(qae(i)&&qae(e[t])&&Gte(i.bin))}return!0}(e,i,t))return mre($ne(i,t)),"continue";if(i===Mee&&"line"===t){var l=poe(e[i]);if(null===l||void 0===l?void 0:l.aggregate)return mre("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),"continue"}if(i===jee&&(n?"fill"in e:"stroke"in e))return mre(Wne("encoding",{fill:"fill"in e,stroke:"stroke"in e})),"continue";if(i===Wee||i===qee&&!fk(a)&&!Kae(a)||i===$ee&&fk(a))a&&(o[i]=Rk(a).reduce((function(e,t){return qae(t)?e.push(yoe(t,i)):mre(Hne(t,i)),e}),[]));else{if(i===$ee&&null===a)o[i]=null;else if(!qae(a)&&!Hae(a)&&!Kae(a)&&!zae(a)&&!nne(a))return mre(Hne(a,i)),"continue";o[i]=moe(a,i,r)}};for(l.s();!(c=l.n()).done;)f()}catch(d){l.e(d)}finally{l.f()}return o}function Woe(e,t){var n,r={},i=nu(W7(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=moe(e[a],a,t,{compositeMark:!0});r[a]=o}}catch(u){i.e(u)}finally{i.f()}return r}function Hoe(e){var t,n=[],r=nu(W7(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(Ioe(e,i)){var a,o=nu(Rk(e[i]));try{for(o.s();!(a=o.n()).done;){var u=a.value;qae(u)?n.push(u):Lae(u)&&n.push(u.condition)}}catch(s){o.e(s)}finally{o.f()}}}}catch(s){r.e(s)}finally{r.f()}return n}function $oe(e,t,n){if(e){var r,i=nu(W7(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=e[a];if(fk(o)){var u,s=nu(o);try{for(s.s();!(u=s.n()).done;){var c=u.value;t.call(n,c,a)}}catch(l){s.e(l)}finally{s.f()}}else t.call(n,o,a)}}catch(l){i.e(l)}finally{i.f()}}}function Voe(e,t){return W7(t).reduce((function(n,r){switch(r){case mee:case gee:case Vee:case Yee:case Gee:case yee:case bee:case xee:case wee:case Eee:case Oee:case _ee:case kee:case See:case Aee:case Cee:case Dee:case Uee:case Pee:case Nee:case $ee:return n;case qee:if("line"===e||"trail"===e)return n;case Wee:case Hee:var i=t[r];if(fk(i)||qae(i)){var a,o=nu(Rk(i));try{for(o.s();!(a=o.n()).done;){var u=a.value;u.aggregate||n.push(noe(u,{}))}}catch(c){o.e(c)}finally{o.f()}}return n;case Mee:if("trail"===e)return n;case jee:case Tee:case Fee:case Ree:case Iee:case Bee:case Lee:case zee:var s=poe(t[r]);return s&&!s.aggregate&&n.push(noe(s,{})),n}}),[])}var Goe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Yoe(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=e.map((function(e){var n=e.fieldPrefix,i=e.titlePrefix,a=r?" of ".concat(Koe(t)):"";return{field:n+t.field,type:t.type,title:nne(i)?{signal:"".concat(i,'"').concat(escape(a),'"')}:i+a}})),a=Hoe(n).map(eoe);return{tooltip:[].concat(du(i),du(R7(a,D7)))}}function Koe(e){return iee(e.title,e.field)}function Xoe(e,t,n,r,i){var a=n.scale,o=n.axis;return function(u){var s=u.partName,c=u.mark,l=u.positionPrefix,f=u.endPositionPrefix,d=void 0===f?void 0:f,h=u.extraEncoding,p=void 0===h?{}:h,v=Koe(n);return Qoe(e,s,i,{mark:c,encoding:Object.assign(Object.assign(Object.assign(lu({},t,Object.assign(Object.assign(Object.assign({field:"".concat(l,"_").concat(n.field),type:n.type},void 0!==v?{title:v}:{}),void 0!==a?{scale:a}:{}),void 0!==o?{axis:o}:{})),uE(d)?lu({},"".concat(t,"2"),{field:"".concat(d,"_").concat(n.field)}):{}),r),p)})}}function Qoe(e,t,n,r){var i=e.clip,a=e.color,o=e.opacity,u=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),a?{color:a}:{}),o?{opacity:o}:{}),Zie(r.mark)?r.mark:{type:r.mark}),{style:"".concat(u,"-").concat(t)}),nE(e[t])?{}:e[t])})]:[]}function Zoe(e,t,n){var r=e.encoding,i="vertical"===t?"y":"x",a=r[i],o=r["".concat(i,"2")],u=r["".concat(i,"Error")],s=r["".concat(i,"Error2")];return{continuousAxisChannelDef:Joe(a,n),continuousAxisChannelDef2:Joe(o,n),continuousAxisChannelDefError:Joe(u,n),continuousAxisChannelDefError2:Joe(s,n),continuousAxis:i}}function Joe(e,t){if(null===e||void 0===e?void 0:e.aggregate){var n=e.aggregate,r=Goe(e,["aggregate"]);return n!==t&&mre(function(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}(n,t)),r}return e}function eue(e,t){var n=e.mark,r=e.encoding,i=r.x,a=r.y;if(Zie(n)&&n.orient)return n.orient;if($ae(i)){if($ae(a)){var o=qae(i)&&i.aggregate,u=qae(a)&&a.aggregate;if(o||u!==t){if(u||o!==t){if(o===t&&u===t)throw new Error("Both x and y cannot have aggregate");return _oe(a)&&!_oe(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if($ae(a))return"vertical";throw new Error("Need a valid continuous axis for ".concat(t,"s"))}var tue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nue="boxplot",rue=new Noe(nue,aue);function iue(e){return aE(e)?"tukey":e}function aue(e,t){var n,r,i=t.config,a=e=Object.assign(Object.assign({},e),{encoding:Woe(e.encoding,i)}),o=a.mark,u=(a.encoding,a.params),s=(a.projection,tue(e,["mark","encoding","params","projection"])),c=Zie(o)?o:{type:o};u&&mre(Pne("boxplot"));var l=null!==(n=c.extent)&&void 0!==n?n:i.boxplot.extent,f=gne("size",c,i),d=iue(l),h=function(e,t,n){var r=eue(e,nue),i=Zoe(e,r,nue),a=i.continuousAxisChannelDef,o=i.continuousAxis,u=a.field,s=iue(t),c=[].concat(du(oue(u)),[{op:"median",field:u,as:"mid_box_".concat(u)},{op:"min",field:u,as:("min-max"===s?"lower_whisker_":"min_")+u},{op:"max",field:u,as:("min-max"===s?"upper_whisker_":"max_")+u}]),l="min-max"===s||"tukey"===s?[]:[{calculate:'datum["upper_box_'.concat(u,'"] - datum["lower_box_').concat(u,'"]'),as:"iqr_".concat(u)},{calculate:'min(datum["upper_box_'.concat(u,'"] + datum["iqr_').concat(u,'"] * ').concat(t,', datum["max_').concat(u,'"])'),as:"upper_whisker_".concat(u)},{calculate:'max(datum["lower_box_'.concat(u,'"] - datum["iqr_').concat(u,'"] * ').concat(t,', datum["min_').concat(u,'"])'),as:"lower_whisker_".concat(u)}],f=e.encoding,d=o,h=(f[d],function(e){var t,n,r=e.tooltip,i=Goe(e,["tooltip"]);if(!r)return{filteredEncoding:i};if(fk(r)){var a,o=nu(r);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.aggregate?(t||(t=[]),t.push(u)):(n||(n=[]),n.push(u))}}catch(s){o.e(s)}finally{o.f()}t&&(i.tooltip=t)}else r.aggregate?i.tooltip=r:n=r;return fk(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}}(tue(f,["symbol"===typeof d?d:d+""]))),p=h.customTooltipWithoutAggregatedField,v=Uoe(h.filteredEncoding,n),m=v.bins,g=v.timeUnits,y=v.aggregate,b=v.groupby,x=v.encoding,w="vertical"===r?"horizontal":"vertical",_=r,k=[].concat(du(m),du(g),[{aggregate:[].concat(du(y),du(c)),groupby:b}],l);return{bins:m,timeUnits:g,transform:k,groupby:b,aggregate:y,continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:x,ticksOrient:w,boxOrient:_,customTooltipWithoutAggregatedField:p}}(e,l,i),p=h.bins,v=h.timeUnits,m=h.transform,g=h.continuousAxisChannelDef,y=h.continuousAxis,b=h.groupby,x=h.aggregate,w=h.encodingWithoutContinuousAxis,_=h.ticksOrient,k=h.boxOrient,E=h.customTooltipWithoutAggregatedField,O=w.color,S=w.size,A=tue(w,["color","size"]),C=function(e){return Xoe(c,y,g,e,i.boxplot)},D=C(A),j=C(w),T=C(Object.assign(Object.assign({},A),S?{size:S}:{})),F=Yoe([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],g,w),P={type:"tick",color:"black",opacity:1,orient:_,invalid:null,aria:!1},M="min-max"===d?F:Yoe([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,w),N=[].concat(du(D({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:M})),du(D({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:M})),du(D({partName:"ticks",mark:P,positionPrefix:"lower_whisker",extraEncoding:M})),du(D({partName:"ticks",mark:P,positionPrefix:"upper_whisker",extraEncoding:M}))),R=[].concat(du("tukey"!==d?N:[]),du(j({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:k,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:F})),du(T({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},dk(i.boxplot.median)&&i.boxplot.median.color?{color:i.boxplot.median.color}:{}),f?{size:f}:{}),{orient:_,aria:!1}),positionPrefix:"mid_box",extraEncoding:F})));if("min-max"===d)return Object.assign(Object.assign({},s),{transform:(null!==(r=s.transform)&&void 0!==r?r:[]).concat(m),layer:R});var I,B,z='datum["lower_box_'.concat(g.field,'"]'),L='datum["upper_box_'.concat(g.field,'"]'),U="(".concat(L," - ").concat(z,")"),q="".concat(z," - ").concat(l," * ").concat(U),W="".concat(L," + ").concat(l," * ").concat(U),H='datum["'.concat(g.field,'"]'),$={joinaggregate:oue(g.field),groupby:b},V={transform:[{filter:"(".concat(q," <= ").concat(H,") && (").concat(H," <= ").concat(W,")")},{aggregate:[{op:"min",field:g.field,as:"lower_whisker_".concat(g.field)},{op:"max",field:g.field,as:"upper_whisker_".concat(g.field)},{op:"min",field:"lower_box_".concat(g.field),as:"lower_box_".concat(g.field)},{op:"max",field:"upper_box_".concat(g.field),as:"upper_box_".concat(g.field)}].concat(du(x)),groupby:b}],layer:N},G=(A.tooltip,tue(A,["tooltip"])),Y=g.scale,K=g.axis,X=Koe(g),Q=A7(K,["title"]),Z=Qoe(c,"outliers",i.boxplot,{transform:[{filter:"(".concat(H," < ").concat(q,") || (").concat(H," > ").concat(W,")")}],mark:"point",encoding:Object.assign(Object.assign(Object.assign(lu({},y,Object.assign(Object.assign(Object.assign({field:g.field,type:g.type},void 0!==X?{title:X}:{}),void 0!==Y?{scale:Y}:{}),q7(Q)?{}:{axis:Q})),G),O?{color:O}:{}),E?{tooltip:E}:{})})[0],J=[].concat(du(p),du(v),[$]);Z?I={transform:J,layer:[Z,V]}:(B=(I=V).transform).unshift.apply(B,du(J));return Object.assign(Object.assign({},s),{layer:[I,{transform:m,layer:R}]})}function oue(e){return[{op:"q1",field:e,as:"lower_box_".concat(e)},{op:"q3",field:e,as:"upper_box_".concat(e)}]}var uue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sue="errorbar",cue=new Noe(sue,lue);function lue(e,t){var n=t.config,r=due(e=Object.assign(Object.assign({},e),{encoding:Woe(e.encoding,n)}),sue,n),i=r.transform,a=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.ticksOrient,c=r.markDef,l=r.outerSpec,f=r.tooltipEncoding;delete u.size;var d=Xoe(c,o,a,u,n.errorbar),h=c.thickness,p=c.size,v=Object.assign(Object.assign({type:"tick",orient:s,aria:!1},void 0!==h?{thickness:h}:{}),void 0!==p?{size:p}:{}),m=[].concat(du(d({partName:"ticks",mark:v,positionPrefix:"lower",extraEncoding:f})),du(d({partName:"ticks",mark:v,positionPrefix:"upper",extraEncoding:f})),du(d({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==h?{size:h}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},l),{transform:i}),m.length>1?{layer:m}:Object.assign({},m[0]))}function fue(e,t){var n=e.encoding;if(function(e){return(Gae(e.x)||Gae(e.y))&&!Gae(e.x2)&&!Gae(e.y2)&&!Gae(e.xError)&&!Gae(e.xError2)&&!Gae(e.yError)&&!Gae(e.yError2)}(n))return{orient:eue(e,t),inputType:"raw"};var r=function(e){return Gae(e.x2)||Gae(e.y2)}(n),i=function(e){return Gae(e.xError)||Gae(e.xError2)||Gae(e.yError)||Gae(e.yError2)}(n),a=n.x,o=n.y;if(r){if(i)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var u=n.x2,s=n.y2;if(Gae(u)&&Gae(s))throw new Error("".concat(t," cannot have both x2 and y2"));if(Gae(u)){if($ae(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(Gae(s)){if($ae(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var c=n.xError,l=n.xError2,f=n.yError,d=n.yError2;if(Gae(l)&&!Gae(c))throw new Error("".concat(t," cannot have xError2 without xError"));if(Gae(d)&&!Gae(f))throw new Error("".concat(t," cannot have yError2 without yError"));if(Gae(c)&&Gae(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(Gae(c)){if($ae(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Gae(f)){if($ae(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function due(e,t,n){var r,i=e.mark,a=e.encoding,o=e.params,u=(e.projection,uue(e,["mark","encoding","params","projection"])),s=Zie(i)?i:{type:i};o&&mre(Pne(t));var c=fue(e,t),l=c.orient,f=c.inputType,d=Zoe(e,l,t),h=d.continuousAxisChannelDef,p=d.continuousAxisChannelDef2,v=d.continuousAxisChannelDefError,m=d.continuousAxisChannelDefError2,g=d.continuousAxis,y=function(e,t,n,r,i,a,o,u){var s,c=[],l=[],f=t.field,d=!1;if("raw"===a){var h,p,v,m=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":u.errorbar.center,g=e.extent?e.extent:"mean"===m?"stderr":"iqr";if("median"===m!==("iqr"===g)&&mre(function(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}(m,g,o)),"stderr"===g||"stdev"===g)c=[{op:g,field:f,as:"extent_".concat(f)},{op:m,field:f,as:"center_".concat(f)}],l=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_".concat(f)},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_".concat(f)}],s=[{fieldPrefix:"center_",titlePrefix:X7(m)},{fieldPrefix:"upper_",titlePrefix:hue(m,g,"+")},{fieldPrefix:"lower_",titlePrefix:hue(m,g,"-")}],d=!0;else"ci"===g?(h="mean",p="ci0",v="ci1"):(h="median",p="q1",v="q3"),c=[{op:p,field:f,as:"lower_".concat(f)},{op:v,field:f,as:"upper_".concat(f)},{op:h,field:f,as:"center_".concat(f)}],s=[{fieldPrefix:"upper_",titlePrefix:coe({field:f,aggregate:v,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:coe({field:f,aggregate:p,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:coe({field:f,aggregate:h,type:"quantitative"},u,{allowDisabling:!1})}]}else{(e.center||e.extent)&&mre(function(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}(e.center,e.extent)),"aggregated-upper-lower"===a?(s=[],l=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_".concat(f)},{calculate:'datum["'.concat(f,'"]'),as:"lower_".concat(f)}]):"aggregated-error"===a&&(s=[{fieldPrefix:"",titlePrefix:f}],l=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_".concat(f)}],i?l.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_".concat(f)}):l.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_".concat(f)}));var y,b=nu(l);try{for(b.s();!(y=b.n()).done;){var x=y.value;s.push({fieldPrefix:x.as.substring(0,6),titlePrefix:tee(tee(x.calculate,'datum["',""),'"]',"")})}}catch(w){b.e(w)}finally{b.f()}}return{postAggregateCalculates:l,errorBarSpecificAggregate:c,tooltipSummary:s,tooltipTitleWithFieldName:d}}(s,h,p,v,m,f,t,n),b=y.errorBarSpecificAggregate,x=y.postAggregateCalculates,w=y.tooltipSummary,_=y.tooltipTitleWithFieldName,k=a,E=g,O=(k[E],"x"===g?"x2":"y2"),S=(k[O],"x"===g?"xError":"yError"),A=(k[S],"x"===g?"xError2":"yError2"),C=(k[A],Uoe(uue(k,["symbol"===typeof E?E:E+"","symbol"===typeof O?O:O+"","symbol"===typeof S?S:S+"","symbol"===typeof A?A:A+""]),n)),D=C.bins,j=C.timeUnits,T=C.aggregate,F=C.groupby,P=C.encoding,M=[].concat(du(T),du(b)),N="raw"!==f?[]:F,R=Yoe(w,h,P,_);return{transform:[].concat(du(null!==(r=u.transform)&&void 0!==r?r:[]),du(D),du(j),du(0===M.length?[]:[{aggregate:M,groupby:N}]),du(x)),groupby:N,continuousAxisChannelDef:h,continuousAxis:g,encodingWithoutContinuousAxis:P,ticksOrient:"vertical"===l?"horizontal":"vertical",markDef:s,outerSpec:u,tooltipEncoding:R}}function hue(e,t,n){return"".concat(X7(e)," ").concat(n," ").concat(t)}var pue="errorband",vue=new Noe(pue,mue);function mue(e,t){var n=t.config,r=due(e=Object.assign(Object.assign({},e),{encoding:Woe(e.encoding,n)}),pue,n),i=r.transform,a=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.markDef,c=r.outerSpec,l=r.tooltipEncoding,f=s,d=Xoe(f,o,a,u,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y,p={type:h?"area":"rect"},v={type:h?"line":"rule"},m=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return h?(p=Object.assign(Object.assign(Object.assign({},p),m),{ariaRoleDescription:"errorband"}),v=Object.assign(Object.assign(Object.assign({},v),m),{aria:!1})):f.interpolate?mre(cre("interpolate")):f.tension&&mre(cre("tension")),Object.assign(Object.assign({},c),{transform:i,layer:[].concat(du(d({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})),du(d({partName:"borders",mark:v,positionPrefix:"lower",extraEncoding:l})),du(d({partName:"borders",mark:v,positionPrefix:"upper",extraEncoding:l})))})}var gue={};function yue(e,t,n){var r=new Noe(e,t);gue[e]={normalizer:r,parts:n}}yue(nue,aue,["box","median","outliers","rule","ticks"]),yue(sue,lue,["ticks","rule"]),yue(pue,mue,["band","borders"]);var bue=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],xue={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},wue={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},_ue=W7(xue),kue=W7(wue),Eue=W7({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Oue=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],Sue={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Aue=(W7(Sue),"_vgsid_"),Cue={point:{on:"click",fields:[Aue],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Due(e){return!!e&&("legend"===e||!!e.legend)}function jue(e){return Due(e)&&dk(e)}function Tue(e){return!!e.select}var Fue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Pue(e){var t,n=[],r=nu(e||[]);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!Tue(i)){var a=i.expr,o=i.bind,u=Fue(i,["expr","bind"]);if(o&&a){var s=Object.assign(Object.assign({},u),{bind:o,init:a});n.push(s)}else{var c=Object.assign(Object.assign(Object.assign({},u),a?{update:a}:{}),o?{bind:o}:{});n.push(c)}}}}catch(l){r.e(l)}finally{r.f()}return n}function Mue(e){return"concat"in e}function Nue(e){return"vconcat"in e}function Rue(e){return"hconcat"in e}function Iue(e){var t,n=e.step;return e.offsetIsDiscrete?null!==(t=n.for)&&void 0!==t?t:"offset":"position"}function Bue(e){return dk(e)&&void 0!==e.step}function zue(e){return e.view||e.width||e.height}var Lue=W7({align:1,bounds:1,center:1,columns:1,spacing:1});var Uue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function que(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function Wue(e,t){var n=Hue(e,t);return Bue(n)?n.step:$ue}function Hue(e,t){var n;return iee(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var $ue=20;var Vue={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:$ue},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:iae,circle:{},geoshape:{},image:{},line:{},point:{},rect:aae,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Cue,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},Gue=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Yue={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Kue={blue:Gue[0],orange:Gue[1],red:Gue[2],teal:Gue[3],green:Gue[4],yellow:Gue[5],purple:Gue[6],pink:Gue[7],brown:Gue[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function Xue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:dk(e)?Object.assign(Object.assign({},Kue),e):Kue}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Que(e){return{signals:[{name:"fontSize",value:dk(e)?Object.assign(Object.assign({},Yue),e):Yue}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function Zue(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function Jue(e){var t,n={},r=nu(W7(e||{}));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e[i];n[i]=Aoe(a)?cne(a):lne(a)}}catch(o){r.e(o)}finally{r.f()}return n}function ese(e){var t,n={},r=nu(W7(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i]=Jue(e[i])}}catch(a){r.e(a)}finally{r.f()}return n}var tse=[].concat(du(tae),du(Poe),du(Eue),["background","padding","legend","lineBreak","scale","style","title","view"]);function nse(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,r=e.fontSize,i=e.selection,a=Uue(e,["color","font","fontSize","selection"]),o=pk({},E7(Vue),n?Zue(n):{},t?Xue(t):{},r?Que(r):{},a||{});i&&vk(o,"selection",i,!0);for(var u=A7(o,tse),s=0,c=["background","lineBreak","padding"];s<c.length;s++){var l=c[s];o[l]&&(u[l]=lne(o[l]))}var f,d=nu(tae);try{for(d.s();!(f=d.n()).done;){var h=f.value;o[h]&&(u[h]=Zte(o[h]))}}catch(x){d.e(x)}finally{d.f()}var p,v=nu(Poe);try{for(v.s();!(p=v.n()).done;){var m=p.value;o[m]&&(u[m]=Jue(o[m]))}}catch(x){v.e(x)}finally{v.f()}var g,y=nu(Eue);try{for(y.s();!(g=y.n()).done;){var b=g.value;o[b]&&(u[b]=Zte(o[b]))}}catch(x){y.e(x)}finally{y.f()}return o.legend&&(u.legend=Zte(o.legend)),o.scale&&(u.scale=Zte(o.scale)),o.style&&(u.style=ese(o.style)),o.title&&(u.title=Zte(o.title)),o.view&&(u.view=Zte(o.view)),u}var rse=new Set(["view"].concat(du(Qie))),ise=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],ase=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function ose(e){e=E7(e);var t,n=nu(ise);try{for(n.s();!(t=n.n()).done;){delete e[t.value]}}catch(k){n.e(k)}finally{n.f()}if(e.axis)for(var r in e.axis)Aoe(e.axis[r])&&delete e.axis[r];if(e.legend){var i,a=nu(bue);try{for(a.s();!(i=a.n()).done;){var o=i.value;delete e.legend[o]}}catch(k){a.e(k)}finally{a.f()}}if(e.mark){var u,s=nu(eae);try{for(s.s();!(u=s.n()).done;){var c=u.value;delete e.mark[c]}}catch(k){s.e(k)}finally{s.f()}e.mark.tooltip&&dk(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Pue(e.params)),delete e.params);var l,f=nu(rse);try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=nu(eae);try{for(p.s();!(d=p.n()).done;){var v=d.value;delete e[h][v]}}catch(k){p.e(k)}finally{p.f()}var m=ase[h];if(m){var g,y=nu(m);try{for(y.s();!(g=y.n()).done;){var b=g.value;delete e[h][b]}}catch(k){y.e(k)}finally{y.f()}}use(e,h)}}catch(k){f.e(k)}finally{f.f()}var x,w=nu(W7(gue));try{for(w.s();!(x=w.n()).done;){delete e[x.value]}}catch(k){w.e(k)}finally{w.f()}for(var _ in function(e){var t=ene(e.title),n=t.titleMarkConfig,r=t.subtitleMarkConfig,i=t.subtitle;q7(n)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),n));q7(r)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),r));q7(i)?delete e.title:e.title=i}(e),e)dk(e[_])&&q7(e[_])&&delete e[_];return q7(e)?void 0:e}function use(e,t,n,r){var i=r?e[t][r]:e[t];"view"===t&&(n="cell");var a=Object.assign(Object.assign({},i),e.style[null!==n&&void 0!==n?n:t]);q7(a)||(e.style[null!==n&&void 0!==n?n:t]=a),r||delete e[t]}function sse(e){return"layer"in e}function cse(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xm(e)););return e}function lse(){return lse="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=cse(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},lse.apply(this,arguments)}var fse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},dse=function(){function e(){ru(this,e)}return au(e,[{key:"map",value:function(e,t){return Fae(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):Rue(e)?this.mapHConcat(e,t):Nue(e)?this.mapVConcat(e,t):Mue(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(sse(e))return this.mapLayer(e,t);if(Moe(e))return this.mapUnit(e,t);throw new Error(One(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,i=fse(e,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),hse={zero:1,center:1,normalize:1};function pse(e){return e in hse}var vse=new Set([Nie,Iie,Rie,qie,Lie,Vie,Gie,zie,Wie,Hie]),mse=new Set([Iie,Rie,Nie]);function gse(e){return qae(e)&&"quantitative"===Wae(e)&&!e.bin}function yse(e,t){var n,r,i="x"===t?"y":"radius",a=e[t],o=e[i];if(qae(a)&&qae(o))if(gse(a)&&gse(o)){if(a.stack)return t;if(o.stack)return i;var u=qae(a)&&!!a.aggregate;if(u!==(qae(o)&&!!o.aggregate))return u?t:i;var s=null===(n=a.scale)||void 0===n?void 0:n.type,c=null===(r=o.scale)||void 0===r?void 0:r.type;if(s&&"linear"!==s)return i;if(c&&"linear"!==c)return t}else{if(gse(a))return t;if(gse(o))return i}else{if(gse(a))return t;if(gse(o))return i}}function bse(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function xse(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Zie(e)?e.type:e;if(!vse.has(a))return null;var o=yse(t,"x")||yse(t,"theta");if(!o)return null;var u=t[o],s=qae(u)?noe(u,{}):void 0,c=bse(o),l=[],f=new Set;if(t[c]){var d=t[c],h=qae(d)?noe(d,{}):void 0;h&&h!==s&&(l.push(c),f.add(h));var p="x"===c?"xOffset":"yOffset",v=t[p],m=qae(v)?noe(v,{}):void 0;m&&m!==s&&(l.push(p),f.add(m))}var g,y=yte.reduce((function(e,n){if("tooltip"!==n&&Ioe(t,n)){var r,i=nu(Rk(t[n]));try{for(i.s();!(r=i.n()).done;){var a=poe(r.value);if(!a.aggregate){var o=noe(a,{});o&&f.has(o)||e.push({channel:n,fieldDef:a})}}}catch(u){i.e(u)}finally{i.f()}}return e}),[]);if(void 0!==u.stack?g=nE(u.stack)?u.stack?"zero":null:u.stack:mse.has(a)&&(g="zero"),!g||!pse(g))return null;if(Loe(t)&&0===y.length)return null;if((null===(n=null===u||void 0===u?void 0:u.scale)||void 0===n?void 0:n.type)&&(null===(r=null===u||void 0===u?void 0:u.scale)||void 0===r?void 0:r.type)!==oie){if(i.disallowNonLinearStack)return null;mre(ore(u.scale.type))}return Gae(t[dte(o)])?(void 0!==u.stack&&mre(are(o)),null):(qae(u)&&u.aggregate&&!Wte.has(u.aggregate)&&mre(ure(u.aggregate)),{groupbyChannels:l,groupbyFields:f,fieldChannel:o,impute:null!==u.impute&&Kie(a),stackBy:y,offset:g})}var wse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function _se(e){e.point,e.line;var t=wse(e,["point","line"]);return W7(t).length>1?t:t.type}function kse(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),lu({},r,A7(e[r],["point","line"]))))}return e}function Ese(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?dk(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?dk(t.point)?t.point:{}:void 0}function Ose(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var Sse=function(){function e(){ru(this,e),this.name="path-overlay"}return au(e,[{key:"hasMatchingType",value:function(e,t){if(Moe(e)){var n=e.mark,r=e.encoding,i=Zie(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!Ese(i,t[i.type],r);case"area":return!!Ese(i,t[i.type],r)||!!Ose(i,t[i.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,i=e.params,a=e.projection,o=e.mark,u=e.encoding,s=wse(e,["params","projection","mark","encoding"]),c=Woe(u,r),l=Zie(o)?o:{type:o},f=Ese(l,r[l.type],c),d="area"===l.type&&Ose(l,r[l.type]),h=[Object.assign(Object.assign({},i?{params:i}:{}),{mark:_se(Object.assign(Object.assign({},"area"===l.type&&void 0===l.opacity&&void 0===l.fillOpacity?{opacity:.7}:{}),l)),encoding:A7(c,["shape"])})],p=xse(l,c),v=c;if(p){var m=p.fieldChannel,g=p.offset;v=Object.assign(Object.assign({},c),lu({},m,Object.assign(Object.assign({},c[m]),g?{stack:g}:{})))}return d&&h.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"line"},S7(l,["clip","interpolate","tension","tooltip"])),d),encoding:v})),f&&h.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},S7(l,["clip","tooltip"])),f),encoding:v})),n(Object.assign(Object.assign({},s),{layer:h}),Object.assign(Object.assign({},t),{config:kse(r)}))}}]),e}(),Ase=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Cse(e,t){return t?jae(e)?Mse(e,t):Tse(e,t):e}function Dse(e,t){return t?Mse(e,t):e}function jse(e,t,n){var r=t[e];return function(e){return e&&!uE(e)&&"repeat"in e}(r)?r.repeat in n?Object.assign(Object.assign({},t),lu({},e,n[r.repeat])):void mre(function(e){return'Unknown repeated value "'.concat(e,'".')}(r.repeat)):t}function Tse(e,t){if(void 0!==(e=jse("field",e,t))){if(null===e)return null;if(Nae(e)&&Cae(e.sort)){var n=jse("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function Fse(e,t){if(qae(e))return Tse(e,t);var n=jse("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function Pse(e,t){if(!Gae(e)){if(Uae(e)){var n=Fse(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});e.condition;return Ase(e,["condition"])}return e}var r=Fse(e,t);return r||(zae(e)?{condition:e.condition}:void 0)}function Mse(e,t){var n={};for(var r in e)if(Xk(e,r)){var i=e[r];if(fk(i))n[r]=i.map((function(e){return Pse(e,t)})).filter((function(e){return e}));else{var a=Pse(i,t);void 0!==a&&(n[r]=a)}}return n}var Nse=function(){function e(){ru(this,e),this.name="RuleForRangedLine"}return au(e,[{key:"hasMatchingType",value:function(e){if(Moe(e)){var t=e.encoding,n=e.mark;if("line"===n||Zie(n)&&"line"===n.type){var r,i=nu(ste);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t[lte(a)];if(t[a]&&(qae(o)&&!Gte(o.bin)||Hae(o)))return!0}}catch(u){i.e(u)}finally{i.f()}}}return!1}},{key:"run",value:function(e,t,n){var r,i,a=e.encoding,o=e.mark;return mre((r=!!a.x2,i=!!a.y2,"Line mark is for continuous lines and thus cannot be used with ".concat(r&&i?"x2 and y2":r?"x2":"y2",". We will use the rule mark (line segments) instead."))),n(Object.assign(Object.assign({},e),{mark:dk(o)?Object.assign(Object.assign({},o),{type:"rule"}):"rule"}),t)}}]),e}(),Rse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ise=function(e){bm(n,e);var t=Em(n);function n(){var e;return ru(this,n),(e=t.apply(this,arguments)).nonFacetUnitNormalizers=[rue,cue,vue,new Sse,new Nse],e}return au(n,[{key:"map",value:function(e,t){if(Moe(e)){var r=Ioe(e.encoding,hee),i=Ioe(e.encoding,pee),a=Ioe(e.encoding,vee);if(r||i||a)return this.mapFacetedUnit(e,t)}return lse(xm(n.prototype),"map",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection,i=Dse(e.encoding,t.repeater),a=Object.assign(Object.assign({},e),i?{encoding:i}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(a,t);var o,u=this.mapLayerOrUnit.bind(this),s=nu(this.nonFacetUnitNormalizers);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c.hasMatchingType(a,t.config))return c.run(a,t,u)}}catch(l){s.e(l)}finally{s.f()}return a}},{key:"mapRepeat",value:function(e,t){return function(e){return!fk(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,r=e.repeat,i=e.spec,a=Rse(e,["repeat","spec"]),o=r.row,u=r.column,s=r.layer,c=t.repeater,l=void 0===c?{}:c,f=t.repeaterPrefix,d=void 0===f?"":f;return o||u?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),u?{column:u}:{}),spec:{repeat:{layer:s},spec:i}}),t):Object.assign(Object.assign({},a),{layer:s.map((function(e){var r=Object.assign(Object.assign({},l),{layer:e}),a="".concat((i.name||"")+d,"child__layer_").concat(G7(e)),o=n.mapLayerOrUnit(i,Object.assign(Object.assign({},t),{repeater:r,repeaterPrefix:a}));return o.name=a,o}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,r=e,i=r.repeat,a=r.spec,o=r.data,u=Rse(e,["repeat","spec","data"]);!fk(i)&&e.columns&&(e=A7(e,["columns"]),mre(Nne("repeat")));var s,c=[],l=t.repeater,f=void 0===l?{}:l,d=t.repeaterPrefix,h=void 0===d?"":d,p=!fk(i)&&i.row||[f?f.row:null],v=!fk(i)&&i.column||[f?f.column:null],m=nu(fk(i)&&i||[f?f.repeat:null]);try{for(m.s();!(s=m.n()).done;){var g,y=s.value,b=nu(p);try{for(b.s();!(g=b.n()).done;){var x,w=g.value,_=nu(v);try{for(_.s();!(x=_.n()).done;){var k=x.value,E={repeat:y,row:w,column:k,layer:f.layer},O=(a.name||"")+h+"child__"+(fk(i)?"".concat(G7(y)):(i.row?"row_".concat(G7(w)):"")+(i.column?"column_".concat(G7(k)):"")),S=this.map(a,Object.assign(Object.assign({},t),{repeater:E,repeaterPrefix:O}));S.name=O,c.push(A7(S,["data"]))}}catch(C){_.e(C)}finally{_.f()}}}catch(C){b.e(C)}finally{b.f()}}}catch(C){m.e(C)}finally{m.f()}var A=fk(i)?e.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:null!==(n=a.data)&&void 0!==n?n:o,align:"all"},u),{columns:A,concat:c})}},{key:"mapFacet",value:function(e,t){return jae(e.facet)&&e.columns&&(e=A7(e,["columns"]),mre(Nne("facet"))),lse(xm(n.prototype),"mapFacet",this).call(this,e,t)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,i=t.parentEncoding,a=t.parentProjection,o=t.config,u=zse({parentProjection:a,projection:r}),s=Bse({parentEncoding:i,encoding:Dse(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),u?{projection:u}:{}),s?{encoding:s}:{}),{config:o})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,i=n.column,a=n.facet,o=Rse(n,["row","column","facet"]),u=e.mark,s=e.width,c=e.projection,l=e.height,f=e.view,d=e.params,h=(e.encoding,Rse(e,["mark","width","projection","height","view","params","encoding"])),p=this.getFacetMappingAndLayout({row:r,column:i,facet:a},t),v=p.facetMapping,m=p.layout,g=Dse(o,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),m),{facet:v,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{width:s}:{}),l?{height:l}:{}),f?{view:f}:{}),c?{projection:c}:{}),{mark:u,encoding:g}),d?{params:d}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,r=e.row,i=e.column,a=e.facet;if(r||i){a&&mre((m=[].concat(du(r?[hee]:[]),du(i?[pee]:[])),"Facet encoding dropped as ".concat(m.join(" and ")," ").concat(m.length>1?"are":"is"," also specified.")));for(var o={},u={},s=0,c=[hee,pee];s<c.length;s++){var l=c[s],f=e[l];if(f){f.align,f.center,f.spacing,f.columns;var d=Rse(f,["align","center","spacing","columns"]);o[l]=d;for(var h=0,p=["align","center","spacing"];h<p.length;h++){var v=p[h];void 0!==f[v]&&(null!==(n=u[v])&&void 0!==n||(u[v]={}),u[v][l]=f[v])}}}return{facetMapping:o,layout:u}}var m,g=a.align,y=a.center,b=a.spacing,x=a.columns;return{facetMapping:Cse(Rse(a,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},g?{align:g}:{}),y?{center:y}:{}),b?{spacing:b}:{}),x?{columns:x}:{})}}},{key:"mapLayer",value:function(e,t){var r=t.parentEncoding,i=t.parentProjection,a=Rse(t,["parentEncoding","parentProjection"]),o=e.encoding,u=e.projection,s=Rse(e,["encoding","projection"]),c=Object.assign(Object.assign({},a),{parentEncoding:Bse({parentEncoding:r,encoding:o,layer:!0}),parentProjection:zse({parentProjection:i,projection:u})});return lse(xm(n.prototype),"mapLayer",this).call(this,s,c)}}]),n}(dse);function Bse(e){var t=e.parentEncoding,n=e.encoding,r=void 0===n?{}:n,i=e.layer,a={};if(t){var o,u=nu(new Set([].concat(du(W7(t)),du(W7(r)))));try{for(u.s();!(o=u.n()).done;){var s=o.value,c=r[s],l=t[s];if(Gae(c)){var f=Object.assign(Object.assign({},l),c);a[s]=f}else Uae(c)?a[s]=Object.assign(Object.assign({},c),{condition:Object.assign(Object.assign({},l),c.condition)}):c||null===c?a[s]=c:(i||Kae(l)||nne(l)||Gae(l)||fk(l))&&(a[s]=l)}}catch(d){u.e(d)}finally{u.f()}}else a=r;return!a||q7(a)?void 0:a}function zse(e){var t=e.parentProjection,n=e.projection;return t&&n&&mre(function(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(C7(t)," is overridden by a child projection ").concat(C7(n),".")}({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function Lse(e){return"filter"in e}function Use(e){return void 0!==(null===e||void 0===e?void 0:e.stop)}function qse(e){return"lookup"in e}function Wse(e){return"pivot"in e}function Hse(e){return"density"in e}function $se(e){return"quantile"in e}function Vse(e){return"regression"in e}function Gse(e){return"loess"in e}function Yse(e){return"sample"in e}function Kse(e){return"window"in e}function Xse(e){return"joinaggregate"in e}function Qse(e){return"flatten"in e}function Zse(e){return"calculate"in e}function Jse(e){return"bin"in e}function ece(e){return"impute"in e}function tce(e){return"timeUnit"in e}function nce(e){return"aggregate"in e}function rce(e){return"stack"in e}function ice(e){return"fold"in e}var ace=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oce=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"map",value:function(e,t){var r,i;return null!==(r=t.emptySelections)&&void 0!==r||(t.emptySelections={}),null!==(i=t.selectionPredicates)&&void 0!==i||(t.selectionPredicates={}),e=uce(e,t),lse(xm(n.prototype),"map",this).call(this,e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if((e=uce(e,t)).encoding){var r,i={},a=nu($7(e.encoding));try{for(a.s();!(r=a.n()).done;){var o=C(r.value,2),u=o[0],s=o[1];i[u]=sce(s,t)}}catch(c){a.e(c)}finally{a.f()}e=Object.assign(Object.assign({},e),{encoding:i})}return lse(xm(n.prototype),"mapLayerOrUnit",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=e,r=n.selection,i=ace(n,["selection"]);return r?Object.assign(Object.assign({},i),{params:$7(r).map((function(e){var n,r=C(e,2),i=r[0],a=r[1],o=a.init,u=a.bind,s=a.empty,c=ace(a,["init","bind","empty"]);"single"===c.type?(c.type="point",c.toggle=!1):"multi"===c.type&&(c.type="point"),t.emptySelections[i]="none"!==s;var l,f=nu(H7(null!==(n=t.selectionPredicates[i])&&void 0!==n?n:{}));try{for(f.s();!(l=f.n()).done;){l.value.empty="none"!==s}}catch(d){f.e(d)}finally{f.f()}return{name:i,value:o,select:c,bind:u}}))}):e}}]),n}(dse);function uce(e,t){var n=e.transform,r=ace(e,["transform"]);if(n){var i=n.map((function(e){if(Lse(e))return{filter:lce(e,t)};if(Jse(e)&&Yte(e.bin))return Object.assign(Object.assign({},e),{bin:cce(e.bin)});if(qse(e)){var n=e.from,r=n.selection,i=ace(n,["selection"]);return r?Object.assign(Object.assign({},e),{from:Object.assign({param:r},i)}):e}return e}));return Object.assign(Object.assign({},r),{transform:i})}return e}function sce(e,t){var n,r,i=E7(e);if(qae(i)&&Yte(i.bin)&&(i.bin=cce(i.bin)),Xae(i)&&(null===(r=null===(n=i.scale)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.selection)){var a=i.scale.domain,o=a.selection,u=ace(a,["selection"]);i.scale.domain=Object.assign(Object.assign({},u),o?{param:o}:{})}if(zae(i))if(fk(i.condition))i.condition=i.condition.map((function(e){e.selection;var n=e.param,r=(e.test,ace(e,["selection","param","test"]));return n?e:Object.assign(Object.assign({},r),{test:lce(e,t)})}));else{var s=sce(i.condition,t),c=(s.selection,s.param),l=(s.test,ace(s,["selection","param","test"]));i.condition=c?i.condition:Object.assign(Object.assign({},l),{test:lce(i.condition,t)})}return i}function cce(e){var t=e.extent;if(null===t||void 0===t?void 0:t.selection){var n=t.selection,r=ace(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},r),{param:n})})}return e}function lce(e,t){var n=function(e){return _7(e,(function(e){var n,r,i,a={param:e,empty:null===(n=t.emptySelections[e])||void 0===n||n};return null!==(r=(i=t.selectionPredicates)[e])&&void 0!==r||(i[e]=[]),t.selectionPredicates[e].push(a),a}))};return e.selection?n(e.selection):_7(e.test||e.filter,(function(e){return e.selection?n(e.selection):e}))}for(var fce=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"map",value:function(e,t){var r,i=null!==(r=t.selections)&&void 0!==r?r:[];if(e.params&&!Moe(e)){var a,o=[],u=nu(e.params);try{for(u.s();!(a=u.n()).done;){var s=a.value;Tue(s)?i.push(s):o.push(s)}}catch(c){u.e(c)}finally{u.f()}e.params=o}return t.selections=i,lse(xm(n.prototype),"map",this).call(this,e,vce(e,t))}},{key:"mapUnit",value:function(e,t){var n,r=t.selections;if(!r||!r.length)return e;var i,a=(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name),o=[],u=nu(r);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(s.views&&s.views.length){var c,l=nu(s.views);try{for(l.s();!(c=l.n()).done;){var f=c.value;(uE(f)&&(f===e.name||a.indexOf(f)>=0)||fk(f)&&f.map((function(e){return a.indexOf(e)})).every((function(e,t,n){return-1!==e&&(0===t||e>n[t-1])})))&&o.push(s)}}catch(d){l.e(d)}finally{l.f()}}else o.push(s)}}catch(d){u.e(d)}finally{u.f()}return o.length&&(e.params=o),e}}]),n}(dse),dce=function(){var e=pce[hce],t=fce.prototype[e];fce.prototype[e]=function(e,n){return t.call(this,e,vce(e,n))}},hce=0,pce=["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"];hce<pce.length;hce++)dce();function vce(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name)}):t}function mce(e,t){void 0===t&&(t=nse(e.config));var n=function(e){var t={config:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return bce.map(gce.map(yce.map(e,t),t),t)}(e,t),r=function(e,t,n){var r=t.width,i=t.height,a=Moe(e)||sse(e),o={};a?"container"==r&&"container"==i?(o.type="fit",o.contains="padding"):"container"==r?(o.type="fit-x",o.contains="padding"):"container"==i&&(o.type="fit-y",o.contains="padding"):("container"==r&&(mre(Ane("width")),r=void 0),"container"==i&&(mre(Ane("height")),i=void 0));var u=Object.assign(Object.assign(Object.assign({type:"pad"},o),n?xce(n.autosize):{}),xce(e.autosize));"fit"!==u.type||a||(mre(Sne),u.type="pad");"container"==r&&"fit"!=u.type&&"fit-x"!=u.type&&mre(Cne("width"));"container"==i&&"fit"!=u.type&&"fit-y"!=u.type&&mre(Cne("height"));if(k7(u,{type:"pad"}))return;return u}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var gce=new Ise,yce=new oce,bce=new fce;function xce(e){return uE(e)?{type:e}:null!==e&&void 0!==e?e:{}}var wce=["background","padding"];function _ce(e,t){var n,r={},i=nu(wce);try{for(i.s();!(n=i.n()).done;){var a=n.value;e&&void 0!==e[a]&&(r[a]=lne(e[a]))}}catch(o){i.e(o)}finally{i.f()}return t&&(r.params=e.params),r}var kce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ru(this,e),this.explicit=t,this.implicit=n}return au(e,[{key:"clone",value:function(){return new e(E7(this.explicit),E7(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return iee(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){var n=t.value,r=t.explicit;void 0!==n&&this.set(e,n,r)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){var n=t.explicit,r=t.implicit;void 0!==n[e]?this.set(e,n[e],!0):void 0!==r[e]&&this.set(e,r[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t,n=nu(W7(e.combine()));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=e.getWithExplicit(r);this.setWithExplicit(r,i)}}catch(a){n.e(a)}finally{n.f()}}}]),e}();function Ece(e){return{explicit:!0,value:e}}function Oce(e){return{explicit:!1,value:e}}function Sce(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:Ace(t,n,r,i)}}function Ace(e,t,n,r){return e.explicit&&t.explicit&&mre(function(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(C7(n)," and ").concat(C7(r),"). Using ").concat(C7(n),".")}(n,r,e.value,t.value)),e}function Cce(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ace;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:k7(e.value,t.value)?e:i(e,t,n,r)}var Dce,jce=function(e){bm(n,e);var t=Em(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ru(this,n),(e=t.call(this,r,i)).explicit=r,e.implicit=i,e.parseNothing=a,e}return au(n,[{key:"clone",value:function(){var e=lse(xm(n.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),n}(kce);function Tce(e){return"url"in e}function Fce(e){return"values"in e}function Pce(e){return"name"in e&&!Tce(e)&&!Fce(e)&&!Mce(e)}function Mce(e){return e&&(Nce(e)||Rce(e)||Ice(e))}function Nce(e){return"sequence"in e}function Rce(e){return"sphere"in e}function Ice(e){return"graticule"in e}!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(Dce||(Dce={}));var Bce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function zce(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J_;if(fk(e)){var r=e.map((function(e){return zce(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return gre(e)?n(t?kre(e):Ore(e)):t?n(C7(e)):e}function Lce(e,t){var n,r,i=nu(H7(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var a,o=r.value,u=nu(nfe);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.defined(o)&&s.marks&&(t=s.marks(e,o,t))}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return t}function Uce(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var qce=function(){function e(t,n){ru(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return au(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.includes(e)?mre("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e,t=this._parent.removeChild(this),n=nu(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;r._parent=this._parent,this._parent.addChild(r,t++)}}catch(i){n.e(i)}finally{n.f()}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e,t=this._parent,n=t.parent,r=nu(this._children);try{for(r.s();!(e=r.n()).done;){e.value.parent=t}}catch(i){r.e(i)}finally{r.f()}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}}]),e}(),Wce=function(e){bm(n,e);var t=Em(n);function n(e,r,i,a){var o;return ru(this,n),(o=t.call(this,e,r)).type=i,o.refCounts=a,o._source=o._name=r,o.refCounts&&!(o._name in o.refCounts)&&(o.refCounts[o._name]=0),o}return au(n,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_".concat(this.debugName),e._source=this._source,e._name="clone_".concat(this._name),e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(oee())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),n}(qce),Hce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$ce=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).formula=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]||(this.formula[t]=e.formula[t]);var n,r=nu(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeChild(i),i.parent=this}}catch(a){r.e(a)}finally{r.f()}e.remove()}},{key:"removeFormulas",value:function(e){var t,n={},r=nu($7(this.formula));try{for(r.s();!(t=r.n()).done;){var i=C(t.value,2),a=i[0],o=i[1];e.has(o.as)||(n[a]=o)}}catch(u){r.e(u)}finally{r.f()}this.formula=n}},{key:"producedFields",value:function(){return new Set(H7(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(H7(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(D7(this.formula))}},{key:"assemble",value:function(){var e,t=[],n=nu(H7(this.formula));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.field,a=r.as,o=Nre(r.timeUnit),u=o.unit,s=o.utc,c=Hce(o,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:eee(i),type:"timeunit"},u?{units:Tre(u)}:{}),s?{timezone:"utc"}:{}),c),{as:[a,"".concat(a,"_end")]}))}}catch(l){n.e(l)}finally{n.f()}return t}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,t){var n=t.field,r=t.timeUnit;if(r){var i=noe(t,{forAs:!0});e[D7({as:i,field:n,timeUnit:r})]={as:i,field:n,timeUnit:r}}return e}),{});return q7(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t){var r=Object.assign({},t),i=r.timeUnit,a=Hce(r,["timeUnit"]),o=Nre(i),u=Object.assign(Object.assign({},a),{timeUnit:o});return new n(e,lu({},D7(u),u))}}]),n}(qce),Vce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gce="_tuple_fields",Yce=au((function e(){ru(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}})),Kce={defined:function(){return!0},parse:function(e,t,n){var r,i=t.name,a=null!==(r=t.project)&&void 0!==r?r:t.project=new Yce,o={},u={},s=new Set,c=function(e,t){for(var n="visual"===t?e.channel:e.field,r=G7("".concat(i,"_").concat(n)),a=1;s.has(r);a++)r=G7("".concat(i,"_").concat(n,"_").concat(a));return s.add(r),lu({},t,r)},l=t.type,f=e.config.selection[l],d=void 0!==n.value?Rk(n.value):null,h=dk(n.select)?n.select:{},p=h.fields,v=h.encodings;if(!p&&!v&&d){var m,g=nu(d);try{for(g.s();!(m=g.n()).done;){var y=m.value;if(dk(y)){var b,x=nu(W7(y));try{for(x.s();!(b=x.n()).done;){var w=b.value;ote[w]?(v||(v=[])).push(w):"interval"===l?(mre('Interval selections should be initialized using "x" and/or "y" keys.'),v=f.encodings):(p||(p=[])).push(w)}}catch(M){x.e(M)}finally{x.f()}}}}catch(M){g.e(M)}finally{g.f()}}p||v||(v=f.encodings,"fields"in f&&(p=f.fields));var _,k=nu(null!==v&&void 0!==v?v:[]);try{for(k.s();!(_=k.n()).done;){var E=_.value,O=e.fieldDef(E);if(O){var S=O.field;if(O.aggregate){mre(Fne(E,O.aggregate));continue}if(!S){mre(Tne(E));continue}if(O.timeUnit){S=e.vgField(E);var A={timeUnit:O.timeUnit,as:S,field:O.field};u[D7(A)]=A}if(!o[S]){var C="E";if("interval"===l)kie(e.getScaleComponent(E).get("type"))&&(C="R");else O.bin&&(C="R-RE");var D={field:S,channel:E,type:C};D.signals=Object.assign(Object.assign({},c(D,"data")),c(D,"visual")),a.items.push(o[S]=D),a.hasField[S]=a.hasChannel[E]=o[S]}}else mre(Tne(E))}}catch(M){k.e(M)}finally{k.f()}var j,T=nu(null!==p&&void 0!==p?p:[]);try{for(T.s();!(j=T.n()).done;){var F=j.value;if(!a.hasField[F]){var P={type:"E",field:F};P.signals=Object.assign({},c(P,"data")),a.items.push(P),a.hasField[F]=P}}}catch(M){T.e(M)}finally{T.f()}d&&(t.init=d.map((function(e){return a.items.map((function(t){return dk(e)?void 0!==e[t.channel]?e[t.channel]:e[t.field]:e}))}))),q7(u)||(a.timeUnit=new $ce(null,u))},signals:function(e,t,n){var r=t.name+Gce,i=n.filter((function(e){return e.name===r}));return i.length>0?n:n.concat({name:r,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=Vce(e,["signals","hasLegend"]);return t.field=eee(t.field),t}))})}},Xce=Kce,Qce={defined:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n,r=t.scales=[],i=nu(t.project.items);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.channel;if(Tte(o)){var u=e.getScaleComponent(o),s=u?u.get("type"):void 0;u&&kie(s)?(u.set("selectionExtent",{param:t.name,field:a.field},!0),r.push(a)):mre("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}}catch(c){i.e(c)}finally{i.f()}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||ele(e)||0===r.length)return n;var i=n.filter((function(e){return e.name===t.name}))[0],a=i.update;if(a.indexOf(tfe)>=0)i.update="{".concat(r.map((function(e){return"".concat(vE(eee(e.field)),": ").concat(e.signals.data)})).join(", "),"}");else{var o,u=nu(r);try{for(u.s();!(o=u.n()).done;){var s=o.value,c="".concat(vE(eee(s.field)),": ").concat(s.signals.data);a.includes(c)||(a="".concat(a.substring(0,a.length-1),", ").concat(c,"}"))}}catch(l){u.e(l)}finally{u.f()}i.update=a}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!ele(e)){var r,i=nu(t.scales);try{var a=function(){var e=r.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}return n}},Zce=Qce;function Jce(e,t){var n=vE(e.scaleName(t));return"domain(".concat(n,")")}function ele(e){var t;return e.parent&&Zhe(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:ele(e.parent.parent))}var tle=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nle="_brush",rle="_scale_trigger",ile={defined:function(e){return"interval"===e.type},signals:function(e,t,n){var r=t.name,i=r+Gce,a=Zce.defined(t),o=t.init?t.init[0]:null,u=[],s=[];if(t.translate&&!a){var c="!event.item || event.item.mark.name !== ".concat(vE(r+nle));ole(t,(function(e,t){var n,r,i=Rk(null!==(n=(r=t.between[0]).filter)&&void 0!==n?n:r.filter=[]);return i.includes(c)||i.push(c),e}))}t.project.items.forEach((function(r,i){var a=r.channel;if(a===mee||a===gee){var c=o?o[i]:null,l=function(e,t,n,r){var i=n.channel,a=n.signals.visual,o=n.signals.data,u=Zce.defined(t),s=vE(e.scaleName(i)),c=e.getScaleComponent(i),l=c?c.get("type"):void 0,f=function(e){return"scale(".concat(s,", ").concat(e,")")},d=e.getSizeSignalRef(i===mee?"width":"height").signal,h="".concat(i,"(unit)"),p=ole(t,(function(e,t){return[].concat(du(e),[{events:t.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:t,update:"[".concat(a,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return p.push({events:{signal:t.name+rle},update:kie(l)?"[".concat(f("".concat(o,"[0]")),", ").concat(f("".concat(o,"[1]")),"]"):"[0, 0]"}),u?[{name:o,on:[]}]:[Object.assign(Object.assign({name:a},r?{init:zce(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:o},r?{init:zce(r)}:{}),{on:[{events:{signal:a},update:"".concat(a,"[0] === ").concat(a,"[1] ? null : invert(").concat(s,", ").concat(a,")")}]})]}(e,t,r,c),f=r.signals.data,d=r.signals.visual,h=vE(e.scaleName(a)),p=kie(e.getScaleComponent(a).get("type"))?"+":"";n.push.apply(n,du(l)),u.push(f),s.push({scaleName:e.scaleName(a),expr:"(!isArray(".concat(f,") || ")+"(".concat(p,"invert(").concat(h,", ").concat(d,")[0] === ").concat(p).concat(f,"[0] && ")+"".concat(p,"invert(").concat(h,", ").concat(d,")[1] === ").concat(p).concat(f,"[1]))")})}else mre("Interval selections only support x and y encoding channels.")})),!a&&s.length&&n.push({name:r+rle,value:{},on:[{events:s.map((function(e){return{scale:e.scaleName}})),update:"".concat(s.map((function(e){return e.expr})).join(" && ")," ? ").concat(r+rle," : {}")}]});var l="unit: ".concat(ife(e),", fields: ").concat(i,", values");return n.concat(Object.assign(Object.assign({name:r+Jle},o?{init:"{".concat(l,": ").concat(zce(o),"}")}:{}),u.length?{on:[{events:[{signal:u.join(" || ")}],update:"".concat(u.join(" && ")," ? {").concat(l,": [").concat(u,"]} : null")}]}:{}))},marks:function(e,t,n){var r=t.name,i=t.project.hasChannel,a=i.x,o=i.y,u=null===a||void 0===a?void 0:a.signals.visual,s=null===o||void 0===o?void 0:o.signals.visual,c="data(".concat(vE(t.name+Zle),")");if(Zce.defined(t)||!a&&!o)return n;var l={x:void 0!==a?{signal:"".concat(u,"[0]")}:{value:0},y:void 0!==o?{signal:"".concat(s,"[0]")}:{value:0},x2:void 0!==a?{signal:"".concat(u,"[1]")}:{field:{group:"width"}},y2:void 0!==o?{signal:"".concat(s,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f,d=nu(W7(l));try{for(d.s();!(f=d.n()).done;){var h=f.value;l[h]=[Object.assign({test:"".concat(c,".length && ").concat(c,"[0].unit === ").concat(ife(e))},l[h]),{value:0}]}}catch(x){d.e(x)}finally{d.f()}}var p=t.mark,v=p.fill,m=p.fillOpacity,g=p.cursor,y=tle(p,["fill","fillOpacity","cursor"]),b=W7(y).reduce((function(e,t){return e[t]=[{test:[void 0!==a&&"".concat(u,"[0] !== ").concat(u,"[1]"),void 0!==o&&"".concat(s,"[0] !== ").concat(s,"[1]")].filter((function(e){return e})).join(" && "),value:y[t]},{value:null}],e}),{});return[{name:"".concat(r+nle,"_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:v},fillOpacity:{value:m}},update:l}}].concat(du(n),[{name:r+nle,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},g?{cursor:{value:g}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},l),b)}}])}},ale=ile;function ole(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(mre("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}var ule={defined:function(e){return"point"===e.type},signals:function(e,t,n){var r,i=t.name,a=i+Gce,o=t.project,u="(item().isVoronoi ? datum.datum : datum)",s=o.items.map((function(t){var n=e.fieldDef(t.channel);return(null===n||void 0===n?void 0:n.bin)?"[".concat(u,"[").concat(vE(e.vgField(t.channel,{})),"], ")+"".concat(u,"[").concat(vE(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(u,"[").concat(vE(t.field),"]")})).join(", "),c="unit: ".concat(ife(e),", fields: ").concat(a,", values"),l=t.events,f=H7(null!==(r=e.component.selection)&&void 0!==r?r:{}).reduce((function(e,t){return"interval"===t.type?e.concat(t.name+nle):e}),[]).map((function(e){return"indexof(item().mark.name, '".concat(e,"') < 0")})).join(" && "),d="datum && item().mark.marktype !== 'group'".concat(f?" && ".concat(f):"");return n.concat([{name:i+Jle,on:l?[{events:l,update:"".concat(d," ? {").concat(c,": [").concat(s,"]} : null"),force:!0}]:[]}])}},sle=ule;function cle(e,t,n,r){var i=zae(t)&&t.condition,a=r(t);if(i){var o=Rk(i).map((function(t){var n=r(t);if(function(e){return e.param}(t)){var i=t.param,a=t.empty,o=ffe(e,{param:i,empty:a});return Object.assign({test:o},n)}var u=hfe(e,t.test);return Object.assign({test:u},n)}));return lu({},n,[].concat(du(o),du(void 0!==a?[a]:[])))}return void 0!==a?lu({},n,a):{}}function lle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return cle(e,n,t,(function(t){return fle(t,e.config)}))}function fle(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(Kae(e))return dne(e.value);if(Gae(e)){var r=doe(e),i=r.format,a=r.formatType;return vae({fieldOrDatumDef:e,format:i,formatType:a,expr:n,config:t})}}}function dle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,i=e.config,a=e.stack,o=n.tooltip;if(fk(o))return{tooltip:ple({tooltip:o},a,i,t)};var u=t.reactiveGeom?"datum.datum":"datum";return cle(e,o,"tooltip",(function(e){var o=fle(e,i,u);if(o)return o;if(null!==e){var s=gne("tooltip",r,i);return!0===s&&(s={content:"encoding"}),uE(s)?{value:s}:dk(s)?nne(s)?s:"encoding"===s.content?ple(n,a,i,t):{signal:u}:void 0}}))}function hle(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,a={},o=i?"datum.datum":"datum",u=[];function s(r,i){var s,c=lte(i),l=Yae(r)?r:Object.assign(Object.assign({},r),{type:e[c].type}),f=Rk(l.title||foe(l,n)).join(", ");if(wte(i)){var d="x"===i?"x2":"y2",h=poe(e[d]);if(Gte(l.bin)&&h){var p=noe(l,{expr:o}),v=noe(h,{expr:o}),m=doe(l);s=kae(p,v,m.format,m.formatType,n),a[d]=!0}else if(t&&t.fieldChannel===i&&"normalize"===t.offset){var g=doe(l);s=vae({fieldOrDatumDef:l,format:g.format,formatType:g.formatType,expr:o,config:n,normalizeStack:!0}).signal}}null!==s&&void 0!==s||(s=fle(l,n,o).signal),u.push({channel:i,key:f,value:s})}$oe(e,(function(e,t){qae(e)?s(e,t):Lae(e)&&s(e.condition,t)}));for(var c={},l=0,f=u;l<f.length;l++){var d=f[l],h=d.channel,p=d.key,v=d.value;a[h]||c[p]||(c[p]=v)}return c}function ple(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,a=hle(e,t,n,{reactiveGeom:i}),o=$7(a).map((function(e){var t=C(e,2),n=t[0],r=t[1];return'"'.concat(n,'": ').concat(r)}));return o.length>0?{signal:"{".concat(o.join(", "),"}")}:void 0}function vle(e){var t=gne("aria",e.markDef,e.config);return!1===t?{}:Object.assign(Object.assign(Object.assign({},t?{aria:t}:{}),function(e){var t=e.mark,n=e.markDef,r=e.config;if(!1===r.aria)return{};var i=gne("ariaRoleDescription",n,r);if(null!=i)return{ariaRoleDescription:{value:i}};return t in one?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){var t=e.encoding,n=e.markDef,r=e.config,i=e.stack,a=t.description;if(a)return cle(e,a,"description",(function(t){return fle(t,e.config)}));var o=gne("description",n,r);if(null!=o)return{description:dne(o)};if(!1===r.aria)return{};var u=hle(t,i,r);if(q7(u))return;return{description:{signal:$7(u).map((function(e,t){var n=C(e,2),r=n[0],i=n[1];return'"'.concat(t>0?"; ":"").concat(r,': " + (').concat(i,")")})).join(" + ")}}}(e))}function mle(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,i=t.encoding,a=t.config,o=n.vgChannel,u=n.defaultRef,s=n.defaultValue;void 0===u&&(null!==s&&void 0!==s||(s=gne(e,r,a,{vgChannel:o,ignoreVgConfig:!0})),void 0!==s&&(u=dne(s)));var c=i[e];return cle(t,c,null!==o&&void 0!==o?o:e,(function(n){return fae({channel:e,channelDef:n,markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u})}))}function gle(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},o=e.markDef,u=e.encoding,s=e.config,c=o.type,l=null!==(t=a.filled)&&void 0!==t?t:gne("filled",o,s),f=T7(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,d=null!==(r=null!==(n=gne(!0===l?"color":void 0,o,s,{vgChannel:"fill"}))&&void 0!==n?n:s.mark[!0===l&&"color"])&&void 0!==r?r:f,h=null!==(i=gne(!1===l?"color":void 0,o,s,{vgChannel:"stroke"}))&&void 0!==i?i:s.mark[!1===l&&"color"],p=l?"fill":"stroke",v=Object.assign(Object.assign({},d?{fill:dne(d)}:{}),h?{stroke:dne(h)}:{});return o.color&&(l?o.fill:o.stroke)&&mre(Wne("property",{fill:"fill"in o,stroke:"stroke"in o})),Object.assign(Object.assign(Object.assign(Object.assign({},v),mle("color",e,{vgChannel:p,defaultValue:l?d:h})),mle("fill",e,{defaultValue:u.fill?d:void 0})),mle("stroke",e,{defaultValue:u.stroke?h:void 0}))}function yle(e){var t=e.channel,n=e.markDef,r=e.encoding,i=void 0===r?{}:r,a=e.model,o=e.bandPosition,u="".concat(t,"Offset"),s=n[u],c=i[u];if(("xOffset"===u||"yOffset"===u)&&c)return{offsetType:"encoding",offset:fae({channel:u,channelDef:c,markDef:n,config:null===a||void 0===a?void 0:a.config,scaleName:a.scaleName(u),scale:a.getScaleComponent(u),stack:null,defaultRef:dne(s),bandPosition:o})};var l=n[u];return l?{offsetType:"visual",offset:l}:{}}function ble(e,t,n){var r=n.defaultPos,i=n.vgChannel,a=t.encoding,o=t.markDef,u=t.config,s=t.stack,c=a[e],l=a[dte(e)],f=t.scaleName(e),d=t.getScaleComponent(e),h=yle({channel:e,markDef:o,encoding:a,model:t,bandPosition:.5}),p=h.offset,v=h.offsetType,m=xle({model:t,defaultPos:r,channel:e,scaleName:f,scale:d}),g=!c&&wte(e)&&(a.latitude||a.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,r=e.scaleName,i=e.stack,a=e.offset,o=e.markDef;if(Gae(n)&&i&&t===i.fieldChannel){if(qae(n)){var u=n.bandPosition;if(void 0!==u||"text"!==o.type||"radius"!==t&&"theta"!==t||(u=.5),void 0!==u)return lae({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:u,offset:a})}return cae(n,r,{suffix:"end"},{offset:a})}return oae(e)}({channel:e,channelDef:c,channel2Def:l,markDef:o,config:u,scaleName:f,scale:d,stack:s,offset:p,defaultRef:m,bandPosition:"encoding"===v?0:void 0});return g?lu({},i||e,g):void 0}function xle(e){var t=e.model,n=e.defaultPos,r=e.channel,i=e.scaleName,a=e.scale,o=t.markDef,u=t.config;return function(){var e=lte(r),s=fte(r),c=gne(r,o,u,{vgChannel:s});if(void 0!==c)return dae(r,c);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){var l=a.get("type");if(T7([uie,sie,cie],l));else if(a.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[hte(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}var wle={left:"x",center:"xc",right:"x2"},_le={top:"y",middle:"yc",bottom:"y2"};function kle(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return fte(e);var i,a="x"===e?"align":"baseline",o=gne(a,t,n);return nne(o)?(mre(Xne(a)),i=void 0):i=o,"x"===e?wle[i||("top"===r?"left":"center")]:_le[i||r]}function Ele(e,t,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?Ole(e,t,{defaultPos:r,defaultPos2:i}):ble(e,t,{defaultPos:r})}function Ole(e,t,n){var r=n.defaultPos,i=n.defaultPos2,a=t.markDef,o=t.config,u=dte(e),s=hte(e),c=function(e,t,n){var r,i=e.encoding,a=e.mark,o=e.markDef,u=e.stack,s=e.config,c=lte(n),l=hte(n),f=fte(n),d=i[c],h=e.scaleName(c),p=e.getScaleComponent(c),v=yle(n in i||n in o?{channel:n,markDef:o,encoding:i,model:e}:{channel:c,markDef:o,encoding:i,model:e}).offset;if(!d&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude)){var m=hte(n),g=e.markDef[m];return null!=g?lu({},m,{value:g}):lu({},f,{field:e.getName(n)})}var y=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,i=e.markDef,a=e.config,o=e.scaleName,u=e.scale,s=e.stack,c=e.offset,l=e.defaultRef;if(Gae(n)&&s&&t.charAt(0)===s.fieldChannel.charAt(0))return cae(n,o,{suffix:"start"},{offset:c});return oae({channel:t,channelDef:r,scaleName:o,scale:u,stack:s,markDef:i,config:a,offset:c,defaultRef:l})}({channel:n,channelDef:d,channel2Def:i[n],markDef:o,config:s,scaleName:h,scale:p,stack:u,offset:v,defaultRef:void 0});if(void 0!==y)return lu({},f,y);return Sle(n,o)||Sle(n,(lu(r={},n,bne(n,o,s.style)),lu(r,l,bne(l,o,s.style)),r))||Sle(n,s[a])||Sle(n,s.mark)||lu({},f,xle({model:e,defaultPos:t,channel:n,scaleName:h,scale:p})())}(t,i,u),l=c[s]?kle(e,a,o):fte(e);return Object.assign(Object.assign({},ble(e,t,{defaultPos:r,vgChannel:l})),c)}function Sle(e,t){var n=hte(e),r=fte(e);if(void 0!==t[r])return lu({},r,dae(e,t[r]));if(void 0!==t[e])return lu({},r,dae(e,t[e]));if(t[n]){var i=t[n];if(!nae(i))return lu({},n,dae(e,i));mre(function(e){return"Position range does not support relative band size for ".concat(e,".")}(n))}}function Ale(e,t){var n,r,i=e.config,a=e.encoding,o=e.markDef,u=o.type,s=dte(t),c=hte(t),l=a[t],f=a[s],d=e.getScaleComponent(t),h=d?d.get("type"):void 0,p=o.orient,v=null!==(r=null!==(n=a[c])&&void 0!==n?n:a.size)&&void 0!==r?r:gne("size",o,i,{vgChannel:c}),m="bar"===u&&("x"===t?"vertical"===p:"horizontal"===p);return!qae(l)||!(Vte(l.bin)||Gte(l.bin)||l.timeUnit&&!f)||v&&!nae(v)||_ie(h)?(Gae(l)&&_ie(h)||m)&&!f?function(e,t,n){var r,i=n.markDef,a=n.encoding,o=n.config,u=n.stack,s=i.orient,c=n.scaleName(t),l=n.getScaleComponent(t),f=hte(t),d=dte(t),h=function(e){switch(e){case mee:return"xOffset";case gee:return"yOffset";case yee:return"x2Offset";case bee:return"y2Offset";case Eee:return"thetaOffset";case _ee:return"radiusOffset";case Oee:return"theta2Offset";case kee:return"radius2Offset"}}(t),p=n.scaleName(h),v="horizontal"===s&&"y"===t||"vertical"===s&&"x"===t;(a.size||i.size)&&(v?r=mle("size",n,{vgChannel:f,defaultRef:dne(i.size)}):mre(function(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}(i.type)));var m=Iae({channel:t,fieldDef:e,markDef:i,config:o,scaleType:null===l||void 0===l?void 0:l.get("type"),useVlSizeChannel:v});r=r||lu({},f,function(e,t,n,r,i){if(nae(i)){if(!n)return{mult:i.band,field:{group:e}};var a=n.get("type");if("band"===a)return{scale:t,band:i.band};1!==i.band&&(mre(function(e){return"Cannot use the relative band size with ".concat(e," scale.")}(a)),i=void 0)}else{if(nne(i))return i;if(i)return{value:i}}if(n){var o=n.get("range");if(rne(o)&&aE(o.step))return{value:o.step-2}}return{value:Wue(r.view,e)-2}}(f,p||c,l,o,m));var g="band"===(null===l||void 0===l?void 0:l.get("type"))&&"band"in r[f]?"top":"middle",y=kle(t,i,o,g),b="xc"===y||"yc"===y,x=yle({channel:t,markDef:i,encoding:a,model:n,bandPosition:b?.5:0}),w=x.offset,_=x.offsetType,k=oae({channel:t,channelDef:e,markDef:i,config:o,scaleName:c,scale:l,stack:u,offset:w,defaultRef:xle({model:n,defaultPos:"mid",channel:t,scaleName:c,scale:l}),bandPosition:b?"encoding"===_?0:.5:nne(m)?{signal:"(1-".concat(m,")/2")}:nae(m)?(1-m.band)/2:0});if(f)return Object.assign(lu({},y,k),r);var E,O=fte(d),S=r[f],A=w?Object.assign(Object.assign({},S),{offset:w}):S;return lu(E={},y,k),lu(E,O,fk(k)?[k[0],Object.assign(Object.assign({},k[1]),{offset:A})]:Object.assign(Object.assign({},k),{offset:A})),E}(l,t,e):Ole(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(e){var t,n,r,i,a=e.fieldDef,o=e.fieldDef2,u=e.channel,s=e.model,c=s.config,l=s.markDef,f=s.encoding,d=s.getScaleComponent(u),h=s.scaleName(u),p=d?d.get("type"):void 0,v=d.get("reverse"),m=Iae({channel:u,fieldDef:a,markDef:l,config:c,scaleType:p}),g=null===(t=s.component.axes[u])||void 0===t?void 0:t[0],y=null!==(n=null===g||void 0===g?void 0:g.get("translate"))&&void 0!==n?n:.5,b=wte(u)&&null!==(r=gne("binSpacing",l,c))&&void 0!==r?r:0,x=dte(u),w=fte(u),_=fte(x),k=yle({channel:u,markDef:l,encoding:f,model:s,bandPosition:0}).offset,E=nne(m)?{signal:"(1-".concat(m.signal,")/2")}:nae(m)?(1-m.band)/2:.5;if(Vte(a.bin)||a.timeUnit)return lu(i={},_,Dle({fieldDef:a,scaleName:h,bandPosition:E,offset:Cle(x,b,v,y,k)})),lu(i,w,Dle({fieldDef:a,scaleName:h,bandPosition:nne(E)?{signal:"1-".concat(E.signal)}:1-E,offset:Cle(u,b,v,y,k)})),i;if(Gte(a.bin)){var O,S,A=cae(a,h,{},{offset:Cle(x,b,v,y,k)});if(qae(o))return lu(O={},_,A),lu(O,w,cae(o,h,{},{offset:Cle(u,b,v,y,k)})),O;if(Yte(a.bin)&&a.bin.step)return lu(S={},_,A),lu(S,w,{signal:'scale("'.concat(h,'", ').concat(noe(a,{expr:"datum"})," + ").concat(a.bin.step,")"),offset:Cle(u,b,v,y,k)}),S}return void mre(lre(x))}({fieldDef:l,fieldDef2:f,channel:t,model:e})}function Cle(e,t,n,r,i){if(Xee(e))return 0;var a="x"===e||"y2"===e?-t/2:t/2;if(nne(n)||nne(i)||nne(r)){var o=vne(n),u=vne(i),s=vne(r);return{signal:(s?"".concat(s," + "):"")+(o?"(".concat(o," ? -1 : 1) * "):"")+(u?"(".concat(u," + ").concat(a,")"):a)}}return i=i||0,r+(n?-i-a:+i+a)}function Dle(e){var t=e.fieldDef;return lae({scaleName:e.scaleName,fieldOrDatumDef:t,bandPosition:e.bandPosition,offset:e.offset})}var jle=new Set(["aria","width","height"]);function Tle(e,t){var n="include"===t.color?gle(e):{},r=n.fill,i=void 0===r?void 0:r,a=n.stroke,o=void 0===a?void 0:a;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return ane.reduce((function(n,r){return jle.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=dne(e[r])),n}),{})}(e.markDef,t)),Fle(e,"fill",i)),Fle(e,"stroke",o)),mle("opacity",e)),mle("fillOpacity",e)),mle("strokeOpacity",e)),mle("strokeWidth",e)),mle("strokeDash",e)),function(e){var t=e.encoding,n=e.mark,r=t.order;return!Kie(n)&&Kae(r)?cle(e,r,"zindex",(function(e){return dne(e.value)})):{}}(e)),dle(e)),lle(e,"href")),vle(e))}function Fle(e,t,n){var r=e.config,i=e.mark;if("hide"===gne("invalid",e.markDef,r)&&n&&!Kie(i)){var a=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&kie(i)&&(t[a]=!0)}return t}),{}),a=W7(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return sae(e,r)})).join(" ".concat(o," "))}return}(e,{invalid:!0,channels:jte});if(a)return lu({},t,[{test:a,value:null}].concat(du(Rk(n))))}return n?lu({},t,n):{}}function Ple(e){var t=e.config;if(gne("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&kie(i)&&(t[a]=!0)}return t}),{}),a=W7(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return sae(e,r)})).join(" ".concat(o," "))}return}(e,{channels:xte});if(n)return{defined:{signal:n}}}return{}}function Mle(e,t){if(void 0!==t)return lu({},e,dne(t))}var Nle="voronoi",Rle={defined:function(e){return"point"===e.type&&e.nearest},parse:function(e,t){if(t.events){var n,r=nu(t.events);try{for(r.s();!(n=r.n()).done;){n.value.markname=e.getName(Nle)}}catch(i){r.e(i)}finally{r.f()}}},marks:function(e,t,n){var r=t.project.hasChannel,i=r.x,a=r.y,o=e.mark;if(Kie(o))return mre(function(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}(o)),n;var u={name:e.getName(Nle),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},dle(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!a?"datum.datum.x || 0":"0"},y:{expr:a||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},s=0,c=!1;return n.forEach((function(t,n){var r,i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?s=n:i.indexOf(Nle)>=0&&(c=!0)})),c||n.splice(s+1,0,u),n}},Ile=Rle,Ble={defined:function(e){return"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!Due(e.bind)},parse:function(e,t,n){return ofe(t,n)},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,a=t.bind,o=t.init&&t.init[0],u=Ile.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(e,i){var s,c,l=G7("".concat(r,"_").concat(e.field)),f=n.filter((function(e){return e.name===l}));f.length||n.unshift(Object.assign(Object.assign({name:l},o?{init:zce(o[i])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(u,"[").concat(vE(e.field),"] : null")}]:[],bind:null!==(c=null!==(s=a[e.field])&&void 0!==s?s:a[e.channel])&&void 0!==c?c:a}))})),n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.filter((function(e){return e.name===r+Jle}))[0],o=r+Gce,u=i.items.map((function(e){return G7("".concat(r,"_").concat(e.field))})),s=u.map((function(e){return"".concat(e," !== null")})).join(" && ");return u.length&&(a.update="".concat(s," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null")),delete a.value,delete a.on,n}},zle=Ble,Lle="_toggle",Ule={defined:function(e){return"point"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+Lle,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+Jle,r=t.name+Lle;return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(ife(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},qle={defined:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t){t.clear&&(t.clear=uE(t.clear)?r6(t.clear,"view"):t.clear)},topLevelSignals:function(e,t,n){if(zle.defined(t)){var r,i=nu(t.project.items);try{var a=function(){var e=r.value,i=n.findIndex((function(n){return n.name===G7("".concat(t.name,"_").concat(e.field))}));-1!==i&&n[i].on.push({events:t.clear,update:"null"})};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}return n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type){var i,a=nu(t.project.items);try{var o=function(){var e=i.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));(r(t,"[0, 0]"),-1===t)&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}else{var u=n.findIndex((function(e){return e.name===t.name+Jle}));r(u,"null"),Ule.defined(t)&&r(u=n.findIndex((function(e){return e.name===t.name+Lle})),"false")}return n}},Wle={defined:function(e){var t="global"===e.resolve&&e.bind&&Due(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==Aue;return t&&!n&&mre("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:function(e,t,n){var r,i=E7(n);if(i.select=uE(i.select)?{type:i.select,toggle:t.toggle}:Object.assign(Object.assign({},i.select),{toggle:t.toggle}),ofe(t,i),dk(n.select)&&(n.select.on||n.select.clear)){var a,o='event.item && indexof(event.item.mark.role, "legend") < 0',u=nu(t.events);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.filter=Rk(null!==(r=s.filter)&&void 0!==r?r:[]),s.filter.includes(o)||s.filter.push(o)}}catch(f){u.e(f)}finally{u.f()}}var c=jue(t.bind)?t.bind.legend:"click",l=uE(c)?r6(c,"view"):Rk(c);t.bind={legend:{merge:l}}},topLevelSignals:function(e,t,n){var r,i=t.name,a=jue(t.bind)&&t.bind.legend,o=function(e){return function(t){var n=E7(t);return n.markname=e,n}},u=nu(t.project.items);try{var s=function(){var e=r.value;if(!e.hasLegend)return"continue";var u="".concat(G7(e.field),"_legend"),s="".concat(i,"_").concat(u),c=n.filter((function(e){return e.name===s}));if(0===c.length){var l=a.merge.map(o("".concat(u,"_symbols"))).concat(a.merge.map(o("".concat(u,"_labels")))).concat(a.merge.map(o("".concat(u,"_entries"))));n.unshift(Object.assign(Object.assign({name:s},t.init?{}:{value:null}),{on:[{events:l,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:a.merge,update:"!event.item || !datum ? null : ".concat(s),force:!0}]}))}};for(u.s();!(r=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}return n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.find((function(e){return e.name===r+Jle})),o=r+Gce,u=i.items.filter((function(e){return e.hasLegend})).map((function(e){return G7("".concat(r,"_").concat(G7(e.field),"_legend"))})),s=u.map((function(e){return"".concat(e," !== null")})).join(" && "),c="".concat(s," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null");t.events&&u.length>0?a.on.push({events:u.map((function(e){return{signal:e}})),update:c}):u.length>0&&(a.update=c,delete a.value,delete a.on);var l=n.find((function(e){return e.name===r+Lle})),f=jue(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:f})):l.on[0].events=f),n}};var Hle="_translate_anchor",$le="_translate_delta",Vle={defined:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=Zce.defined(t),a=r+Hle,o=t.project.hasChannel,u=o.x,s=o.y,c=r6(t.translate,"scope");return i||(c=c.map((function(e){return e.between[0].markname=r+nle,e}))),n.push({name:a,value:{},on:[{events:c.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: ".concat(i?Jce(e,mee):"slice(".concat(u.signals.visual,")")):"")+(void 0!==s?", extent_y: ".concat(i?Jce(e,gee):"slice(".concat(s.signals.visual,")")):"")+"}"}]},{name:r+$le,value:{},on:[{events:c,update:"{x: ".concat(a,".x - x(unit), y: ").concat(a,".y - y(unit)}")}]}),void 0!==u&&Gle(e,t,u,"width",n),void 0!==s&&Gle(e,t,s,"height",n),n}};function Gle(e,t,n,r,i){var a,o,u=t.name,s=u+Hle,c=u+$le,l=n.channel,f=Zce.defined(t),d=i.filter((function(e){return e.name===n.signals[f?"data":"visual"]}))[0],h=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(l),v=p.get("type"),m=p.get("reverse"),g=f?l===mee?m?"":"-":m?"-":"":"",y="".concat(s,".extent_").concat(l),b="".concat(g).concat(c,".").concat(l," / ").concat(f?"".concat(h):"span(".concat(y,")")),x=f?"log"===v?"panLog":"symlog"===v?"panSymlog":"pow"===v?"panPow":"panLinear":"panLinear",w=f?"pow"===v?", ".concat(null!==(a=p.get("exponent"))&&void 0!==a?a:1):"symlog"===v?", ".concat(null!==(o=p.get("constant"))&&void 0!==o?o:1):"":"",_="".concat(x,"(").concat(y,", ").concat(b).concat(w,")");d.on.push({events:{signal:c},update:f?_:"clampRange(".concat(_,", 0, ").concat(h,")")})}var Yle="_zoom_anchor",Kle="_zoom_delta",Xle={defined:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=Zce.defined(t),a=r+Kle,o=t.project.hasChannel,u=o.x,s=o.y,c=vE(e.scaleName(mee)),l=vE(e.scaleName(gee)),f=r6(t.zoom,"scope");return i||(f=f.map((function(e){return e.markname=r+nle,e}))),n.push({name:r+Yle,on:[{events:f,update:i?"{"+[c?"x: invert(".concat(c,", x(unit))"):"",l?"y: invert(".concat(l,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==u&&Qle(e,t,u,"width",n),void 0!==s&&Qle(e,t,s,"height",n),n}};function Qle(e,t,n,r,i){var a,o,u=t.name,s=n.channel,c=Zce.defined(t),l=i.filter((function(e){return e.name===n.signals[c?"data":"visual"]}))[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(s),h=d.get("type"),p=c?Jce(e,s):l.name,v=u+Kle,m="".concat(u).concat(Yle,".").concat(s),g=c?"log"===h?"zoomLog":"symlog"===h?"zoomSymlog":"pow"===h?"zoomPow":"zoomLinear":"zoomLinear",y=c?"pow"===h?", ".concat(null!==(a=d.get("exponent"))&&void 0!==a?a:1):"symlog"===h?", ".concat(null!==(o=d.get("constant"))&&void 0!==o?o:1):"":"",b="".concat(g,"(").concat(p,", ").concat(m,", ").concat(v).concat(y,")");l.on.push({events:{signal:v},update:c?b:"clampRange(".concat(b,", 0, ").concat(f,")")})}var Zle="_store",Jle="_tuple",efe="_modify",tfe="vlSelectionResolve",nfe=[sle,ale,Xce,Ule,zle,Zce,Wle,qle,Vle,Xle,Ile];function rfe(e){for(var t=e.parent;t&&!Xhe(t);)t=t.parent;return t}function ife(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?vE(e.name):e.name,i=rfe(e);if(i){var a,o=i.facet,u=nu(nte);try{for(u.s();!(a=u.n()).done;){var s=a.value;o[s]&&(r+=" + '__facet_".concat(s,"_' + (facet[").concat(vE(i.vgField(s)),"])"))}}catch(c){u.e(c)}finally{u.f()}}return r}function afe(e){var t;return H7(null!==(t=e.component.selection)&&void 0!==t?t:{}).reduce((function(e,t){return e||t.project.items.some((function(e){return e.field===Aue}))}),!1)}function ofe(e,t){!uE(t.select)&&t.select.on||delete e.events,!uE(t.select)&&t.select.clear||delete e.clear,!uE(t.select)&&t.select.toggle||delete e.toggle}function ufe(e){var t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push.apply(t,du(ufe(e.object))),t.push.apply(t,du(ufe(e.property)))),t)}function sfe(e){return"MemberExpression"===e.object.type?sfe(e.object):"datum"===e.object.name}function cfe(e){var t=R1(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&sfe(e)&&n.add(ufe(e).slice(1).join("."))})),n}var lfe=function(e){bm(n,e);var t=Em(n);function n(e,r,i){var a;return ru(this,n),(a=t.call(this,e)).model=r,a.filter=i,a.expr=hfe(a.model,a.filter,Ai(a)),a._dependentFields=cfe(a.expr),a}return au(n,[{key:"clone",value:function(){return new n(null,this.model,E7(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(qce);function ffe(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",a=uE(t)?t:t.param,o=G7(a),u=vE(o+Zle);try{r=e.getSelectionComponent(o,a)}catch(Awe){return"!!".concat(o)}if(r.project.timeUnit){var s=null!==n&&void 0!==n?n:e.component.data.raw,c=r.project.timeUnit.clone();s.parent?c.insertAsParentOf(s):s.parent=c}var l="vlSelectionTest(".concat(u,", ").concat(i).concat("global"===r.resolve?")":", ".concat(vE(r.resolve),")")),f="length(data(".concat(u,"))");return!1===t.empty?"".concat(f," && ").concat(l):"!".concat(f," || ").concat(l)}function dfe(e,t,n){var r,i=G7(t),a=n.encoding,o=n.field;try{r=e.getSelectionComponent(i,t)}catch(Awe){return i}if(a||o){if(a&&!o){var u=r.project.items.filter((function(e){return e.channel===a}));!u.length||u.length>1?(o=r.project.items[0].field,mre((u.length?"Multiple ":"No ")+"matching ".concat(vE(a)," encoding found for selection ").concat(vE(n.param),". ")+'Using "field": '.concat(vE(o),"."))):o=u[0].field}}else o=r.project.items[0].field,r.project.items.length>1&&mre('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(vE(o),"."));return"".concat(r.name,"[").concat(vE(eee(o)),"]")}function hfe(e,t,n){return Y7(t,(function(t){return uE(t)?t:function(e){return null===e||void 0===e?void 0:e.param}(t)?ffe(e,t,n):Yre(t)}))}var pfe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function vfe(e,t){if(e)return fk(e)&&!tne(e)?e.map((function(e){return foe(e,t)})).join(", "):e}function mfe(e,t,n,r){var i,a,o,u,s;null!==(i=e.encode)&&void 0!==i||(e.encode={}),null!==(a=(u=e.encode)[t])&&void 0!==a||(u[t]={}),null!==(o=(s=e.encode[t]).update)&&void 0!==o||(s.update={}),e.encode[t].update[n]=r}function gfe(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},o=e.combine(),u=o.disable,s=o.orient,c=o.scale,l=o.labelExpr,f=o.title,d=o.zindex,h=pfe(o,["disable","orient","scale","labelExpr","title","zindex"]);if(!u){for(var p in h){var v=Doe[p],m=h[p];if(v&&v!==t&&"both"!==v)delete h[p];else if(Aoe(m)){var g=m.condition,y=pfe(m,["condition"]),b=Rk(g),x=Soe[p];if(x){var w=x.vgProp,_=x.part,k=[].concat(du(b.map((function(e){var t=e.test,n=pfe(e,["test"]);return Object.assign({test:hfe(null,t)},n)}))),[y]);mfe(h,_,w,k),delete h[p]}else if(null===x){var E={signal:b.map((function(e){var t=e.test,n=pfe(e,["test"]);return"".concat(hfe(null,t)," ? ").concat(pne(n)," : ")})).join("")+pne(y)};h[p]=E}}else if(nne(m)){var O=Soe[p];if(O){var S=O.vgProp,A=O.part;mfe(h,A,S,m),delete h[p]}}T7(["labelAlign","labelBaseline"],p)&&null===h[p]&&delete h[p]}if("grid"===t){if(!h.grid)return;if(h.encode){var C=h.encode.grid;h.encode=Object.assign({},C?{grid:C}:{}),q7(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:c,orient:s},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:iee(d,0)})}if(a.header||!e.mainExtracted){if(void 0!==l){var D=l;(null===(i=null===(r=h.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&nne(h.encode.labels.update.text)&&(D=tee(l,"datum.label",h.encode.labels.update.text.signal)),mfe(h,"labels","text",{signal:D})}if(null===h.labelAlign&&delete h.labelAlign,h.encode){var j,T=nu(Coe);try{for(T.s();!(j=T.n()).done;){var F=j.value;e.hasAxisPart(F)||delete h.encode[F]}}catch(M){T.e(M)}finally{T.f()}q7(h.encode)&&delete h.encode}var P=vfe(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:s,grid:!1},P?{title:P}:{}),h),!1===n.aria?{aria:!1}:{}),{zindex:iee(d,0)})}}}function yfe(e){var t,n=e.component.axes,r=[],i=nu(xte);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(n[a]){var o,u=nu(n[a]);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(!s.get("disable")&&!s.get("gridScale")){var c="x"===a?"height":"width",l=e.getSizeSignalRef(c).signal;c!==l&&r.push({name:c,update:l})}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return r}function bfe(e,t,n,r){return Object.assign.apply(null,[{}].concat(du(e.map((function(e){if("axisOrient"===e){var i,a="x"===n?"bottom":"left",o=t["x"===n?"axisBottom":"axisLeft"]||{},u=t["x"===n?"axisTop":"axisRight"]||{},s={},c=nu(new Set([].concat(du(W7(o)),du(W7(u)))).values());try{for(c.s();!(i=c.n()).done;){var l=i.value;s[l]={signal:"".concat(r.signal,' === "').concat(a,'" ? ').concat(vne(o[l])," : ").concat(vne(u[l]))}}}catch(f){c.e(f)}finally{c.f()}return s}return t[e]})))))}function xfe(e,t){var n,r,i=[{}],a=nu(e);try{for(a.s();!(r=a.n()).done;){var o=null===(n=t[r.value])||void 0===n?void 0:n.style;if(o){var u,s=nu(o=Rk(o));try{for(s.s();!(u=s.n()).done;){var c=u.value;i.push(t.style[c])}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){a.e(l)}finally{a.f()}return Object.assign.apply(null,i)}function wfe(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=xne(e,n,t);if(void 0!==a)return{configFrom:"style",configValue:a};for(var o=0,u=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];o<u.length;o++){var s=u[o];if(void 0!==(null===(r=i[s])||void 0===r?void 0:r[e]))return{configFrom:s,configValue:i[s][e]}}return{}}var _fe={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.config,r=e.axis,i=r.format,a=r.formatType;return yae(t,t.type,i,a,n,!0)},formatType:function(e){var t=e.axis,n=e.fieldOrDatumDef,r=e.scaleType,i=t.formatType;return bae(i,n,r)},grid:function(e){var t,n=e.fieldOrDatumDef,r=e.axis,i=e.scaleType;return null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!_ie(e)&&qae(t)&&!Vte(null===t||void 0===t?void 0:t.bin)&&!Gte(null===t||void 0===t?void 0:t.bin)}(i,n)},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelAlign||Ofe(n,r,i)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelBaseline||Efe(n,r,i)},labelFlush:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&T7(["quantitative","temporal"],e))return!0;return}(r.type,i)},labelOverlap:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t,n,r){if(n&&!dk(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy";return}(r.type,i,qae(r)&&!!r.timeUnit,qae(r)?r.sort:void 0)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,r=e.model,i=e.axis,a=e.fieldOrDatumDef,o=e.scaleType,u="x"===n?"width":"y"===n?"height":void 0,s=u?r.getSizeSignalRef(u):void 0;return null!==(t=i.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,r=e.scaleType,i=e.size;if(!e.values&&!_ie(r)&&"log"!==r){if(qae(n)){if(Vte(n.bin))return{signal:"ceil(".concat(i.signal,"/10)")};if(n.timeUnit&&T7(["month","hours","day","quarter"],null===(t=Nre(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(i.signal,"/40)")}}return}({fieldOrDatumDef:a,scaleType:o,size:s,values:i.values})},title:function(e){var t=e.axis,n=e.model,r=e.channel;if(void 0!==t.title)return t.title;var i=Sfe(n,r);if(void 0!==i)return i;var a=n.typedFieldDef(r),o="x"===r?"x2":"y2",u=n.fieldDef(o);return _ne(a?[Mae(a)]:[],qae(u)?[Mae(u)]:[])},values:function(e){return function(e,t){var n=e.values;if(fk(n))return Eoe(t,n);if(nne(n))return n;return}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){if("rect"===e&&roe(t))return 1;return 0}(i,r)}};function kfe(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function Efe(e,t,n,r){if(void 0!==e){if("x"===n){if(nne(e)){var i=kfe(e),a=nne(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(i," && ").concat(i," < 135) || (225 < ").concat(i," && ").concat(i,' < 315) ? "middle" :')+"(".concat(i," <= 45 || 315 <= ").concat(i,") === ").concat(a,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(nne(t)){var o=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(o,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(nne(e)){var u=kfe(e),s=nne(t)?"(".concat(t.signal,' === "left")'):"left"===t,c=r?'"middle"':"null";return{signal:"".concat(u," <= 45 || 315 <= ").concat(u," || (135 <= ").concat(u," && ").concat(u," <= 225) ? ").concat(c," : (45 <= ").concat(u," && ").concat(u," <= 135) === ").concat(s,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(nne(t)){var l=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(l,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function Ofe(e,t,n){if(void 0!==e){var r="x"===n,i=r?0:90,a=r?"bottom":"left";if(nne(e)){var o=kfe(e),u=nne(t)?"(".concat(t.signal,' === "').concat(a,'")'):t===a;return{signal:"(".concat(i?"(".concat(o," + 90)"):o," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(i," < ").concat(o," && ").concat(o," < ").concat(180+i,") === ").concat(u,' ? "left" : "right"')}}if((e+i)%180===0)return r?null:"center";if(nne(t)){var s=i<e&&e<180+i?"===":"!==",c="".concat(t.signal," ").concat(s,' "').concat(a,'"');return{signal:"".concat(c,' ? "left" : "right"')}}return(i<e&&e<180+i)===(t===a)?"left":"right"}}function Sfe(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;return a&&o?kne(a,o):a||(o||(void 0!==a?a:void 0!==o?o:void 0))}var Afe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).transform=r,i._dependentFields=cfe(i.transform.calculate),i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(D7(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,t){return t.forEachFieldDef((function(t,r){if(Xae(t)&&Dae(t.sort)){var i=t.field,a=t.timeUnit,o=t.sort,u=o.map((function(e,t){return"".concat(Yre({field:i,timeUnit:a,equal:e})," ? ").concat(t," : ")})).join("")+o.length;e=new n(e,{calculate:u,as:Cfe(t,r,{forAs:!0})})}})),e}}]),n}(qce);function Cfe(e,t,n){return noe(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function Dfe(e,t){return T7(["top","bottom"],t)?"column":T7(["left","right"],t)||"row"===e?"row":"column"}function jfe(e,t,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return iee((t||{})[e],i[e],n.header[e])}function Tfe(e,t,n,r){var i,a={},o=nu(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=jfe(u,t||{},n,r);void 0!==s&&(a[u]=s)}}catch(c){o.e(c)}finally{o.f()}return a}var Ffe=["row","column"],Pfe=["header","footer"];function Mfe(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,a=Tfe(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),o=a.titleAnchor,u=a.titleAngle,s=Dfe(t,a.titleOrient),c=lee(u);return{name:"".concat(t,"-title"),type:"group",role:"".concat(s,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),Rfe(c,s)),Nfe(s,c,o)),Wfe(r,i,t,_ue,xue))}}function Nfe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=Ofe(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function Rfe(e,t){var n=Efe(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function Ife(e,t){var n,r=e.component.layoutHeaders[t],i=[],a=nu(Pfe);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(r[o]){var u,s=nu(r[o]);try{for(s.s();!(u=s.n()).done;){var c=Lfe(e,t,o,r,u.value);null!=c&&i.push(c)}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){a.e(l)}finally{a.f()}return i}function Bfe(e,t){var n,r=e.sort;return Cae(r)?{field:noe(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:fk(r)?{field:Cfe(e,t,{expr:"datum"}),order:"ascending"}:{field:noe(e,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function zfe(e,t,n){var r=Tfe(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),i=r.format,a=r.formatType,o=r.labelAngle,u=r.labelAnchor,s=r.labelOrient,c=r.labelExpr,l=vae({fieldOrDatumDef:e,format:i,formatType:a,expr:"parent",config:n}).signal,f=Dfe(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:c?tee(tee(c,"datum.label",l),"datum.value",noe(e,{expr:"parent"})):l}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),Rfe(o,f)),Nfe(f,o,u)),Wfe(n,e,t,kue,wue))}function Lfe(e,t,n,r,i){if(i){var a=null,o=r.facetFieldDef,u=e.config?e.config:void 0;if(o&&i.labels){var s=Tfe(["labelOrient"],o.header,u,t).labelOrient;("row"===t&&!T7(["top","bottom"],s)||"column"===t&&!T7(["left","right"],s))&&(a=zfe(o,t,u))}var c=Xhe(e)&&!jae(e.facet),l=i.axes,f=(null===l||void 0===l?void 0:l.length)>0;if(a||f){var d="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName("".concat(t,"_domain"))},sort:Bfe(o,t)}:{}),f&&c?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),a?{title:a}:{}),i.sizeSignal?{encode:{update:lu({},d,i.sizeSignal)}}:{}),f?{axes:l}:{})}}return null}var Ufe={column:{start:0,end:1},row:{start:1,end:0}};function qfe(e,t){return Ufe[t][e]}function Wfe(e,t,n,r,i){var a,o={},u=nu(r);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(i[s]){var c=jfe(s,null===t||void 0===t?void 0:t.header,e,n);void 0!==c&&(o[i[s]]=c)}}}catch(l){u.e(l)}finally{u.f()}return o}function Hfe(e){return[].concat(du($fe(e,"width")),du($fe(e,"height")),du($fe(e,"childWidth")),du($fe(e,"childHeight")))}function $fe(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("step"===r){var a=e.getScaleComponent(n);if(a){var o=a.get("type"),u=a.get("range");if(_ie(o)&&rne(u)){var s=e.scaleName(n);if(Xhe(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[Vfe(s,u)];return[Vfe(s,u),{name:i,update:Gfe(s,a,"domain('".concat(s,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var c=i.endsWith("width"),l=c?"containerSize()[0]":"containerSize()[1]",f=que(e.config.view,c?"width":"height"),d="isFinite(".concat(l,") ? ").concat(l," : ").concat(f);return[{name:i,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:i,value:r}]}function Vfe(e,t){var n="".concat(e,"_step");return nne(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Gfe(e,t,n){var r=t.get("type"),i=t.get("padding"),a=iee(t.get("paddingOuter"),i),o=t.get("paddingInner");return o="band"===r?void 0!==o?o:i:1,"bandspace(".concat(n,", ").concat(vne(o),", ").concat(vne(a),") * ").concat(e,"_step")}function Yfe(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function Kfe(e,t){return W7(e).reduce((function(n,r){var i=e[r];return Object.assign(Object.assign({},n),cle(t,i,r,(function(e){return dne(e.value)})))}),{})}function Xfe(e,t){if(Xhe(t))return"theta"===e?"independent":"shared";if(Zhe(t))return"shared";if(Qhe(t))return wte(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function Qfe(e,t){var n=e.scale[t],r=wte(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&mre(function(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}(t)),"independent"):e[r][t]||"shared"}var Zfe=Object.assign(Object.assign({},Sue),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Jfe=W7(Zfe),ede=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n)}(kce),tde={symbols:function(e,t){var n,r,i,a,o,u,s,c,l=t.fieldOrDatumDef,f=t.model,d=t.channel,h=t.legendCmpt;if("symbol"!==t.legendType)return;var p=f.markDef,v=f.encoding,m=f.config,g=f.mark,y=p.filled&&"trail"!==g,b=Object.assign(Object.assign({},function(e,t,n){var r,i=nu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=yne(a,t.markDef,t.config);void 0!==o&&(e[a]=dne(o))}}catch(u){i.e(u)}finally{i.f()}return e}({},f,Jie)),gle(f,{filled:y})),x=null!==(n=h.get("symbolOpacity"))&&void 0!==n?n:m.legend.symbolOpacity,w=null!==(r=h.get("symbolFillColor"))&&void 0!==r?r:m.legend.symbolFillColor,_=null!==(i=h.get("symbolStrokeColor"))&&void 0!==i?i:m.legend.symbolStrokeColor,k=void 0===x?null!==(a=nde(v.opacity))&&void 0!==a?a:p.opacity:void 0;if(b.fill)if("fill"===d||y&&d===jee)delete b.fill;else if(b.fill.field)w?delete b.fill:(b.fill=dne(null!==(o=m.legend.symbolBaseFillColor)&&void 0!==o?o:"black"),b.fillOpacity=dne(null!==k&&void 0!==k?k:1));else if(fk(b.fill)){var E=null!==(c=null!==(s=rde(null!==(u=v.fill)&&void 0!==u?u:v.color))&&void 0!==s?s:p.fill)&&void 0!==c?c:y&&p.color;E&&(b.fill=dne(E))}if(b.stroke)if("stroke"===d||!y&&d===jee)delete b.stroke;else if(b.stroke.field||_)delete b.stroke;else if(fk(b.stroke)){var O=iee(rde(v.stroke||v.color),p.stroke,y?p.color:void 0);O&&(b.stroke={value:O})}if(d!==Ree){var S=qae(l)&&ade(f,h,l);S?b.opacity=[Object.assign({test:S},dne(null!==k&&void 0!==k?k:1)),dne(m.legend.unselectedOpacity)]:k&&(b.opacity=dne(k))}return q7(b=Object.assign(Object.assign({},b),e))?void 0:b},gradient:function(e,t){var n,r=t.model,i=t.legendType,a=t.legendCmpt;if("gradient"!==i)return;var o=r.config,u=r.markDef,s=r.encoding,c={},l=void 0===(null!==(n=a.get("gradientOpacity"))&&void 0!==n?n:o.legend.gradientOpacity)?nde(s.opacity)||u.opacity:void 0;l&&(c.opacity=dne(l));return q7(c=Object.assign(Object.assign({},c),e))?void 0:c},labels:function(e,t){var n=t.fieldOrDatumDef,r=t.model,i=t.channel,a=t.legendCmpt,o=r.legend(i)||{},u=r.config,s=qae(n)?ade(r,a,n):void 0,c=s?[{test:s,value:1},{value:u.legend.unselectedOpacity}]:void 0,l=o.format,f=o.formatType,d=hae(f)?gae({fieldOrDatumDef:n,field:"datum.value",format:l,formatType:f,config:u}):void 0,h=Object.assign(Object.assign(Object.assign({},c?{opacity:c}:{}),d?{text:d}:{}),e);return q7(h)?void 0:h},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function nde(e){return ide(e,(function(e,t){return Math.max(e,t.value)}))}function rde(e){return ide(e,(function(e,t){return iee(e,t.value)}))}function ide(e,t){return function(e){var t=e&&e.condition;return!!t&&(fk(t)||Kae(t))}(e)?Rk(e.condition).reduce(t,e.value):Kae(e)?e.value:void 0}function ade(e,t,n){var r=t.get("selections");if(null===r||void 0===r?void 0:r.length){var i=vE(n.field);return r.map((function(e){var t=vE(G7(e)+Zle);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(i,"] && indexof(").concat(e,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}}var ode={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config,i=n.format,a=n.formatType;return yae(t,t.type,i,a,r,!1)},formatType:function(e){var t=e.legend,n=e.fieldOrDatumDef,r=e.scaleType,i=t.formatType;return bae(i,n,r)},gradientLength:function(e){var t,n,r=e.legend,i=e.legendConfig;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,r=e.direction,i=e.orient,a=e.scaleType,o=t.gradientHorizontalMaxLength,u=t.gradientHorizontalMinLength,s=t.gradientVerticalMaxLength,c=t.gradientVerticalMinLength;if(Eie(a))return"horizontal"===r?"top"===i||"bottom"===i?cde(n,"width",u,o):u:cde(n,"height",c,s);return}(e)},labelOverlap:function(e){var t,n,r=e.legend,i=e.legendConfig,a=e.scaleType;return null!==(n=null!==(t=r.labelOverlap)&&void 0!==t?t:i.labelOverlap)&&void 0!==n?n:function(e){if(T7(["quantile","threshold","log","symlog"],e))return"greedy";return}(a)},symbolType:function(e){var t,n=e.legend,r=e.markDef,i=e.channel,a=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){var i;if("shape"!==t){var a=null!==(i=rde(n))&&void 0!==i?i:r;if(a)return a}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,a.shape,r.shape)},title:function(e){return coe(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if(ete(e.channel)&&Eie(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;if(fk(n))return Eoe(t,n);if(nne(n))return n;return}(e.legend,t)}};function ude(e){return iee(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,r=e.scaleType;if(ete(t)){if(T7(["quarter","month","day"],n))return"symbol";if(Eie(r))return"gradient"}return"symbol"}(e))}function sde(e){var t,n,r=e.legendConfig,i=e.legendType,a=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:r[i?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(a,i)}function cde(e,t,n,r){var i=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function lde(e){var t=Khe(e)?function(e){for(var t=e.encoding,n={},r=0,i=[jee].concat(du(Oue));r<i.length;r++){var a=i[r],o=voe(t[a]);o&&e.getScaleComponent(a)&&(a===Pee&&qae(o)&&o.type===rie||(n[a]=dde(e,a)))}return n}(e):function(e){var t,n=e.component,r=n.legends,i=n.resolve,a=nu(e.children);try{for(a.s();!(t=a.n()).done;){var o=t.value;lde(o);var u,s=nu(W7(o.component.legends));try{for(s.s();!(u=s.n()).done;){var c=u.value;i.legend[c]=Qfe(e.component.resolve,c),"shared"===i.legend[c]&&(r[c]=hde(r[c],o.component.legends[c]),r[c]||(i.legend[c]="independent",delete r[c]))}}catch(m){s.e(m)}finally{s.f()}}}catch(m){a.e(m)}finally{a.f()}var l,f=nu(W7(r));try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=nu(e.children);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.component.legends[h]&&("shared"===i.legend[h]&&delete v.component.legends[h])}}catch(m){p.e(m)}finally{p.f()}}}catch(m){f.e(m)}finally{f.f()}return r}(e);return e.component.legends=t,t}function fde(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===t&&e===(null===r||void 0===r?void 0:r.title))return!0}return e===(n||{})[t]}function dde(e,t){var n,r,i,a=e.legend(t),o=e.markDef,u=e.encoding,s=e.config,c=s.legend,l=new ede({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:lu({},t,n)}(e,t));!function(e,t,n){var r,i,a,o,u,s=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field,c=nu(H7(null!==(i=e.component.selection)&&void 0!==i?i:{}));try{for(c.s();!(u=c.n()).done;){var l=u.value,f=null!==(a=l.project.hasField[s])&&void 0!==a?a:l.project.hasChannel[t];if(f&&Wle.defined(l)){var d=null!==(o=n.get("selections"))&&void 0!==o?o:[];d.push(l.name),n.set("selections",d,!1),f.hasLegend=!0}}}catch(h){c.e(h)}finally{c.f()}}(e,t,l);var f=void 0!==a?!a:c.disable;if(l.set("disable",f,void 0!==a),f)return l;a=a||{};var d,h=e.getScaleComponent(t).get("type"),p=voe(u[t]),v=qae(p)?null===(n=Nre(p.timeUnit))||void 0===n?void 0:n.unit:void 0,m=a.orient||s.legend.orient||"right",g=ude({legend:a,channel:t,timeUnit:v,scaleType:h}),y={legend:a,channel:t,model:e,markDef:o,encoding:u,fieldOrDatumDef:p,legendConfig:c,config:s,scaleType:h,orient:m,legendType:g,direction:sde({legend:a,legendType:g,orient:m,legendConfig:c})},b=nu(Jfe);try{for(b.s();!(d=b.n()).done;){var x=d.value;if(!("gradient"===g&&x.startsWith("symbol")||"symbol"===g&&x.startsWith("gradient"))){var w=x in ode?ode[x](y):a[x];if(void 0!==w){var _=fde(w,x,a,e.fieldDef(t));(_||void 0===s.legend[x])&&l.set(x,w,_)}}}}catch(F){b.e(F)}finally{b.f()}for(var k=null!==(r=null===a||void 0===a?void 0:a.encoding)&&void 0!==r?r:{},E=l.get("selections"),O={},S={fieldOrDatumDef:p,model:e,channel:t,legendCmpt:l,legendType:g},A=0,C=["labels","legend","title","symbols","gradient","entries"];A<C.length;A++){var D=C[A],j=Kfe(null!==(i=k[D])&&void 0!==i?i:{},e),T=D in tde?tde[D](j,S):j;void 0===T||q7(T)||(O[D]=Object.assign(Object.assign(Object.assign({},(null===E||void 0===E?void 0:E.length)&&qae(p)?{name:"".concat(G7(p.field),"_legend_").concat(D)}:{}),(null===E||void 0===E?void 0:E.length)?{interactive:!!E}:{}),{update:T}))}return q7(O)||l.set("encode",O,!!(null===a||void 0===a?void 0:a.encoding)),l}function hde(e,t){var n,r,i,a;if(!e)return t.clone();var o=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(!o.explicit||!u.explicit||o.value===u.value){var s,c=!1,l=nu(Jfe);try{var f=function(){var n=s.value,r=Cce(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){if("circle"===t.value)return t;return e}(e,t);case"title":return Ene(e,t);case"type":return c=!0,Oce("symbol")}return Ace(e,t,n,"legend")}));e.setWithExplicit(n,r)};for(l.s();!(s=l.n()).done;)f()}catch(d){l.e(d)}finally{l.f()}return c&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&K7(e.implicit,["encode","gradient"]),(null===(a=null===(i=e.explicit)||void 0===i?void 0:i.encode)||void 0===a?void 0:a.gradient)&&K7(e.explicit,["encode","gradient"])),e}}var pde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function vde(e){var t,n=e.component.legends,r={},i=nu(W7(n));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.getScaleComponent(a),u=C7(o.get("domains"));if(r[u]){var s,c=nu(r[u]);try{for(c.s();!(s=c.n()).done;){hde(s.value,n[a])||r[u].push(n[a])}}catch(f){c.e(f)}finally{c.f()}}else r[u]=[n[a].clone()]}}catch(f){i.e(f)}finally{i.f()}var l=H7(r).flat().map((function(t){return function(e,t){var n,r,i,a=e.combine(),o=a.disable,u=a.labelExpr,s=(a.selections,pde(a,["disable","labelExpr","selections"]));if(o)return;!1===t.aria&&void 0==s.aria&&(s.aria=!1);if(null===(n=s.encode)||void 0===n?void 0:n.symbols){var c=s.encode.symbols.update;!c.fill||"transparent"===c.fill.value||c.stroke||s.stroke||(c.stroke={value:"transparent"});var l,d=nu(Oue);try{for(d.s();!(l=d.n()).done;){var h=l.value;s[h]&&delete c[h]}}catch(f){d.e(f)}finally{d.f()}}s.title||delete s.title;if(void 0!==u){var p=u;(null===(i=null===(r=s.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&nne(s.encode.labels.update.text)&&(p=tee(u,"datum.label",s.encode.labels.update.text.signal)),function(e,t,n,r){var i,a,o,u,s;null!==(i=e.encode)&&void 0!==i||(e.encode={}),null!==(a=(u=e.encode)[t])&&void 0!==a||(u[t]={}),null!==(o=(s=e.encode[t]).update)&&void 0!==o||(s.update={}),e.encode[t].update[n]=r}(s,"labels","text",{signal:p})}return s}(t,e.config)})).filter((function(e){return void 0!==e}));return l}function mde(e){return Zhe(e)||Qhe(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),gde(e))}(e):gde(e)}function gde(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name;if(t.data){var i={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},a=t.data.reduce((function(t,n){var r=nne(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return T7(t,r)||t.push(r),t}),[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:a.length>1?"[".concat(a.join(", "),"]"):a[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var yde=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],bde=function(e){bm(n,e);var t=Em(n);function n(e,r,i,a){var o;return ru(this,n),(o=t.call(this,Object.assign({},r),{name:e})).specifiedProjection=r,o.size=i,o.data=a,o.merged=!1,o}return au(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(kce);function xde(e){e.component.projection=Khe(e)?function(e){var t;if(e.hasProjection){var n=Zte(e.specifiedProjection),r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,a=r?function(e){for(var t=[],n=e.encoding,r=0,i=[[Aee,See],[Dee,Cee]];r<i.length;r++){var a=i[r];(voe(n[a[0]])||voe(n[a[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}e.channelHasField(Pee)&&e.typedFieldDef(Pee).type===rie&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(Dce.Main));return t}(e):void 0,o=new bde(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=Zte(e.config.projection))&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),i,a);return o.get("type")||o.set("type","equalEarth",!1),o}return}(e):function(e){if(0===e.children.length)return;var t,n,r=nu(e.children);try{for(r.s();!(n=r.n()).done;){xde(n.value)}}catch(d){r.e(d)}finally{r.f()}var i=P7(e.children,(function(e){var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=P7(yde,(function(n){return!Xk(e.explicit,n)&&!Xk(t.explicit,n)||!!(Xk(e.explicit,n)&&Xk(t.explicit,n)&&k7(e.get(n),t.get(n)))}));if(k7(e.size,t.size)){if(n)return e;if(k7(e.explicit,{}))return t;if(k7(t.explicit,{}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0}));if(t&&i){var a,o=e.projectionName(!0),u=new bde(o,t.specifiedProjection,t.size,E7(t.data)),s=nu(e.children);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=c.component.projection;if(l){var f;if(l.isFit)(f=u.data).push.apply(f,du(c.component.projection.data));c.renameProjection(l.get("name"),o),l.merged=!0}}}catch(d){s.e(d)}finally{s.f()}return u}return}(e)}var wde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function _de(e,t){return"".concat($te(e),"_").concat(t)}function kde(e,t,n){var r,i=_de(null!==(r=boe(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(i,"_bins"))}function Ede(e,t,n){var r,i;r=function(e){return"as"in e}(e)?uE(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[noe(e,{forAs:!0}),noe(e,{binSuffix:"end",forAs:!0})];var a=Object.assign({},boe(t,void 0)),o=_de(a,e.field),u=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,o),s=u.signal,c=u.extentSignal;if(Kte(a.extent)){var l=a.extent;i=dfe(n,l.param,l),delete a.extent}return{key:o,binComponent:Object.assign(Object.assign(Object.assign({bin:a,field:e.field,as:[r]},s?{signal:s}:{}),c?{extentSignal:c}:{}),i?{span:i}:{})}}var Ode=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).bins=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.bins))}},{key:"merge",value:function(e,t){var n,r=nu(W7(e.bins));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in this.bins?(t(e.bins[i].signal,this.bins[i].signal),this.bins[i].as=R7([].concat(du(this.bins[i].as),du(e.bins[i].as)),D7)):this.bins[i]=e.bins[i]}}catch(s){r.e(s)}finally{r.f()}var a,o=nu(e.children);try{for(o.s();!(a=o.n()).done;){var u=a.value;e.removeChild(u),u.parent=this}}catch(s){o.e(s)}finally{o.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(H7(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(H7(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(D7(this.bins))}},{key:"assemble",value:function(){return H7(this.bins).flatMap((function(e){var t=[],n=Hm(e.as),r=n[0],i=n.slice(1),a=e.bin,o=a.extent,u=wde(a,["extent"]),s=Object.assign(Object.assign(Object.assign({type:"bin",field:eee(e.field),as:r,signal:e.signal},Kte(o)?{extent:null}:{extent:o}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),u);!o&&e.extentSignal&&(t.push({type:"extent",field:eee(e.field),signal:e.extentSignal}),s.extent={signal:e.extentSignal}),t.push(s);var c,l=nu(i);try{for(l.s();!(c=l.n()).done;)for(var f=c.value,d=0;d<2;d++)t.push({type:"formula",expr:noe({field:r[d]},{expr:"datum"}),as:f[d]})}catch(h){l.e(h)}finally{l.f()}return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){if(Yae(n)&&Vte(n.bin)){var i=Ede(n,n.bin,t),a=i.key,o=i.binComponent;e[a]=Object.assign(Object.assign(Object.assign({},o),e[a]),function(e,t,n,r){var i,a;if(Ooe(t,n)){var o=Khe(e)&&null!==(a=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==a?a:{},u=noe(t,{expr:"datum"}),s=noe(t,{expr:"datum",binSuffix:"end"});return{formulaAs:noe(t,{binSuffix:"range",forAs:!0}),formula:kae(u,s,o.format,o.formatType,r)}}return{}}(t,n,r,t.config))}return e}),{});return q7(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t,r){var i=Ede(t,t.bin,r);return new n(e,lu({},i.key,i.binComponent))}}]),n}(qce);function Sde(e,t,n,r){var i,a=Khe(r)?r.encoding[dte(t)]:void 0;if(Yae(n)&&Khe(r)&&Bae(n,a,r.markDef,r.config))e.add(noe(n,{})),e.add(noe(n,{suffix:"end"})),n.bin&&Ooe(n,t)&&e.add(noe(n,{binSuffix:"range"}));else if(function(e){return e in Qee}(t)){var o=function(e){switch(e){case See:return"y";case Cee:return"y2";case Aee:return"x";case Dee:return"x2"}}(t);e.add(r.getName(o))}else e.add(noe(n));return Xae(n)&&function(e){return dk(e)&&"field"in e}(null===(i=n.scale)||void 0===i?void 0:i.range)&&e.add(n.scale.range.field),e}var Ade=function(e){bm(n,e);var t=Em(n);function n(e,r,i){var a;return ru(this,n),(a=t.call(this,e)).dimensions=r,a.measures=i,a}return au(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),E7(this.measures))}},{key:"groupBy",get:function(){return this.dimensions}},{key:"merge",value:function(e){return B7(this.dimensions,e.dimensions)?(function(e,t){var n,r,i=nu(W7(t));try{for(i.s();!(r=i.n()).done;){var a,o=r.value,u=t[o],s=nu(W7(u));try{for(s.s();!(a=s.n()).done;){var c=a.value;o in e?e[o][c]=new Set([].concat(du(null!==(n=e[o][c])&&void 0!==n?n:[]),du(u[c]))):e[o]=lu({},c,u[c])}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}}(this.measures,e.measures),!0):(function(){var e;(e=hre).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(du(this.dimensions),du(W7(this.measures))))}},{key:"producedFields",value:function(){var e,t=new Set,n=nu(W7(this.measures));try{for(n.s();!(e=n.n()).done;){var r,i=e.value,a=nu(W7(this.measures[i]));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=this.measures[i][o];0===u.size?t.add("".concat(o,"_").concat(i)):u.forEach(t.add,t)}}catch(s){a.e(s)}finally{a.f()}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"hash",value:function(){return"Aggregate ".concat(D7({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=nu(W7(this.measures));try{for(i.s();!(e=i.n()).done;){var a,o=e.value,u=nu(W7(this.measures[o]));try{for(u.s();!(a=u.n()).done;){var s,c=a.value,l=nu(this.measures[o][c]);try{for(l.s();!(s=l.n()).done;){var f=s.value;r.push(f),t.push(c),n.push("*"===o?null:eee(o))}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}}}catch(d){i.e(d)}finally{i.f()}return{type:"aggregate",groupby:du(this.dimensions).map(eee),ops:t,fields:n,as:r}}}],[{key:"makeFromEncoding",value:function(e,t){var r=!1;t.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var i={},a=new Set;return r?(t.forEachFieldDef((function(e,n){var r,o,u,s,c=e.aggregate,l=e.field;if(c)if("count"===c)null!==(r=i["*"])&&void 0!==r||(i["*"]={}),i["*"].count=new Set([noe(e,{forAs:!0})]);else{if(Bte(c)||zte(c)){var f=Bte(c)?"argmin":"argmax",d=c[f];null!==(o=i[d])&&void 0!==o||(i[d]={}),i[d][f]=new Set([noe({op:f,field:d},{forAs:!0})])}else null!==(u=i[l])&&void 0!==u||(i[l]={}),i[l][c]=new Set([noe(e,{forAs:!0})]);Tte(n)&&"unaggregated"===t.scaleDomain(n)&&(null!==(s=i[l])&&void 0!==s||(i[l]={}),i[l].min=new Set([noe({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([noe({field:l,aggregate:"max"},{forAs:!0})]))}else Sde(a,n,e,t)})),a.size+W7(i).length===0?null:new n(e,a,i)):null}},{key:"makeFromTransform",value:function(e,t){var r,i,a,o,u=new Set,s={},c=nu(t.aggregate);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=l.op,d=l.field,h=l.as;f&&("count"===f?(null!==(r=s["*"])&&void 0!==r||(s["*"]={}),s["*"].count=new Set([h||noe(l,{forAs:!0})])):(null!==(i=s[d])&&void 0!==i||(s[d]={}),s[d][f]=new Set([h||noe(l,{forAs:!0})])))}}catch(g){c.e(g)}finally{c.f()}var p,v=nu(null!==(a=t.groupby)&&void 0!==a?a:[]);try{for(v.s();!(p=v.n()).done;){var m=p.value;u.add(m)}}catch(g){v.e(g)}finally{v.f()}return u.size+W7(s).length===0?null:new n(e,u,s)}}]),n}(qce),Cde=function(e){bm(n,e);var t=Em(n);function n(e,r,i,a){var o;ru(this,n),(o=t.call(this,e)).model=r,o.name=i,o.data=a;var u,s=nu(nte);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=r.facet[c];if(l){var f=l.bin,d=l.sort;o[c]=Object.assign({name:r.getName("".concat(c,"_domain")),fields:[noe(l)].concat(du(Vte(f)?[noe(l,{binSuffix:"end"})]:[]))},Cae(d)?{sortField:d}:fk(d)?{sortIndexField:Cfe(l,c)}:{})}}}catch(h){s.e(h)}finally{s.f()}return o.childModel=r.child,o}return au(n,[{key:"hash",value:function(){var e,t="Facet",n=nu(nte);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(t+=" ".concat(r.charAt(0),":").concat(D7(this[r])))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"fields",get:function(){var e,t,n=[],r=nu(nte);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===(e=this[i])||void 0===e?void 0:e.fields)&&n.push.apply(n,du(this[i].fields))}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"dependentFields",value:function(){var e,t=new Set(this.fields),n=nu(nte);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e,t={},n=nu(xte);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this.childModel.component.scales[r];if(i&&!i.merged){var a=i.get("type"),o=i.get("range");if(_ie(a)&&rne(o)){var u=khe(Ehe(this.childModel,r));u?t[r]=u:mre(jne(r))}}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x",facet:void 0}[e],i=[],a=[],o=[];r&&n&&n[r]&&(t?(i.push("distinct_".concat(n[r])),a.push("max")):(i.push(n[r]),a.push("distinct")),o.push("distinct_".concat(n[r])));var u=this[e],s=u.sortField,c=u.sortIndexField;if(s){var l=s.op,f=void 0===l?Eae:l,d=s.field;i.push(d),a.push(f),o.push(noe(s,{forAs:!0}))}else c&&(i.push(c),a.push("max"),o.push(c));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:a,as:o}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r,i=this.model.layout.columns,a=this.model.component.layoutHeaders,o=[],u={},s=nu(Ffe);try{for(s.s();!(r=s.n()).done;){var c,l=r.value,f=nu(Pfe);try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=nu(null!==(t=a[l]&&a[l][h])&&void 0!==t?t:[]);try{for(p.s();!(d=p.n()).done;){if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){u[l]=!0;break}}}catch(b){p.e(b)}finally{p.f()}}}catch(b){f.e(b)}finally{f.f()}if(u[l]){var v='length(data("'.concat(this.facet.name,'"))'),m="row"===l?i?{signal:"ceil(".concat(v," / ").concat(i,")")}:1:i?{signal:"min(".concat(v,", ").concat(i,")")}:{signal:v};o.push({name:"".concat(this.facet.name,"_").concat(l),transform:[{type:"sequence",start:0,stop:m}]})}}}catch(b){s.e(b)}finally{s.f()}var g=u.row,y=u.column;return(g||y)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,e)),o}},{key:"assemble",value:function(){var e,t,n=[],r=null,i=this.getChildIndependentFieldsWithStep(),a=this.column,o=this.row,u=this.facet;if(a&&o&&(i.x||i.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var s=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),c=s.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:c}]})}for(var l=0,f=[pee,hee];l<f.length;l++){var d=f[l];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,i))}if(u){var h=this.assembleFacetHeaderData(i);h&&n.push.apply(n,du(h))}return n}}]),n}(qce);function Dde(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function jde(e,t){var n=Q7(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(t.startsWith("date:")){var r=Dde(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(t.startsWith("utc:")){var i=Dde(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(i,"')")}return mre('Unrecognized parse "'.concat(t,'".')),null}function Tde(e){var t={};return w7(e.filter,(function(e){var n;if($re(e)){var r=null;Ire(e)?r=lne(e.equal):zre(e)?r=lne(e.lte):Bre(e)?r=lne(e.lt):Lre(e)?r=lne(e.gt):Ure(e)?r=lne(e.gte):qre(e)?r=e.range[0]:Wre(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(gre(r)?t[e.field]="date":aE(r)?t[e.field]="number":uE(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function Fde(e){var t={};function n(e){var n;_oe(e)?t[e.field]="date":"quantitative"===e.type&&(uE(n=e.aggregate)&&T7(["min","max"],n))?t[e.field]="number":ree(e.field)>1?e.field in t||(t[e.field]="flatten"):Xae(e)&&Cae(e.sort)&&ree(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((Khe(e)||Xhe(e))&&e.forEachFieldDef((function(t,r){if(Yae(t))n(t);else{var i=lte(r),a=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:a.type}))}})),Khe(e)){var r=e.mark,i=e.markDef,a=e.encoding;if(Kie(r)&&!e.encoding.order){var o=a["horizontal"===i.orient?"y":"x"];qae(o)&&"quantitative"===o.type&&!(o.field in t)&&(t[o.field]="number")}}return t}var Pde,Mde=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e))._parse=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(D7(this._parse))}},{key:"parse",get:function(){return this._parse}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e,t={},n=nu(W7(this._parse));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this._parse[r];1===ree(r)&&(t[r]=i)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set(W7(this._parse))}},{key:"dependentFields",value:function(){return new Set(W7(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return W7(this._parse).filter((function(e){return!t||ree(e)>1})).map((function(t){var n=jde(t,e._parse[t]);return n?{type:"formula",expr:n,as:nee(t)}:null})).filter((function(e){return null!==e}))}}],[{key:"makeExplicit",value:function(e,t,n){var r,i={},a=t.data;return!Mce(a)&&(null===(r=null===a||void 0===a?void 0:a.format)||void 0===r?void 0:r.parse)&&(i=a.format.parse),this.makeWithAncestors(e,i,{},n)}},{key:"makeWithAncestors",value:function(e,t,r,i){var a,o=nu(W7(r));try{for(o.s();!(a=o.n()).done;){var u=a.value,s=i.getWithExplicit(u);void 0!==s.value&&(s.explicit||s.value===r[u]||"derived"===s.value||"flatten"===r[u]?delete r[u]:mre(Rne(u,r[u],s.value)))}}catch(b){o.e(b)}finally{o.f()}var c,l=nu(W7(t));try{for(l.s();!(c=l.n()).done;){var f=c.value,d=i.get(f);void 0!==d&&(d===t[f]?delete t[f]:mre(Rne(f,t[f],d)))}}catch(b){l.e(b)}finally{l.f()}var h=new kce(t,r);i.copyAll(h);var p,v={},m=nu(W7(h.combine()));try{for(m.s();!(p=m.n()).done;){var g=p.value,y=h.get(g);null!==y&&(v[g]=y)}}catch(b){m.e(b)}finally{m.f()}return 0===W7(v).length||i.parseNothing?null:new n(e,v)}}]),n}(qce),Nde=function(e){bm(n,e);var t=Em(n);function n(e){return ru(this,n),t.call(this,e)}return au(n,[{key:"clone",value:function(){return new n(null)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([Aue])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:Aue}}}]),n}(qce),Rde=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).params=r,i}return au(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(D7(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(qce),Ide=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).params=r,i}return au(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(D7(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(qce),Bde=function(e){bm(n,e);var t=Em(n);function n(e){var r,i;if(ru(this,n),r=t.call(this,null),null!==e&&void 0!==e||(e={name:"source"}),Mce(e)||(i=e.format?Object.assign({},A7(e.format,["parse"])):{}),Fce(e))r._data={values:e.values};else if(Tce(e)){if(r._data={url:e.url},!i.type){var a=/(?:\.([^.]+))?$/.exec(e.url)[1];T7(["json","csv","tsv","dsv","topojson"],a)||(a="json"),i.type=a}}else Rce(e)?r._data={values:[{type:"Sphere"}]}:(Pce(e)||Mce(e))&&(r._data={});return r._generator=Mce(e),e.name&&(r._name=e.name),i&&!q7(i)&&(r._data.format=i),r}return au(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"data",get:function(){return this._data}},{key:"hasName",value:function(){return!!this._name}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}]),n}(qce),zde=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Lde=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};function Ude(e){return e instanceof Bde||e instanceof Rde||e instanceof Ide}var qde=function(){function e(){ru(this,e),Pde.set(this,void 0),zde(this,Pde,!1,"f")}return au(e,[{key:"setModified",value:function(){zde(this,Pde,!0,"f")}},{key:"modifiedFlag",get:function(){return Lde(this,Pde,"f")}}]),e}();Pde=new WeakMap;var Wde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"getNodeDepths",value:function(e,t,n){n.set(e,t);var r,i=nu(e.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.getNodeDepths(a,t+1,n)}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"optimize",value:function(e){var t,n=du(this.getNodeDepths(e,0,new Map).entries()).sort((function(e,t){return t[1]-e[1]})),r=nu(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.run(i[0])}}catch(a){r.e(a)}finally{r.f()}return this.modifiedFlag}}]),n}(qde),Hde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"optimize",value:function(e){this.run(e);var t,n=nu(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.optimize(r)}}catch(i){n.e(i)}finally{n.f()}return this.modifiedFlag}}]),n}(qde),$de=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"mergeNodes",value:function(e,t){var n,r=t.shift(),i=nu(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.removeChild(a),a.parent=r,a.remove()}}catch(o){i.e(o)}finally{i.f()}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var i,a=nu(W7(n));try{for(a.s();!(i=a.n()).done;){var o=i.value;n[o].length>1&&(this.setModified(),this.mergeNodes(e,n[o]))}}catch(u){a.e(u)}finally{a.f()}}}]),n}(Hde),Vde=function(e){bm(n,e);var t=Em(n);function n(e){var r;return ru(this,n),(r=t.call(this)).requiresSelectionId=e&&afe(e),r}return au(n,[{key:"run",value:function(e){e instanceof Nde&&(this.requiresSelectionId&&(Ude(e.parent)||e.parent instanceof Ade||e.parent instanceof Mde)||(this.setModified(),e.remove()))}}]),n}(Hde),Gde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"optimize",value:function(e){return this.run(e,new Set),this.modifiedFlag}},{key:"run",value:function(e,t){var n=new Set;e instanceof $ce&&z7(n=e.producedFields(),t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove());var r,i=nu(e.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.run(a,new Set([].concat(du(t),du(n))))}}catch(o){i.e(o)}finally{i.f()}}}]),n}(qde),Yde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.call(this)}return au(n,[{key:"run",value:function(e){e instanceof Wce&&!e.isRequired()&&(this.setModified(),e.remove())}}]),n}(Hde),Kde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"run",value:function(e){if(!Ude(e)&&!(e.numChildren()>1)){var t,n=nu(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof Mde)if(e instanceof Mde)this.setModified(),e.merge(r);else{if(U7(e.producedFields(),r.dependentFields()))continue;this.setModified(),r.swapWithParent()}}}catch(i){n.e(i)}finally{n.f()}}}}]),n}(Wde),Xde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"run",value:function(e){var t=du(e.children),n=e.children.filter((function(e){return e instanceof Mde}));if(e.numChildren()>1&&n.length>=1){var r,i={},a=new Set,o=nu(n);try{for(o.s();!(r=o.n()).done;){var u,s=r.value.parse,c=nu(W7(s));try{for(c.s();!(u=c.n()).done;){var l=u.value;l in i?i[l]!==s[l]&&a.add(l):i[l]=s[l]}}catch(x){c.e(x)}finally{c.f()}}}catch(x){o.e(x)}finally{o.f()}var f,d=nu(a);try{for(d.s();!(f=d.n()).done;){delete i[f.value]}}catch(x){d.e(x)}finally{d.f()}if(!q7(i)){this.setModified();var h,p=new Mde(e,i),v=nu(t);try{for(v.s();!(h=v.n()).done;){var m=h.value;if(m instanceof Mde){var g,y=nu(W7(i));try{for(y.s();!(g=y.n()).done;){var b=g.value;delete m.parse[b]}}catch(x){y.e(x)}finally{y.f()}}e.removeChild(m),m.parent=p,m instanceof Mde&&0===W7(m.parse).length&&m.remove()}}catch(x){v.e(x)}finally{v.f()}}}}}]),n}(Wde),Qde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"run",value:function(e){e instanceof Wce||e.numChildren()>0||e instanceof Cde||e instanceof Bde||(this.setModified(),e.remove())}}]),n}(Wde),Zde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"run",value:function(e){var t,n=e.children.filter((function(e){return e instanceof $ce})),r=n.pop(),i=nu(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.setModified(),r.merge(a)}}catch(o){i.e(o)}finally{i.f()}}}]),n}(Wde),Jde=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"run",value:function(e){var t,n={},r=nu(e.children.filter((function(e){return e instanceof Ade})));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=D7(i.groupBy);a in n||(n[a]=[]),n[a].push(i)}}catch(h){r.e(h)}finally{r.f()}var o,u=nu(W7(n));try{for(u.s();!(o=u.n()).done;){var s=n[o.value];if(s.length>1){var c,l=s.pop(),f=nu(s);try{for(f.s();!(c=f.n()).done;){var d=c.value;l.merge(d)&&(e.removeChild(d),d.parent=l,d.remove(),this.setModified())}}catch(h){f.e(h)}finally{f.f()}}}}catch(h){u.e(h)}finally{u.f()}}}]),n}(Wde),ehe=function(e){bm(n,e);var t=Em(n);function n(e){var r;return ru(this,n),(r=t.call(this)).model=e,r}return au(n,[{key:"run",value:function(e){var t,n=!(Ude(e)||e instanceof lfe||e instanceof Mde||e instanceof Nde),r=[],i=[],a=nu(e.children);try{for(a.s();!(t=a.n()).done;){var o=t.value;o instanceof Ode&&(n&&!U7(e.producedFields(),o.dependentFields())?r.push(o):i.push(o))}}catch(v){a.e(v)}finally{a.f()}if(r.length>0){var u,s=r.pop(),c=nu(r);try{for(c.s();!(u=c.n()).done;){var l=u.value;s.merge(l,this.model.renameSignal.bind(this.model))}}catch(v){c.e(v)}finally{c.f()}this.setModified(),e instanceof Ode?e.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){var f,d=i.pop(),h=nu(i);try{for(h.s();!(f=h.n()).done;){var p=f.value;d.merge(p,this.model.renameSignal.bind(this.model))}}catch(v){h.e(v)}finally{h.f()}this.setModified()}}}]),n}(Wde),the=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"run",value:function(e){var t=du(e.children),n=F7(t,(function(e){return e instanceof Wce}));if(n&&!(e.numChildren()<=1)){var r,i,a=[],o=nu(t);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(u instanceof Wce){for(var s=u;1===s.numChildren();){var c=C(s.children,1)[0];if(!(c instanceof Wce))break;s=c}a.push.apply(a,du(s.children)),r?(e.removeChild(u),u.parent=r.parent,r.parent.removeChild(r),r.parent=s,this.setModified()):r=s}else a.push(u)}}catch(h){o.e(h)}finally{o.f()}if(a.length){this.setModified();var l,f=nu(a);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.parent.removeChild(d),d.parent=r}}catch(h){f.e(h)}finally{f.f()}}}}}]),n}(Wde),nhe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).transform=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=R7(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:noe(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=nu(this.transform.joinaggregate);try{for(i.s();!(e=i.n()).done;){var a=e.value;n.push(a.op),r.push(this.getDefaultName(a)),t.push(void 0===a.field?null:a.field)}}catch(u){i.e(u)}finally{i.f()}var o=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==o?{groupby:o}:{})}}]),n}(qce);var rhe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e))._stack=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this._stack))}},{key:"stack",get:function(){return this._stack}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,du(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(D7(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDefs,n=e.impute,r=e.groupby;return t.length>0?t.map((function(e){return e.bin?n?[noe(e,{binSuffix:"mid"})]:[noe(e,{}),noe(e,{binSuffix:"end"})]:[noe(e)]})).flat():null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDefs,i=t.stackField,a=t.stackby,o=t.sort,u=t.offset,s=t.impute,c=t.as;if(s){var l,f=nu(r);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=d.bandPosition,p=void 0===h?.5:h;if(d.bin){var v=noe(d,{expr:"datum"}),m=noe(d,{expr:"datum",binSuffix:"end"});e.push({type:"formula",expr:"".concat(p,"*").concat(v,"+").concat(1-p,"*").concat(m),as:noe(d,{binSuffix:"mid",forAs:!0})})}e.push({type:"impute",field:i,groupby:[].concat(du(a),du(n)),key:noe(d,{binSuffix:"mid"}),method:"value",value:0})}}catch(g){f.e(g)}finally{f.f()}}return e.push({type:"stack",groupby:[].concat(du(this.getGroupbyFields()),du(n)),field:i,sort:o,as:c,offset:u}),e}}],[{key:"makeFromTransform",value:function(e,t){var r=t.stack,i=t.groupby,a=t.as,o=t.offset,u=void 0===o?"zero":o,s=[],c=[];if(void 0!==t.sort){var l,f=nu(t.sort);try{for(f.s();!(l=f.n()).done;){var d=l.value;s.push(d.field),c.push(iee(d.order,"ascending"))}}catch(v){f.e(v)}finally{f.f()}}var h,p={field:s,order:c};return h=function(e){return fk(e)&&e.every((function(e){return uE(e)}))&&e.length>1}(a)?a:uE(a)?[a,"".concat(a,"_end")]:["".concat(t.stack,"_start"),"".concat(t.stack,"_end")],new n(e,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:u,sort:p,facetby:[],as:h})}},{key:"makeFromEncoding",value:function(e,t){var r=t.stack,i=t.encoding;if(!r)return null;var a,o=r.groupbyChannels,u=r.fieldChannel,s=r.offset,c=r.impute,l=o.map((function(e){return poe(i[e])})).filter((function(e){return!!e})),f=function(e){return e.stack.stackBy.reduce((function(e,t){var n=noe(t.fieldDef);return n&&e.push(n),e}),[])}(t),d=t.encoding.order;return a=fk(d)||qae(d)?wne(d):f.reduce((function(e,t){return e.field.push(t),e.order.push("y"===u?"descending":"ascending"),e}),{field:[],order:[]}),new n(e,{dimensionFieldDefs:l,stackField:t.vgField(u),facetby:[],stackby:f,sort:a,offset:s,impute:c,as:[t.vgField(u,{suffix:"start",forAs:!0}),t.vgField(u,{suffix:"end",forAs:!0})]})}}]),n}(qce),ihe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).transform=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=R7(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:noe(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e,t,n=[],r=[],i=[],a=[],o=nu(this.transform.window);try{for(o.s();!(t=o.n()).done;){var u=t.value;r.push(u.op),i.push(this.getDefaultName(u)),a.push(void 0===u.param?null:u.param),n.push(void 0===u.field?null:u.field)}}catch(g){o.e(g)}finally{o.f()}var s=this.transform.frame,c=this.transform.groupby;if(s&&null===s[0]&&null===s[1]&&r.every((function(e){return Lte(e)})))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},void 0!==c?{groupby:c}:{});var l=[],f=[];if(void 0!==this.transform.sort){var d,h=nu(this.transform.sort);try{for(h.s();!(d=h.n()).done;){var p=d.value;l.push(p.field),f.push(null!==(e=p.order)&&void 0!==e?e:"ascending")}}catch(g){h.e(g)}finally{h.f()}}var v={field:l,order:f},m=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:a,as:i,ops:r,fields:n,sort:v},void 0!==m?{ignorePeers:m}:{}),void 0!==c?{groupby:c}:{}),void 0!==s?{frame:s}:{})}}]),n}(qce);function ahe(e){if(e instanceof Cde)if(1!==e.numChildren()||e.children[0]instanceof Wce){var t=e.model.component.data.main;ohe(t);var n,r=(o=e,function e(t){if(!(t instanceof Cde)){var n=t.clone();if(n instanceof Wce){var r=uhe+n.getSource();n.setSource(r),o.model.component.data.outputNodes[r]=n}else(n instanceof Ade||n instanceof rhe||n instanceof ihe||n instanceof nhe)&&n.addDimensions(o.fields);var i,a=nu(t.children.flatMap(e));try{for(a.s();!(i=a.n()).done;)i.value.parent=n}catch(u){a.e(u)}finally{a.f()}return[n]}return t.children.flatMap(e)}),i=nu(e.children.map(r).flat());try{for(i.s();!(n=i.n()).done;){n.value.parent=t}}catch(u){i.e(u)}finally{i.f()}}else{var a=e.children[0];(a instanceof Ade||a instanceof rhe||a instanceof ihe||a instanceof nhe)&&a.addDimensions(e.fields),a.swapWithParent(),ahe(e)}else e.children.map(ahe);var o}function ohe(e){if(e instanceof Wce&&e.type===Dce.Main&&1===e.numChildren()){var t=e.children[0];t instanceof Cde||(t.swapWithParent(),ohe(e))}}var uhe="scale_";function she(e){var t,n=nu(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=nu(i.children);try{for(a.s();!(r=a.n()).done;){if(r.value.parent!==i)return!1}}catch(o){a.e(o)}finally{a.f()}if(!she(i.children))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}function che(e,t){var n,r=!1,i=nu(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=e.optimize(a)||r}}catch(o){i.e(o)}finally{i.f()}return r}function lhe(e,t,n){var r=e.sources,i=!1;return i=che(new Yde,r)||i,i=che(new Vde(t),r)||i,r=r.filter((function(e){return e.numChildren()>0})),i=che(new Qde,r)||i,r=r.filter((function(e){return e.numChildren()>0})),n||(i=che(new Kde,r)||i,i=che(new ehe(t),r)||i,i=che(new Gde,r)||i,i=che(new Xde,r)||i,i=che(new Jde,r)||i,i=che(new Zde,r)||i,i=che(new $de,r)||i,i=che(new the,r)||i),e.sources=r,i}function fhe(e,t){she(e.sources);for(var n=0,r=0,i=0;i<5&&lhe(e,t,!0);i++)n++;e.sources.map(ahe);for(var a=0;a<5&&lhe(e,t,!1);a++)r++;she(e.sources),5===Math.max(n,r)&&mre("Maximum optimization runs(".concat(5,") reached."))}var dhe=function(){function e(t){ru(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return au(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}(),hhe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function phe(e){Khe(e)?function(e){var t,n=e.component.scales,r=nu(W7(n));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=vhe(e,i);if(n[i].setWithExplicit("domains",a),bhe(e,i),e.component.data.isFaceted){for(var o=e;!Xhe(o)&&o.parent;)o=o.parent;if("shared"===o.component.resolve.scale[i]){var u,s=nu(a.value);try{for(s.s();!(u=s.n()).done;){var c=u.value;ine(c)&&(c.data=uhe+c.data.replace(uhe,""))}}catch(l){s.e(l)}finally{s.f()}}}}}catch(l){r.e(l)}finally{r.f()}}(e):function(e){var t,n=nu(e.children);try{for(n.s();!(t=n.n()).done;){phe(t.value)}}catch(h){n.e(h)}finally{n.f()}var r,i=e.component.scales,a=nu(W7(i));try{for(a.s();!(r=a.n()).done;){var o,u=r.value,s=void 0,c=null,l=nu(e.children);try{for(l.s();!(o=l.n()).done;){var f=o.value.component.scales[u];if(f){s=void 0===s?f.getWithExplicit("domains"):Cce(s,f.getWithExplicit("domains"),"domains","scale",whe);var d=f.get("selectionExtent");c&&d&&c.param!==d.param&&mre(Mne),c=d}}}catch(h){l.e(h)}finally{l.f()}i[u].setWithExplicit("domains",s),c&&i[u].set("selectionExtent",c,!0)}}catch(h){a.e(h)}finally{a.f()}}(e)}function vhe(e,t){var n=e.getScaleComponent(t).get("type"),r=e.encoding,i=function(e,t,n,r){if("unaggregated"===e){var i=xhe(t,n),a=i.valid,o=i.reason;if(!a)return void mre(o)}else if(void 0===e&&r.useUnaggregatedDomain&&xhe(t,n).valid)return"unaggregated";return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),"x"===t&&voe(r.x2)?voe(r.x)?Cce(ghe(n,i,e,"x"),ghe(n,i,e,"x2"),"domain","scale",whe):ghe(n,i,e,"x2"):"y"===t&&voe(r.y2)?voe(r.y)?Cce(ghe(n,i,e,"y"),ghe(n,i,e,"y2"),"domain","scale",whe):ghe(n,i,e,"y2"):ghe(n,i,e,t)}function mhe(e,t,n){var r,i=null===(r=Nre(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map((function(e){var r=koe(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(e,t,i):[e]}function ghe(e,t,n,r){var i=voe(n.encoding[r]),a=i.type,o=i.timeUnit;if(function(e){return e&&e.unionWith}(t)){var u=ghe(e,void 0,n,r),s=mhe(t.unionWith,a,o);return Ece([].concat(du(u.value),du(s)))}if(nne(t))return Ece([t]);if(t&&"unaggregated"!==t&&!Sie(t))return Ece(mhe(t,a,o));var c=n.stack;if(c&&r===c.fieldChannel){if("normalize"===c.offset)return Oce([[0,1]]);var l=n.requestDataName(Dce.Main);return Oce([{data:l,field:n.vgField(r,{suffix:"start"})},{data:l,field:n.vgField(r,{suffix:"end"})}])}var f=Tte(r)&&qae(i)?function(e,t,n){if(!_ie(n))return;var r=e.fieldDef(t),i=r.sort;if(Dae(i))return{op:"min",field:Cfe(r,t),order:"ascending"};var a=e.stack,o=a?new Set([].concat(du(a.groupbyFields),du(a.stackBy.map((function(e){return e.fieldDef.field}))))):void 0;if(Cae(i))return yhe(i,a&&!o.has(i.field));if(Aae(i)){var u=i.encoding,s=i.order,c=e.fieldDef(u),l=c.aggregate,f=c.field,d=a&&!o.has(f);if(Bte(l)||zte(l))return yhe({field:noe(c),order:s},d);if(Lte(l)||!l)return yhe({op:l,field:f,order:s},d)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(T7(["ascending",void 0],i))return!0}return}(n,r,e):void 0;if(Hae(i))return Oce(mhe([i.datum],a,o));var d=i;if("unaggregated"===t){var h=n.requestDataName(Dce.Main),p=i.field;return Oce([{data:h,field:noe({field:p,aggregate:"min"})},{data:h,field:noe({field:p,aggregate:"max"})}])}if(Vte(d.bin)){if(_ie(e))return Oce("bin-ordinal"===e?[]:[{data:V7(f)?n.requestDataName(Dce.Main):n.requestDataName(Dce.Raw),field:n.vgField(r,Ooe(d,r)?{binSuffix:"range"}:{}),sort:!0!==f&&dk(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var v=d.bin;if(Vte(v)){var m=kde(n,d.field,v);return Oce([new dhe((function(){var e=n.getSignalName(m);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return Oce([{data:n.requestDataName(Dce.Main),field:n.vgField(r,{})}])}if(d.timeUnit&&T7(["time","utc"],e)&&Bae(d,Khe(n)?n.encoding[dte(r)]:void 0,n.markDef,n.config)){var g=n.requestDataName(Dce.Main);return Oce([{data:g,field:n.vgField(r)},{data:g,field:n.vgField(r,{suffix:"end"})}])}return Oce(f?[{data:V7(f)?n.requestDataName(Dce.Main):n.requestDataName(Dce.Raw),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(Dce.Main),field:n.vgField(r)}])}function yhe(e,t){var n=e.op,r=e.field,i=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":Eae},r?{field:eee(r)}:{}),i?{order:i}:{})}function bhe(e,t){var n,r=e.component.scales[t],i=e.specifiedScales[t].domain,a=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,o=Sie(i)&&i,u=Yte(a)&&Kte(a.extent)&&a.extent;(o||u)&&r.set("selectionExtent",null!==o&&void 0!==o?o:u,!0)}function xhe(e,t){var n=e.aggregate,r=e.type;return n?uE(n)&&!Hte.has(n)?{valid:!1,reason:Zne(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:Jne(e)}:{valid:!0}:{valid:!1,reason:Qne(e)}}function whe(e,t,n,r){return e.explicit&&t.explicit&&mre(function(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(C7(n)," and ").concat(C7(r),"). Using the union of the two domains.")}(n,r,e.value,t.value)),{explicit:e.explicit,value:[].concat(du(e.value),du(t.value))}}function _he(e){var t=R7(e.map((function(e){if(ine(e)){e.sort;return hhe(e,["sort"])}return e})),D7),n=R7(e.map((function(e){if(ine(e)){var t=e.sort;return void 0===t||V7(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),D7);if(0!==t.length){if(1===t.length){var r=e[0];if(ine(r)&&n.length>0){var i=n[0];if(n.length>1)mre(ire),i=!0;else if(dk(i)&&"field"in i){var a=i.field;r.field===a&&(i=!i.order||{order:i.order})}return Object.assign(Object.assign({},r),{sort:i})}return r}var o,u=R7(n.map((function(e){return V7(e)||!("op"in e)||uE(e.op)&&e.op in Ite?e:(mre(function(e){return"Dropping sort property ".concat(C7(e),' as unioned domains only support boolean or op "count", "min", and "max".')}(e)),!0)})),D7);1===u.length?o=u[0]:u.length>1&&(mre(ire),o=!0);var s=R7(e.map((function(e){return ine(e)?e.data:null})),(function(e){return e}));return 1===s.length&&null!==s[0]?Object.assign({data:s[0],fields:t.map((function(e){return e.field}))},o?{sort:o}:{}):Object.assign({fields:t},o?{sort:o}:{})}}function khe(e){if(ine(e)&&uE(e.field))return e.field;if(function(e){return!fk(e)&&"fields"in e&&!("data"in e)}(e)){var t,n,r=nu(e.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(ine(i)&&uE(i.field))if(t){if(t!==i.field)return mre("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=i.field}}catch(o){r.e(o)}finally{r.f()}return mre("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function(e){return!fk(e)&&"fields"in e&&"data"in e}(e)){mre("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");var a=e.fields[0];return uE(a)?a:void 0}}function Ehe(e,t){var n=e.component.scales[t].get("domains").map((function(t){return ine(t)&&(t.data=e.lookupDataSource(t.data)),t}));return _he(n)}var Ohe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function She(e){return Zhe(e)||Qhe(e)?e.children.reduce((function(e,t){return e.concat(She(t))}),Ahe(e)):Ahe(e)}function Ahe(e){return W7(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i=r.combine(),a=i.name,o=i.type,u=i.selectionExtent,s=(i.domains,i.range,i.reverse),c=Ohe(i,["name","type","selectionExtent","domains","range","reverse"]),l=function(e,t,n,r){if(wte(n)){if(rne(e))return{step:{signal:"".concat(t,"_step")}}}else if(dk(e)&&ine(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}(i.range,a,n,e),f=Ehe(e,n),d=u?function(e,t,n,r){var i=dfe(e,t.param,t);return{signal:kie(n.get("type"))&&fk(r)&&r[0]>r[1]?"isValid(".concat(i,") && reverse(").concat(i,")"):i}}(e,u,r,f):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:a,type:o},f?{domain:f}:{}),d?{domainRaw:d}:{}),{range:l}),void 0!==s?{reverse:s}:{}),c)),t}),[])}var Che=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,{},{name:e})).merged=!1,i.setWithExplicit("type",r),i}return au(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||F7(this.get("domains"),(function(e){return fk(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),n}(kce),Dhe=["range","scheme"];function jhe(e,t){var n=e.fieldDef(t);if(null===n||void 0===n?void 0:n.bin){var r=n.bin,i=n.field,a=hte(t),o=e.getName(a);if(dk(r)&&r.binned&&void 0!==r.step)return new dhe((function(){var n=e.scaleName(t),i='(domain("'.concat(n,'")[1] - domain("').concat(n,'")[0]) / ').concat(r.step);return"".concat(e.getSignalName(o)," / (").concat(i,")")}));if(Vte(r)){var u=kde(e,i,r);return new dhe((function(){var t=e.getSignalName(u),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(o)," / (").concat(n,")")}))}}}function The(e,t){var n,r=t.specifiedScales[e],i=t.size,a=t.getScaleComponent(e).get("type"),o=nu(Dhe);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(void 0!==r[u]){var s=jie(a,u),c=Tie(e,u);if(s)if(c)mre(c);else switch(u){case"range":var l=r.range;if(fk(l)){if(wte(e))return Ece(l.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),r=t.getSignalName.bind(t);return dhe.fromName(r,n)}return e})))}else if(dk(l))return Ece({data:t.requestDataName(Dce.Main),field:l.field,sort:{op:"min",field:t.vgField(e)}});return Ece(l);case"scheme":return Ece(Fhe(r[u]))}else mre(nre(a,u,e))}}}catch(b){o.e(b)}finally{o.f()}var f=e===mee||"xOffset"===e?"width":"height",d=i[f];if(Bue(d))if(wte(e))if(_ie(a)){var h=Phe(d,t,e);if(h)return Ece({step:h})}else mre(rre(f));else if(Ste(e)){var p=e===xee?"x":"y";if("band"===t.getScaleComponent(p).get("type")){var v=Mhe(d,a);if(v)return Ece(v)}}var m=r.rangeMin,g=r.rangeMax,y=function(e,t){var n=t.size,r=t.config,i=t.mark,a=t.encoding,o=t.getSignalName.bind(t),u=voe(a[e]).type,s=t.getScaleComponent(e).get("type"),c=t.specifiedScales[e],l=c.domain,f=c.domainMid;switch(e){case mee:case gee:if(T7(["point","band"],s)){var d=Nhe(e,n,r.view);if(Bue(d))return{step:Phe(d,t,e)}}var h=hte(e),p=t.getName(h);return e===gee&&kie(s)?[dhe.fromName(o,p),0]:[0,dhe.fromName(o,p)];case xee:case wee:return function(e,t,n){var r=e===xee?"x":"y",i=t.getScaleComponent(r).get("type"),a=t.scaleName(r);if("band"===i){var o=Nhe(r,t.size,t.config.view);if(Bue(o)){var u=Mhe(o,n);if(u)return u}return[0,{signal:"bandwidth('".concat(a,"')")}]}return O7("Cannot use ".concat(e," scale if ").concat(r," scale is not discrete."))}(e,t,s);case Mee:var v=Rhe(i,t.component.scales[e].get("zero"),r),m=function(e,t,n,r){var i={x:jhe(n,"x"),y:jhe(n,"y")};switch(e){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var a=Bhe(t,i,r.view);return aE(a)?a-1:new dhe((function(){return"".concat(a.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var o=Bhe(t,i,r.view);return aE(o)?Math.pow(Ihe*o,2):new dhe((function(){return"pow(".concat(Ihe," * ").concat(o.signal,", 2)")}))}throw new Error($ne("size",e))}(i,n,t,r);return Oie(s)?function(e,t,n){var r=function(){var r=vne(t),i=vne(e),a="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(a,", ").concat(a,")")};return nne(t)?new dhe(r):{signal:r()}}(v,m,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&fk(n)?n.length+1:(mre(function(e){return"Domain for ".concat(e," is required for threshold scale.")}(r)),3)}}(s,r,l,e)):[v,m];case Eee:return[0,2*Math.PI];case Nee:return[0,360];case _ee:return[0,new dhe((function(){var e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case zee:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Lee:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Pee:return"symbol";case jee:case Tee:case Fee:return"ordinal"===s?"nominal"===u?"category":"ordinal":void 0!==f?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case Ree:case Iee:case Bee:return[r.scale.minOpacity,r.scale.maxOpacity]}}(e,t);return(void 0!==m||void 0!==g)&&jie(a,"rangeMin")&&fk(y)&&2===y.length?Ece([null!==m&&void 0!==m?m:y[0],null!==g&&void 0!==g?g:y[1]]):Oce(y)}function Fhe(e){return function(e){return!uE(e)&&!!e.name}(e)?Object.assign({scheme:e.name},A7(e,["name"])):{scheme:e}}function Phe(e,t,n){var r,i,a,o,u,s=t.encoding,c=t.getScaleComponent(n),l=pte(n),f=s[l];if("offset"===Iue({step:e,offsetIsDiscrete:Gae(f)&&Zre(f.type)})&&Boe(s,l)){var d=t.getScaleComponent(l),h=t.scaleName(l),p="domain('".concat(h,"').length");if("band"===d.get("type")){var v=null!==(i=null!==(r=d.get("paddingInner"))&&void 0!==r?r:d.get("padding"))&&void 0!==i?i:0,m=null!==(o=null!==(a=d.get("paddingOuter"))&&void 0!==a?a:d.get("padding"))&&void 0!==o?o:0;p="bandspace(".concat(p,", ").concat(v,", ").concat(m,")")}var g=null!==(u=c.get("paddingInner"))&&void 0!==u?u:c.get("padding");return{signal:"".concat(e.step," * ").concat(p," / (1-").concat(hne(g),")")}}return e.step}function Mhe(e,t){if("offset"===Iue({step:e,offsetIsDiscrete:_ie(t)}))return{step:e.step}}function Nhe(e,t,n){var r=e===mee?"width":"height",i=t[r];return i||Hue(n,r)}function Rhe(e,t,n){if(t)return nne(t)?{signal:"".concat(t.signal," ? 0 : ").concat(Rhe(e,!1,n))}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error($ne("size",e))}var Ihe=.95;function Bhe(e,t,n){var r=Bue(e.width)?e.width.step:Wue(n,"width"),i=Bue(e.height)?e.height.step:Wue(n,"height");return t.x||t.y?new dhe((function(){var e=[t.x?t.x.signal:r,t.y?t.y.signal:i];return"min(".concat(e.join(", "),")")})):Math.min(r,i)}function zhe(e,t){Khe(e)?function(e,t){var n,r=e.component.scales,i=e.config,a=e.encoding,o=e.markDef,u=e.specifiedScales,s=nu(W7(r));try{for(s.s();!(n=s.n()).done;){var c=n.value,l=u[c],f=r[c],d=e.getScaleComponent(c),h=voe(a[c]),p=l[t],v=d.get("type"),m=d.get("padding"),g=d.get("paddingInner"),y=jie(v,t),b=Tie(c,t);if(void 0!==p&&(y?b&&mre(b):mre(nre(v,t,c))),y&&void 0===b)if(void 0!==p){var x=h.timeUnit,w=h.type;switch(t){case"domainMax":case"domainMin":gre(l[t])||"temporal"===w||x?f.set(t,{signal:koe(l[t],{type:w,timeUnit:x})},!0):f.set(t,l[t],!0);break;default:f.copyKeyFromObject(t,l)}}else{var _=t in Lhe?Lhe[t]({model:e,channel:c,fieldOrDatumDef:h,scaleType:v,scalePadding:m,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:i,hasNestedOffsetScale:zoe(a,c)}):i.scale[t];void 0!==_&&f.set(t,_,!1)}}}catch(k){s.e(k)}finally{s.f()}}(e,t):qhe(e,t)}var Lhe={bins:function(e){var t=e.model,n=e.fieldOrDatumDef;return qae(n)?function(e,t){var n=t.bin;if(Vte(n)){var r=kde(e,t.field,n);return new dhe((function(){return e.getSignalName(r)}))}if(Gte(n)&&Yte(n)&&void 0!==n.step)return{step:n.step};return}(t,n):void 0},interpolate:function(e){return function(e,t){if(T7([jee,Tee,Fee],e)&&"nominal"!==t)return"hcl";return}(e.channel,e.fieldOrDatumDef.type)},nice:function(e){return function(e,t,n,r,i,a){var o;if((null===(o=poe(a))||void 0===o?void 0:o.bin)||fk(n)||null!=i||null!=r||T7([sie,cie],e))return;return!!wte(t)||void 0}(e.scaleType,e.channel,e.domain,e.domainMin,e.domainMax,e.fieldOrDatumDef)},padding:function(e){var t=e.channel,n=e.scaleType,r=e.fieldOrDatumDef,i=e.markDef,a=e.config;return function(e,t,n,r,i,a){if(wte(e)){if(Eie(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=i.type,u=i.orient;if("bar"===o&&(!qae(r)||!r.bin&&!r.timeUnit)&&("vertical"===u&&"x"===e||"horizontal"===u&&"y"===e))return a.continuousBandSize}if(t===lie)return n.pointPadding}return}(t,n,a.scale,r,i,a.bar)},paddingInner:function(e){var t=e.scalePadding,n=e.channel,r=e.markDef,i=e.scaleType,a=e.config,o=e.hasNestedOffsetScale;return function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(wte(t)){var o=i.bandPaddingInner,u=i.barBandPaddingInner,s=i.rectBandPaddingInner,c=i.bandWithNestedOffsetPaddingInner;return a?c:iee(o,"bar"===n?u:s)}if(Ste(t)&&r===fie)return i.offsetBandPaddingInner;return}(t,n,r.type,i,a.scale,o)},paddingOuter:function(e){var t=e.scalePadding,n=e.channel,r=e.scaleType,i=e.scalePaddingInner,a=e.config,o=e.hasNestedOffsetScale;return function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(wte(t)){var o=i.bandPaddingOuter,u=i.bandWithNestedOffsetPaddingOuter;if(a)return u;if(n===fie)return iee(o,nne(r)?{signal:"".concat(r.signal,"/2")}:r/2)}else if(Ste(t)){if(n===lie)return.5;if(n===fie)return i.offsetBandPaddingOuter}return}(t,n,r,i,a.scale,o)},reverse:function(e){var t=e.fieldOrDatumDef,n=e.scaleType,r=e.channel,i=e.config;return function(e,t,n,r){if("x"===n&&void 0!==r.xReverse)return kie(e)&&"descending"===t?nne(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(kie(e)&&"descending"===t)return!0;return}(n,qae(t)?t.sort:void 0,r,i.scale)},zero:function(e){return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&kie(i)){if(fk(n)){var a=n[0],o=n[n.length-1];if(a<=0&&o>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!Oie(i))return!0;if((!qae(t)||!t.bin)&&T7([].concat(du(xte),du(kte)),e)){var u=r.orient;return!T7(["bar","area","line","trail"],r.type)||!("horizontal"===u&&"y"===e||"vertical"===u&&"x"===e)}return!1}(e.channel,e.fieldOrDatumDef,e.domain,e.markDef,e.scaleType)}};function Uhe(e){Khe(e)?function(e){var t,n=e.component.scales,r=nu(jte);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=n[i];if(a){var o=The(i,e);a.setWithExplicit("range",o)}}}catch(u){r.e(u)}finally{r.f()}}(e):qhe(e,"range")}function qhe(e,t){var n,r=e.component.scales,i=nu(e.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;"range"===t?Uhe(a):zhe(a,t)}}catch(h){i.e(h)}finally{i.f()}var o,u=nu(W7(r));try{for(u.s();!(o=u.n()).done;){var s,c=o.value,l=void 0,f=nu(e.children);try{for(f.s();!(s=f.n()).done;){var d=s.value.component.scales[c];if(d)l=Cce(l,d.getWithExplicit(t),t,"scale",Sce((function(e,n){return"range"===t&&e.step&&n.step?e.step-n.step:0})))}}catch(h){f.e(h)}finally{f.f()}r[c].setWithExplicit(t,l)}}catch(h){u.e(h)}finally{u.f()}}function Whe(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Hhe(t,n,r,i),o=e.type;return Tte(t)?void 0!==o?Pie(t,o)?qae(n)&&!Fie(o,n.type)?(mre(tre(o,a)),a):o:(mre(ere(t,o,a)),a):a:null}function Hhe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":if(ete(e)||"discrete"===Nte(e))return"shape"===e&&"ordinal"===t.type&&mre(Kne(e,"ordinal")),"ordinal";if(wte(e)||Ste(e)){if(T7(["rect","bar","image","rule"],n.type))return"band";if(r)return"band"}else if("arc"===n.type&&e in _te)return"band";return nae(n[hte(e)])||Qae(t)&&(null===(i=t.axis)||void 0===i?void 0:i.tickBand)?"band":"point";case"temporal":return ete(e)?"time":"discrete"===Nte(e)?(mre(Kne(e,"temporal")),"ordinal"):qae(t)&&t.timeUnit&&Nre(t.timeUnit).utc?"utc":"time";case"quantitative":return ete(e)?qae(t)&&Vte(t.bin)?"bin-ordinal":"linear":"discrete"===Nte(e)?(mre(Kne(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Lne(t.type))}function $he(e){Khe(e)?e.component.scales=function(e){var t,n=e.encoding,r=e.mark,i=e.markDef,a={},o=nu(jte);try{for(o.s();!(t=o.n()).done;){var u=t.value,s=voe(n[u]);if(!s||r!==Yie||u!==Pee||s.type!==rie){var c=s&&s.scale;if(Ste(u))if(!zoe(n,vte(u))){c&&mre(Vne(u));continue}if(s&&null!==c&&!1!==c){null!==c&&void 0!==c||(c={});var l=Whe(c,u,s,i,zoe(n,u));a[u]=new Che(e.scaleName("".concat(u),!0),{value:l,explicit:c.type===l})}}}}catch(f){o.e(f)}finally{o.f()}return a}(e):e.component.scales=function(e){var t,n,r,i=e.component.scales={},a={},o=e.component.resolve,u=nu(e.children);try{for(u.s();!(r=u.n()).done;){var s=r.value;$he(s);var c,l=nu(W7(s.component.scales));try{for(l.s();!(c=l.n()).done;){var f=c.value;if(null!==(t=(n=o.scale)[f])&&void 0!==t||(n[f]=Xfe(f,e)),"shared"===o.scale[f]){var d=a[f],h=s.component.scales[f].getWithExplicit("type");d?hie(d.value,h.value)?a[f]=Cce(d,h,"type","scale",Vhe):(o.scale[f]="independent",delete a[f]):a[f]=h}}}catch(k){l.e(k)}finally{l.f()}}}catch(k){u.e(k)}finally{u.f()}var p,v=nu(W7(a));try{for(v.s();!(p=v.n()).done;){var m=p.value,g=e.scaleName(m,!0),y=a[m];i[m]=new Che(g,y);var b,x=nu(e.children);try{for(x.s();!(b=x.n()).done;){var w=b.value,_=w.component.scales[m];_&&(w.renameScale(_.get("name"),g),_.merged=!0)}}catch(k){x.e(k)}finally{x.f()}}}catch(k){v.e(k)}finally{v.f()}return i}(e)}var Vhe=Sce((function(e,t){return vie(e)-vie(t)}));var Ghe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Yhe=function(){function e(){ru(this,e),this.nameMap={}}return au(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function Khe(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function Xhe(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function Qhe(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function Zhe(e){return"layer"===(null===e||void 0===e?void 0:e.type)}var Jhe=function(){function e(t,n,r,i,a,o,u){var s,c,l=this;ru(this,e),this.type=n,this.parent=r,this.config=a,this.correctDataNames=function(e){var t,n,r;return(null===(t=e.from)||void 0===t?void 0:t.data)&&(e.from.data=l.lookupDataSource(e.from.data)),(null===(r=null===(n=e.from)||void 0===n?void 0:n.facet)||void 0===r?void 0:r.data)&&(e.from.facet.data=l.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=a,this.view=Zte(u),this.name=null!==(s=t.name)&&void 0!==s?s:i,this.title=tne(t.title)?{text:t.title}:t.title?Zte(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new Yhe,this.projectionNameMap=r?r.projectionNameMap:new Yhe,this.signalNameMap=r?r.signalNameMap:new Yhe,this.data=t.data,this.description=t.description,this.transforms=function(e){return e.map((function(e){return Lse(e)?{filter:_7(e.filter,Xre)}:e}))}(null!==(c=t.transform)&&void 0!==c?c:[]),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var r,i,a=n[t],o={},u=a.spacing,s=a.columns;void 0!==u&&(o.spacing=u),void 0!==s&&(Fae(e)&&!jae(e.facet)||Mue(e))&&(o.columns=s),Nue(e)&&(o.columns=1);var c,l=nu(Lue);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(void 0!==e[f])if("spacing"===f){var d=e[f];o[f]=aE(d)?d:{row:null!==(r=d.row)&&void 0!==r?r:u,column:null!==(i=d.column)&&void 0!==i?i:u}}else o[f]=e[f]}}catch(h){l.e(h)}finally{l.f()}return o}(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Fae(t)||(null===r||void 0===r?void 0:r.component.data.isFaceted)&&void 0===t.data},layoutSize:new kce,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?E7(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return au(e,[{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}},{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreRange;$he(e),phe(e);var n,r=nu(Die);try{for(r.s();!(n=r.n()).done;){zhe(e,n.value)}}catch(i){r.e(i)}finally{r.f()}t||Uhe(e)}(this)}},{key:"parseProjection",value:function(){xde(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){lde(this)}},{key:"assembleEncodeFromView",value:function(e){e.style;var t,n=Ghe(e,["style"]),r={},i=nu(W7(n));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=n[a];void 0!==o&&(r[a]=dne(o))}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"assembleGroupEncodeEntry",value:function(e){var t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=dne(this.description)),"unit"!==this.type&&"layer"!==this.type)?q7(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=Ghe(e,["spacing"]),r=this.component,i=this.config,a=function(e,t){var n,r={},i=nu(nte);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=e[a];if(null===o||void 0===o?void 0:o.facetFieldDef){var u=Tfe(["titleAnchor","titleOrient"],o.facetFieldDef.header,t,a),s=u.titleAnchor,c=Dfe(a,u.titleOrient),l=qfe(s,c);void 0!==l&&(r[c]=l)}}}catch(f){i.e(f)}finally{i.f()}return q7(r)?void 0:r}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),a?{titleBand:a}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e,t=this.component.layoutHeaders,n=[],r=nu(nte);try{for(r.s();!(e=r.n()).done;){var i=e.value;t[i].title&&n.push(Mfe(this,i))}}catch(s){r.e(s)}finally{r.f()}var a,o=nu(Ffe);try{for(o.s();!(a=o.n()).done;){var u=a.value;n=n.concat(Ife(this,u))}}catch(s){o.e(s)}finally{o.f()}return n}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,i=e.y,a=void 0===i?[]:i;return[].concat(du(r.map((function(e){return gfe(e,"grid",t)}))),du(a.map((function(e){return gfe(e,"grid",t)}))),du(r.map((function(e){return gfe(e,"main",t)}))),du(a.map((function(e){return gfe(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return vde(this)}},{key:"assembleProjections",value:function(){return mde(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},i=r.encoding,a=Ghe(r,["encoding"]),o=Object.assign(Object.assign(Object.assign({},ene(this.config.title).nonMarkTitleProperties),a),i?{encode:{update:i}}:{});if(o.text)return T7(["unit","layer"],this.type)?T7(["middle",void 0],o.anchor)&&(null!==(t=o.frame)&&void 0!==t||(o.frame="group")):null!==(n=o.anchor)&&void 0!==n||(o.anchor="start"),q7(o)?void 0:o}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||Xhe(this.parent)?She(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t}},{key:"getName",value:function(e){return G7((this.name?"".concat(this.name,"_"):"")+e)}},{key:"getDataName",value:function(e){return this.getName(Dce[e].toLowerCase())}},{key:"requestDataName",value:function(e){var t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}},{key:"getSizeSignalRef",value:function(e){if(Xhe(this.parent)){var t=Ete(Yfe(e)),n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(_ie(r)&&rne(i)){var a=n.get("name"),o=khe(Ehe(this,t));return o?{signal:Gfe(a,n,noe({aggregate:"distinct",field:o},{expr:"datum"}))}:(mre(jne(t)),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):ute(e)&&Tte(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error('Cannot find a selection named "'.concat(t,'".'));return n}},{key:"hasAxisOrientSignalRef",value:function(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((function(e){return e.hasOrientSignalRef()})))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((function(e){return e.hasOrientSignalRef()})))}}]),e}(),epe=function(e){bm(n,e);var t=Em(n);function n(){return ru(this,n),t.apply(this,arguments)}return au(n,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return noe(n,t)}},{key:"reduceFieldDef",value:function(e,t){return function(e,t,n,r){return e?W7(e).reduce((function(n,i){var a=e[i];return fk(a)?a.reduce((function(e,n){return t.call(r,e,n,i)}),n):t.call(r,n,a,i)}),n):n}(this.getMapping(),(function(t,n,r){var i=poe(n);return i?e(t,i,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){$oe(this.getMapping(),(function(t,n){var r=poe(t);r&&e(r,n)}),t)}}]),n}(Jhe),tpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},npe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i,a,o,u;ru(this,n),(i=t.call(this,e)).transform=r,i.transform=E7(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:"value",null!==(u=s[1])&&void 0!==u?u:"density"],i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(du(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=tpe(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),n}(qce),rpe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).filter=r,i}return au(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(W7(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(D7(this.filter))}},{key:"assemble",value:function(){var e=this,t=W7(this.filter).reduce((function(t,n){var r=e.filter[n],i=noe(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(i,")")),t.push("isFinite(+".concat(i,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,t){var r=t.config,i=t.mark;if("filter"!==gne("invalid",t.markDef,r))return null;var a=t.reduceFieldDef((function(e,n,r){var a=Tte(r)&&t.getScaleComponent(r);a&&(kie(a.get("type"))&&"count"!==n.aggregate&&!Kie(i)&&(e[n.field]=n));return e}),{});return W7(a).length?new n(e,a):null}}]),n}(qce),ipe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;ru(this,n),(i=t.call(this,e)).transform=r,i.transform=E7(r);var a=i.transform,o=a.flatten,u=a.as,s=void 0===u?[]:u;return i.transform.as=o.map((function(e,t){var n;return null!==(n=s[t])&&void 0!==n?n:e})),i}return au(n,[{key:"clone",value:function(){return new n(this.parent,E7(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),n}(qce),ape=function(e){bm(n,e);var t=Em(n);function n(e,r){var i,a,o,u;ru(this,n),(i=t.call(this,e)).transform=r,i.transform=E7(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:"key",null!==(u=s[1])&&void 0!==u?u:"value"],i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),n}(qce),ope=function(e){bm(n,e);var t=Em(n);function n(e,r,i,a){var o;return ru(this,n),(o=t.call(this,e)).fields=r,o.geojson=i,o.signal=a,o}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(uE);return new Set([].concat(du(this.geojson?[this.geojson]:[]),du(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(D7(this.fields))}},{key:"assemble",value:function(){return[].concat(du(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[]),[Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})])}}],[{key:"parseAll",value:function(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;for(var r=0,i=0,a=[[Aee,See],[Dee,Cee]];i<a.length;i++){var o=a[i].map((function(e){var n=voe(t.encoding[e]);return qae(n)?n.field:Hae(n)?{expr:"".concat(n.datum)}:Kae(n)?{expr:"".concat(n.value)}:void 0}));(o[0]||o[1])&&(e=new n(e,o,null,t.getName("geojson_".concat(r++))))}if(t.channelHasField(Pee)){var u=t.typedFieldDef(Pee);u.type===rie&&(e=new n(e,null,u.field,t.getName("geojson_".concat(r++))))}return e}}]),n}(qce),upe=function(e){bm(n,e);var t=Em(n);function n(e,r,i,a){var o;return ru(this,n),(o=t.call(this,e)).projection=r,o.fields=i,o.as=a,o}return au(n,[{key:"clone",value:function(){return new n(null,this.projection,E7(this.fields),E7(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(uE))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(D7(this.fields)," ").concat(D7(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,t){if(!t.projectionName())return e;for(var r=0,i=[[Aee,See],[Dee,Cee]];r<i.length;r++){var a=i[r],o=a.map((function(e){var n=voe(t.encoding[e]);return qae(n)?n.field:Hae(n)?{expr:"".concat(n.datum)}:Kae(n)?{expr:"".concat(n.value)}:void 0})),u=a[0]===Dee?"2":"";(o[0]||o[1])&&(e=new n(e,t.projectionName(),o,[t.getName("x".concat(u)),t.getName("y".concat(u))]))}return e}}]),n}(qce),spe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).transform=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(du(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,i=e.step,a=[n,r].concat(du(i?[i]:[])).join(",");return{signal:"sequence(".concat(a,")")}}},{key:"hash",value:function(){return"Impute ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.impute,n=e.key,r=e.keyvals,i=e.method,a=e.groupby,o=e.value,u=e.frame,s=void 0===u?[null,null]:u,c=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},r?{keyvals:Use(r)?this.processSequence(r):r}:{}),{method:"value"}),a?{groupby:a}:{}),{value:i&&"value"!==i?null:o});return i&&"value"!==i?[c,Object.assign({type:"window",as:["imputed_".concat(t,"_value")],ops:[i],fields:[t],frame:s,ignorePeers:!1},a?{groupby:a}:{}),{type:"formula",expr:"datum.".concat(t," === null ? datum.imputed_").concat(t,"_value : datum.").concat(t),as:t}]:[c]}}],[{key:"makeFromTransform",value:function(e,t){return new n(e,t)}},{key:"makeFromEncoding",value:function(e,t){var r=t.encoding,i=r.x,a=r.y;if(qae(i)&&qae(a)){var o=i.impute?i:a.impute?a:void 0;if(void 0===o)return;var u=i.impute?a:a.impute?i:void 0,s=o.impute,c=s.method,l=s.value,f=s.frame,d=s.keyvals,h=Voe(t.mark,r);return new n(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:u.field},c?{method:c}:{}),void 0!==l?{value:l}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),n}(qce),cpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lpe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i,a,o,u;ru(this,n),(i=t.call(this,e)).transform=r,i.transform=E7(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:r.on,null!==(u=s[1])&&void 0!==u?u:r.loess],i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(du(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=cpe(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),n}(qce),fpe=function(e){bm(n,e);var t=Em(n);function n(e,r,i){var a;return ru(this,n),(a=t.call(this,e)).transform=r,a.secondary=i,a}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?Rk(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(D7({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Rk(this.transform.as)}:{});else{var t=this.transform.as;uE(t)||(mre('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,t,r,i){var a=t.component.data.sources,o=r.from,u=null;if(function(e){return"data"in e}(o)){var s=Dpe(o.data,a);s||(s=new Bde(o.data),a.push(s));var c=t.getName("lookup_".concat(i));u=new Wce(s,c,Dce.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[c]=u}else if(function(e){return"param"in e}(o)){var l,f=o.param;r=Object.assign({as:f},r);try{l=t.getSelectionComponent(G7(f),f)}catch(Awe){throw new Error('Lookups can only be performed on selection parameters. "'.concat(f,'" is a variable parameter.'))}if(!(u=l.materialized))throw new Error(function(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}(f))}return new n(e,r,u.getSource())}}]),n}(qce),dpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hpe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i,a,o,u;ru(this,n),(i=t.call(this,e)).transform=r,i.transform=E7(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:"prob",null!==(u=s[1])&&void 0!==u?u:"value"],i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(du(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=dpe(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),n}(qce),ppe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},vpe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i,a,o,u;ru(this,n),(i=t.call(this,e)).transform=r,i.transform=E7(r);var s=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[null!==(o=s[0])&&void 0!==o?o:r.on,null!==(u=s[1])&&void 0!==u?u:r.regression],i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(du(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=ppe(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),n}(qce),mpe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).transform=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=R7((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(du(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,i=e.limit,a=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==i?{limit:i}:{}),void 0!==a?{op:a}:{}),void 0!==r?{groupby:r}:{})}}]),n}(qce),gpe=function(e){bm(n,e);var t=Em(n);function n(e,r){var i;return ru(this,n),(i=t.call(this,e)).transform=r,i}return au(n,[{key:"clone",value:function(){return new n(null,E7(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(D7(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(qce);function ype(e){var t=0;return function n(r,i){var a,o,u,s;if(r instanceof Bde&&(r.isGenerator||Tce(r.data)||(e.push(i),i={name:null,source:i.name,transform:[]})),r instanceof Mde&&(r.parent instanceof Bde&&!i.source?(i.format=Object.assign(Object.assign({},null!==(a=i.format)&&void 0!==a?a:{}),{parse:r.assembleFormatParse()}),(o=i.transform).push.apply(o,du(r.assembleTransforms(!0)))):(u=i.transform).push.apply(u,du(r.assembleTransforms()))),r instanceof Cde)return i.name||(i.name="data_".concat(t++)),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void e.push.apply(e,du(r.assemble()));if((r instanceof Rde||r instanceof Ide||r instanceof rpe||r instanceof lfe||r instanceof Afe||r instanceof upe||r instanceof Ade||r instanceof fpe||r instanceof ihe||r instanceof nhe||r instanceof ape||r instanceof ipe||r instanceof npe||r instanceof lpe||r instanceof hpe||r instanceof vpe||r instanceof Nde||r instanceof gpe||r instanceof mpe)&&i.transform.push(r.assemble()),(r instanceof Ode||r instanceof $ce||r instanceof spe||r instanceof rhe||r instanceof ope)&&(s=i.transform).push.apply(s,du(r.assemble())),r instanceof Wce)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof Wce)r.setSource(i.name);else{if(i.name||(i.name="data_".concat(t++)),r.setSource(i.name),1===r.numChildren())e.push(i),i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof Wce&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(t++));var c=i.name;!i.source||i.transform.length>0?e.push(i):c=i.source;var l,f=nu(r.children);try{for(f.s();!(l=f.n()).done;){n(l.value,{name:null,source:c,transform:[]})}}catch(d){f.e(d)}finally{f.f()}}}}function bpe(e,t){var n,r,i,a=[],o=ype(a),u=0,s=nu(e.sources);try{for(s.s();!(i=s.n()).done;){var c=i.value;c.hasName()||(c.dataName="source_".concat(u++));var l=c.assemble();o(c,l)}}catch(D){s.e(D)}finally{s.f()}for(var f=0,d=a;f<d.length;f++){var h=d[f];0===h.transform.length&&delete h.transform}var p,v=0,m=nu(a.entries());try{for(m.s();!(p=m.n()).done;){var g=C(p.value,2),y=g[0],b=g[1];0!==(null!==(n=b.transform)&&void 0!==n?n:[]).length||b.source||a.splice(v++,0,a.splice(y,1)[0])}}catch(D){m.e(D)}finally{m.f()}for(var x=0,w=a;x<w.length;x++){var _,k=nu(null!==(r=w[x].transform)&&void 0!==r?r:[]);try{for(k.s();!(_=k.n()).done;){var E=_.value;"lookup"===E.type&&(E.from=e.outputNodes[E.from].getSource())}}catch(D){k.e(D)}finally{k.f()}}for(var O=0,S=a;O<S.length;O++){var A=S[O];A.name in t&&(A.values=t[A.name])}return a}function xpe(e){return"top"===e||"left"===e||nne(e)?"header":"footer"}function wpe(e,t){var n,r=e.facet,i=e.config,a=e.child,o=e.component;if(e.channelHasField(t)){var u=r[t],s=jfe("title",null,i,t),c=coe(u,i,{allowDisabling:!0,includeDefault:void 0===s||!!s});a.component.layoutHeaders[t].title&&(c=fk(c)?c.join(", "):c,c+=" / ".concat(a.component.layoutHeaders[t].title),a.component.layoutHeaders[t].title=null);var l=jfe("labelOrient",u.header,i,t),f=null!==u.header&&iee(null===(n=u.header)||void 0===n?void 0:n.labels,i.header.labels,!0),d=T7(["bottom","right"],l)?"footer":"header";o.layoutHeaders[t]=lu({title:null!==u.header?c:null,facetFieldDef:u},d,"facet"===t?[]:[_pe(e,t,f)])}}function _pe(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function kpe(e,t){var n,r=e.child;if(r.component.axes[t]){var i=e.component,a=i.layoutHeaders,o=i.resolve;if(o.axis[t]=Qfe(o,t),"shared"===o.axis[t]){var u,s="x"===t?"column":"row",c=a[s],l=nu(r.component.axes[t]);try{for(l.s();!(u=l.n()).done;){var f=u.value,d=xpe(f.get("orient"));null!==(n=c[d])&&void 0!==n||(c[d]=[_pe(e,s,!1)]);var h=gfe(f,"main",e.config,{header:!0});h&&c[d][0].axes.push(h),f.mainExtracted=!0}}catch(p){l.e(p)}finally{l.f()}}}}function Epe(e){var t,n=nu(e.children);try{for(n.s();!(t=n.n()).done;){t.value.parseLayoutSize()}}catch(r){n.e(r)}finally{n.f()}}function Ope(e,t){var n,r,i,a=Yfe(t),o=Ete(a),u=e.component.resolve,s=e.component.layoutSize,c=nu(e.children);try{for(c.s();!(i=c.n()).done;){var l=i.value.component.layoutSize.getWithExplicit(a),f=null!==(n=u.scale[o])&&void 0!==n?n:Xfe(o,e);if("independent"===f&&"step"===l.value){r=void 0;break}if(r){if("independent"===f&&r.value!==l.value){r=void 0;break}r=Cce(r,l,a,"")}else r=l}}catch(v){c.e(v)}finally{c.f()}if(r){var d,h=nu(e.children);try{for(h.s();!(d=h.n()).done;){var p=d.value;e.renameSignal(p.getName(a),e.getName(t)),p.component.layoutSize.set(a,"merged",!1)}}catch(v){h.e(v)}finally{h.f()}s.setWithExplicit(t,r)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function Spe(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");if(_ie(a)){var u=Hue(r.view,t);return rne(o)||Bue(u)?"step":u}return que(r.view,t)}if(e.hasProjection||"arc"===e.mark)return que(r.view,t);var s=Hue(r.view,t);return Bue(s)?s.step:s}function Ape(e,t,n){return noe(t,Object.assign({suffix:"by_".concat(noe(e))},null!==n&&void 0!==n?n:{}))}var Cpe=function(e){bm(n,e);var t=Em(n);function n(e,r,i,a){var o;return ru(this,n),(o=t.call(this,e,"facet",r,i,a,e.resolve)).child=ave(e.spec,Ai(o),o.getName("child"),void 0,a),o.children=[o.child],o.facet=o.initFacet(e.facet),o}return au(n,[{key:"initFacet",value:function(e){if(!jae(e))return{facet:this.initFacetFieldDef(e,"facet")};var t,n={},r=nu(W7(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(![hee,pee].includes(i)){mre($ne(i,"facet"));break}var a=e[i];if(void 0===a.field){mre(Hne(a,i));break}n[i]=this.initFacetFieldDef(a,i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"initFacetFieldDef",value:function(e,t){var n=yoe(e,t);return n.header?n.header=Zte(n.header):null===n.header&&(n.header=null),n}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=jpe(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){Epe(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t,n=nu(nte);try{for(n.s();!(t=n.n()).done;)wpe(e,t.value)}catch(r){n.e(r)}finally{n.f()}kpe(e,"x"),kpe(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r,i={},a=nu(nte);try{for(a.s();!(r=a.n()).done;){var o,u=r.value,s=nu(Pfe);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=this.component.layoutHeaders[u],f=l[c],d=l.facetFieldDef;if(d){var h=jfe("titleOrient",d.header,this.config,u);if(["right","bottom"].includes(h)){var p=Dfe(u,h);null!==(e=i.titleAnchor)&&void 0!==e||(i.titleAnchor={}),i.titleAnchor[p]="end"}}if(null===f||void 0===f?void 0:f[0]){var v="row"===u?"height":"width",m="header"===c?"headerBand":"footerBand";"facet"===u||this.child.component.layoutSize.get(v)||(null!==(t=i[m])&&void 0!==t||(i[m]={}),i[m][u]=.5),l.title&&(null!==(n=i.offset)&&void 0!==n||(i.offset={}),i.offset["row"===u?"rowTitle":"columnTitle"]=10)}}}catch(g){s.e(g)}finally{s.f()}}}catch(g){a.e(g)}finally{a.f()}return i}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:noe(this.facet.column,{prefix:"distinct"})}}}}:{}),lse(xm(n.prototype),"assembleGroup",this).call(this,e)):lse(xm(n.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],t=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var i=noe(this.child.facet.column);e.push(i),t.push("distinct"),r.push("distinct_".concat(i))}}else{var a,o=nu(xte);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=this.child.component.scales[u];if(s&&!s.merged){var c=s.get("type"),l=s.get("range");if(_ie(c)&&rne(l)){var f=khe(Ehe(this.child,u));f?(e.push(f),t.push("distinct"),r.push("distinct_".concat(f))):mre(jne(u))}}}}catch(d){o.e(d)}finally{o.f()}}return{fields:e,ops:t,as:r}}},{key:"assembleFacet",value:function(){var e,t=this.component.data.facetRoot,n=t.name,r=t.data,i=this.facet,a=i.row,o=i.column,u=this.getCardinalityAggregateForChild(),s=u.fields,c=u.ops,l=u.as,f=[],d=nu(nte);try{for(d.s();!(e=d.n()).done;){var h=e.value,p=this.facet[h];if(p){f.push(noe(p));var v=p.bin,m=p.sort;if(Vte(v)&&f.push(noe(p,{binSuffix:"end"})),Cae(m)){var g=m.field,y=m.op,b=void 0===y?Eae:y,x=Ape(p,m);a&&o?(s.push(x),c.push("max"),l.push(x)):(s.push(g),c.push(b),l.push(x))}else if(fk(m)){var w=Cfe(p,h);s.push(w),c.push("max"),l.push(w)}}}}catch(k){d.e(k)}finally{d.f()}var _=!!a&&!!o;return Object.assign({name:n,data:r,groupby:f},_||s.length>0?{aggregate:Object.assign(Object.assign({},_?{cross:_}:{}),s.length?{fields:s,ops:c,as:l}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?Cae(t.sort)?[Ape(t,t.sort,{expr:"datum"})]:fk(t.sort)?[Cfe(t,e,{expr:"datum"})]:[noe(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(Cae(n)?n.order:!fk(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e,t=this.facet,n=this.config;if(t.facet)return zfe(t.facet,"facet",n);var r,i={row:["top","bottom"],column:["left","right"]},a=nu(Ffe);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(t[o]){var u=jfe("labelOrient",null===(e=t[o])||void 0===e?void 0:e.header,n,o);if(i[o].includes(u))return zfe(t[o],o,n)}}}catch(s){a.e(s)}finally{a.f()}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t,n=[],r=ype(n),i=nu(e.children);try{for(i.s();!(t=i.n()).done;)r(t.value,{source:e.name,name:null,transform:[]})}catch(a){i.e(a)}finally{i.f()}return n}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle(),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),a?{style:a}:{}),{from:{facet:this.assembleFacet()},sort:{field:nte.map((function(t){return e.facetSortFields(t)})).flat(),order:nte.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&W7(e.component.selection).length){var n=vE(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:r6("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return Uce(t)}(this,[])));return[o]}},{key:"getMapping",value:function(){return this.facet}}]),n}(epe);function Dpe(e,t){var n,r,i,a,o,u=nu(t);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=s.data;if(!e.name||!s.hasName()||e.name===s.dataName){var l=null===(n=e.format)||void 0===n?void 0:n.mesh,f=null===(r=c.format)||void 0===r?void 0:r.feature;if(!l||!f){var d=null===(i=e.format)||void 0===i?void 0:i.feature;if(!d&&!f||d===f){var h=null===(a=c.format)||void 0===a?void 0:a.mesh;if(!l&&!h||l===h)if(Fce(e)&&Fce(c)){if(k7(e.values,c.values))return s}else if(Tce(e)&&Tce(c)){if(e.url===c.url)return s}else if(Pce(e)&&e.name===s.dataName)return s}}}}}catch(p){u.e(p)}finally{u.f()}return null}function jpe(e){var t,n,r,i,a,o,u,s,c,l,f=function(e,t){if(e.data||!e.parent){if(null===e.data){var n=new Bde({values:[]});return t.push(n),n}var r=Dpe(e.data,t);if(r)return Mce(e.data)||(r.data.format=M7({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var i=new Bde(e.data);return t.push(i),i}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources),d=e.component.data,h=d.outputNodes,p=d.outputNodeRefCounts,v=e.data,m=!(v&&(Mce(v)||Tce(v)||Fce(v)))&&e.parent?e.parent.component.data.ancestorParse.clone():new jce;Mce(v)?(Nce(v)?f=new Ide(f,v.sequence):Ice(v)&&(f=new Rde(f,v.graticule)),m.parseNothing=!0):null===(null===(t=null===v||void 0===v?void 0:v.format)||void 0===t?void 0:t.parse)&&(m.parseNothing=!0),f=null!==(n=Mde.makeExplicit(f,e,m))&&void 0!==n?n:f,f=new Nde(f);var g=e.parent&&Zhe(e.parent);(Khe(e)||Xhe(e))&&g&&(f=null!==(r=Ode.makeFromEncoding(f,e))&&void 0!==r?r:f),e.transforms.length>0&&(f=function(e,t,n){var r,i,a,o=0,u=nu(t.transforms);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=void 0,l=void 0;if(Zse(s))l=e=new Afe(e,s),c="derived";else if(Lse(s)){var f=Tde(s);l=e=null!==(r=Mde.makeWithAncestors(e,{},f,n))&&void 0!==r?r:e,e=new lfe(e,t,s.filter)}else if(Jse(s))l=e=Ode.makeFromTransform(e,s,t),c="number";else if(tce(s))c="date",void 0===n.getWithExplicit(s.field).value&&(e=new Mde(e,lu({},s.field,c)),n.set(s.field,c,!1)),l=e=$ce.makeFromTransform(e,s);else if(nce(s))l=e=Ade.makeFromTransform(e,s),c="number",afe(t)&&(e=new Nde(e));else if(qse(s))l=e=fpe.make(e,t,s,o++),c="derived";else if(Kse(s))l=e=new ihe(e,s),c="number";else if(Xse(s))l=e=new nhe(e,s),c="number";else if(rce(s))l=e=rhe.makeFromTransform(e,s),c="derived";else if(ice(s))l=e=new ape(e,s),c="derived";else if(Qse(s))l=e=new ipe(e,s),c="derived";else if(Wse(s))l=e=new mpe(e,s),c="derived";else if(Yse(s))e=new gpe(e,s);else if(ece(s))l=e=spe.makeFromTransform(e,s),c="derived";else if(Hse(s))l=e=new npe(e,s),c="derived";else if($se(s))l=e=new hpe(e,s),c="derived";else if(Vse(s))l=e=new vpe(e,s),c="derived";else{if(!Gse(s)){mre(Ine(s));continue}l=e=new lpe(e,s),c="derived"}if(l&&void 0!==c){var d,h=nu(null!==(i=l.producedFields())&&void 0!==i?i:[]);try{for(h.s();!(d=h.n()).done;){var p=d.value;n.set(p,c,!1)}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){u.e(v)}finally{u.f()}return e}(f,e,m));var y=function(e){var t={};if(Khe(e)&&e.component.selection){var n,r=nu(W7(e.component.selection));try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=nu(e.component.selection[a].project.items);try{for(o.s();!(i=o.n()).done;){var u=i.value;!u.channel&&ree(u.field)>1&&(t[u.field]="flatten")}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}}return t}(e),b=Fde(e);f=null!==(i=Mde.makeWithAncestors(f,{},Object.assign(Object.assign({},y),b),m))&&void 0!==i?i:f,Khe(e)&&(f=ope.parseAll(f,e),f=upe.parseAll(f,e)),(Khe(e)||Xhe(e))&&(g||(f=null!==(a=Ode.makeFromEncoding(f,e))&&void 0!==a?a:f),f=null!==(o=$ce.makeFromEncoding(f,e))&&void 0!==o?o:f,f=Afe.parseAllForSortIndex(f,e));var x=e.getDataName(Dce.Raw),w=new Wce(f,x,Dce.Raw,p);if(h[x]=w,f=w,Khe(e)){var _=Ade.makeFromEncoding(f,e);_&&(f=_,afe(e)&&(f=new Nde(f))),f=null!==(u=spe.makeFromEncoding(f,e))&&void 0!==u?u:f,f=null!==(s=rhe.makeFromEncoding(f,e))&&void 0!==s?s:f}Khe(e)&&(f=null!==(c=rpe.make(f,e))&&void 0!==c?c:f);var k=e.getDataName(Dce.Main),E=new Wce(f,k,Dce.Main,p);h[k]=E,f=E,Khe(e)&&function(e,t){var n,r,i=nu($7(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var a=C(r.value,2),o=a[0],u=a[1],s=e.getName("lookup_".concat(o));e.component.data.outputNodes[s]=u.materialized=new Wce(new lfe(t,e,{param:o}),s,Dce.Lookup,e.component.data.outputNodeRefCounts)}}catch(c){i.e(c)}finally{i.f()}}(e,E);var O=null;if(Xhe(e)){var S=e.getName("facet");f=null!==(l=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var i=null,a=0,o=[n,r];a<o.length;a++){var u=o[a];if(Cae(u.sort)){var s=u.sort,c=s.field,l=s.op;e=i=new nhe(e,{joinaggregate:[{op:void 0===l?Eae:l,field:c,as:Ape(u,u.sort,{forAs:!0})}],groupby:[noe(u)]})}}return i}return null}(f,e.facet))&&void 0!==l?l:f,O=new Cde(f,e,S,E.getSource()),h[S]=O}return Object.assign(Object.assign({},e.component.data),{outputNodes:h,outputNodeRefCounts:p,raw:w,main:E,facetRoot:O,ancestorParse:m})}var Tpe=function(e){bm(n,e);var t=Em(n);function n(e,r,i,a){var o,u,s,c,l;return ru(this,n),o=t.call(this,e,"concat",r,i,a,e.resolve),"shared"!==(null===(s=null===(u=e.resolve)||void 0===u?void 0:u.axis)||void 0===s?void 0:s.x)&&"shared"!==(null===(l=null===(c=e.resolve)||void 0===c?void 0:c.axis)||void 0===l?void 0:l.y)||mre("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),o.children=o.getChildren(e).map((function(e,t){return ave(e,Ai(o),o.getName("concat_".concat(t)),void 0,a)})),o}return au(n,[{key:"parseData",value:function(){this.component.data=jpe(this);var e,t=nu(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=nu(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,i=nu(W7(n.component.selection));try{for(i.s();!(r=i.n()).done;){var a=r.value;this.component.selection[a]=n.component.selection[a]}}catch(o){i.e(o)}finally{i.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=nu(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){var e,t=nu(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseAxesAndHeaders()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getChildren",value:function(e){return Nue(e)?e.vconcat:Rue(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){!function(e){Epe(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";Ope(e,t),Ope(e,n)}(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e,t=Hfe(this),n=nu(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,du(r.assembleLayoutSignals()))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),n}(Jhe);var Fpe=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},joe),{labelExpr:1,encode:1}),Ppe=W7(Fpe),Mpe=function(e){bm(n,e);var t=Em(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ru(this,n),(e=t.call(this)).explicit=r,e.implicit=i,e.mainExtracted=a,e}return au(n,[{key:"clone",value:function(){return new n(E7(this.explicit),E7(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}},{key:"hasOrientSignalRef",value:function(){return nne(this.explicit.orient)}}]),n}(kce);var Npe={bottom:"top",top:"bottom",left:"right",right:"left"};function Rpe(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r],a=t[r];if(!!i!==!!a)return;if(i&&a){var o=i.getWithExplicit("orient"),u=a.getWithExplicit("orient");if(o.explicit&&u.explicit&&o.value!==u.value)return;e[r]=Ipe(i,a)}}return e}}function Ipe(e,t){var n,r=nu(Ppe);try{var i=function(){var r=n.value,i=Cce(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(function(e,t){switch(r){case"title":return Ene(e,t);case"gridScale":return{explicit:e.explicit,value:iee(e.value,t.value)}}return Ace(e,t,r,"axis")}));e.setWithExplicit(r,i)};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return e}function Bpe(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(nne(n.labelAngle)?n.labelAngle:lee(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Sfe(r,i))return!0}return e===n[t]}var zpe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Lpe(e,t){var n,r,i,a=t.axis(e),o=new Mpe,u=voe(t.encoding[e]),s=t.mark,c=t.config,l=(null===a||void 0===a?void 0:a.orient)||(null===(n=c["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=c.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=function(e,t,n,r){var i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:yie(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],a="x"===e?"axisX":"axisY",o=nne(n)?"axisOrient":"axis".concat(X7(n)),u=[].concat(i,du(i.map((function(e){return a+e.substr(4)})))),s=["axis",o,a];return{vlOnlyAxisConfig:bfe(u,r,e,n),vgAxisConfig:bfe(s,r,e,n),axisConfigStyle:xfe([].concat(s,du(u)),r)}}(e,f,l,t.config),h=void 0!==a?!a:wfe("disable",c.style,null===a||void 0===a?void 0:a.style,d).configValue;if(o.set("disable",h,void 0!==a),h)return o;var p,v=function(e,t,n,r,i){var a=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==a)return nne(a)?a:lee(a);var o=wfe("labelAngle",r,null===t||void 0===t?void 0:t.style,i).configValue;return void 0!==o?lee(o):n!==mee||!T7([nie,eie],e.type)||qae(e)&&e.timeUnit?void 0:270}(u,a=a||{},e,c.style,d),m={fieldOrDatumDef:u,axis:a,channel:e,model:t,scaleType:f,orient:l,labelAngle:v,mark:s,config:c},g=nu(Ppe);try{for(g.s();!(p=g.n()).done;){var y=p.value,b=y in _fe?_fe[y](m):Foe(y)?a[y]:void 0,x=void 0!==b,w=Bpe(b,y,a,t,e);if(x&&w)o.set(y,b,w);else{var _=Foe(y)&&"values"!==y?wfe(y,c.style,a.style,d):{},k=_.configValue,E=void 0===k?void 0:k,O=_.configFrom,S=void 0===O?void 0:O,A=void 0!==E;x&&!A?o.set(y,b,w):("vgAxisConfig"!==S||zpe.has(y)&&A||Aoe(E)||nne(E))&&o.set(y,E,!1)}}}catch(j){g.e(j)}finally{g.f()}var C=null!==(i=a.encoding)&&void 0!==i?i:{},D=Coe.reduce((function(n,r){var i;if(!o.hasAxisPart(r))return n;var a=Kfe(null!==(i=C[r])&&void 0!==i?i:{},t),u="labels"===r?function(e,t,n){var r,i=e.encoding,a=e.config,o=null!==(r=voe(i[t]))&&void 0!==r?r:voe(i[dte(t)]),u=e.axis(t)||{},s=u.format,c=u.formatType;return hae(c)?Object.assign({text:gae({fieldOrDatumDef:o,field:"datum.value",format:s,formatType:c,config:a})},n):n}(t,e,a):a;return void 0===u||q7(u)||(n[r]={update:u}),n}),{});return q7(D)||o.set("encode",D,!!a.encoding||void 0!==a.labelAngle),o}function Upe(e){var t,n=e.encoding,r=e.size,i=nu(xte);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=hte(a);Bue(r[o])&&$ae(n[a])&&(delete r[o],mre(rre(o)))}}catch(u){i.e(u)}finally{i.f()}return r}function qpe(e,t,n){var r,i,a=Zte(e),o=gne("orient",a,n);if(a.orient=function(e,t,n){switch(e){case Lie:case Vie:case Gie:case Wie:case Uie:case Bie:return}var r=t.x,i=t.y,a=t.x2,o=t.y2;switch(e){case Iie:if(qae(r)&&(Gte(r.bin)||qae(i)&&i.aggregate&&!r.aggregate))return"vertical";if(qae(i)&&(Gte(i.bin)||qae(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a&&(qae(r)&&r.type===Jre&&!Vte(r.bin)||Vae(r)))return"horizontal";if(!o&&(qae(i)&&i.type===Jre&&!Vte(i.bin)||Vae(i)))return"vertical"}case qie:if(a&&(!qae(r)||!Gte(r.bin))&&o&&(!qae(i)||!Gte(i.bin)))return;case Rie:if(o)return qae(i)&&Gte(i.bin)?"horizontal":"vertical";if(a)return qae(r)&&Gte(r.bin)?"vertical":"horizontal";if(e===qie){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case zie:case Hie:var u=$ae(r),s=$ae(i);if(n)return n;if(u&&!s)return"tick"!==e?"horizontal":"vertical";if(!u&&s)return"tick"!==e?"vertical":"horizontal";if(u&&s){var c=r,l=i,f=c.type===tie,d=l.type===tie;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!c.aggregate&&l.aggregate?"tick"!==e?"vertical":"horizontal":c.aggregate&&!l.aggregate&&"tick"!==e?"horizontal":"vertical"}return}return"vertical"}(a.type,t,o),void 0!==o&&o!==a.orient&&mre((r=a.orient,i=o,'Specified orient "'.concat(r,'" overridden with "').concat(i,'".'))),"bar"===a.type&&a.orient){var u=gne("cornerRadiusEnd",a,n);if(void 0!==u){var s,c=nu("horizontal"===a.orient&&t.x2||"vertical"===a.orient&&t.y2?["cornerRadius"]:rae[a.orient]);try{for(c.s();!(s=c.n()).done;){a[s.value]=u}}catch(l){c.e(l)}finally{c.f()}void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}}return void 0===gne("opacity",a,n)&&(a.opacity=function(e,t){if(T7([Lie,Hie,Vie,Gie],e)&&!Loe(t))return.7;return}(a.type,t)),void 0===gne("cursor",a,n)&&(a.cursor=function(e,t,n){if(t.href||e.href||gne("href",e,n))return"pointer";return e.cursor}(a,t,n)),a}function Wpe(e,t,n){if(n.graticule)return!1;var r=yne("filled",e,t),i=e.type;return iee(r,i!==Lie&&i!==zie&&i!==qie)}function Hpe(e,t){e.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),ble("x",e,{defaultPos:"mid"})),ble("y",e,{defaultPos:"mid"})),mle("size",e)),mle("angle",e)),function(e,t,n){if(n)return{shape:{value:n}};return mle("shape",e)}(e,0,t))}var $pe={vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Ele("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),Ele("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),mle("size",e,{vgChannel:"strokeWidth"})):{}}};var Vpe={vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,i="horizontal"===r?"width":"height",a="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),ble("x",e,{defaultPos:"mid",vgChannel:"xc"})),ble("y",e,{defaultPos:"mid",vgChannel:"yc"})),mle("size",e,{defaultValue:Gpe(e),vgChannel:i})),lu({},a,dne(gne("thickness",n,t))))}};function Gpe(e){var t,n=e.config,r=e.markDef,i=r.orient,a="horizontal"===i?"width":"height",o=e.getScaleComponent("horizontal"===i?"x":"y"),u=null!==(t=gne("size",r,n,{vgChannel:a}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==u)return u;var s=o?o.get("range"):void 0;return s&&rne(s)&&aE(s.step)?3*s.step/4:3*Wue(n.view,a)/4}var Ype={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),ble("x",e,{defaultPos:"mid"})),ble("y",e,{defaultPos:"mid"})),Ale(e,"radius")),Ale(e,"theta"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Ele("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),Ele("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),Ple(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Ale(e,"x")),Ale(e,"y"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return Hpe(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&qae(t)&&t.type===rie?{field:noe(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),Ale(e,"x")),Ale(e,"y")),lle(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),ble("x",e,{defaultPos:"mid"})),ble("y",e,{defaultPos:"mid"})),mle("size",e,{vgChannel:"strokeWidth"})),Ple(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return Hpe(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Ale(e,"x")),Ale(e,"y"))}},rule:$pe,square:{vgMark:"symbol",encodeEntry:function(e){return Hpe(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;e.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),ble("x",e,{defaultPos:"mid"})),ble("y",e,{defaultPos:"mid"})),lle(e)),mle("size",e,{vgChannel:"fontSize"})),mle("angle",e)),Mle("align",function(e,t,n){if(void 0===gne("align",e,n))return"center";return}(e.markDef,0,t))),Mle("baseline",function(e,t,n){if(void 0===gne("baseline",e,n))return"middle";return}(e.markDef,0,t))),ble("radius",e,{defaultPos:null})),ble("theta",e,{defaultPos:null}))}},tick:Vpe,trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tle(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),ble("x",e,{defaultPos:"mid"})),ble("y",e,{defaultPos:"mid"})),mle("size",e)),Ple(e))}}};function Kpe(e){if(T7([zie,Rie,$ie],e.mark)){var t=Voe(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Xpe+e.requestDataName(Dce.Main),data:e.requestDataName(Dce.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Jpe(e,{fromPrefix:Xpe})}]}(e,t)}else if(e.mark===Iie){var n=une.some((function(t){return gne(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&n)return function(e){var t,n,r,i=C(Jpe(e,{fromPrefix:Qpe}),1)[0],a=e.scaleName(e.stack.fieldChannel),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},u=function(e,t){var n=[o({prefix:"min",suffix:"start",expr:t}),o({prefix:"max",suffix:"start",expr:t}),o({prefix:"min",suffix:"end",expr:t}),o({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(a,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(n=Object.assign(Object.assign({},S7(i.encode.update,["y","yc","y2","height"].concat(du(une)))),{x:{signal:u("min","datum")},x2:{signal:u("max","datum")},clip:{value:!0}}),r={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},A7(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(n=Object.assign(Object.assign({},S7(i.encode.update,["x","xc","x2","width"])),{y:{signal:u("min","datum")},y2:{signal:u("max","datum")},clip:{value:!0}}),r={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},A7(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var s,c=nu(une);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=yne(l,e.markDef,e.config);i.encode.update[l]?(n[l]=i.encode.update[l],delete i.encode.update[l]):f&&(n[l]=dne(f)),f&&(i.encode.update[l]={value:0})}}catch(y){c.e(y)}finally{c.f()}var d=[];if((null===(t=e.stack.groupbyChannels)||void 0===t?void 0:t.length)>0){var h,p=nu(e.stack.groupbyChannels);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=e.fieldDef(v),g=noe(m);g&&d.push(g),((null===m||void 0===m?void 0:m.bin)||(null===m||void 0===m?void 0:m.timeUnit))&&d.push(noe(m,{binSuffix:"end"}))}}catch(y){p.e(y)}finally{p.f()}}n=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(i.encode.update[n])return Object.assign(Object.assign({},t),lu({},n,i.encode.update[n]));var r=yne(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),lu({},n,dne(r))):t}),n),n.stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0});return[{type:"group",from:{facet:{data:e.requestDataName(Dce.Main),name:Qpe+e.requestDataName(Dce.Main),groupby:d,aggregate:{fields:[o({suffix:"start"}),o({suffix:"start"}),o({suffix:"end"}),o({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:r},marks:[i]}]}]}(e)}return Jpe(e)}var Xpe="faceted_path_";var Qpe="stack_group_";function Zpe(e){var t,n=e.encoding,r=e.stack,i=e.mark,a=e.markDef,o=e.config,u=n.order;if(!(!fk(u)&&Kae(u)&&j7(u.value)||!u&&j7(gne("order",a,o)))){if((fk(u)||qae(u))&&!r)return wne(u,{expr:"datum"});if(Kie(i)){var s="horizontal"===a.orient?"y":"x",c=n[s];if(qae(c)){var l=c.sort;return fk(l)?{field:noe(c,{prefix:s,suffix:"sort_index",expr:"datum"})}:Cae(l)?{field:noe({aggregate:Loe(e.encoding)?l.op:void 0,field:l.field},{expr:"datum"})}:Aae(l)?{field:noe(e.fieldDef(l.encoding),{expr:"datum"}),order:l.order}:null===l?void 0:{field:noe(c,{binSuffix:(null===(t=e.stack)||void 0===t?void 0:t.impute)?"mid":void 0,expr:"datum"})}}}else;}}function Jpe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=e.markDef,i=e.encoding,a=e.config,o=iee(r.clip,eve(e),tve(e)),u=mne(r),s=i.key,c=Zpe(e),l=nve(e),f=gne("aria",r,a),d=Ype[n].postEncodingTransform?Ype[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:Ype[n].vgMark},o?{clip:!0}:{}),u?{style:u}:{}),s?{key:s.field}:{}),c?{sort:c}:{}),l||{}),!1===f?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(Dce.Main)},encode:{update:Ype[n].encodeEntry(e)}}),d?{transform:d}:{})]}function eve(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!(!(null===t||void 0===t?void 0:t.get("selectionExtent"))&&!(null===n||void 0===n?void 0:n.get("selectionExtent")))||void 0}function tve(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function nve(e){if(!e.component.selection)return null;for(var t=W7(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=W7(r.component.selection).length,r=r.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}var rve=function(e){bm(n,e);var t=Em(n);function n(e,r,i){var a,o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;ru(this,n),(a=t.call(this,e,"unit",r,i,s,void 0,zue(e)?e.view:void 0)).specifiedScales={},a.specifiedAxes={},a.specifiedLegends={},a.specifiedProjection={},a.selection=[],a.children=[];var c=Zie(e.mark)?Object.assign({},e.mark):{type:e.mark},l=c.type;void 0===c.filled&&(c.filled=Wpe(c,s,{graticule:e.data&&Ice(e.data)}));var f=a.encoding=qoe(e.encoding||{},l,c.filled,s);return a.markDef=qpe(c,f,s),a.size=Upe({encoding:f,size:zue(e)?Object.assign(Object.assign(Object.assign({},u),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):u}),a.stack=xse(l,f),a.specifiedScales=a.initScales(l,f),a.specifiedAxes=a.initAxes(f),a.specifiedLegends=a.initLegends(f),a.specifiedProjection=e.projection,a.selection=(null!==(o=e.params)&&void 0!==o?o:[]).filter((function(e){return Tue(e)})),a}return au(n,[{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===Yie,n=e&&Zee.some((function(t){return Gae(e[t])}));return t||n}},{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){var n=this;return jte.reduce((function(e,r){var i,a=voe(t[r]);return a&&(e[r]=n.initScale(null!==(i=a.scale)&&void 0!==i?i:{})),e}),{})}},{key:"initScale",value:function(e){var t=e.domain,n=e.range,r=Zte(e);return fk(t)&&(r.domain=t.map(lne)),fk(n)&&(r.range=n.map(lne)),r}},{key:"initAxes",value:function(e){var t=this;return xte.reduce((function(n,r){var i=e[r];if(Gae(i)||r===mee&&Gae(e.x2)||r===gee&&Gae(e.y2)){var a=Gae(i)?i.axis:void 0;n[r]=a?t.initAxis(Object.assign({},a)):a}return n}),{})}},{key:"initAxis",value:function(e){var t,n={},r=nu(W7(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e[i];n[i]=Aoe(a)?cne(a):lne(a)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"initLegends",value:function(e){return Cte.reduce((function(t,n){var r=voe(e[n]);if(r&&function(e){switch(e){case jee:case Tee:case Fee:case Mee:case Pee:case Ree:case zee:case Lee:return!0;case Iee:case Bee:case Nee:return!1}}(n)){var i=r.legend;t[n]=i?Zte(i):i}return t}),{})}},{key:"parseData",value:function(){this.component.data=jpe(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t,n=e.size,r=e.component,i=nu(xte);try{for(i.s();!(t=i.n()).done;){var a=hte(t.value);if(n[a]){var o=n[a];r.layoutSize.set(a,Bue(o)?"step":o,!0)}else{var u=Spe(e,a);r.layoutSize.set(a,u,!1)}}}catch(s){i.e(s)}finally{i.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r={},i=e.config.selection;if(!t||!t.length)return r;var a,o=nu(t);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=G7(u.name),c=u.select,l=uE(c)?c:c.type,f=dk(c)?E7(c):{type:l},d=i[l];for(var h in d)"fields"!==h&&"encodings"!==h&&("mark"===h&&(f[h]=Object.assign(Object.assign({},d[h]),f[h])),void 0!==f[h]&&!0!==f[h]||(f[h]=null!==(n=d[h])&&void 0!==n?n:f[h]));var p,v=r[s]=Object.assign(Object.assign({},f),{name:s,type:l,init:u.value,bind:u.bind,events:uE(f.on)?r6(f.on,"scope"):Rk(E7(f.on))}),m=nu(nfe);try{for(m.s();!(p=m.n()).done;){var g=p.value;g.defined(v)&&g.parse&&g.parse(e,v,u)}}catch(y){m.e(y)}finally{m.f()}}}catch(y){o.e(y)}finally{o.f()}return r}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=Kpe(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,xte.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[Lpe(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n,r,i=!1,a=nu(H7(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{var o=function(){var n=r.value,a=n.name,o=vE(a+Zle),u=t.filter((function(e){return e.name===a}));if(0===u.length){var s="global"===n.resolve?"union":n.resolve,c="point"===n.type?", true, true)":")";t.push({name:n.name,update:"".concat(tfe,"(").concat(o,", ").concat(vE(s)).concat(c)})}i=!0;var l,f=nu(nfe);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.defined(n)&&d.topLevelSignals&&(t=d.topLevelSignals(e,n,t))}}catch(h){f.e(h)}finally{f.f()}};for(a.s();!(r=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}if(i){var u=t.filter((function(e){return"unit"===e.name}));0===u.length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return Uce(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(du(yfe(this)),du(function(e,t){var n,r,i=nu(H7(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var a,o=r.value,u=o.name,s="".concat(u).concat(Jle,", ").concat("global"===o.resolve?"true":"{unit: ".concat(ife(e),"}")),c=nu(nfe);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.defined(o)&&(l.signals&&(t=l.signals(e,o,t)),l.modifyExpr&&(s=l.modifyExpr(e,o,s)))}}catch(f){c.e(f)}finally{c.f()}t.push({name:u+efe,on:[{events:{signal:o.name+Jle},update:"modify(".concat(vE(o.name+Zle),", ").concat(s,")")}]})}}catch(f){i.e(f)}finally{i.f()}return Uce(t)}(this,[])))}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n,r,i=du(t),a=nu(H7(null!==(n=e.component.selection)&&void 0!==n?n:{}));try{var o=function(){var t=r.value,n={name:t.name+Zle};if(t.init){var a=t.project.items.map((function(e){return e.signals,Bce(e,["signals"])}));n.values=t.init.map((function(t){return{unit:ife(e,{escape:!1}),fields:a,values:zce(t,!1)}}))}i.filter((function(e){return e.name===t.name+Zle})).length||i.push(n)};for(a.s();!(r=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}return i}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return Hfe(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&Zhe(this.parent)||(t=Lce(this,t)),t.map(this.correctDataNames)}},{key:"assembleGroupStyle",value:function(){var e=(this.view||{}).style;return void 0!==e?e:this.encoding.x||this.encoding.y?"cell":void 0}},{key:"getMapping",value:function(){return this.encoding}},{key:"mark",get:function(){return this.markDef.type}},{key:"channelHasField",value:function(e){return Ioe(this.encoding,e)}},{key:"fieldDef",value:function(e){return poe(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return Yae(t)?t:null}}]),n}(epe),ive=function(e){bm(n,e);var t=Em(n);function n(e,r,i,a,o){var u;ru(this,n),u=t.call(this,e,"layer",r,i,o,e.resolve,e.view);var s=Object.assign(Object.assign(Object.assign({},a),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return u.children=e.layer.map((function(e,t){if(sse(e))return new n(e,Ai(u),u.getName("layer_".concat(t)),s,o);if(Moe(e))return new rve(e,Ai(u),u.getName("layer_".concat(t)),s,o);throw new Error(One(e))})),u}return au(n,[{key:"parseData",value:function(){this.component.data=jpe(this);var e,t=nu(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseLayoutSize",value:function(){var e;Epe(e=this),Ope(e,"width"),Ope(e,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=nu(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,i=nu(W7(n.component.selection));try{for(i.s();!(r=i.n()).done;){var a=r.value;this.component.selection[a]=n.component.selection[a]}}catch(o){i.e(o)}finally{i.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=nu(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n,r=e.component,i=r.axes,a=r.resolve,o={top:0,bottom:0,right:0,left:0},u=nu(e.children);try{for(u.s();!(n=u.n()).done;){var s=n.value;s.parseAxesAndHeaders();var c,l=nu(W7(s.component.axes));try{for(l.s();!(c=l.n()).done;){var f=c.value;a.axis[f]=Qfe(e.component.resolve,f),"shared"===a.axis[f]&&(i[f]=Rpe(i[f],s.component.axes[f]),i[f]||(a.axis[f]="independent",delete i[f]))}}catch(C){l.e(C)}finally{l.f()}}}catch(C){u.e(C)}finally{u.f()}var d,h=nu(xte);try{for(h.s();!(d=h.n()).done;){var p,v=d.value,m=nu(e.children);try{for(m.s();!(p=m.n()).done;){var g=p.value;if(g.component.axes[v]){if("independent"===a.axis[v]){i[v]=(null!==(t=i[v])&&void 0!==t?t:[]).concat(g.component.axes[v]);var y,b=nu(g.component.axes[v]);try{for(b.s();!(y=b.n()).done;){var x=y.value,w=x.getWithExplicit("orient"),_=w.value,k=w.explicit;if(!nne(_)){if(o[_]>0&&!k){var E=Npe[_];o[_]>o[E]&&x.set("orient",E,!1)}o[_]++}}}catch(C){b.e(C)}finally{b.f()}}delete g.component.axes[v]}}}catch(C){m.e(C)}finally{m.f()}if("independent"===a.axis[v]&&i[v]&&i[v].length>1){var O,S=nu(i[v]);try{for(S.s();!(O=S.n()).done;){var A=O.value;A.get("grid")&&!A.explicit.grid&&(A.implicit.grid=!1)}}catch(C){S.e(C)}finally{S.f()}}}}catch(C){h.e(C)}finally{h.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),yfe(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),Hfe(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleGroupStyle",value:function(){var e,t=new Set,n=nu(this.children);try{for(n.s();!(e=n.n()).done;){var r,i=nu(Rk(e.value.assembleGroupStyle()));try{for(i.s();!(r=i.n()).done;){var a=r.value;t.add(a)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){n.e(u)}finally{n.f()}var o=Array.from(t);return o.length>1?o:1===o.length?o[0]:void 0}},{key:"assembleTitle",value:function(){var e=lse(xm(n.prototype),"assembleTitle",this).call(this);if(e)return e;var t,r=nu(this.children);try{for(r.s();!(t=r.n()).done;){if(e=t.value.assembleTitle())return e}}catch(i){r.e(i)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n,r=nu(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;Khe(i)&&(t=Lce(i,t))}}catch(a){r.e(a)}finally{r.f()}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),vde(this))}}]),n}(Jhe);function ave(e,t,n,r,i){if(Fae(e))return new Cpe(e,t,n,i);if(sse(e))return new ive(e,t,n,r,i);if(Moe(e))return new rve(e,t,n,r,i);if(function(e){return Nue(e)||Rue(e)||Mue(e)}(e))return new Tpe(e,t,n,i);throw new Error(One(e))}var ove=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function uve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&pre(t.logger),t.fieldTitle&&uoe(t.fieldTitle);try{var n=nse(pk(t.config,e.config)),r=mce(e,n),i=ave(r,null,"",void 0,n);i.parse(),fhe(i.component.data,i);var a=cve(i,sve(e,r.autosize,n,i),e.datasets,e.usermeta);return{spec:a,normalized:r}}finally{t.logger&&vre(),t.fieldTitle&&soe()}}function sve(e,t,n,r){var i,a=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):uE(t)&&(t={type:t}),a&&o&&("fit"===(i=t.type)||"fit-x"===i||"fit-y"===i))if("step"===a&&"step"===o)mre(Dne()),t.type="pad";else if("step"===a||"step"===o){var u="step"===a?"width":"height";mre(Dne(Ete(u)));var s="width"===u?"height":"width";t.type=function(e){return e?"fit-".concat(Ete(e)):"fit"}(s)}return Object.assign(Object.assign(Object.assign({},1===W7(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),_ce(n,!1)),_ce(e,!0))}function cve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=e.config?ose(e.config):void 0,a=[].concat(e.assembleSelectionData([]),bpe(e.component.data,n)),o=e.assembleProjections(),u=e.assembleTitle(),s=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0),l=e.assembleLayoutSignals();l=l.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)}));var f=t.params,d=ove(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),d),u?{title:u}:{}),s?{style:s}:{}),c?{encode:{update:c}}:{}),{data:a}),o.length>0?{projections:o}:{}),e.assembleGroup([].concat(du(l),du(e.assembleSelectionTopLevelSignals([])),du(Pue(f))))),i?{config:i}:{}),r?{usermeta:r}:{})}var lve="5.2.0";var fve=function(e){var t=C(/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3),2);return{library:t[0],version:t[1]}},dve="#fff",hve={background:"#333",title:{color:dve,subtitleColor:dve},style:{"guide-label":{fill:dve},"guide-title":{fill:dve}},axis:{domainColor:dve,gridColor:"#888",tickColor:dve}},pve="#4572a7",vve={background:"#fff",arc:{fill:pve},area:{fill:pve},line:{stroke:pve,strokeWidth:2},path:{stroke:pve},rect:{fill:pve},shape:{stroke:pve},symbol:{fill:pve,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},mve="#30a2da",gve="#cbcbcb",yve="#f0f0f0",bve="#333",xve={arc:{fill:mve},area:{fill:mve},axis:{domainColor:gve,grid:!0,gridColor:gve,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:gve,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:yve,group:{fill:yve},legend:{labelColor:bve,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:bve,titleFontSize:14,titlePadding:10},line:{stroke:mve,strokeWidth:2},path:{stroke:mve,strokeWidth:.5},rect:{fill:mve},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:mve},bar:{binSpacing:2,fill:mve,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},wve="#000",_ve={group:{fill:"#e5e5e5"},arc:{fill:wve},area:{fill:wve},line:{stroke:wve},path:{stroke:wve},rect:{fill:wve},shape:{stroke:wve},symbol:{fill:wve,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},kve="Benton Gothic, sans-serif",Eve="#82c6df",Ove="Benton Gothic Bold, sans-serif",Sve="normal",Ave={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},Cve={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Ove,fontSize:22,fontWeight:"normal"},arc:{fill:Eve},area:{fill:Eve},line:{stroke:Eve,strokeWidth:2},path:{stroke:Eve},rect:{fill:Eve},shape:{stroke:Eve},symbol:{fill:Eve,size:30},axis:{labelFont:kve,labelFontSize:11.5,labelFontWeight:"normal",titleFont:Ove,titleFontSize:13,titleFontWeight:Sve},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:kve,labelFontSize:11.5,symbolType:"square",titleFont:Ove,titleFontSize:13,titleFontWeight:Sve},range:{category:Ave["category-6"],diverging:Ave["fireandice-6"],heatmap:Ave["fire-7"],ordinal:Ave["fire-7"],ramp:Ave["fire-7"]}},Dve="#ab5787",jve="#979797",Tve={background:"#f9f9f9",arc:{fill:Dve},area:{fill:Dve},line:{stroke:Dve},path:{stroke:Dve},rect:{fill:Dve},shape:{stroke:Dve},symbol:{fill:Dve,size:30},axis:{domainColor:jve,domainWidth:.5,gridWidth:.2,labelColor:jve,tickColor:jve,tickWidth:.2,titleColor:jve},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Fve="#3e5c69",Pve={background:"#fff",arc:{fill:Fve},area:{fill:Fve},line:{stroke:Fve},path:{stroke:Fve},rect:{fill:Fve},shape:{stroke:Fve},symbol:{fill:Fve},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Mve="#1696d2",Nve="#000000",Rve="Lato",Ive="Lato",Bve={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},zve={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:Rve},axisX:{domain:!0,domainColor:Nve,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Ive,labelAngle:0,tickColor:Nve,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Rve},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:Ive,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Rve,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Ive,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Rve,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Bve["six-groups-cat-1"],diverging:Bve["diverging-colors"],heatmap:Bve["diverging-colors"],ordinal:Bve["six-groups-seq"],ramp:Bve["shades-blue"]},area:{fill:Mve},rect:{fill:Mve},line:{color:Mve,stroke:Mve,strokeWidth:5},trail:{color:Mve,stroke:Mve,strokeWidth:0,size:1},path:{stroke:Mve,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:Mve,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Mve,stroke:null}},arc:{fill:Mve},shape:{stroke:Mve},symbol:{fill:Mve,size:30}},Lve="#3366CC",Uve="#ccc",qve="Arial, sans-serif",Wve={arc:{fill:Lve},area:{fill:Lve},path:{stroke:Lve},rect:{fill:Lve},shape:{stroke:Lve},symbol:{stroke:Lve},circle:{fill:Lve},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:qve,fontSize:12},"guide-title":{font:qve,fontSize:12},"group-title":{font:qve,fontSize:12}},title:{font:qve,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Uve,tickColor:Uve,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Hve="2.10.0";function $ve(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!==typeof r||null===r)return r;var i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var Vve="vg-tooltip-element",Gve={offsetX:10,offsetY:10,id:Vve,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n){if(fk(e))return"[".concat(e.map((function(e){return t(uE(e)?e:$ve(e,n))})).join(", "),"]");if(dk(e)){var r="",i=e,a=i.title,o=i.image,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["title","image"]);a&&(r+="<h2>".concat(t(a),"</h2>")),o&&(r+='<img src="'.concat(t(o),'">'));var s=Object.keys(u);if(s.length>0){r+="<table>";var c,l=nu(s);try{for(l.s();!(c=l.n()).done;){var f=c.value,d=u[f];void 0!==d&&(dk(d)&&(d=$ve(d,n)),r+='<tr><td class="key">'.concat(t(f),':</td><td class="value">').concat(t(d),"</td></tr>"))}}catch(h){l.e(h)}finally{l.f()}r+="</table>"}return r||"{}"}return t(e)}};var Yve=function(){function e(t){ru(this,e),this.options=Object.assign(Object.assign({},Gve),t);var n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(Vve,e)}(n);var i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}return au(e,[{key:"tooltipHandler",value:function(e,t,n,r){var i;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(null!==(i=document.fullscreenElement)&&void 0!==i?i:document.body).appendChild(this.el),null!=r&&""!==r){this.el.innerHTML=this.options.formatTooltip(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var a=function(e,t,n,r){var i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);var a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),o=a.x,u=a.y;this.el.setAttribute("style","top: ".concat(u,"px; left: ").concat(o,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}();function Kve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xve(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(K_){return void n(K_)}u.done?t(s):Promise.resolve(s).then(r,i)}function Qve(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xve(a,r,i,o,u,"next",e)}function u(e){Xve(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Zve,Jve=Object.prototype,eme=Jve.hasOwnProperty,tme="function"===typeof Symbol?Symbol:{},nme=tme.iterator||"@@iterator",rme=tme.asyncIterator||"@@asyncIterator",ime=tme.toStringTag||"@@toStringTag";function ame(e,t,n,r){var i=t&&t.prototype instanceof dme?t:dme,a=Object.create(i.prototype),o=new Ome(r||[]);return a._invoke=function(e,t,n){var r=ume;return function(i,a){if(r===cme)throw new Error("Generator is already running");if(r===lme){if("throw"===i)throw a;return Ame()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_me(o,n);if(u){if(u===fme)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===ume)throw r=lme,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=cme;var s=ome(e,t,n);if("normal"===s.type){if(r=n.done?lme:sme,s.arg===fme)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=lme,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function ome(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}var ume="suspendedStart",sme="suspendedYield",cme="executing",lme="completed",fme={};function dme(){}function hme(){}function pme(){}var vme={};vme[nme]=function(){return this};var mme=Object.getPrototypeOf,gme=mme&&mme(mme(Sme([])));gme&&gme!==Jve&&eme.call(gme,nme)&&(vme=gme);var yme=pme.prototype=dme.prototype=Object.create(vme);function bme(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function xme(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===hme||"GeneratorFunction"===(t.displayName||t.name))}function wme(e,t){function n(r,i,a,o){var u=ome(e[r],e,i);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"===typeof c&&eme.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,o)}))}o(u.arg)}var r;this._invoke=function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}}function _me(e,t){var n=e.iterator[t.method];if(n===Zve){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=Zve,_me(e,t),"throw"===t.method))return fme;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return fme}var r=ome(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,fme;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=Zve),t.delegate=null,fme):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,fme)}function kme(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function Eme(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Ome(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(kme,this),this.reset(!0)}function Sme(e){if(e){var t=e[nme];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(eme.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=Zve,t.done=!0,t};return r.next=r}}return{next:Ame}}function Ame(){return{value:Zve,done:!0}}hme.prototype=yme.constructor=pme,pme.constructor=hme,pme[ime]=hme.displayName="GeneratorFunction",bme(wme.prototype),wme.prototype[rme]=function(){return this},bme(yme),yme[ime]="Generator",yme[nme]=function(){return this},yme.toString=function(){return"[object Generator]"},Ome.prototype={constructor:Ome,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=Zve,this.done=!1,this.delegate=null,this.method="next",this.arg=Zve,this.tryEntries.forEach(Eme),!e)for(var t in this)"t"===t.charAt(0)&&eme.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=Zve)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=Zve),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=eme.call(i,"catchLoc"),u=eme.call(i,"finallyLoc");if(o&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&eme.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,fme):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),fme},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),Eme(n),fme}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;Eme(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:Sme(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=Zve),fme}};var Cme={wrap:ame,isGeneratorFunction:xme,AsyncIterator:wme,mark:function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,pme):(e.__proto__=pme,ime in e||(e[ime]="GeneratorFunction")),e.prototype=Object.create(yme),e},awrap:function(e){return{__await:e}},async:function(e,t,n,r,i){void 0===i&&(i=Promise);var a=new wme(ame(e,t,n,r),i);return xme(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},keys:function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},values:Sme},Dme=jme;function jme(e){var t=this;if(t instanceof jme||(t=new jme),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function Tme(e,t,n){var r=t===e.head?new Mme(n,null,t,e):new Mme(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function Fme(e,t){e.tail=new Mme(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Pme(e,t){e.head=new Mme(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Mme(e,t,n,r){if(!(this instanceof Mme))return new Mme(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}jme.Node=Mme,jme.create=jme,jme.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},jme.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},jme.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},jme.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Fme(this,arguments[e]);return this.length},jme.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Pme(this,arguments[e]);return this.length},jme.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},jme.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},jme.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},jme.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},jme.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},jme.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},jme.prototype.map=function(e,t){t=t||this;for(var n=new jme,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},jme.prototype.mapReverse=function(e,t){t=t||this;for(var n=new jme,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},jme.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},jme.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},jme.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},jme.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},jme.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new jme;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(;null!==i&&r<t;r++,i=i.next)n.push(i.value);return n},jme.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new jme;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;null!==i&&r>t;r--)i=i.prev;for(;null!==i&&r>e;r--,i=i.prev)n.push(i.value);return n},jme.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var i=[];for(n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=Tme(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i},jme.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{jme.prototype[Symbol.iterator]=Cme.mark((function e(){var t;return Cme.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}catch(Cwe){}var Nme=Dme,Rme=Symbol("max"),Ime=Symbol("length"),Bme=Symbol("lengthCalculator"),zme=Symbol("allowStale"),Lme=Symbol("maxAge"),Ume=Symbol("dispose"),qme=Symbol("noDisposeOnSet"),Wme=Symbol("lruList"),Hme=Symbol("cache"),$me=Symbol("updateAgeOnGet"),Vme=function(){return 1},Gme=function(){function e(t){if(ru(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[Rme]=t.max||1/0;var n=t.length||Vme;if(this[Bme]="function"!==typeof n?Vme:n,this[zme]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[Lme]=t.maxAge||0,this[Ume]=t.dispose,this[qme]=t.noDisposeOnSet||!1,this[$me]=t.updateAgeOnGet||!1,this.reset()}return au(e,[{key:"max",get:function(){return this[Rme]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[Rme]=e||1/0,Xme(this)}},{key:"allowStale",get:function(){return this[zme]},set:function(e){this[zme]=!!e}},{key:"maxAge",get:function(){return this[Lme]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[Lme]=e,Xme(this)}},{key:"lengthCalculator",get:function(){return this[Bme]},set:function(e){var t=this;"function"!==typeof e&&(e=Vme),e!==this[Bme]&&(this[Bme]=e,this[Ime]=0,this[Wme].forEach((function(e){e.length=t[Bme](e.value,e.key),t[Ime]+=e.length}))),Xme(this)}},{key:"length",get:function(){return this[Ime]}},{key:"itemCount",get:function(){return this[Wme].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[Wme].tail;null!==n;){var r=n.prev;Jme(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[Wme].head;null!==n;){var r=n.next;Jme(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[Wme].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[Wme].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[Ume]&&this[Wme]&&this[Wme].length&&this[Wme].forEach((function(t){return e[Ume](t.key,t.value)})),this[Hme]=new Map,this[Wme]=new Nme,this[Ime]=0}},{key:"dump",value:function(){var e=this;return this[Wme].map((function(t){return!Kme(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[Wme]}},{key:"set",value:function(e,t,n){if((n=n||this[Lme])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,i=this[Bme](t,e);if(this[Hme].has(e)){if(i>this[Rme])return Qme(this,this[Hme].get(e)),!1;var a=this[Hme].get(e).value;return this[Ume]&&(this[qme]||this[Ume](e,a.value)),a.now=r,a.maxAge=n,a.value=t,this[Ime]+=i-a.length,a.length=i,this.get(e),Xme(this),!0}var o=new Zme(e,t,i,r,n);return o.length>this[Rme]?(this[Ume]&&this[Ume](e,t),!1):(this[Ime]+=o.length,this[Wme].unshift(o),this[Hme].set(e,this[Wme].head),Xme(this),!0)}},{key:"has",value:function(e){if(!this[Hme].has(e))return!1;var t=this[Hme].get(e).value;return!Kme(this,t)}},{key:"get",value:function(e){return Yme(this,e,!0)}},{key:"peek",value:function(e){return Yme(this,e,!1)}},{key:"pop",value:function(){var e=this[Wme].tail;return e?(Qme(this,e),e.value):null}},{key:"del",value:function(e){Qme(this,this[Hme].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var a=i-t;a>0&&this.set(r.k,r.v,a)}}}},{key:"prune",value:function(){var e=this;this[Hme].forEach((function(t,n){return Yme(e,n,!1)}))}}]),e}(),Yme=function(e,t,n){var r=e[Hme].get(t);if(r){var i=r.value;if(Kme(e,i)){if(Qme(e,r),!e[zme])return}else n&&(e[$me]&&(r.value.now=Date.now()),e[Wme].unshiftNode(r));return i.value}},Kme=function(e,t){if(!t||!t.maxAge&&!e[Lme])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Lme]&&n>e[Lme]},Xme=function(e){if(e[Ime]>e[Rme])for(var t=e[Wme].tail;e[Ime]>e[Rme]&&null!==t;){var n=t.prev;Qme(e,t),t=n}},Qme=function(e,t){if(t){var n=t.value;e[Ume]&&e[Ume](n.key,n.value),e[Ime]-=n.length,e[Hme].delete(n.key),e[Wme].removeNode(t)}},Zme=au((function e(t,n,r,i,a){ru(this,e),this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0})),Jme=function(e,t,n,r){var i=n.value;Kme(e,i)&&(Qme(e,n),e[zme]||(i=void 0)),i&&t.call(r,i.value,i.key,e)},ege=Gme,tge=["includePrerelease","loose","rtl"],nge=function(e){return e?"object"!==typeof e?{loose:!0}:tge.filter((function(t){return e[t]})).reduce((function(e,t){return e[t]=!0,e}),{}):{}},rge={exports:{}},ige={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},age="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/DigitalFootprintsLab",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"236272166265-60vj7njr09rj4kdg9tnfdup3av3bpht9.apps.googleusercontent.com"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"/DigitalFootprintsLab",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"236272166265-60vj7njr09rj4kdg9tnfdup3av3bpht9.apps.googleusercontent.com"}.NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){},oge=age;!function(e,t){var n=ige.MAX_SAFE_COMPONENT_LENGTH,r=oge,i=(t=e.exports={}).re=[],a=t.src=[],o=t.t={},u=0,s=function(e,t,n){var s=u++;r(s,t),o[e]=s,a[s]=t,i[s]=new RegExp(t,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION","(".concat(a[o.NUMERICIDENTIFIER],")\\.")+"(".concat(a[o.NUMERICIDENTIFIER],")\\.")+"(".concat(a[o.NUMERICIDENTIFIER],")")),s("MAINVERSIONLOOSE","(".concat(a[o.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[o.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[o.NUMERICIDENTIFIERLOOSE],")")),s("PRERELEASEIDENTIFIER","(?:".concat(a[o.NUMERICIDENTIFIER],"|").concat(a[o.NONNUMERICIDENTIFIER],")")),s("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[o.NUMERICIDENTIFIERLOOSE],"|").concat(a[o.NONNUMERICIDENTIFIER],")")),s("PRERELEASE","(?:-(".concat(a[o.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[o.PRERELEASEIDENTIFIER],")*))")),s("PRERELEASELOOSE","(?:-?(".concat(a[o.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[o.PRERELEASEIDENTIFIERLOOSE],")*))")),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD","(?:\\+(".concat(a[o.BUILDIDENTIFIER],"(?:\\.").concat(a[o.BUILDIDENTIFIER],")*))")),s("FULLPLAIN","v?".concat(a[o.MAINVERSION]).concat(a[o.PRERELEASE],"?").concat(a[o.BUILD],"?")),s("FULL","^".concat(a[o.FULLPLAIN],"$")),s("LOOSEPLAIN","[v=\\s]*".concat(a[o.MAINVERSIONLOOSE]).concat(a[o.PRERELEASELOOSE],"?").concat(a[o.BUILD],"?")),s("LOOSE","^".concat(a[o.LOOSEPLAIN],"$")),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE","".concat(a[o.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),s("XRANGEIDENTIFIER","".concat(a[o.NUMERICIDENTIFIER],"|x|X|\\*")),s("XRANGEPLAIN","[v=\\s]*(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIER],")")+"(?:".concat(a[o.PRERELEASE],")?").concat(a[o.BUILD],"?")+")?)?"),s("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[o.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(a[o.PRERELEASELOOSE],")?").concat(a[o.BUILD],"?")+")?)?"),s("XRANGE","^".concat(a[o.GTLT],"\\s*").concat(a[o.XRANGEPLAIN],"$")),s("XRANGELOOSE","^".concat(a[o.GTLT],"\\s*").concat(a[o.XRANGEPLAINLOOSE],"$")),s("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),s("COERCERTL",a[o.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM","(\\s*)".concat(a[o.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",s("TILDE","^".concat(a[o.LONETILDE]).concat(a[o.XRANGEPLAIN],"$")),s("TILDELOOSE","^".concat(a[o.LONETILDE]).concat(a[o.XRANGEPLAINLOOSE],"$")),s("LONECARET","(?:\\^)"),s("CARETTRIM","(\\s*)".concat(a[o.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",s("CARET","^".concat(a[o.LONECARET]).concat(a[o.XRANGEPLAIN],"$")),s("CARETLOOSE","^".concat(a[o.LONECARET]).concat(a[o.XRANGEPLAINLOOSE],"$")),s("COMPARATORLOOSE","^".concat(a[o.GTLT],"\\s*(").concat(a[o.LOOSEPLAIN],")$|^$")),s("COMPARATOR","^".concat(a[o.GTLT],"\\s*(").concat(a[o.FULLPLAIN],")$|^$")),s("COMPARATORTRIM","(\\s*)".concat(a[o.GTLT],"\\s*(").concat(a[o.LOOSEPLAIN],"|").concat(a[o.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE","^\\s*(".concat(a[o.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(a[o.XRANGEPLAIN],")")+"\\s*$"),s("HYPHENRANGELOOSE","^\\s*(".concat(a[o.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(a[o.XRANGEPLAINLOOSE],")")+"\\s*$"),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0.0.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}(rge,rge.exports);var uge=/^[0-9]+$/,sge=function(e,t){var n=uge.test(e),r=uge.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},cge=sge,lge=oge,fge=ige.MAX_LENGTH,dge=ige.MAX_SAFE_INTEGER,hge=rge.exports.re,pge=rge.exports.t,vge=nge,mge=cge,gge=function(){function e(t,n){if(ru(this,e),n=vge(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>fge)throw new TypeError("version is longer than ".concat(fge," characters"));lge("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var r=t.trim().match(n.loose?hge[pge.LOOSE]:hge[pge.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>dge||this.major<0)throw new TypeError("Invalid major version");if(this.minor>dge||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>dge||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<dge)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}return au(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(lge("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),mge(this.major,t.major)||mge(this.minor,t.minor)||mge(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(lge("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return mge(r,i)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(lge("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return mge(r,i)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}(),yge=gge,bge=yge,xge=function(e,t,n){return new bge(e,n).compare(new bge(t,n))},wge=xge,_ge=function(e,t,n){return 0===wge(e,t,n)},kge=xge,Ege=function(e,t,n){return 0!==kge(e,t,n)},Oge=xge,Sge=function(e,t,n){return Oge(e,t,n)>0},Age=xge,Cge=function(e,t,n){return Age(e,t,n)>=0},Dge=xge,jge=function(e,t,n){return Dge(e,t,n)<0},Tge=xge,Fge=function(e,t,n){return Tge(e,t,n)<=0},Pge=_ge,Mge=Ege,Nge=Sge,Rge=Cge,Ige=jge,Bge=Fge,zge=function(e,t,n,r){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Pge(e,n,r);case"!=":return Mge(e,n,r);case">":return Nge(e,n,r);case">=":return Rge(e,n,r);case"<":return Ige(e,n,r);case"<=":return Bge(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}},Lge=Symbol("SemVer ANY"),Uge=function(){function e(t,n){if(ru(this,e),n=Wge(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}Gge("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===Lge?this.value="":this.value=this.operator+this.semver.version,Gge("comp",this)}return au(e,[{key:"parse",value:function(e){var t=this.options.loose?Hge[$ge.COMPARATORLOOSE]:Hge[$ge.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new Yge(n[2],this.options.loose):this.semver=Lge}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(Gge("Comparator.test",e,this.options.loose),this.semver===Lge||e===Lge)return!0;if("string"===typeof e)try{e=new Yge(e,this.options)}catch(Cwe){return!1}return Vge(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");if(n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new Kge(t.value,n).test(this.value);if(""===t.operator)return""===t.value||new Kge(this.value,n).test(t.semver);var r=(">="===this.operator||">"===this.operator)&&(">="===t.operator||">"===t.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===t.operator||"<"===t.operator),a=this.semver.version===t.semver.version,o=(">="===this.operator||"<="===this.operator)&&(">="===t.operator||"<="===t.operator),u=Vge(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),s=Vge(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||a&&o||u||s}}],[{key:"ANY",get:function(){return Lge}}]),e}(),qge=Uge,Wge=nge,Hge=rge.exports.re,$ge=rge.exports.t,Vge=zge,Gge=oge,Yge=yge,Kge=Jge;function Xge(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Qge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qge(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Qge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zge=function(){function e(t,n){var r=this;if(ru(this,e),n=tye(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof nye)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(e){return r.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));if(this.set.length>1){var i=this.set[0];if(this.set=this.set.filter((function(e){return!lye(e[0])})),0===this.set.length)this.set=[i];else if(this.set.length>1){var a,o=Xge(this.set);try{for(o.s();!(a=o.n()).done;){var u=a.value;if(1===u.length&&fye(u[0])){this.set=[u];break}}}catch(s){o.e(s)}finally{o.f()}}}this.format()}return au(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this;e=e.trim();var n=Object.keys(this.options).join(","),r="parseRange:".concat(n,":").concat(e),i=eye.get(r);if(i)return i;var a=this.options.loose,o=a?aye[oye.HYPHENRANGELOOSE]:aye[oye.HYPHENRANGE];e=e.replace(o,kye(this.options.includePrerelease)),rye("hyphen replace",e),e=e.replace(aye[oye.COMPARATORTRIM],uye),rye("comparator trim",e,aye[oye.COMPARATORTRIM]),e=(e=(e=e.replace(aye[oye.TILDETRIM],sye)).replace(aye[oye.CARETTRIM],cye)).split(/\s+/).join(" ");var u=a?aye[oye.COMPARATORLOOSE]:aye[oye.COMPARATOR],s=e.split(" ").map((function(e){return hye(e,t.options)})).join(" ").split(/\s+/).map((function(e){return _ye(e,t.options)})).filter(this.options.loose?function(e){return!!e.match(u)}:function(){return!0}).map((function(e){return new nye(e,t.options)}));s.length;var c,l=new Map,f=Xge(s);try{for(f.s();!(c=f.n()).done;){var d=c.value;if(lye(d))return[d];l.set(d.value,d)}}catch(p){f.e(p)}finally{f.f()}l.size>1&&l.has("")&&l.delete("");var h=du(l.values());return eye.set(r,h),h}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return dye(e,n)&&t.set.some((function(t){return dye(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"===typeof e)try{e=new iye(e,this.options)}catch(Cwe){return!1}for(var t=0;t<this.set.length;t++)if(Eye(this.set[t],e,this.options))return!0;return!1}}]),e}(),Jge=Zge,eye=new ege({max:1e3}),tye=nge,nye=qge,rye=oge,iye=yge,aye=rge.exports.re,oye=rge.exports.t,uye=rge.exports.comparatorTrimReplace,sye=rge.exports.tildeTrimReplace,cye=rge.exports.caretTrimReplace,lye=function(e){return"<0.0.0-0"===e.value},fye=function(e){return""===e.value},dye=function(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n},hye=function(e,t){return rye("comp",e,t),e=gye(e,t),rye("caret",e),e=vye(e,t),rye("tildes",e),e=bye(e,t),rye("xrange",e),e=wye(e,t),rye("stars",e),e},pye=function(e){return!e||"x"===e.toLowerCase()||"*"===e},vye=function(e,t){return e.trim().split(/\s+/).map((function(e){return mye(e,t)})).join(" ")},mye=function(e,t){var n=t.loose?aye[oye.TILDELOOSE]:aye[oye.TILDE];return e.replace(n,(function(t,n,r,i,a){var o;return rye("tilde",e,t,n,r,i,a),pye(n)?o="":pye(r)?o=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):pye(i)?o=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):a?(rye("replaceTilde pr",a),o=">=".concat(n,".").concat(r,".").concat(i,"-").concat(a," <").concat(n,".").concat(+r+1,".0-0")):o=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),rye("tilde return",o),o}))},gye=function(e,t){return e.trim().split(/\s+/).map((function(e){return yye(e,t)})).join(" ")},yye=function(e,t){rye("caret",e,t);var n=t.loose?aye[oye.CARETLOOSE]:aye[oye.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,i,a,o){var u;return rye("caret",e,t,n,i,a,o),pye(n)?u="":pye(i)?u=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):pye(a)?u="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):o?(rye("replaceCaret pr",o),u="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(+n+1,".0.0-0")):(rye("no pr"),u="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a," <").concat(+n+1,".0.0-0")),rye("caret return",u),u}))},bye=function(e,t){return rye("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return xye(e,t)})).join(" ")},xye=function(e,t){e=e.trim();var n=t.loose?aye[oye.XRANGELOOSE]:aye[oye.XRANGE];return e.replace(n,(function(n,r,i,a,o,u){rye("xRange",e,n,r,i,a,o,u);var s=pye(i),c=s||pye(a),l=c||pye(o),f=l;return"="===r&&f&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(c&&(a=0),o=0,">"===r?(r=">=",c?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):"<="===r&&(r="<",c?i=+i+1:a=+a+1),"<"===r&&(u="-0"),n="".concat(r+i,".").concat(a,".").concat(o).concat(u)):c?n=">=".concat(i,".0.0").concat(u," <").concat(+i+1,".0.0-0"):l&&(n=">=".concat(i,".").concat(a,".0").concat(u," <").concat(i,".").concat(+a+1,".0-0")),rye("xRange return",n),n}))},wye=function(e,t){return rye("replaceStars",e,t),e.trim().replace(aye[oye.STAR],"")},_ye=function(e,t){return rye("replaceGTE0",e,t),e.trim().replace(aye[t.includePrerelease?oye.GTE0PRE:oye.GTE0],"")},kye=function(e){return function(t,n,r,i,a,o,u,s,c,l,f,d,h){return n=pye(r)?"":pye(i)?">=".concat(r,".0.0").concat(e?"-0":""):pye(a)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):o?">=".concat(n):">=".concat(n).concat(e?"-0":""),s=pye(c)?"":pye(l)?"<".concat(+c+1,".0.0-0"):pye(f)?"<".concat(c,".").concat(+l+1,".0-0"):d?"<=".concat(c,".").concat(l,".").concat(f,"-").concat(d):e?"<".concat(c,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(s),"".concat(n," ").concat(s).trim()}},Eye=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var i=0;i<e.length;i++)if(rye(e[i].semver),e[i].semver!==nye.ANY&&e[i].semver.prerelease.length>0){var a=e[i].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0},Oye=Jge,Sye=function(e,t,n){try{t=new Oye(t,n)}catch(Cwe){return!1}return t.test(e)};function Aye(e,t,n){var r=e.open(t),i=new URL(t).origin,a=40;e.addEventListener("message",(function t(n){n.source===r&&(a=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){a<=0||(r.postMessage(n,i),setTimeout(e,250),a-=1)}),250)}var Cye='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  outline: none;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid #0000;\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid #0000;\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function Dye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];jye(e,o)}return e}function jye(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];vk(e,i,t[i],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var Tye;function Fye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fye(Object(n),!0).forEach((function(t){Kve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mye=b,Nye=x,Rye="undefined"!==typeof window?window:void 0;void 0===Nye&&null!==Rye&&void 0!==Rye&&null!==(Tye=Rye.vl)&&void 0!==Tye&&Tye.compile&&(Nye=Rye.vl);var Iye={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Bye={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},zye={vega:"Vega","vega-lite":"Vega-Lite"},Lye={vega:Mye.version,"vega-lite":Nye?Nye.version:"not available"},Uye={vega:function(e){return e},"vega-lite":function(e,t){return Nye.compile(e,{config:t}).spec}},qye='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',Wye="chart-wrapper";function Hye(e){return"function"===typeof e}function $ye(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),a="</code></pre>".concat(n,"</body></html>"),o=window.open("");o.document.write(i+e+a),o.document.title="".concat(zye[r]," JSON Source")}function Vye(e,t){if(e.$schema){var n,r=fve(e.$schema);if(t&&t!==r.library)console.warn("The given visualization spec is written in ".concat(zye[r.library],", but mode argument sets ").concat(null!==(n=zye[t])&&void 0!==n?n:t,"."));var i=r.library;return Sye(Lye[i],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(zye[i]," ").concat(r.version,", but the current version of ").concat(zye[i]," is v").concat(Lye[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==t&&void 0!==t?t:"vega"}function Gye(e){return(t=e)&&"load"in t?e:Mye.loader(e);var t}function Yye(e){var t;return null!==(t=e.usermeta&&e.usermeta.embedOptions)&&void 0!==t?t:{}}function Kye(){return Kye=Qve(Cme.mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h=arguments;return Cme.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>2&&void 0!==h[2]?h[2]:{},!uE(n)){e.next=10;break}return u=Gye(a.loader),e.t0=JSON,e.next=6,u.load(n);case 6:e.t1=e.sent,o=e.t0.parse.call(e.t0,e.t1),e.next=11;break;case 10:o=n;case 11:return s=Yye(o).loader,u&&!s||(u=Gye(null!==(c=a.loader)&&void 0!==c?c:s)),e.next=15,Xye(Yye(o),u);case 15:return l=e.sent,e.next=18,Xye(a,u);case 18:return f=e.sent,d=Pye(Pye({},Dye(f,l)),{},{config:pk(null!==(r=f.config)&&void 0!==r?r:{},null!==(i=l.config)&&void 0!==i?i:{})}),e.next=22,Jye(t,o,d,u);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)}))),Kye.apply(this,arguments)}function Xye(e,t){return Qye.apply(this,arguments)}function Qye(){return Qye=Qve(Cme.mark((function e(t,n){var r,i,a;return Cme.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uE(t.config)){e.next=8;break}return e.t1=JSON,e.next=4,n.load(t.config);case 4:e.t2=e.sent,e.t0=e.t1.parse.call(e.t1,e.t2),e.next=9;break;case 8:e.t0=null!==(r=t.config)&&void 0!==r?r:{};case 9:if(i=e.t0,!uE(t.patch)){e.next=18;break}return e.t4=JSON,e.next=14,n.load(t.patch);case 14:e.t5=e.sent,e.t3=e.t4.parse.call(e.t4,e.t5),e.next=19;break;case 18:e.t3=t.patch;case 19:return a=e.t3,e.abrupt("return",Pye(Pye(Pye({},t),a?{patch:a}:{}),i?{config:i}:{}));case 21:case"end":return e.stop()}}),e)}))),Qye.apply(this,arguments)}function Zye(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}function Jye(e,t){return ebe.apply(this,arguments)}function ebe(){return ebe=Qve(Cme.mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y,b,x,_,k,E,O,S,A,C,D,j,T,F,P,M,N,R,I,B,z,L,U,q,W,H,$,V,G,Y,K,X,Q,Z,J=arguments;return Cme.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z=function(){z&&document.removeEventListener("click",z),P.finalize()},l=J.length>2&&void 0!==J[2]?J[2]:{},f=J.length>3?J[3]:void 0,d=l.theme?pk(w[l.theme],null!==(r=l.config)&&void 0!==r?r:{}):l.config,h=nE(l.actions)?l.actions:Dye({},Iye,null!==(i=l.actions)&&void 0!==i?i:{}),p=Pye(Pye({},Bye),l.i18n),v=null!==(a=l.renderer)&&void 0!==a?a:"canvas",m=null!==(o=l.logLevel)&&void 0!==o?o:Mye.Warn,g=null!==(u=l.downloadFileName)&&void 0!==u?u:"visualization",y="string"===typeof t?document.querySelector(t):t){e.next=12;break}throw new Error("".concat(t," does not exist"));case 12:return!1!==l.defaultStyle&&(b="vega-embed-style",x=Zye(y),_=x.root,k=x.rootContainer,_.getElementById(b)||((E=document.createElement("style")).id=b,E.innerText=void 0===l.defaultStyle||!0===l.defaultStyle?Cye.toString():l.defaultStyle,k.appendChild(E))),O=Vye(n,l.mode),S=Uye[O](n,d),"vega-lite"===O&&S.$schema&&(A=fve(S.$schema),Sye(Lye.vega,"^".concat(A.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(A.version,", but current version is v").concat(Lye.vega,"."))),y.classList.add("vega-embed"),h&&y.classList.add("has-actions"),y.innerHTML="",C=y,h&&((D=document.createElement("div")).classList.add(Wye),y.appendChild(D),C=D),(j=l.patch)&&(S=j instanceof Function?j(S):C_(S,j,!0,!1).newDocument),l.formatLocale&&Mye.formatLocale(l.formatLocale),l.timeFormatLocale&&Mye.timeFormatLocale(l.timeFormatLocale),T=l.ast,F=Mye.parse(S,"vega-lite"===O?{}:d,{ast:T}),(P=new(l.viewClass||Mye.View)(F,Pye({loader:f,logLevel:m,renderer:v},T?{expr:null!==(s=null!==(c=Mye.expressionInterpreter)&&void 0!==c?c:l.expr)&&void 0!==s?s:f7}:{}))).addSignalListener("autosize",(function(e,t){var n=t.type;"fit-x"==n?(C.classList.add("fit-x"),C.classList.remove("fit-y")):"fit-y"==n?(C.classList.remove("fit-x"),C.classList.add("fit-y")):"fit"==n?C.classList.add("fit-x","fit-y"):C.classList.remove("fit-x","fit-y")})),!1!==l.tooltip&&(M=Hye(l.tooltip)?l.tooltip:new Yve(!0===l.tooltip?{}:l.tooltip).call,P.tooltip(M)),void 0===(N=l.hover)&&(N="vega"===O),N&&(I=(R="boolean"===typeof N?{}:N).hoverSet,B=R.updateSet,P.hover(I,B)),l&&(null!=l.width&&P.width(l.width),null!=l.height&&P.height(l.height),null!=l.padding&&P.padding(l.padding)),e.next=36,P.initialize(C,l.bind).runAsync();case 36:if(!1!==h){if(L=y,!1!==l.defaultStyle&&((U=document.createElement("details")).title=p.CLICK_TO_VIEW_ACTIONS,y.append(U),L=U,(q=document.createElement("summary")).innerHTML=qye,U.append(q),z=function(e){U.contains(e.target)||U.removeAttribute("open")},document.addEventListener("click",z)),W=document.createElement("div"),L.append(W),W.classList.add("vega-actions"),!0===h||!1!==h.export)for(H=function(){var e=V[$];if(!0===h||!0===h.export||h.export[e]){var t=p["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(g,".").concat(e),n.addEventListener("mousedown",function(){var t=Qve(Cme.mark((function t(n){var r;return Cme.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,P.toImageURL(e,l.scaleFactor);case 3:r=t.sent,this.href=r;case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()),W.append(n)}},$=0,V=["svg","png"];$<V.length;$++)H();!0!==h&&!1===h.source||((G=document.createElement("a")).text=p.SOURCE_ACTION,G.href="#",G.addEventListener("click",(function(e){var t,r;$ye(q_()(n),null!==(t=l.sourceHeader)&&void 0!==t?t:"",null!==(r=l.sourceFooter)&&void 0!==r?r:"",O),e.preventDefault()})),W.append(G)),"vega-lite"!==O||!0!==h&&!1===h.compiled||((Y=document.createElement("a")).text=p.COMPILED_ACTION,Y.href="#",Y.addEventListener("click",(function(e){var t,n;$ye(q_()(S),null!==(t=l.sourceHeader)&&void 0!==t?t:"",null!==(n=l.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),W.append(Y)),!0!==h&&!1===h.editor||(X=null!==(K=l.editorUrl)&&void 0!==K?K:"https://vega.github.io/editor/",(Q=document.createElement("a")).text=p.EDITOR_ACTION,Q.href="#",Q.addEventListener("click",(function(e){Aye(window,X,{config:d,mode:O,renderer:v,spec:q_()(n)}),e.preventDefault()})),W.append(Q))}return e.abrupt("return",{view:P,spec:n,vgSpec:S,finalize:Z});case 38:case"end":return e.stop()}}),e)}))),ebe.apply(this,arguments)}function tbe(e,t){Object.keys(t).forEach((function(n){!function(e,t,n){var r;n&&((r=n)&&"[object Function]"==={}.toString.call(r)?n(e.data(t)):e.change(t,Mye.changeset().remove((function(){return!0})).insert(n)))}(e,n,t[n])}))}function nbe(e){var t=new Set;return e.forEach((function(e){Object.keys(e).forEach((function(e){t.add(e)}))})),t}var rbe=function(){};function ibe(e,t){var n=Object.keys(t);return n.forEach((function(n){try{e.addSignalListener(n,t[n])}catch(K_){console.warn("Cannot add invalid signal listener.",K_)}})),n.length>0}function abe(e,t){var n=Object.keys(t);return n.forEach((function(n){try{e.removeSignalListener(n,t[n])}catch(K_){console.warn("Cannot remove invalid signal listener.",K_)}})),n.length>0}function obe(e){var t=e.spec,n=e.width,r=e.height;return"undefined"!==typeof n&&"undefined"!==typeof r?pu(pu({},t),{},{width:n,height:r}):"undefined"!==typeof n?pu(pu({},t),{},{width:n}):"undefined"!==typeof r?pu(pu({},t),{},{height:r}):t}var ube=["spec","onNewView","signalListeners","width","height"];function sbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cbe=function(e){bm(n,e);var t=Em(n);function n(){var e;ru(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return sbe(Ai(e=t.call.apply(t,[this].concat(i))),"containerRef",_.createRef()),sbe(Ai(e),"resultPromise",void 0),sbe(Ai(e),"handleError",(function(t){var n=e.props.onError;(void 0===n?rbe:n)(t),console.warn(t)})),sbe(Ai(e),"modifyView",(function(t){e.resultPromise&&e.resultPromise.then((function(e){return e&&t(e.view),!0})).catch(e.handleError)})),e}return au(n,[{key:"componentDidMount",value:function(){this.createView()}},{key:"componentDidUpdate",value:function(e){var t=this,n=nbe([this.props,e]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some((function(n){return t.props[n]!==e[n]})))this.clearView(),this.createView();else{var r=function(e,t){if(e===t)return!1;var n={width:!1,height:!1,isExpensive:!1},r=nbe([e,t]);return!r.has("width")||"width"in e&&"width"in t&&e.width===t.width||("width"in e&&"number"===typeof e.width?n.width=e.width:n.isExpensive=!0),!r.has("height")||"height"in e&&"height"in t&&e.height===t.height||("height"in e&&"number"===typeof e.height?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),du(r).some((function(n){return!(n in e)||!(n in t)||!v7()(e[n],t[n])}))&&(n.isExpensive=!0),!(!1===n.width&&!1===n.height&&!n.isExpensive)&&n}(obe(this.props),obe(e)),i=this.props.signalListeners,a=e.signalListeners;if(r)if(r.isExpensive)this.clearView(),this.createView();else{var o=!l_(i,a);this.modifyView((function(e){!1!==r.width&&e.width(r.width),!1!==r.height&&e.height(r.height),o&&(a&&abe(e,a),i&&ibe(e,i)),e.run()}))}else l_(i,a)||this.modifyView((function(e){a&&abe(e,a),i&&ibe(e,i),e.run()}))}}},{key:"componentWillUnmount",value:function(){this.clearView()}},{key:"createView",value:function(){var e=this.props,t=(e.spec,e.onNewView),n=e.signalListeners,r=void 0===n?{}:n,i=(e.width,e.height,s_(e,ube));if(this.containerRef.current){var a=obe(this.props);this.resultPromise=function(e,t){return Kye.apply(this,arguments)}(this.containerRef.current,a,i).then((function(e){if(e){var t=e.view;ibe(t,r)&&t.run()}return e})).catch(this.handleError),t&&this.modifyView(t)}}},{key:"clearView",value:function(){return this.resultPromise&&this.resultPromise.then((function(e){e&&e.finalize()})).catch(this.handleError),this.resultPromise=void 0,this}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style;return _.createElement("div",{ref:this.containerRef,className:t,style:n})}}]),n}(_.PureComponent);sbe(cbe,"propTypes",{className:Fb().string,onError:Fb().func});var lbe=["data"];function fbe(){return fbe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fbe.apply(this,arguments)}function dbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hbe=function(e){bm(n,e);var t=Em(n);function n(){var e;ru(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return dbe(Ai(e=t.call.apply(t,[this].concat(i))),"vegaEmbed",_.createRef()),dbe(Ai(e),"handleNewView",(function(t){e.update();var n=e.props.onNewView;(void 0===n?rbe:n)(t)})),e}return au(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(e){l_(this.props.data,e.data)||this.update()}},{key:"update",value:function(){var e=this.props.data;this.vegaEmbed.current&&e&&Object.keys(e).length>0&&this.vegaEmbed.current.modifyView((function(t){tbe(t,e),t.resize().run()}))}},{key:"render",value:function(){var e=this.props,t=(e.data,s_(e,lbe));return _.createElement(cbe,fbe({ref:this.vegaEmbed},t,{onNewView:this.handleNewView}))}}]),n}(_.PureComponent);function pbe(){return pbe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pbe.apply(this,arguments)}function vbe(e){var t=e.mode,n=e.spec,r=function(e){bm(i,e);var r=Em(i);function i(){return ru(this,i),r.apply(this,arguments)}return au(i,[{key:"render",value:function(){return _.createElement(hbe,pbe({mode:t,spec:n},this.props))}}]),i}(_.PureComponent);return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(r,"getSpec",(function(){return n})),r}dbe(hbe,"defaultProps",{data:{}});var mbe=vbe({spec:{$schema:"https://vega.github.io/schema/vega/v5.json",width:1e3,height:500,padding:20,autosize:"none",data:[{name:"tree",transform:[{type:"filter",expr:"selectedCategory != '' ? datum.type != 'group' || selectedCategory == datum.category : true"},{type:"window",sort:{field:"visits",order:"descending"},groupby:["type"],ops:["count"]},{type:"filter",expr:"datum.type != 'group' || datum.count < ".concat(500)},{type:"stratify",key:"id",parentKey:"parent"},{type:"formula",as:"scaledsize",expr:"datum.category === selectedCategory && datum.type === 'group' ?  (datum.size * (1/(datum.categorySize))) : datum.size"},{type:"formula",as:"scaledsize",expr:"pow(datum.scaledsize*1000, 0.8)"},{type:"pack",field:"scaledsize",padding:4,as:["x","y","r"],size:[{signal:"width"},{signal:"height*2"}]},{type:"formula",as:"y",expr:"datum.y / 2"},{type:"formula",as:"width",expr:"datum.r"},{type:"formula",as:"height",expr:"datum.r / 2"},{type:"filter",expr:"datum.type != 'root'"}]},{name:"with_image",source:"tree",transform:[{type:"filter",expr:"datum.type === 'group' && datum.count < ".concat(25)}]}],signals:[{name:"selectedCategory",value:""},{name:"selectedDatum",value:null,update:"data('tree') ? '' : ''",on:[{events:"click",update:"datum && datum.type == 'group' && (isValid(selectedDatum) ? selectedDatum.id !== datum.id : true) ? datum : ''",force:!1}]}],scales:[{name:"color",type:"ordinal",domain:{data:"tree",field:"category"},range:{scheme:"category20"}}],marks:[{type:"path",from:{data:"tree"},encode:{enter:{path:[{test:"true",value:"M-1 0 A1 1 0 1 1 -1 0.01 z"},{value:"M-1 -0.2 \n                        A0.8 0.8 0 0 1 -0.5 -0.7 \n                        L0.5 -0.7 \n                        A0.8 0.8 0 0 1 1 -0.2\n                        L1 0.2 \n                        A0.8 0.8 0 0 1 0.5 0.7\n                        L-0.5 0.7\n                        A0.8 0.8 0 0 1 -1 0.2\n                        z\n                        "}]},update:{tooltip:{signal:"datum.type === 'category' && datum.category === selectedCategory ? null : datum.name"},xc:{field:"x"},yc:{field:"y"},scaleX:{signal:"datum.width"},scaleY:{signal:"datum.height"},stroke:{value:"white"},strokeWidth:[{test:"datum.type == 'category'",value:2},{value:"0"}],fill:[{test:"datum.type === 'category' && (datum.category === selectedCategory || selectedCategory === '')",value:"transparent"},{test:"isValid(selectedDatum) && selectedDatum.id === datum.id",value:"white"},{scale:"color",field:"category"}]}}},{type:"image",name:"icon",from:{data:"with_image"},encode:{enter:{url:{field:"icon"},tooltip:{signal:"datum.name"}},update:{xc:{field:"x"},yc:{field:"y"},width:{signal:"min(datum.width,32)"},height:{signal:"min(datum.height,32)"}}}},{type:"text",name:"label",from:{data:"tree"},encode:{enter:{tooltip:{field:"name"}},update:{text:{signal:"(datum.type === 'group' && (datum.count > ".concat(25," || !datum.icon)) ? datum.label : null")},xc:{field:"x"},yc:{field:"y"},fontSize:{signal:"max(10,(datum.width/10)*(10/length(datum.name)))"},ellipsis:{value:"-"},align:{value:"center"},limit:{signal:"datum.width*1.8"},baseline:{value:"middle"},fill:{signal:"selectedCategory === datum.category && datum.type === 'category' ? '#00000096' : 'black'"}}}}]}}),gbe=function(e){var t=e.dashData,n=e.group,r=e.grouptype,i=e.inSelection,a=e.setOutSelection,o=C((0,_.useState)({tree:[]}),2),u=o[0],s=o[1],c=C((0,_.useState)([]),2),l=c[0],f=c[1],d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"domain",r=C((0,_.useState)([]),2),i=r[0],a=r[1],o=C((0,_.useState)(null),2),u=o[0],s=o[1];return(0,_.useEffect)((function(){if(null!==e&&void 0!==e&&e.data){var n,r={},i=nu(e.data);try{for(i.s();!(n=i.n()).done;){var a=n.value;null!==a&&void 0!==a&&a[t]&&!r[a[t]]&&(r[a[t]]=!0)}}catch(o){i.e(o)}finally{i.f()}s(Object.keys(r))}}),[null===e||void 0===e?void 0:e.data,t]),(0,_.useEffect)((function(){if(u&&0!==u.length){var e=function(){var e=Jo(tu().mark((function e(){var t;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(u,n);case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[u,n]),i}(t,n,r),h=C((0,_.useState)(!1),2),p=h[0],v=h[1];(0,_.useEffect)((function(){s(ybe(t,n,i,d))}),[t,n,d,i,a,v]);var m=function(){var e=Jo(tu().mark((function e(r){var i;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchValues([r.name],n);case 2:i=e.sent,a(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g={selectedDatum:function(e,t){t?m(t):a(null)},selectedCategory:function(e,t){return console.log(t)}};return(0,Xo.jsxs)("div",{style:{position:"relative"},children:[(0,Xo.jsx)(dd,{active:p,children:(0,Xo.jsx)(Nv,{})}),(0,Xo.jsx)(mbe,{data:u,signalListeners:g,actions:!1,renderer:"svg"}),(0,Xo.jsx)(Ww,{dashData:t,deleteIds:l,setDeleteIds:f})]})},ybe=function(e,t,n,r){var i=e.count(t,n);(i=Object.keys(i).map((function(e){return{name:e,count:i[e]}}))).sort((function(e,t){return t.count-e.count}));var a,o=[],u={},s={name:"root",type:"root",id:0,size:0},c=1,l=nu(i);try{for(l.s();!(a=l.n()).done;){var f,d,h=a.value;s.size+=h.count;var p=null===(f=r[h.name])||void 0===f?void 0:f.category,v=null===(d=r[h.name])||void 0===d?void 0:d.icon;u[p]||(u[p]={id:c++,name:p,type:"category",label:p,size:0,parent:0,category:p}),u[p].size+=h.count,o.push({type:"group",name:h.name,label:h.name.replace("www.",""),parent:u[p].id,size:h.count,visits:h.count,category:p,icon:v})}}catch(y){l.e(y)}finally{l.f()}for(var m=0,g=o;m<g.length;m++){g[m].id=c++}return o=o.map((function(e,t){return pu(pu({},e),{},{size:e.size/s.size,categorySize:u[e.category].size/s.size})})),u=Object.values(u).map((function(e,t){return pu(pu({},e),{},{size:e.size/s.size})})),s.size=1,{tree:[s].concat(du(u),du(o))}},bbe=_.memo(gbe),xbe="domain",wbe=["url","title"],_be=["date","title","url"];var kbe=function(e){var t=e.dashData,n=e.inSelection,r=e.setOutSelection;return t?(0,Xo.jsx)("div",{children:(0,Xo.jsx)(bbe,{dashData:t,group:xbe,grouptype:"domain",inSelection:n,setOutSelection:r})}):null},Ebe=function(e,t){if(!e)return[];for(var n=e.count(xbe,t),r=0,i=0,a=[],o=function(){var e=s[u];r+=n[e],i++;var t=a.findIndex((function(t){return t.count<n[e]}));if(t<0&&(t=a.length),t<5){var o={key:e,count:n[e],image:"https://icons.duckduckgo.com/ip3/".concat(e,".ico")};a.splice(t,0,o)}},u=0,s=Object.keys(n);u<s.length;u++)o();return a=a.slice(0,5),a=(0,Xo.jsx)(Pv,{children:a.map((function(e){return(0,Xo.jsxs)(Pv.Item,{children:[(0,Xo.jsx)(wd,{style:{height:"20px",width:"20px"},src:e.image}),(0,Xo.jsx)(Pv.Content,{children:"".concat(e.key.replace(/www[^.]*\./,"")," (").concat(e.count,")")})]},e.key)}))}),[{label:"Visits",value:r},{label:i>1?"Top domains":"Domain",value:a}]},Obe=vbe({spec:{$schema:"https://vega.github.io/schema/vega/v5.json",description:"A word cloud visualization depicting Vega research paper abstracts.",width:1e3,height:500,padding:50,data:[{name:"table",transform:[{type:"window",sort:{field:"visits",order:"descending"},groupby:["type"],ops:["count"]},{type:"filter",expr:"datum.count < 200"}]}],scales:[{name:"color",type:"ordinal",domain:{data:"table",field:"text"},range:["#d5a928","#652c90","#939597"]}],signals:[{name:"selectedWord",update:"data('table') ? '' : ''",on:[{events:"click",update:"!datum || datum.text === selectedWord ? '' : datum.text",force:!1}]}],marks:[{type:"text",from:{data:"table"},encode:{enter:{text:{field:"text"},align:{value:"center"},baseline:{value:"alphabetic"}},update:{fill:[{test:"selectedWord === datum.text",value:"white"},{scale:"color",field:"text"}],fillOpacity:{value:1}},hover:{fillOpacity:[{test:"selectedWord === datum.text",value:1},{value:.5}]}},transform:[{type:"wordcloud",size:[1e3,500],text:{field:"text"},rotate:{field:"datum.angle"},font:"Helvetica Neue, Arial",fontSize:{field:"datum.visits"},fontSizeRange:[12,56],padding:2}]}]}}),Sbe=function(e){var t=e.dashData,n=e.group,r=e.inSelection,i=e.setOutSelection,a=C((0,_.useState)({table:[]}),2),o=a[0],u=a[1],s=C((0,_.useState)([]),2),c=s[0],l=s[1],f=C((0,_.useState)(!1),2),d=f[0],h=f[1];(0,_.useEffect)((function(){u(Abe(t,n,r)),i(null)}),[t,n,r,i,h]);var p=function(){var e=Jo(tu().mark((function e(r){var a;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchValues([r],n);case 2:a=e.sent,i(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={selectedWord:function(e,t){t?p(t):i(null)}};return(0,Xo.jsxs)("div",{style:{position:"relative"},children:[(0,Xo.jsx)(dd,{active:d,children:(0,Xo.jsx)(Nv,{})}),(0,Xo.jsx)(Obe,{data:o,signalListeners:v,actions:!1,renderer:"svg"}),(0,Xo.jsx)(Ww,{dashData:t,deleteIds:c,setDeleteIds:l})]})},Abe=function(e,t,n,r){var i=e.count(t,n);return i=Object.keys(i).map((function(e){return{text:e,visits:i[e],angle:[-45,0,45][~~(3*Math.random())]}})),console.log(i),{table:i}},Cbe=_.memo(Sbe),Dbe="channel",jbe=["channel","title"],Tbe=["channel","title","date"];var Fbe=function(e){var t=e.dashData,n=e.inSelection,r=e.setOutSelection;return t?(0,Xo.jsx)("div",{children:(0,Xo.jsx)(Cbe,{dashData:t,group:Dbe,inSelection:n,setOutSelection:r})}):null},Pbe=function(e,t){if(!e)return[];for(var n=e.count(Dbe,t," "),r=e.N(t),i=[],a=function(){var e=u[o],t=i.findIndex((function(t){return t.count<n[e]}));if(t<0&&(t=i.length),t<5){var r={key:e,count:n[e]};i.splice(t,0,r)}},o=0,u=Object.keys(n);o<u.length;o++)a();return i=i.slice(0,5),[{label:"Total views",value:r},{label:"Top channel".concat(1===i.length?"":"s"),value:i=(0,Xo.jsx)(Pv,{children:i.map((function(e){return(0,Xo.jsx)(Pv.Item,{children:(0,Xo.jsx)(Pv.Content,{children:"".concat(e.key.replace(/www[^.]*\./,"")," (").concat(e.count,")")})},e.key)}))})}]},Mbe="word",Nbe=["word"],Rbe=["query","date"];var Ibe=function(e){var t=e.dashData,n=e.inSelection,r=e.setOutSelection;return t?(0,Xo.jsx)(Cbe,{dashData:t,group:Mbe,inSelection:n,setOutSelection:r}):null},Bbe=function(e,t){if(!e)return[];for(var n=e.count(Mbe,t," "),r=e.N(t),i=[],a=function(){var e=u[o],t=i.findIndex((function(t){return t.count<n[e]}));if(t<0&&(t=i.length),t<5){var r={key:e,count:n[e]};i.splice(t,0,r)}},o=0,u=Object.keys(n);o<u.length;o++)a();return i=i.slice(0,5),[{label:"Total searches",value:r},{label:"Top queries",value:i=(0,Xo.jsx)(Pv,{children:i.map((function(e){return(0,Xo.jsx)(Pv.Item,{children:(0,Xo.jsx)(Pv.Content,{children:"".concat(e.key.replace(/www[^.]*\./,"")," (").concat(e.count,")")})},e.key)}))})}]};function zbe(e){var t=e.slider,n=e.toggle,r=e.type,i=wi(zbe,e),a=!(t||n)||void 0;return _.createElement(Uw,D({},i,{type:r,radio:a,slider:t,toggle:n}))}zbe.handledProps=["slider","toggle","type"],zbe.propTypes={},zbe.defaultProps={type:"radio"};var Lbe=zbe;function Ube(e){var t=e.children,n=e.className,r=e.content,i=e.control,a=e.disabled,o=e.error,u=e.inline,s=e.label,c=e.required,l=e.type,f=e.width,d=e.id,h=fi(pi(a,"disabled"),pi(o,"error"),pi(u,"inline"),pi(c,"required"),xi(f,"wide"),"field",n),p=wi(Ube,e),v=_i(Ube,e),m=Tr(o,"pointing","above"),g=gd.create(o,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:m,id:d?d+"-error-message":void 0,role:"alert","aria-atomic":!0}}),y=("below"===m||"right"===m)&&g,b=("above"===m||"left"===m)&&g;if(Zi(i))return Zi(s)?_.createElement(v,D({},p,{className:h,id:d}),Si(t)?r:t):_.createElement(v,D({},p,{className:h,id:d}),y,ra(s,{autoGenerateKey:!1}),b);var x={"aria-describedby":d&&o?d+"-error-message":null,"aria-invalid":!!o||void 0},w=D({},p,{content:r,children:t,disabled:a,required:c,type:l,id:d});return"input"!==i||"checkbox"!==l&&"radio"!==l?i===Uw||i===Lbe?_.createElement(v,{className:h},y,(0,_.createElement)(i,D({},x,w,{label:s})),b):_.createElement(v,{className:h},ra(s,{defaultProps:{htmlFor:d},autoGenerateKey:!1}),y,(0,_.createElement)(i,D({},x,w)),b):_.createElement(v,{className:h},_.createElement("label",null,y,(0,_.createElement)(i,D({},x,w))," ",s,b))}Ube.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],Ube.propTypes={};var qbe=Ube;function Wbe(e){var t=e.control,n=wi(Wbe,e),r=_i(Wbe,e);return _.createElement(r,D({},n,{control:t}))}Wbe.handledProps=["as","control"],Wbe.propTypes={},Wbe.defaultProps={as:qbe,control:Nd};var Hbe=Wbe;function $be(e){var t=e.control,n=wi($be,e),r=_i($be,e);return _.createElement(r,D({},n,{control:t}))}$be.handledProps=["as","control"],$be.propTypes={},$be.defaultProps={as:qbe,control:Uw};var Vbe=$be;var Gbe=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var Ybe=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};var Kbe=function(e,t){var n=!0;return $r(e,(function(e,r,i){return n=!!t(e,r,i)})),n};var Xbe=function(e,t,n){var r=Gt(e)?Ybe:Kbe;return n&&Ei(e,t,n)&&(t=void 0),r(e,Lr(t,3))};var Qbe=function(e){return function(t,n,r){var i=Object(t);if(!Nn(t)){var a=Lr(n,3);t=Rn(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},Zbe=Math.max;var Jbe=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Lf(n);return i<0&&(i=Zbe(r+i,0)),Ti(e,Lr(t,3),i)},exe=Qbe(Jbe);var txe=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:Lf(t),Xr(e,0,(t=r-t)<0?0:t)):[]},nxe=Ir("length"),rxe="[\\ud800-\\udfff]",ixe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",axe="\\ud83c[\\udffb-\\udfff]",oxe="[^\\ud800-\\udfff]",uxe="(?:\\ud83c[\\udde6-\\uddff]){2}",sxe="[\\ud800-\\udbff][\\udc00-\\udfff]",cxe="(?:"+ixe+"|"+axe+")"+"?",lxe="[\\ufe0e\\ufe0f]?",fxe=lxe+cxe+("(?:\\u200d(?:"+[oxe,uxe,sxe].join("|")+")"+lxe+cxe+")*"),dxe="(?:"+[oxe+ixe+"?",ixe,uxe,sxe,rxe].join("|")+")",hxe=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+dxe+fxe,"g");var pxe=function(e){for(var t=hxe.lastIndex=0;hxe.test(e);)++t;return t};var vxe=function(e){return Wa(e)?pxe(e):nxe(e)};var mxe=function(e){if(null==e)return 0;if(Nn(e))return Xi(e)?vxe(e):e.length;var t=tr(e);return"[object Map]"==t||"[object Set]"==t?e.size:Mn(e).length},gxe=si((function(e,t){return _w(e)?ww(e,Oh(t,1,_w,!0)):[]})),yxe=gxe,bxe=si((function(e){return Li(Oh(e,1,_w,!0))}));var xxe=function(e,t){return ur(e,t)},wxe=function(e){function t(){return e.apply(this,arguments)||this}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=fi(e.name,"flag",n),i=wi(t,this.props),a=_i(t,this.props);return _.createElement(a,D({},i,{className:r}))},t}(_.PureComponent);wxe.handledProps=["as","className","name"],wxe.propTypes={},wxe.defaultProps={as:"i"},wxe.create=ea(wxe,(function(e){return{name:e}}));var _xe=wxe;function kxe(e){var t=fi("divider",e.className),n=wi(kxe,e),r=_i(kxe,e);return _.createElement(r,D({},n,{className:t}))}kxe.handledProps=["as","className"],kxe.propTypes={};var Exe=kxe,Oxe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){ci(t.props,"onClick",e,t.props)},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.disabled,u=e.description,s=e.flag,c=e.icon,l=e.image,f=e.label,d=e.selected,h=e.text,p=fi(pi(n,"active"),pi(o,"disabled"),pi(d,"selected"),"item",i),v=Zi(c)?function(e,t){return Oi(_.Children.toArray(e),{type:t})}(r,"DropdownMenu")&&"dropdown":c,m=wi(t,this.props),g=_i(t,this.props),y={role:"option","aria-disabled":o,"aria-checked":n,"aria-selected":d};if(!Si(r))return _.createElement(g,D({},m,y,{className:p,onClick:this.handleClick}),r);var b=_xe.create(s,{autoGenerateKey:!1}),x=lo.create(v,{autoGenerateKey:!1}),w=wd.create(l,{autoGenerateKey:!1}),k=gd.create(f,{autoGenerateKey:!1}),E=Ji("span",(function(e){return{children:e}}),u,{defaultProps:{className:"description"},autoGenerateKey:!1}),O=Ji("span",(function(e){return{children:e}}),Si(a)?h:a,{defaultProps:{className:"text"},autoGenerateKey:!1});return _.createElement(g,D({},m,y,{className:p,onClick:this.handleClick}),w,x,b,k,E,O)},t}(_.Component);Oxe.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],Oxe.propTypes={},Oxe.create=ea(Oxe,(function(e){return e}));var Sxe=Oxe;function Axe(e){var t=e.children,n=e.className,r=e.content,i=e.icon,a=fi("header",n),o=wi(Axe,e),u=_i(Axe,e);return Si(t)?_.createElement(u,D({},o,{className:a}),lo.create(i,{autoGenerateKey:!1}),r):_.createElement(u,D({},o,{className:a}),t)}Axe.handledProps=["as","children","className","content","icon"],Axe.propTypes={},Axe.create=ea(Axe,(function(e){return{content:e}}));var Cxe=Axe;function Dxe(e){var t=e.children,n=e.className,r=e.content,i=e.direction,a=e.open,o=e.scrolling,u=fi(i,pi(a,"visible"),pi(o,"scrolling"),"menu transition",n),s=wi(Dxe,e),c=_i(Dxe,e);return _.createElement(c,D({},s,{className:u}),Si(t)?r:t)}Dxe.handledProps=["as","children","className","content","direction","open","scrolling"],Dxe.propTypes={};var jxe=Dxe,Txe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=Tr(e,"target.value");ci(t.props,"onChange",e,D({},t.props,{value:n}))},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,r=e.className,i=e.tabIndex,a=e.type,o=e.value,u=fi("search",r),s=wi(t,this.props);return _.createElement("input",D({},s,{"aria-autocomplete":"list",autoComplete:n,className:u,onChange:this.handleChange,tabIndex:i,type:a,value:o}))},t}(_.Component);Txe.handledProps=["as","autoComplete","className","tabIndex","type","value"],Txe.propTypes={},Txe.defaultProps={autoComplete:"off",type:"text"},Txe.create=ea(Txe,(function(e){return{type:e}}));var Fxe=Txe;function Pxe(e){var t=e.children,n=e.className,r=e.content,i=fi("divider",n),a=wi(Pxe,e),o=_i(Pxe,e);return _.createElement(o,D({"aria-atomic":!0,"aria-live":"polite",role:"alert"},a,{className:i}),Si(t)?r:t)}Pxe.handledProps=["as","children","className","content"],Pxe.propTypes={},Pxe.create=ea(Pxe,(function(e){return{content:e}}));var Mxe=Pxe,Nxe=/[\\^$.*+?()[\]{}|]/g,Rxe=RegExp(Nxe.source);var Ixe=function(e){return(e=Ar(e))&&Rxe.test(e)?e.replace(Nxe,"\\$&"):e};var Bxe=function(e,t){var n=[];return $r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};var zxe=function(e,t){return(Gt(e)?Kt:Bxe)(e,Lr(t,3))};function Lxe(e){var t=e.additionLabel,n=e.additionPosition,r=e.allowAdditions,i=e.deburr,a=e.multiple,o=e.options,u=e.search,s=e.searchQuery,c=e.value,l=o;if(a&&(l=zxe(l,(function(e){return!Hf(c,e.value)}))),u&&s)if(Ke(u))l=u(l,s);else{var f=i?fa(s):s,d=new RegExp(Ixe(f),"i");l=zxe(l,(function(e){return d.test(i?fa(e.text):e.text)}))}if(r&&u&&s&&!Oi(l,{text:s})){var h={key:"addition",text:[_.isValidElement(t)?_.cloneElement(t,{key:"addition-label"}):t||"",_.createElement("b",{key:"addition-query"},s)],value:s,className:"addition","data-additional":!0};"top"===n?l.unshift(h):l.push(h)}return l}function Uxe(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,u=e.options,s=e.search,c=e.searchQuery,l=e.selectedIndex,f=e.value,d=Lxe({value:f,options:u,searchQuery:c,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:a,multiple:o,search:s}),h=jh(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!l||l<0){var p=h[0];t=o?p:Jbe(d,["value",f])||h[0]}else if(o)t=exe(h,(function(e){return e>=l})),l>=d.length-1&&(t=h[h.length-1]);else{var v=Jbe(d,["value",f]);t=Hf(h,v)?v:void 0}return(!t||t<0)&&(t=h[0]),t}Lxe.handledProps=[];var qxe=function(e,t){return Zi(e)?t:e},Wxe=function(e){return e?e.map((function(e){return Ch(e,["key","value"])})):e};function Hxe(e){var t=e.flag,n=e.image,r=e.text;return Ke(r)?r:{content:_.createElement(_.Fragment,null,_xe.create(t),wd.create(n),r)}}var $xe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).searchRef=(0,_.createRef)(),t.sizerRef=(0,_.createRef)(),t.ref=(0,_.createRef)(),t.handleChange=function(e,n){ci(t.props,"onChange",e,D({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(Ci(r)?!i:r)&&t.close(e,Ii)},t.closeOnEscape=function(e){t.props.closeOnEscape&&id().getCode(e)===id().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,a=r.selectOnNavigation;if(t.state.open){var o=((n={})[id().ArrowDown]=1,n[id().ArrowUp]=-1,n)[id().getCode(e)];if(void 0!==o){e.preventDefault();var u=t.getSelectedIndexAfterMove(o);!i&&a&&t.makeSelectedItemActive(e,u),t.setState({selectedIndex:u})}}},t.openOnSpace=function(e){var n,r,i,a=t.state.focus&&!t.state.open&&id().getCode(e)===id().Spacebar,o="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);a&&(o&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var a=id().getCode(e);a!==id().ArrowDown&&a!==id().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,a=r.value,o=t.props.multiple,u=t.getSelectedItem(n),s=Tr(u,"value"),c=Tr(u,"disabled");if(Zi(s)||!i||c)return a;var l=o?bxe(a,[s]):s;return(o?!!yxe(l,a).length:l!==a)&&(t.setState({value:l}),t.handleChange(e,l),u["data-additional"]&&ci(t.props,"onAddItem",e,D({},t.props,{value:s}))),a},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,a=r.selectedIndex;if(i&&(id().getCode(e)===id().Enter||!n&&id().getCode(e)===id().Spacebar)){e.preventDefault();var o=mxe(Lxe({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==o){var u=t.makeSelectedItemActive(e,a);t.setState({selectedIndex:Uxe({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:a,value:u,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&ci(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,a=t.state,o=a.searchQuery,u=a.value;if(id().getCode(e)===id().Backspace&&!o&&i&&r&&!Lv(u)){e.preventDefault();var s=txe(u);t.setState({value:s}),t.handleChange(e,s)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&Wo(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,ci(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,a=t.state,o=a.open,u=a.searchQuery;if(ci(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);o?ci(t.searchRef.current,"focus"):u.length>=r||1===r?t.open(e):ci(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();ci(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,a=r.search,o=t.state.value,u=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var s=n["data-additional"],c=i?bxe(t.state.value,[u]):u;(i?!!yxe(c,o).length:c!==o)&&(t.setState({value:c}),t.handleChange(e,c)),t.clearSearchQuery(),ci(a?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),s&&ci(t.props,"onAddItem",e,D({},t.props,{value:u}))}},t.handleFocus=function(e){t.state.focus||(ci(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=Tr(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,a=r.multiple,o=r.selectOnBlur;t.isMouseDown||(ci(t.props,"onBlur",e,t.props),o&&!a&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,a=t.state.open,o=r;ci(t.props,"onSearchChange",e,D({},t.props,{searchQuery:o})),t.setState({searchQuery:o,selectedIndex:0}),!a&&o.length>=i?t.open():a&&1!==i&&o.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),ci(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=Lxe({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return Tr(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return exe(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,a=e.multiple,o={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=a),o},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),ci(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=Ew(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=Lxe({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!Xbe(r,"disabled")){var i=r.length-1,a=n+e;return!t.props.wrapSelection&&(a>i||a<0)?a=n:a>i?a=0:a<0&&(a=i),r[a].disabled?t.getSelectedIndexAfterMove(e,a):a}},t.handleIconOverrides=function(e){return{className:fi(t.props.clearable&&t.hasValue()&&"clear",e.className),onClick:function(n){ci(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return Zi(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:Zi(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){ci(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!Lv(n):!Zi(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,a=n.top-r,o=i<0&&a>i;!o!==!t.state.upward&&t.setState({upward:o})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,a=r.search;i||(a&&ci(t.searchRef.current,"focus"),ci(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(ci(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,a=n.search,o=n.text,u=t.state,s=u.searchQuery,c=u.selectedIndex,l=u.value,f=u.open,d=t.hasValue(),h=fi(i&&!d&&"default","text",a&&s&&"filtered"),p=i;return o?p=o:f&&!r?e=t.getSelectedItem(c):d&&(e=t.getItemByValue(l)),Mxe.create(e?Hxe(e):p,{defaultProps:{className:h}})},t.renderSearchInput=function(){var e=t.props,n=e.search,r=e.searchInput,i=t.state.searchQuery;return n&&_.createElement(So,{innerRef:t.searchRef},Fxe.create(r,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:i},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,r=e.multiple;return n&&r&&_.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,a=i.selectedLabel,o=i.value;if(n&&!Lv(o)){var u=Gr(o,t.getItemByValue);return Gr(Gbe(u),(function(e,n){var i={active:e.value===a,as:"a",key:qxe(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return gd.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,r=e.multiple,i=e.search,a=e.noResultsMessage,o=t.state,u=o.open,s=o.selectedIndex,c=o.value;if(n&&!u)return null;var l=Lxe({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==a&&i&&Lv(l))return _.createElement("div",{className:"message"},a);var f=r?function(e){return Hf(c,e)}:function(e){return e===c};return Gr(l,(function(e,n){return Sxe.create(D({active:f(e.value),selected:s===n},e,{key:qxe(e.key,e.value),style:D({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,r=e.direction,i=e.header,a=t.state.open,o=t.getDropdownMenuAriaOptions();if(!Si(n)){var u=_.Children.only(n),s=fi(r,pi(a,"visible"),u.props.className);return(0,_.cloneElement)(u,D({className:s},o))}return _.createElement(jxe,D({},o,{direction:r,open:a}),Cxe.create(i,{autoGenerateKey:!1}),t.renderOptions())},t}be(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!av()(n.__value,t.value)||!xxe(Wxe(e.options),Wxe(n.__options)))&&(r.selectedIndex=Uxe({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!av()(e,this.props)||!av()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,a=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var u=!o||o&&1===i&&!this.state.open;a&&u&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,r=e.button,i=e.className,a=e.compact,o=e.disabled,u=e.error,s=e.fluid,c=e.floating,l=e.icon,f=e.inline,d=e.item,h=e.labeled,p=e.loading,v=e.multiple,m=e.pointing,g=e.search,y=e.selection,b=e.scrolling,x=e.simple,w=e.trigger,k=this.state,E=k.focus,O=k.open,S=k.upward,A=fi("ui",pi(O,"active visible"),pi(o,"disabled"),pi(u,"error"),pi(p,"loading"),pi(n,"basic"),pi(r,"button"),pi(a,"compact"),pi(s,"fluid"),pi(c,"floating"),pi(f,"inline"),pi(h,"labeled"),pi(d,"item"),pi(v,"multiple"),pi(g,"search"),pi(y,"selection"),pi(x,"simple"),pi(b,"scrolling"),pi(S,"upward"),mi(m,"pointing"),"dropdown",i),C=wi(t,this.props),j=_i(t,this.props),T=this.getDropdownAriaOptions(j,this.props);return _.createElement(So,{innerRef:this.ref},_.createElement(j,D({},C,T,{className:A,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),w||this.renderText(),lo.create(l,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),O&&_.createElement(nd(),{name:"keydown",on:this.closeOnEscape}),O&&_.createElement(nd(),{name:"click",on:this.closeOnDocumentClick}),E&&_.createElement(nd(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(ji);function Vxe(e){var t=e.control,n=wi(Vxe,e),r=_i(Vxe,e);return _.createElement(r,D({},n,{control:t}))}$xe.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],$xe.propTypes={},$xe.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:Hxe,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},$xe.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],$xe.Divider=Exe,$xe.Header=Cxe,$xe.Item=Sxe,$xe.Menu=jxe,$xe.SearchInput=Fxe,$xe.Text=Mxe,Vxe.handledProps=["as","control"],Vxe.propTypes={},Vxe.defaultProps={as:qbe,control:$xe};var Gxe=Vxe;function Yxe(e){var t=e.children,n=e.className,r=e.grouped,i=e.inline,a=e.unstackable,o=e.widths,u=fi(pi(r,"grouped"),pi(i,"inline"),pi(a,"unstackable"),xi(o,null,!0),"fields",n),s=wi(Yxe,e),c=_i(Yxe,e);return _.createElement(c,D({},s,{className:u}),t)}Yxe.handledProps=["as","children","className","grouped","inline","unstackable","widths"],Yxe.propTypes={};var Kxe=Yxe;function Xxe(e){var t=e.control,n=wi(Xxe,e),r=_i(Xxe,e);return _.createElement(r,D({},n,{control:t}))}Xxe.handledProps=["as","control"],Xxe.propTypes={},Xxe.defaultProps={as:qbe,control:Kw};var Qxe=Xxe;function Zxe(e){var t=e.control,n=wi(Zxe,e),r=_i(Zxe,e);return _.createElement(r,D({},n,{control:t}))}Zxe.handledProps=["as","control"],Zxe.propTypes={},Zxe.defaultProps={as:qbe,control:Lbe};var Jxe=Zxe;function ewe(e){return _.createElement($xe,D({},e,{selection:!0}))}ewe.handledProps=["options"],ewe.propTypes={},ewe.Divider=$xe.Divider,ewe.Header=$xe.Header,ewe.Item=$xe.Item,ewe.Menu=$xe.Menu;var twe=ewe;function nwe(e){var t=e.control,n=e.options,r=wi(nwe,e),i=_i(nwe,e);return _.createElement(i,D({},r,{control:t,options:n}))}nwe.handledProps=["as","control","options"],nwe.propTypes={},nwe.defaultProps={as:qbe,control:twe};var rwe=nwe,iwe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,_.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=Tr(e,"target.value");ci(t.props,"onChange",e,D({},t.props,{value:n}))},t.handleInput=function(e){var n=Tr(e,"target.value");ci(t.props,"onInput",e,D({},t.props,{value:n}))},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,r=e.value,i=wi(t,this.props),a=_i(t,this.props);return _.createElement(So,{innerRef:this.ref},_.createElement(a,D({},i,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:r})))},t}(_.Component);iwe.handledProps=["as","onChange","onInput","rows","value"],iwe.propTypes={},iwe.defaultProps={as:"textarea",rows:3};var awe=iwe;function owe(e){var t=e.control,n=wi(owe,e),r=_i(owe,e);return _.createElement(r,D({},n,{control:t}))}owe.handledProps=["as","control"],owe.propTypes={},owe.defaultProps={as:qbe,control:awe};var uwe=owe,swe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){var n=t.props.action;"string"!==typeof n&&ci(e,"preventDefault");for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];ci.apply(void 0,[t.props,"onSubmit",e,t.props].concat(i))},t}return be(t,e),t.prototype.render=function(){var e=this.props,n=e.action,r=e.children,i=e.className,a=e.error,o=e.inverted,u=e.loading,s=e.reply,c=e.size,l=e.success,f=e.unstackable,d=e.warning,h=e.widths,p=fi("ui",c,pi(a,"error"),pi(o,"inverted"),pi(u,"loading"),pi(s,"reply"),pi(l,"success"),pi(f,"unstackable"),pi(d,"warning"),xi(h,null,!0),"form",i),v=wi(t,this.props),m=_i(t,this.props);return _.createElement(m,D({},v,{action:n,className:p,onSubmit:this.handleSubmit}),r)},t}(_.Component);swe.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],swe.propTypes={},swe.defaultProps={as:"form"},swe.Field=qbe,swe.Button=Hbe,swe.Checkbox=Vbe,swe.Dropdown=Gxe,swe.Group=Kxe,swe.Input=Qxe,swe.Radio=Jxe,swe.Select=rwe,swe.TextArea=uwe;var cwe=swe,lwe=function(e){var t=e.setData,n=C((0,_.useState)(""),2),r=n[0],i=n[1],a=C((0,_.useState)("ready"),2),o=a[0],u=a[1],s=function(){var e=Jo(tu().mark((function e(){var n,i,a,o,s,c;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("loading"),n=(n=r.split("\n").map((function(e){return e.trim()}))).filter((function(e){return e.length>=3})),e.next=5,Af.idb.data.toCollection().keys();case 5:i=e.sent,a={},o=nu(i),e.prev=8,c=tu().mark((function e(){var r,i,o,u;return tu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.value,e.next=3,Af.getData(r);case 3:i=e.sent,o=new n_(r,i,(function(e){var n=pu({},i);n[r]=e,t(n)})),u=n.length>0?o.search(n):[],o.subset(u),a[r]=o;case 8:case"end":return e.stop()}}),e)})),o.s();case 11:if((s=o.n()).done){e.next=15;break}return e.delegateYield(c(),"t0",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(8),o.e(e.t1);case 20:return e.prev=20,o.f(),e.finish(20);case 23:t(a),u("waiting input");case 25:case"end":return e.stop()}}),e,null,[[8,17,20,23]])})));return function(){return e.apply(this,arguments)}}();return(0,Xo.jsxs)(rw,{style:{margin:"50px",marginTop:"100px",padding:"20px",height:"100%"},children:[(0,Xo.jsx)(Ad,{style:{color:"white"},children:"Filter Terms"}),(0,Xo.jsxs)("ul",{style:{color:"white"},children:[(0,Xo.jsx)("li",{children:"Type one search term per row"}),(0,Xo.jsxs)("li",{children:[(0,Xo.jsx)("span",{style:{color:"yellow"},children:"secret"})," will also match"," ",(0,Xo.jsx)("span",{style:{color:"yellow"},children:"www.supersecret.com"})]}),(0,Xo.jsx)("li",{children:"Terms needs to be at least 3 characters long"})]}),(0,Xo.jsxs)(cwe,{children:[(0,Xo.jsx)(dd,{active:"loading"===o,children:(0,Xo.jsx)(Nv,{})}),(0,Xo.jsx)(awe,{value:r,onChange:function(e,t){u("ready"),i(t.value)},rows:25,style:{width:"100%"}}),";",(0,Xo.jsxs)(Nd,{size:"large",primary:!0,fluid:!0,disabled:"waiting input"===o,onClick:function(){return s()},children:[(0,Xo.jsx)(lo,{size:"large",name:"search"}),"Search"]})]})]})},fwe=function(e){var t=e.title,n=e.dashData,r=C((0,_.useState)(null),2),i=r[0],a=r[1];return(0,_.useEffect)((function(){n.setData=function(e){return a(e)},a(n)}),[n]),i?(0,Xo.jsxs)(Pf.Row,{style:{minHeight:"70px",maxHeight:"400px",border:"5px solid #ffffff3f",marginTop:"10px",position:"relative"},children:[(0,Xo.jsx)(Ad,{style:{position:"absolute",fontSize:"1.8em",top:"5px",left:"5px",color:"#ffffff"},children:t}),(0,Xo.jsx)(Gw,{dashData:i})]}):null},dwe=function(){var e=C((0,_.useState)({}),2),t=e[0],n=e[1];return(0,Xo.jsx)(xw,{background:Rd,color:"#000000b0",children:(0,Xo.jsxs)(Pf,{stackable:!0,style:{height:"100vh"},children:[(0,Xo.jsxs)(Pf.Column,{width:6,children:[(0,Xo.jsx)(i_,{}),(0,Xo.jsx)(lwe,{setData:n})]}),(0,Xo.jsx)(Pf.Column,{width:10,style:{height:"100%",marginTop:"30px"},children:(0,Xo.jsx)(Pf,{children:Object.keys(t).map((function(e){return(0,Xo.jsx)(fwe,{title:e,dashData:t[e]},e)}))})})]})})},hwe=function(){var e=Jd((function(e){return e.persistent}));(0,_.useEffect)((function(){if(!e)return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[e]);var t=function(e){e.preventDefault();var t="Are you sure you want to leave? All provided data will be lost.";return e.returnValue=t,t};return null},pwe=[{label:"Data square",path:"/datasquare",Component:tw},{label:"Browsing History",path:"/browsing",Component:function(){return(0,Xo.jsx)(u_,{dataName:"Browsing",searchOn:wbe,columns:_be,VisComponent:kbe,calcStatistics:Ebe})}},{label:"Search",path:"/search",Component:function(){return(0,Xo.jsx)(u_,{dataName:"Search",searchOn:Nbe,columns:Rbe,VisComponent:Ibe,calcStatistics:Bbe})}},{label:"Youtube",path:"/youtube",Component:function(){return(0,Xo.jsx)(u_,{dataName:"Youtube",searchOn:jbe,columns:Tbe,VisComponent:Fbe,calcStatistics:Pbe})}},{label:"Remove",path:"/remove",Component:dwe}],vwe=function(){hwe();return(0,Xo.jsx)("div",{style:{background:"#0C1D35",height:"100%"},children:(0,Xo.jsx)(me,{basename:"/DigitalFootprintsLab",children:(0,Xo.jsx)(Qo,{items:pwe,children:(0,Xo.jsxs)(V,{children:[(0,Xo.jsx)(H,{exact:!0,path:"/",element:(0,Xo.jsx)(ih,{items:pwe})}),pwe.map((function(e){return(0,Xo.jsx)(H,{path:e.path,element:(0,Xo.jsx)(ah,{children:(0,Xo.jsx)(e.Component,{})})},e.label)}))]})})})})};function mwe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gwe="function"===typeof Symbol&&Symbol.observable||"@@observable",ywe=function(){return Math.random().toString(36).substring(7).split("").join(".")},bwe={INIT:"@@redux/INIT"+ywe(),REPLACE:"@@redux/REPLACE"+ywe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ywe()}};function xwe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function wwe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _we(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var kwe=_we();kwe.withExtraArgument=_we;var Ewe=kwe,Owe=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:bwe.INIT}))throw new Error(mwe(12));if("undefined"===typeof n(void 0,{type:bwe.PROBE_UNKNOWN_ACTION()}))throw new Error(mwe(13))}))}(n)}catch(Awe){a=Awe}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(mwe(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({dataStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_DATA_STATUS"===t.type?t.dataStatus:e},persistent:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_PERSISTENT"===t.type?t.persistent:e}}),Swe=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(mwe(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(mwe(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(mwe(2));var a=t,o=n,u=[],s=u,c=!1;function l(){s===u&&(s=u.slice())}function f(){if(c)throw new Error(mwe(3));return o}function d(e){if("function"!==typeof e)throw new Error(mwe(4));if(c)throw new Error(mwe(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error(mwe(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),u=null}}}function h(e){if(!xwe(e))throw new Error(mwe(7));if("undefined"===typeof e.type)throw new Error(mwe(8));if(c)throw new Error(mwe(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=u=s,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(mwe(10));a=e,h({type:bwe.REPLACE})}function v(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(mwe(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[gwe]=function(){return this},e}return h({type:bwe.INIT}),(i={dispatch:h,subscribe:d,getState:f,replaceReducer:p})[gwe]=v,i}(Owe,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(mwe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=wwe.apply(void 0,a)(n.dispatch),pu(pu({},n),{},{dispatch:r})}}}(Ewe));k.render((0,Xo.jsx)(_.StrictMode,{children:(0,Xo.jsx)(Wd,{store:Swe,children:(0,Xo.jsx)(vwe,{})})}),document.querySelector("#root"))},5142:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.isForwardRef=function(e){return w(e)===d}},3033:function(e,t,n){"use strict";e.exports=n(5142)},6630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2618);n(2007);var i=n(2791);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return s(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var a=this.handlers[i];-1===t.indexOf(a)&&n.push(a)}return new e(n)}}]),e}();function v(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function m(e){return Array.isArray(e)?e:[e]}function g(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===a(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return s(e,[{key:"addHandlers",value:function(t,n){var r=v(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=v(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();c(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var b=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return s(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),x=function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=g(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new b(r);return t.targets.set(r,i),i})),c(this,"removeTarget",(function(e){t.targets.delete(g(e))}))}return s(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o;this.getTarget(a).addHandlers(u,e,m(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o,s=this.getTarget(a,!1);s&&(s.removeHandlers(u,e,m(t)),s.hasHandlers()||this.removeTarget(a))}}}]),e}(),w=new x,_=function(e){function t(){return o(this,t),h(this,f(t).apply(this,arguments))}return l(t,i.PureComponent),s(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();c(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=w,t.default=_},6775:function(e,t,n){"use strict";var r;r=n(6630),e.exports=r.default,e.exports.instance=r.instance},4959:function(e,t,n){var r=n(2777),i=n(371),a=n(5327),o=n(5768),u=n(6090),s=n(3730),c=n(6365),l=n(2640),f=n(1985),d=n(2155),h=n(4545),p=n(8853),v=n(18),m=n(5788),g=n(5345),y=n(7514),b=n(1764),x=n(5114),w=n(6738),_=n(3960),k=n(8318),E=new r;E.addFormats([x,b,k,d,y,m,h,c,_,w,s,g,f,v,l,o,u]),E.Parser=r,E.Format=i,E.LocaleHelper=a,E.defaultLocale=p,E.fromString=Date.fromString=E.exportAsFunction(),E.fromAny=Date.fromAny=E.exportAsFunctionAny(),"undefined"!==typeof window&&(window.anyDateParser=E),e.exports=E},371:function(e,t,n){var r=n(4575).default,i=n(3913).default,a=n(5327),o=n(8853),u=function(){"use strict";function e(t){var n=t.template,i=void 0===n?null:n,a=t.matcher,o=void 0===a?null:a,u=t.units,s=void 0===u?null:u,c=t.handler,l=void 0===c?null:c,f=t.locales,d=void 0===f?null:f;if(r(this,e),!Array.isArray(s)&&"function"!==typeof l)throw new Error('new Format must receive a "units" array or "handler" function');if("string"!==typeof i&&!(o instanceof RegExp))throw new Error('new Format must receive a "template" string or "matcher" RegExp');this.template=i,this.units=s,this.matcher=o,this.handler=l,this.locales=d,this.regexByLocale={}}return i(e,[{key:"getRegExp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.template?(this.regexByLocale[e]||(this.regexByLocale[e]=a.factory(e).compile(this.template)),this.regexByLocale[e]):this.matcher}},{key:"getMatches",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return e.match(this.getRegExp(t))}},{key:"toDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=a.factory(t);if(this.units)return n.getObject(this.units,e);var r=this.handler(e,t);return!r||r.invalid?r:n.castObject(r)}},{key:"attempt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;e=String(e).trim();var n=this.getMatches(e,t);if(n){var r=this.toDateTime(n,t);if(r&&!r.invalid)return r}return null}},{key:"now",value:function(){return new Date}}]),e}();e.exports=u},5327:function(e,t,n){var r=n(3038).default,i=n(1109).default,a=n(4575).default,o=n(3913).default,u=n(8686),s=n(3239),c=s.latn,l=s.other,f=n(4495).buildDigits,d=n(8853),h=n(2131),p={},v=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;a(this,e),this.locale=t,this.lookups=i({},u),this.vars=i({},c);var n=new Intl.NumberFormat(this.locale);this.numberingSystem=n.resolvedOptions().numberingSystem,this.build()}return o(e,[{key:"toInt",value:function(e){if("number"===typeof e)return e;if("latn"===this.numberingSystem)return parseInt(e,10);for(var t="",n=0;n<e.length;n++)t+=String(this.lookups.digit[e[n]]);return parseInt(t,10)}},{key:"build",value:function(){"latn"!==this.numberingSystem&&this.buildNumbers(),/^en/i.test(this.locale)||(this.buildMonthNames(),this.buildDaynames(),this.buildMeridiems())}},{key:"buildNumbers",value:function(){var e=this.numberingSystem,t=f(e),n=t.group,r=t.lookup;for(var i in this.lookups.digit=r,l)l.hasOwnProperty(i)&&(this.vars[i]=l[i].replace(/\*/g,n))}},{key:"buildMonthNames",value:function(){var e={},t={};if(/^fi/i.test(this.locale)){"tammi|helmi|maalis|huhti|touko|kes\xe4|hein\xe4|elo|syys|loka|marras|joulu".split("|").forEach((function(n,r){["","k","kuu","kuuta"].forEach((function(i,a){e[n+i+(a<2?"\\.?":"")]=!0,t[n+i]=r+1}))}))}else{for(var n=[],r=function(e){return"month"===e.type},i=0;i<12;i++)n.push(new Date(2017,i,1));for(var a=0,o=["full","long","medium"];a<o.length;a++)for(var u=o[a],s=Intl.DateTimeFormat(this.locale,{dateStyle:u}),c=0;c<12;c++){var l=s.formatToParts(n[c]).find(r).value.toLowerCase();if(/^ko/i.test(this.locale)&&(l+="\uc6d4"),"medium"===u){if(/^ar|zh/i.test(this.locale))return;l=l.replace(/\.$/,""),e["".concat(l,"\\.?")]=!0}else e[l]=!0;t[l]=c+1}for(var f=Intl.DateTimeFormat(this.locale,{month:"short"}),d=0;d<12;d++){var h=f.formatToParts(n[d]).find(r).value.toLowerCase();h=h.replace(/\.$/,""),e["".concat(h,"\\.?")]=!0,t[h]=d+1}}this.vars.MONTHNAME=Object.keys(e).join("|"),this.lookups.month=t}},{key:"buildDaynames",value:function(){for(var e=[],t=function(e){return"weekday"===e.type},n=0;n<7;n++)e.push(new Date(2017,0,n+1));for(var r=[],i={},a=0,o=["long","short"];a<o.length;a++)for(var u=o[a],s=Intl.DateTimeFormat(this.locale,{weekday:u}),c=0;c<7;c++){var l=s.formatToParts(e[c]).find(t).value.toLowerCase();"short"===u?(l=l.replace(/\.$/,""),r.push("".concat(l,"\\.?"))):r.push(l),i[l]=c}this.vars.DAYNAME=r.join("|"),this.lookups.dayname=i}},{key:"buildMeridiems",value:function(){for(var e=[new Date(2017,0,1),new Date(2017,0,1,23,0,0)],t=function(e){return"dayPeriod"===e.type},n=[],r={},i=Intl.DateTimeFormat(this.locale,{timeStyle:"long"}),a=0;a<2;a++){var o=i.formatToParts(e[a]).find(t);if(!o)return;var u=o.value.toLowerCase();n.push(u),r[u]=12*a}this.vars.MERIDIEM=n.join("|"),this.lookups.meridiem=r}},{key:"getObject",value:function(e,t){var n=this,r={};return e.forEach((function(e,i){if(e){var a=t[i+1];a=(a=a.toLowerCase()).replace(/\.$/,""),"offset"===e?r.offset=n.offsetToMinutes(a):n.lookups[e]?r[e]=n.lookups[e][a]||n.toInt(a):r[e]=n.toInt(a)}})),r}},{key:"castObject",value:function(e){var t=this,n={};return h.forEach((function(r){r in e&&(n[r]=t.toInt(e[r]))})),"string"===typeof e.offset?n.offset=this.offsetToMinutes(e.offset):"number"===typeof e.offset&&(n.offset=e.offset),n}},{key:"offsetToMinutes",value:function(e){var t=e.match(/^([+-])(..?):?(..)?$/);if(t){var n=r(t,4),i=n[1],a=n[2],o=n[3];return("-"===i?-1:1)*(60*this.toInt(a)+this.toInt(o||0))}return 0}},{key:"compile",value:function(e){var t=this,n=e.replace(/_([A-Z0-9]+)_/g,(function(e,n){if(!t.vars[n])throw new Error("Template string contains invalid variable _".concat(n,"_"));return t.vars[n]}));return new RegExp(n,"i")}}],[{key:"factory",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return p[t.toLowerCase()]||(p[t.toLowerCase()]=new e(t)),p[t.toLowerCase()]}}]),e}();e.exports=v},2777:function(e,t,n){var r=n(3269).default,i=n(4575).default,a=n(3913).default,o=n(8853),u=(n(371),n(3079)),s=n(2356),c=function(){"use strict";function e(){i(this,e),this.formats=[]}return a(e,[{key:"addFormat",value:function(e){return this.formats.push(e),e.parser=this,this}},{key:"addFormats",value:function(e){var t=this;return e.forEach((function(e){return t.addFormat(e)})),this}},{key:"removeFormat",value:function(e){var t=this.formats.indexOf(e);if(t>-1){var n=this.formats[t];return this.formats.splice(t,1),n.parser=null,!0}return!1}},{key:"attempt",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=r(this.formats);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!(Array.isArray(a.locales)&&a.locales.length>0)||a.locales.includes(new Intl.Locale(n).baseName)){var u=a.attempt(e,n);if(u)return u}}}catch(c){i.e(c)}finally{i.f()}var s=String(e).slice(0,200);return""===s&&(s="empty string"),{invalid:"Unable to parse ".concat(s)}}},{key:"exportAsFunction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return u(this,e)}},{key:"exportAsFunctionAny",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return s(u(this,e))}}]),e}();e.exports=c},8686:function(e,t,n){var r=n(2326),i={zone:n(2849),year:r,meridiem:{am:0,pm:12,"a.m.":0,"p.m.":12},month:{january:1,jan:1,february:2,feb:2,march:3,mar:3,april:4,apr:4,may:5,june:6,jun:6,july:7,jul:7,august:8,aug:8,september:9,sep:9,october:10,oct:10,november:11,nov:11,december:12,dec:12},dayname:{sunday:0,sun:0,monday:1,mon:1,tuesday:2,tue:2,wednesday:3,wed:3,thursday:4,thu:4,friday:5,fri:5,saturday:6,sat:6},digit:{}};e.exports=i},8853:function(e,t,n){var r,i=n(8562);if("undefined"!==typeof navigator){var a=navigator;r=Array.isArray(a.languages)?a.languages[0]:a.language}else if("undefined"!==typeof process){var o={NODE_ENV:"production",PUBLIC_URL:"/DigitalFootprintsLab",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"236272166265-60vj7njr09rj4kdg9tnfdup3av3bpht9.apps.googleusercontent.com"};r=o.LC_ALL||o.LC_MESSAGES||o.LANG||o.LANGUAGE}r||(r="en-US"),e.exports=i(r)},8562:function(e){e.exports=function(e){e=(e=e.replace(/_/g,"-")).replace(/[.:][\w-]*$/,"");try{return new Intl.Locale(e).baseName}catch(t){return"en-US"}}},4495:function(e,t,n){var r=n(1109).default,i={arab:1632,arabext:1776,bali:6992,beng:2534,deva:2406,fullwide:65296,gujr:2790,khmr:6112,knda:3302,laoo:3792,limb:6470,mlym:3430,mong:6160,mymr:4160,orya:2918,tamldec:3046,telu:3174,thai:3664,tibt:3872},a="[\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\\d]",o={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"\uff10":0,"\uff11":1,"\uff12":2,"\uff13":3,"\uff14":4,"\uff15":5,"\uff16":6,"\uff17":7,"\uff18":8,"\uff19":9,"\u3007":0,"\u4e00":1,"\u4e8c":2,"\u4e09":3,"\u56db":4,"\u4e94":5,"\u516d":6,"\u4e03":7,"\u516b":8,"\u4e5d":9},u={};e.exports={chineseGroup:a,defaultLookup:o,startCodes:i,buildDigits:function(e){if(u[e])return u[e];if("fullwide"===e||"hanidec"===e)return{group:a,lookup:r({},o)};var t=i[e];if(!t)return{group:"\\d",lookup:r({},o)};for(var n=String.fromCharCode(t),s=String.fromCharCode(t+9),c={},l=0;l<10;l++)c[String.fromCharCode(t+l)]=l;return u[e]={group:"[".concat(n,"-").concat(s,"]"),lookup:c},u[e]}}},3239:function(e,t,n){var r=n(1109).default,i=n(2849),a={MONTHNAME:"january|february|march|april|may|june|july|august|september|october|november|december|jan\\.?|feb\\.?|mar\\.?|apr\\.?|may\\.?|jun\\.?|jul\\.?|aug\\.?|sep\\.?|oct\\.?|nov\\.?|dec\\.?",DAYNAME:"sunday|monday|tuesday|wednesday|thursday|friday|saturday|sun\\.?|mon\\.?|tue\\.?|wed\\.?|thu\\.?|fri\\.?|sat\\.?",ZONE:"\\(?("+Object.keys(i).join("|")+")\\)?",MERIDIEM:"[ap]\\.?m?\\.?",ORDINAL:"st|nd|rd|th|\\.",YEAR:"[1-9]\\d{3}|\\d{2}",MONTH:"1[0-2]|0?[1-9]",MONTH2:"1[0-2]|0[1-9]",DAY:"3[01]|[12]\\d|0?[1-9]",DAY2:"3[01]|[12]\\d|0[1-9]",OFFSET:"[+-][01]?\\d?\\:?(?:[0-5]\\d)?",H24:"[01]\\d|2[0-3]",H12:"0?[1-9]|1[012]",MIN:"[0-5]\\d",SEC:"[0-5]\\d|60",MS:"\\d{9}|\\d{6}|\\d{1,3}",SPACE:"[\\s,-]"},o=r(r({},a),{},{YEAR:"*{4}|*{2}",MONTH:"*{1,2}",MONTH2:"*{2}",DAY:"*{1,2}",DAY2:"*{2}",OFFSET:"[+-]*{1,2}\\:?*{0,2}",H24:"*{2}",H12:"*{1,2}",MIN:"*{2}",SEC:"*{2}",MS:"*{9}|*{6}|*{3}"});e.exports={latn:a,other:o}},2849:function(e){e.exports={"Eastern Daylight Time":-240,"Eastern Standard Time":-300,"Central Daylight Time":-300,"Central Standard Time":-360,"Mountain Daylight Time":-360,"Mountain Standard Time":-420,"Pacific Daylight Time":-420,"Pacific Standard Time":-480,ACDT:630,ACST:570,ACT:480,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,AMST:-180,AMT:-240,ART:-180,AST:180,AWDT:540,AWST:480,AZOST:-60,AZT:240,BDT:360,BIOT:360,BIT:-720,BOT:-240,BRST:-120,BRT:-180,BTT:360,CAT:120,CCT:390,CDT:-300,CEDT:120,CEST:120,CET:60,CHADT:825,CHAST:765,CHOT:480,ChST:600,CHUT:600,CIST:-480,CIT:480,CKT:-600,CLST:-180,CLT:-240,COST:-240,COT:-300,CST:-360,CT:480,CVT:-60,CXT:420,DAVT:420,DDUT:600,DFT:60,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEDT:180,EEST:180,EET:120,EGST:0,EGT:-60,EIT:540,EST:-300,FET:180,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GIT:-540,GMT:0,GST:-120,GYT:-240,HADT:-540,HAEC:120,HAST:-600,HKT:480,HMT:300,HOVT:420,HST:-600,IBST:0,ICT:420,IDT:180,IOT:180,IRDT:270,IRKT:480,IRST:210,IST:120,JST:540,KGT:360,KOST:660,KRAT:420,KST:540,LHST:630,LINT:840,MAGT:720,MART:-510,MAWT:300,MDT:-360,MET:60,MEST:120,MHT:720,MIST:660,MIT:-510,MMT:390,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:660,NPT:345,NST:-150,NT:-150,NUT:-660,NZDT:780,NZST:720,OMST:360,ORAT:300,PDT:-420,PET:-300,PETT:720,PGT:600,PHOT:780,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PYST:-180,PYT:-240,RET:240,ROTT:-180,SAKT:660,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SLST:330,SRET:660,SRT:-180,SST:480,SYOT:180,TAHT:-600,THA:420,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TOT:780,TVT:720,UCT:0,ULAT:480,USZ1:120,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-240,VLAT:600,VOLT:240,VOST:360,VUT:660,WAKT:720,WAST:120,WAT:60,WEDT:60,WEST:60,WET:0,WIT:420,WST:480,YAKT:540,YEKT:300,Z:0}},2326:function(e){for(var t={},n=1;n<100;n++){t[(n<9?"0":"")+n]=n+(n>51?1900:2e3)}e.exports=t},3801:function(e){e.exports={y:"year",M:"month",d:"day",w:"week",h:"hour",m:"minute",s:"second",ms:"millisecond"}},2131:function(e){e.exports=["year","month","day","hour","minute","second","millisecond"]},3730:function(e,t,n){var r=n(3038).default,i=n(371),a=n(3801),o=new i({matcher:/^(\+|-|in|) ?([\d.]+) ?(years?|months?|weeks?|days?|hours?|minutes?|seconds?|milliseconds?|ms|s|m|h|w|d|M|y)( ago)?$/i,handler:function(e){var t=r(e,5),n=t[1],i=t[2],o=t[3],u=t[4];i=parseFloat(i),"week"===(o=o.length<=2?a[o]:(o=o.replace(/s$/,"")).toLowerCase())&&(o="day",i*=7),("-"===n||u)&&(i*=-1);var s=this.now();return"millisecond"===o?s.setUTCMilliseconds(s.getUTCMilliseconds()+i):"second"===o?s.setUTCSeconds(s.getUTCSeconds()+i):"minute"===o?s.setUTCMinutes(s.getUTCMinutes()+i):"hour"===o?s.setUTCHours(s.getUTCHours()+i):"day"===o?s.setUTCDate(s.getUTCDate()+i):"month"===o?s.setUTCMonth(s.getUTCMonth()+i):"year"===o&&s.setUTCFullYear(s.getUTCFullYear()+i),{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds()}}});e.exports=o},5768:function(e,t,n){var r=new(n(371))({template:"^@(\\d+)$",handler:function(e){var t=parseInt(e[1],10),n=new Date(1e3*t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds()}}});e.exports=r},6365:function(e,t,n){var r,i=n(3038).default,a=n(371),o=n(5327),u=n(4495).chineseGroup,s=new a({template:"^(".concat(u,"{4}|").concat(u,"{2})\\s*\u5e74\\s*(").concat(u,"{1,2})\\s*\u6708\\s*(").concat(u,"{1,2})\\s*\u65e5$"),handler:function(e){var t=i(e,4),n=t[1],a=t[2],u=t[3];return r||((r=new o("zh")).numberingSystem="hanidec",r.buildNumbers()),r.castObject({year:n,month:a,day:u})}});e.exports=s},2640:function(e,t,n){var r=new(n(371))({template:"^(_DAY_)[\\/. ](_MONTH_)$",units:["day","month"]});e.exports=r},4545:function(e,t,n){var r=new(n(371))({template:"^(_DAY_)([\\/. -])(_MONTH_)\\2(_YEAR_)$",units:["day",null,"month","year"]});e.exports=r},1985:function(e,t,n){var r=new(n(371))({template:"^(_DAY_)(?:_ORDINAL_)?[ -](_MONTHNAME_)$",units:["day","month"]});e.exports=r},2155:function(e,t,n){var r=new(n(371))({template:"^(?:(?:_DAYNAME_),? )?(_DAY_)(?:_ORDINAL_)?([ -])(_MONTHNAME_)\\2(_YEAR_)$",units:["day",null,"month","year"]});e.exports=r},6090:function(e,t,n){var r=new(n(371))({matcher:/^\/Date\((\d+)([+-]\d{4})?\)\/$/,handler:function(e){var t=parseInt(e[1],10),n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds(),offset:e[2]||0}}});e.exports=r},18:function(e,t,n){var r=new(n(371))({template:"^(_MONTH_)(?:[\\/-])(_DAY_)$",units:["month","day"]});e.exports=r},5788:function(e,t,n){var r=new(n(371))({template:"^(_MONTH_)([\\/-])(_DAY_)\\2(_YEAR_)$",units:["month",null,"day","year"],locales:["ee-TG","en-AS","en-CA","en-FM","en-GH","en-GU","en-KE","en-KY","en-MH","en-MP","en-US","en-VI","en-WS","sm-AS","sm-SM"]});e.exports=r},5345:function(e,t,n){var r=new(n(371))({template:"^(?:(?:_DAYNAME_),? )?(_MONTHNAME_)? (_DAY_)(?:_ORDINAL_)?$",units:["month","day"]});e.exports=r},7514:function(e,t,n){var r=new(n(371))({template:"^(?:(?:_DAYNAME_),? )?(_MONTHNAME_)? (_DAY_)(?:_ORDINAL_)?,? (_YEAR_)$",units:["month","day","year"]});e.exports=r},1764:function(e,t,n){var r=n(3038).default,i=n(5327),a=new(n(371))({template:"^(.*?)_SPACE_*(?:at|on|T|)_SPACE_*(_H12_|_H24_)(?:\\:(_MIN_)(?:\\:(_SEC_))?)?_SPACE_*(_MERIDIEM_)$",handler:function(e,t){var n=r(e,6),a=n[1],o=n[2],u=n[3],s=n[4],c=n[5],l={};if(a&&(l=this.parser.attempt(a,t)).invalid)return null;var f=i.factory(t);if(c){var d=f.lookups.meridiem[c.toLowerCase()]||0;12===(o=parseFloat(o))?o=d:o+=o>12&&12===d?0:d}return l.hour=o,u&&(l.minute=u),s&&(l.second=s),l}});e.exports=a},5114:function(e,t,n){var r=n(3038).default,i=n(5327),a=n(371),o=n(2849),u=new a({template:"^(.*?)_SPACE_*(?:at|on|T|)_SPACE_*(_H24_)\\:(_MIN_)(?:\\:(_SEC_)(?:[\\.,](_MS_))?)?_SPACE_*(?:GMT)?_SPACE_*(_OFFSET_)?_SPACE_*(_ZONE_)?$",handler:function(e,t){var n=r(e,8),a=n[1],u=n[2],s=n[3],c=n[4],l=n[5],f=n[6],d=n[7],h={};if(a&&(h=this.parser.attempt(a,t)).invalid)return h;if(h.hour=u,h.minute=s,c&&(h.second=c),l&&l.length>3?h.millisecond=l.slice(0,3):l&&(h.millisecond=l),d&&!f&&d in o)h.offset=o[d];else if(f){var p=i.factory(t);h.offset=p.offsetToMinutes(f)}return h}});e.exports=u},6738:function(e,t,n){var r=new(n(371))({matcher:/^(now|today|tomorrow|yesterday)/i,handler:function(e){var t=this.now(),n=e[1].toLowerCase();switch(n){case"tomorrow":t.setUTCDate(t.getUTCDate()+1);break;case"yesterday":t.setUTCDate(t.getUTCDate()-1)}var r={year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()};return"now"===n&&(r.hour=t.getUTCHours(),r.minute=t.getUTCMinutes(),r.second=t.getUTCSeconds(),r.millisecond=t.getUTCMilliseconds()),r}});e.exports=r},3960:function(e,t,n){var r=new(n(371))({template:"^(?:_DAYNAME_) (_MONTHNAME_) (_DAY_) (_H24_):(_MIN_):(_SEC_) (_OFFSET_) (_YEAR_)$",units:["month","day","hour","minute","second","offset","year"]});e.exports=r},8318:function(e,t,n){var r=new(n(371))({template:"^(_YEAR_)(-?)(_MONTH_)\\2(_DAY_)$",units:["year",null,"month","day"]});e.exports=r},2356:function(e){e.exports=function(e){return function(t,n){return t instanceof Date?t:"number"===typeof t?new Date(t):e(t,n)}}},3079:function(e){e.exports=function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=e.attempt(n,r);if(i.invalid)return i;var a=new Date(2e3,0,1);return"number"===typeof i.day&&a.setUTCDate(i.day),"number"===typeof i.year&&a.setUTCFullYear(i.year),"number"===typeof i.month&&a.setUTCMonth(i.month-1),a.setUTCHours(i.hour||0),a.setUTCMinutes(i.minute||0),a.setUTCSeconds(i.second||0),a.setUTCMilliseconds(i.millisecond||0),"number"===typeof i.offset?new Date(a-60*i.offset*1e3):a}}},9998:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}},7622:function(e){var t=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(u){t=function(){}}try{n=Set}catch(u){n=function(){}}try{r=Promise}catch(u){r=function(){}}function i(a,u,s,c,l){"object"===typeof u&&(s=u.depth,c=u.prototype,l=u.includeNonEnumerable,u=u.circular);var f=[],d=[],h="undefined"!=typeof Buffer;return"undefined"==typeof u&&(u=!0),"undefined"==typeof s&&(s=1/0),function a(s,p){if(null===s)return null;if(0===p)return s;var v,m;if("object"!=typeof s)return s;if(e(s,t))v=new t;else if(e(s,n))v=new n;else if(e(s,r))v=new r((function(e,t){s.then((function(t){e(a(t,p-1))}),(function(e){t(a(e,p-1))}))}));else if(i.__isArray(s))v=[];else if(i.__isRegExp(s))v=new RegExp(s.source,o(s)),s.lastIndex&&(v.lastIndex=s.lastIndex);else if(i.__isDate(s))v=new Date(s.getTime());else{if(h&&Buffer.isBuffer(s))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(v),v;e(s,Error)?v=Object.create(s):"undefined"==typeof c?(m=Object.getPrototypeOf(s),v=Object.create(m)):(v=Object.create(c),m=c)}if(u){var g=f.indexOf(s);if(-1!=g)return d[g];f.push(s),d.push(v)}for(var y in e(s,t)&&s.forEach((function(e,t){var n=a(t,p-1),r=a(e,p-1);v.set(n,r)})),e(s,n)&&s.forEach((function(e){var t=a(e,p-1);v.add(t)})),s){var b;m&&(b=Object.getOwnPropertyDescriptor(m,y)),b&&null==b.set||(v[y]=a(s[y],p-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(s);for(y=0;y<x.length;y++){var w=x[y];(!(k=Object.getOwnPropertyDescriptor(s,w))||k.enumerable||l)&&(v[w]=a(s[w],p-1),k.enumerable||Object.defineProperty(v,w,{enumerable:!1}))}}if(l){var _=Object.getOwnPropertyNames(s);for(y=0;y<_.length;y++){var k,E=_[y];(k=Object.getOwnPropertyDescriptor(s,E))&&k.enumerable||(v[E]=a(s[E],p-1),Object.defineProperty(v,E,{enumerable:!1}))}}return v}(a,s)}function a(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=a,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===a(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===a(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===a(e)},i.__getRegExpFlags=o,i}();e.exports&&(e.exports=t)},6724:function(e,t,n){var r=n(6840),i=n(9218),a=n(1772),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a function")}},611:function(e,t,n){var r=n(6840),i=n(1219),a=n(1772),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a constructor")}},6299:function(e,t,n){var r=n(6840),i=n(9218),a=r.String,o=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},5679:function(e,t,n){var r=n(5028),i=n(4385),a=n(1592),o=r("unscopables"),u=Array.prototype;void 0==u[o]&&a.f(u,o,{configurable:!0,value:i(null)}),e.exports=function(e){u[o][e]=!0}},5466:function(e,t,n){"use strict";var r=n(8424).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},4817:function(e,t,n){var r=n(6840),i=n(8946),a=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw a("Incorrect invocation")}},5884:function(e,t,n){var r=n(6840),i=n(3931),a=r.String,o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not an object")}},488:function(e,t,n){var r=n(5770),i=n(1823),a=n(3385),o=function(e){return function(t,n,o){var u,s=r(t),c=a(s),l=i(o,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2241:function(e,t,n){"use strict";var r=n(2837);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},4512:function(e,t,n){var r=n(6840),i=n(6724),a=n(8385),o=n(1036),u=n(3385),s=r.TypeError,c=function(e){return function(t,n,r,c){i(n);var l=a(t),f=o(l),d=u(l),h=e?d-1:0,p=e?-1:1;if(r<2)for(;;){if(h in f){c=f[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw s("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in f&&(c=n(c,f[h],h,l));return c}};e.exports={left:c(!1),right:c(!0)}},3278:function(e,t,n){var r=n(6840),i=n(1823),a=n(3385),o=n(3055),u=r.Array,s=Math.max;e.exports=function(e,t,n){for(var r=a(e),c=i(t,r),l=i(void 0===n?r:n,r),f=u(s(l-c,0)),d=0;c<l;c++,d++)o(f,d,e[c]);return f.length=d,f}},5618:function(e,t,n){var r=n(4932);e.exports=r([].slice)},6225:function(e,t,n){var r=n(5028)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(u){}return n}},2933:function(e,t,n){var r=n(4932),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},7205:function(e,t,n){var r=n(6840),i=n(6042),a=n(9218),o=n(2933),u=n(5028)("toStringTag"),s=r.Object,c="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),u))?n:c?o(t):"Object"==(r=o(t))&&a(t.callee)?"Arguments":r}},189:function(e,t,n){var r=n(3013),i=n(7273),a=n(2573),o=n(1592);e.exports=function(e,t,n){for(var u=i(t),s=o.f,c=a.f,l=0;l<u.length;l++){var f=u[l];r(e,f)||n&&r(n,f)||s(e,f,c(t,f))}}},2525:function(e,t,n){var r=n(5028)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},1586:function(e,t,n){var r=n(2837);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1949:function(e,t,n){"use strict";var r=n(7022).IteratorPrototype,i=n(4385),a=n(2037),o=n(3370),u=n(9706),s=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),u[l]=s,e}},3873:function(e,t,n){var r=n(1196),i=n(1592),a=n(2037);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},2037:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3055:function(e,t,n){"use strict";var r=n(4655),i=n(1592),a=n(2037);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},2170:function(e,t,n){"use strict";var r=n(7768),i=n(8513),a=n(3608),o=n(3211),u=n(9218),s=n(1949),c=n(4305),l=n(4381),f=n(3370),d=n(3873),h=n(2422),p=n(5028),v=n(9706),m=n(7022),g=o.PROPER,y=o.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),_="keys",k="values",E="entries",O=function(){return this};e.exports=function(e,t,n,o,p,m,S){s(n,t,o);var A,C,D,j=function(e){if(e===p&&N)return N;if(!x&&e in P)return P[e];switch(e){case _:case k:case E:return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",F=!1,P=e.prototype,M=P[w]||P["@@iterator"]||p&&P[p],N=!x&&M||j(p),R="Array"==t&&P.entries||M;if(R&&(A=c(R.call(new e)))!==Object.prototype&&A.next&&(a||c(A)===b||(l?l(A,b):u(A[w])||h(A,w,O)),f(A,T,!0,!0),a&&(v[T]=O)),g&&p==k&&M&&M.name!==k&&(!a&&y?d(P,"name",k):(F=!0,N=function(){return i(M,this)})),p)if(C={values:j(k),keys:m?N:j(_),entries:j(E)},S)for(D in C)(x||F||!(D in P))&&h(P,D,C[D]);else r({target:t,proto:!0,forced:x||F},C);return a&&!S||P[w]===N||h(P,w,N,{name:p}),v[t]=N,C}},1196:function(e,t,n){var r=n(2837);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},937:function(e,t,n){var r=n(6840),i=n(3931),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},650:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2752:function(e,t,n){var r=n(937)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},4163:function(e){e.exports="object"==typeof window},1070:function(e,t,n){var r=n(4839),i=n(6840);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},3929:function(e,t,n){var r=n(4839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},1653:function(e,t,n){var r=n(2933),i=n(6840);e.exports="process"==r(i.process)},1785:function(e,t,n){var r=n(4839);e.exports=/web0s(?!.*chrome)/i.test(r)},4839:function(e,t,n){var r=n(1240);e.exports=r("navigator","userAgent")||""},5372:function(e,t,n){var r,i,a=n(6840),o=n(4839),u=a.process,s=a.Deno,c=u&&u.versions||s&&s.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},2080:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7768:function(e,t,n){var r=n(6840),i=n(2573).f,a=n(3873),o=n(2422),u=n(9870),s=n(189),c=n(6673);e.exports=function(e,t){var n,l,f,d,h,p=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[p]||u(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(h=i(n,l))&&h.value:n[l],!c(v?l:p+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(n,l,d,e)}}},2837:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},8093:function(e,t,n){"use strict";n(447);var r=n(4932),i=n(2422),a=n(4087),o=n(2837),u=n(5028),s=n(3873),c=u("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=u(e),h=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=h&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!h||!p||n){var v=r(/./[d]),m=t(d,""[e],(function(e,t,n,i,o){var u=r(e),s=t.exec;return s===a||s===l.exec?h&&!o?{done:!0,value:v(t,n,i)}:{done:!0,value:u(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(l,d,m[1])}f&&s(l[d],"sham",!0)}},6339:function(e,t,n){var r=n(4138),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},5851:function(e,t,n){var r=n(4932),i=n(6724),a=n(4138),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},4138:function(e,t,n){var r=n(2837);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8513:function(e,t,n){var r=n(4138),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},3211:function(e,t,n){var r=n(1196),i=n(3013),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,u=i(a,"name"),s=u&&"something"===function(){}.name,c=u&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:u,PROPER:s,CONFIGURABLE:c}},4932:function(e,t,n){var r=n(4138),i=Function.prototype,a=i.bind,o=i.call,u=r&&a.bind(o,o);e.exports=r?function(e){return e&&u(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},1240:function(e,t,n){var r=n(6840),i=n(9218),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},443:function(e,t,n){var r=n(7205),i=n(3863),a=n(9706),o=n(5028)("iterator");e.exports=function(e){if(void 0!=e)return i(e,o)||i(e,"@@iterator")||a[r(e)]}},8131:function(e,t,n){var r=n(6840),i=n(8513),a=n(6724),o=n(5884),u=n(1772),s=n(443),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(a(n))return o(i(n,e));throw c(u(e)+" is not iterable")}},3863:function(e,t,n){var r=n(6724);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7794:function(e,t,n){var r=n(4932),i=n(8385),a=Math.floor,o=r("".charAt),u=r("".replace),s=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var h=n+e.length,p=r.length,v=l;return void 0!==f&&(f=i(f),v=c),u(d,v,(function(i,u){var c;switch(o(u,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,n);case"'":return s(t,h);case"<":c=f[s(u,1,-1)];break;default:var l=+u;if(0===l)return i;if(l>p){var d=a(l/10);return 0===d?i:d<=p?void 0===r[d-1]?o(u,1):r[d-1]+o(u,1):i}c=r[l-1]}return void 0===c?"":c}))}},6840:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},3013:function(e,t,n){var r=n(4932),i=n(8385),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},6196:function(e){e.exports={}},5995:function(e,t,n){var r=n(6840);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},2012:function(e,t,n){var r=n(1240);e.exports=r("document","documentElement")},6707:function(e,t,n){var r=n(1196),i=n(2837),a=n(937);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1036:function(e,t,n){var r=n(6840),i=n(4932),a=n(2837),o=n(2933),u=r.Object,s=i("".split);e.exports=a((function(){return!u("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):u(e)}:u},1527:function(e,t,n){var r=n(9218),i=n(3931),a=n(4381);e.exports=function(e,t,n){var o,u;return a&&r(o=t.constructor)&&o!==n&&i(u=o.prototype)&&u!==n.prototype&&a(e,u),e}},8589:function(e,t,n){var r=n(4932),i=n(9218),a=n(4460),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},9671:function(e,t,n){var r,i,a,o=n(5242),u=n(6840),s=n(4932),c=n(3931),l=n(3873),f=n(3013),d=n(4460),h=n(9378),p=n(6196),v="Object already initialized",m=u.TypeError,g=u.WeakMap;if(o||d.state){var y=d.state||(d.state=new g),b=s(y.get),x=s(y.has),w=s(y.set);r=function(e,t){if(x(y,e))throw new m(v);return t.facade=e,w(y,e,t),t},i=function(e){return b(y,e)||{}},a=function(e){return x(y,e)}}else{var _=h("state");p[_]=!0,r=function(e,t){if(f(e,_))throw new m(v);return t.facade=e,l(e,_,t),t},i=function(e){return f(e,_)?e[_]:{}},a=function(e){return f(e,_)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},8205:function(e,t,n){var r=n(5028),i=n(9706),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},9218:function(e){e.exports=function(e){return"function"==typeof e}},1219:function(e,t,n){var r=n(4932),i=n(2837),a=n(9218),o=n(7205),u=n(1240),s=n(8589),c=function(){},l=[],f=u("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),p=!d.exec(c),v=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,s(e))}catch(t){return!0}};m.sham=!0,e.exports=!f||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?m:v},6673:function(e,t,n){var r=n(2837),i=n(9218),a=/#|\.prototype\./,o=function(e,t){var n=s[u(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},u=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},3931:function(e,t,n){var r=n(9218);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},3608:function(e){e.exports=!1},670:function(e,t,n){var r=n(3931),i=n(2933),a=n(5028)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},8287:function(e,t,n){var r=n(6840),i=n(1240),a=n(9218),o=n(8946),u=n(7611),s=r.Object;e.exports=u?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return a(t)&&o(t.prototype,s(e))}},4439:function(e,t,n){var r=n(6840),i=n(5851),a=n(8513),o=n(5884),u=n(1772),s=n(8205),c=n(3385),l=n(8946),f=n(8131),d=n(443),h=n(9053),p=r.TypeError,v=function(e,t){this.stopped=e,this.result=t},m=v.prototype;e.exports=function(e,t,n){var r,g,y,b,x,w,_,k=n&&n.that,E=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),A=i(t,k),C=function(e){return r&&h(r,"normal",e),new v(!0,e)},D=function(e){return E?(o(e),S?A(e[0],e[1],C):A(e[0],e[1])):S?A(e,C):A(e)};if(O)r=e;else{if(!(g=d(e)))throw p(u(e)+" is not iterable");if(s(g)){for(y=0,b=c(e);b>y;y++)if((x=D(e[y]))&&l(m,x))return x;return new v(!1)}r=f(e,g)}for(w=r.next;!(_=a(w,r)).done;){try{x=D(_.value)}catch(j){h(r,"throw",j)}if("object"==typeof x&&x&&l(m,x))return x}return new v(!1)}},9053:function(e,t,n){var r=n(8513),i=n(5884),a=n(3863);e.exports=function(e,t,n){var o,u;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(s){u=!0,o=s}if("throw"===t)throw n;if(u)throw o;return i(o),n}},7022:function(e,t,n){"use strict";var r,i,a,o=n(2837),u=n(9218),s=n(4385),c=n(4305),l=n(2422),f=n(5028),d=n(3608),h=f("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(r=i):p=!0),void 0==r||o((function(){var e={};return r[h].call(e)!==e}))?r={}:d&&(r=s(r)),u(r[h])||l(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},9706:function(e){e.exports={}},3385:function(e,t,n){var r=n(2347);e.exports=function(e){return r(e.length)}},4410:function(e,t,n){var r,i,a,o,u,s,c,l,f=n(6840),d=n(5851),h=n(2573).f,p=n(1625).set,v=n(3929),m=n(1070),g=n(1785),y=n(1653),b=f.MutationObserver||f.WebKitMutationObserver,x=f.document,w=f.process,_=f.Promise,k=h(f,"queueMicrotask"),E=k&&k.value;E||(r=function(){var e,t;for(y&&(e=w.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},v||y||g||!b||!x?!m&&_&&_.resolve?((c=_.resolve(void 0)).constructor=_,l=d(c.then,c),o=function(){l(r)}):y?o=function(){w.nextTick(r)}:(p=d(p,f),o=function(){p(r)}):(u=!0,s=x.createTextNode(""),new b(r).observe(s,{characterData:!0}),o=function(){s.data=u=!u})),e.exports=E||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},5794:function(e,t,n){var r=n(6840);e.exports=r.Promise},3991:function(e,t,n){var r=n(5372),i=n(2837);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5242:function(e,t,n){var r=n(6840),i=n(9218),a=n(8589),o=r.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},246:function(e,t,n){"use strict";var r=n(6724),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},9693:function(e,t,n){var r=n(6840),i=n(670),a=r.TypeError;e.exports=function(e){if(i(e))throw a("The method doesn't accept regular expressions");return e}},4385:function(e,t,n){var r,i=n(5884),a=n(1697),o=n(2080),u=n(6196),s=n(2012),c=n(937),l=n(9378),f=l("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?p(r):function(){var e,t=c("iframe");return t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F}():p(r);for(var e=o.length;e--;)delete v.prototype[o[e]];return v()};u[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[f]=e):n=v(),void 0===t?n:a.f(n,t)}},1697:function(e,t,n){var r=n(1196),i=n(6056),a=n(1592),o=n(5884),u=n(5770),s=n(8084);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=u(t),i=s(t),c=i.length,l=0;c>l;)a.f(e,n=i[l++],r[n]);return e}},1592:function(e,t,n){var r=n(6840),i=n(1196),a=n(6707),o=n(6056),u=n(5884),s=n(4655),c=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=i?o?function(e,t,n){if(u(e),t=s(t),u(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var r=f(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:h in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(u(e),t=s(t),u(n),a)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2573:function(e,t,n){var r=n(1196),i=n(8513),a=n(8306),o=n(2037),u=n(5770),s=n(4655),c=n(3013),l=n(6707),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=s(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},3772:function(e,t,n){var r=n(3080),i=n(2080).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},400:function(e,t){t.f=Object.getOwnPropertySymbols},4305:function(e,t,n){var r=n(6840),i=n(3013),a=n(9218),o=n(8385),u=n(9378),s=n(1586),c=u("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},8946:function(e,t,n){var r=n(4932);e.exports=r({}.isPrototypeOf)},3080:function(e,t,n){var r=n(4932),i=n(3013),a=n(5770),o=n(488).indexOf,u=n(6196),s=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(u,n)&&i(r,n)&&s(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(l,n)||s(l,n));return l}},8084:function(e,t,n){var r=n(3080),i=n(2080);e.exports=Object.keys||function(e){return r(e,i)}},8306:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},4381:function(e,t,n){var r=n(4932),i=n(5884),a=n(6299);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},7772:function(e,t,n){var r=n(6840),i=n(8513),a=n(9218),o=n(3931),u=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&a(n=e.toString)&&!o(r=i(n,e)))return r;if(a(n=e.valueOf)&&!o(r=i(n,e)))return r;if("string"!==t&&a(n=e.toString)&&!o(r=i(n,e)))return r;throw u("Can't convert object to primitive value")}},7273:function(e,t,n){var r=n(1240),i=n(4932),a=n(3772),o=n(400),u=n(5884),s=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(u(e)),n=o.f;return n?s(t,n(e)):t}},3752:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},6321:function(e,t,n){var r=n(5884),i=n(3931),a=n(246);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},9033:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7513:function(e,t,n){var r=n(2422);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},2422:function(e,t,n){var r=n(6840),i=n(9218),a=n(3013),o=n(3873),u=n(9870),s=n(8589),c=n(9671),l=n(3211).CONFIGURABLE,f=c.get,d=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,s){var c,f=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,v=!!s&&!!s.noTargetGet,m=s&&void 0!==s.name?s.name:t;i(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(n,"name")||l&&n.name!==m)&&o(n,"name",m),(c=d(n)).source||(c.source=h.join("string"==typeof m?m:""))),e!==r?(f?!v&&e[t]&&(p=!0):delete e[t],p?e[t]=n:o(e,t,n)):p?e[t]=n:u(t,n)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||s(this)}))},2781:function(e,t,n){var r=n(6840),i=n(8513),a=n(5884),o=n(9218),u=n(2933),s=n(4087),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var r=i(n,e,t);return null!==r&&a(r),r}if("RegExp"===u(e))return i(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},4087:function(e,t,n){"use strict";var r=n(8513),i=n(4932),a=n(6124),o=n(7687),u=n(8596),s=n(1778),c=n(4385),l=n(9671).get,f=n(2047),d=n(2063),h=s("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,m=i("".charAt),g=i("".indexOf),y=i("".replace),b=i("".slice),x=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=u.BROKEN_CARET,_=void 0!==/()??/.exec("")[1];(x||_||w||f||d)&&(v=function(e){var t,n,i,u,s,f,d,k=this,E=l(k),O=a(e),S=E.raw;if(S)return S.lastIndex=k.lastIndex,t=r(v,S,O),k.lastIndex=S.lastIndex,t;var A=E.groups,C=w&&k.sticky,D=r(o,k),j=k.source,T=0,F=O;if(C&&(D=y(D,"y",""),-1===g(D,"g")&&(D+="g"),F=b(O,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==m(O,k.lastIndex-1))&&(j="(?: "+j+")",F=" "+F,T++),n=new RegExp("^(?:"+j+")",D)),_&&(n=new RegExp("^"+j+"$(?!\\s)",D)),x&&(i=k.lastIndex),u=r(p,C?n:k,F),C?u?(u.input=b(u.input,T),u[0]=b(u[0],T),u.index=k.lastIndex,k.lastIndex+=u[0].length):k.lastIndex=0:x&&u&&(k.lastIndex=k.global?u.index+u[0].length:i),_&&u&&u.length>1&&r(h,u[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(u[s]=void 0)})),u&&A)for(u.groups=f=c(null),s=0;s<A.length;s++)f[(d=A[s])[0]]=u[d[1]];return u}),e.exports=v},7687:function(e,t,n){"use strict";var r=n(5884);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},8596:function(e,t,n){var r=n(2837),i=n(6840).RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),u=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:u,MISSED_STICKY:o,UNSUPPORTED_Y:a}},2047:function(e,t,n){var r=n(2837),i=n(6840).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},2063:function(e,t,n){var r=n(2837),i=n(6840).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},2244:function(e,t,n){var r=n(6840).TypeError;e.exports=function(e){if(void 0==e)throw r("Can't call method on "+e);return e}},9870:function(e,t,n){var r=n(6840),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},2267:function(e,t,n){"use strict";var r=n(1240),i=n(1592),a=n(5028),o=n(1196),u=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[u]&&n(t,u,{configurable:!0,get:function(){return this}})}},3370:function(e,t,n){var r=n(1592).f,i=n(3013),a=n(5028)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,a)&&r(e,a,{configurable:!0,value:t})}},9378:function(e,t,n){var r=n(1778),i=n(6520),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},4460:function(e,t,n){var r=n(6840),i=n(9870),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},1778:function(e,t,n){var r=n(3608),i=n(4460);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},917:function(e,t,n){var r=n(5884),i=n(611),a=n(5028)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},8424:function(e,t,n){var r=n(4932),i=n(2128),a=n(6124),o=n(2244),u=r("".charAt),s=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(o(t)),d=i(n),h=f.length;return d<0||d>=h?e?"":void 0:(r=s(f,d))<55296||r>56319||d+1===h||(l=s(f,d+1))<56320||l>57343?e?u(f,d):r:e?c(f,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},1879:function(e,t,n){var r=n(3211).PROPER,i=n(2837),a=n(5450);e.exports=function(e){return i((function(){return!!a[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&a[e].name!==e}))}},6889:function(e,t,n){var r=n(4932),i=n(2244),a=n(6124),o=n(5450),u=r("".replace),s="["+o+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e){return function(t){var n=a(i(t));return 1&e&&(n=u(n,c,"")),2&e&&(n=u(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},1625:function(e,t,n){var r,i,a,o,u=n(6840),s=n(6339),c=n(5851),l=n(9218),f=n(3013),d=n(2837),h=n(2012),p=n(5618),v=n(937),m=n(3929),g=n(1653),y=u.setImmediate,b=u.clearImmediate,x=u.process,w=u.Dispatch,_=u.Function,k=u.MessageChannel,E=u.String,O=0,S={},A="onreadystatechange";try{r=u.location}catch(F){}var C=function(e){if(f(S,e)){var t=S[e];delete S[e],t()}},D=function(e){return function(){C(e)}},j=function(e){C(e.data)},T=function(e){u.postMessage(E(e),r.protocol+"//"+r.host)};y&&b||(y=function(e){var t=p(arguments,1);return S[++O]=function(){s(l(e)?e:_(e),void 0,t)},i(O),O},b=function(e){delete S[e]},g?i=function(e){x.nextTick(D(e))}:w&&w.now?i=function(e){w.now(D(e))}:k&&!m?(o=(a=new k).port2,a.port1.onmessage=j,i=c(o.postMessage,o)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!d(T)?(i=T,u.addEventListener("message",j,!1)):i=A in v("script")?function(e){h.appendChild(v("script")).onreadystatechange=function(){h.removeChild(this),C(e)}}:function(e){setTimeout(D(e),0)}),e.exports={set:y,clear:b}},1823:function(e,t,n){var r=n(2128),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},5770:function(e,t,n){var r=n(1036),i=n(2244);e.exports=function(e){return r(i(e))}},2128:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!==r||0===r?0:(r>0?n:t)(r)}},2347:function(e,t,n){var r=n(2128),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},8385:function(e,t,n){var r=n(6840),i=n(2244),a=r.Object;e.exports=function(e){return a(i(e))}},6740:function(e,t,n){var r=n(6840),i=n(8513),a=n(3931),o=n(8287),u=n(3863),s=n(7772),c=n(5028),l=r.TypeError,f=c("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var n,r=u(e,f);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!a(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4655:function(e,t,n){var r=n(6740),i=n(8287);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},6042:function(e,t,n){var r={};r[n(5028)("toStringTag")]="z",e.exports="[object z]"===String(r)},6124:function(e,t,n){var r=n(6840),i=n(7205),a=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},1772:function(e,t,n){var r=n(6840).String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},6520:function(e,t,n){var r=n(4932),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},7611:function(e,t,n){var r=n(3991);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6056:function(e,t,n){var r=n(1196),i=n(2837);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5028:function(e,t,n){var r=n(6840),i=n(1778),a=n(3013),o=n(6520),u=n(3991),s=n(7611),c=i("wks"),l=r.Symbol,f=l&&l.for,d=s?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!u&&"string"!=typeof c[e]){var t="Symbol."+e;u&&a(l,e)?c[e]=l[e]:c[e]=s&&f?f(t):d(t)}return c[e]}},5450:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},8887:function(e,t,n){"use strict";var r=n(5770),i=n(5679),a=n(9706),o=n(9671),u=n(1592).f,s=n(2170),c=n(3608),l=n(1196),f="Array Iterator",d=o.set,h=o.getterFor(f);e.exports=s(Array,"Array",(function(e,t){d(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==p.name)try{u(p,"name",{value:"values"})}catch(v){}},2603:function(e,t,n){"use strict";var r=n(7768),i=n(4512).left,a=n(2241),o=n(5372),u=n(1653);r({target:"Array",proto:!0,forced:!a("reduce")||!u&&o>79&&o<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},7675:function(e,t,n){"use strict";var r,i,a,o,u=n(7768),s=n(3608),c=n(6840),l=n(1240),f=n(8513),d=n(5794),h=n(2422),p=n(7513),v=n(4381),m=n(3370),g=n(2267),y=n(6724),b=n(9218),x=n(3931),w=n(4817),_=n(8589),k=n(4439),E=n(6225),O=n(917),S=n(1625).set,A=n(4410),C=n(6321),D=n(5995),j=n(246),T=n(3752),F=n(9033),P=n(9671),M=n(6673),N=n(5028),R=n(4163),I=n(1653),B=n(5372),z=N("species"),L="Promise",U=P.getterFor(L),q=P.set,W=P.getterFor(L),H=d&&d.prototype,$=d,V=H,G=c.TypeError,Y=c.document,K=c.process,X=j.f,Q=X,Z=!!(Y&&Y.createEvent&&c.dispatchEvent),J=b(c.PromiseRejectionEvent),ee="unhandledrejection",te=!1,ne=M(L,(function(){var e=_($),t=e!==String($);if(!t&&66===B)return!0;if(s&&!V.finally)return!0;if(B>=51&&/native code/.test(e))return!1;var n=new $((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[z]=r,!(te=n.then((function(){}))instanceof r)||!t&&R&&!J})),re=ne||!E((function(e){$.all(e).catch((function(){}))})),ie=function(e){var t;return!(!x(e)||!b(t=e.then))&&t},ae=function(e,t){var n,r,i,a=t.value,o=1==t.state,u=o?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{u?(o||(2===t.rejection&&le(t),t.rejection=1),!0===u?n=a:(l&&l.enter(),n=u(a),l&&(l.exit(),i=!0)),n===e.promise?c(G("Promise-chain cycle")):(r=ie(n))?f(r,n,s,c):s(n)):c(a)}catch(d){l&&!i&&l.exit(),c(d)}},oe=function(e,t){e.notified||(e.notified=!0,A((function(){for(var n,r=e.reactions;n=r.get();)ae(n,e);e.notified=!1,t&&!e.rejection&&se(e)})))},ue=function(e,t,n){var r,i;Z?((r=Y.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!J&&(i=c["on"+e])?i(r):e===ee&&D("Unhandled promise rejection",n)},se=function(e){f(S,c,(function(){var t,n=e.facade,r=e.value;if(ce(e)&&(t=T((function(){I?K.emit("unhandledRejection",r,n):ue(ee,n,r)})),e.rejection=I||ce(e)?2:1,t.error))throw t.value}))},ce=function(e){return 1!==e.rejection&&!e.parent},le=function(e){f(S,c,(function(){var t=e.facade;I?K.emit("rejectionHandled",t):ue("rejectionhandled",t,e.value)}))},fe=function(e,t,n){return function(r){e(t,r,n)}},de=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,oe(e,!0))},he=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw G("Promise can't be resolved itself");var i=ie(n);i?A((function(){var r={done:!1};try{f(i,n,fe(e,r,t),fe(de,r,t))}catch(a){de(r,a,t)}})):(t.value=n,t.state=1,oe(t,!1))}catch(a){de({done:!1},a,t)}}};if(ne&&(V=($=function(e){w(this,V),y(e),f(r,this);var t=U(this);try{e(fe(he,t),fe(de,t))}catch(n){de(t,n)}}).prototype,(r=function(e){q(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=p(V,{then:function(e,t){var n=W(this),r=X(O(this,$));return n.parent=!0,r.ok=!b(e)||e,r.fail=b(t)&&t,r.domain=I?K.domain:void 0,0==n.state?n.reactions.add(r):A((function(){ae(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=U(e);this.promise=e,this.resolve=fe(he,t),this.reject=fe(de,t)},j.f=X=function(e){return e===$||e===a?new i(e):Q(e)},!s&&b(d)&&H!==Object.prototype)){o=H.then,te||(h(H,"then",(function(e,t){var n=this;return new $((function(e,t){f(o,n,e,t)})).then(e,t)}),{unsafe:!0}),h(H,"catch",V.catch,{unsafe:!0}));try{delete H.constructor}catch(pe){}v&&v(H,V)}u({global:!0,wrap:!0,forced:ne},{Promise:$}),m($,L,!1,!0),g(L),a=l(L),u({target:L,stat:!0,forced:ne},{reject:function(e){var t=X(this);return f(t.reject,void 0,e),t.promise}}),u({target:L,stat:!0,forced:s||ne},{resolve:function(e){return C(s&&this===a?$:this,e)}}),u({target:L,stat:!0,forced:re},{all:function(e){var t=this,n=X(t),r=n.resolve,i=n.reject,a=T((function(){var n=y(t.resolve),a=[],o=0,u=1;k(e,(function(e){var s=o++,c=!1;u++,f(n,t,e).then((function(e){c||(c=!0,a[s]=e,--u||r(a))}),i)})),--u||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=X(t),r=n.reject,i=T((function(){var i=y(t.resolve);k(e,(function(e){f(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},5979:function(e,t,n){var r=n(1196),i=n(6840),a=n(4932),o=n(6673),u=n(1527),s=n(3873),c=n(1592).f,l=n(3772).f,f=n(8946),d=n(670),h=n(6124),p=n(7687),v=n(8596),m=n(2422),g=n(2837),y=n(3013),b=n(9671).enforce,x=n(2267),w=n(5028),_=n(2047),k=n(2063),E=w("match"),O=i.RegExp,S=O.prototype,A=i.SyntaxError,C=a(p),D=a(S.exec),j=a("".charAt),T=a("".replace),F=a("".indexOf),P=a("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,R=/a/g,I=new O(N)!==N,B=v.MISSED_STICKY,z=v.UNSUPPORTED_Y,L=r&&(!I||B||_||k||g((function(){return R[E]=!1,O(N)!=N||O(R)==R||"/a/i"!=O(N,"i")})));if(o("RegExp",L)){for(var U=function(e,t){var n,r,i,a,o,c,l=f(S,this),p=d(e),v=void 0===t,m=[],g=e;if(!l&&p&&v&&e.constructor===U)return e;if((p||f(S,e))&&(e=e.source,v&&(t="flags"in g?g.flags:C(g))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),g=e,_&&"dotAll"in N&&(r=!!t&&F(t,"s")>-1)&&(t=T(t,/s/g,"")),n=t,B&&"sticky"in N&&(i=!!t&&F(t,"y")>-1)&&z&&(t=T(t,/y/g,"")),k&&(a=function(e){for(var t,n=e.length,r=0,i="",a=[],o={},u=!1,s=!1,c=0,l="";r<=n;r++){if("\\"===(t=j(e,r)))t+=j(e,++r);else if("]"===t)u=!1;else if(!u)switch(!0){case"["===t:u=!0;break;case"("===t:D(M,P(e,r+1))&&(r+=2,s=!0),i+=t,c++;continue;case">"===t&&s:if(""===l||y(o,l))throw new A("Invalid capture group name");o[l]=!0,a[a.length]=[l,c],s=!1,l="";continue}s?l+=t:i+=t}return[i,a]}(e),e=a[0],m=a[1]),o=u(O(e,t),l?this:S,U),(r||i||m.length)&&(c=b(o),r&&(c.dotAll=!0,c.raw=U(function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)"\\"!==(t=j(e,r))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+j(e,++r);return i}(e),n)),i&&(c.sticky=!0),m.length&&(c.groups=m)),e!==g)try{s(o,"source",""===g?"(?:)":g)}catch(x){}return o},q=function(e){e in U||c(U,e,{configurable:!0,get:function(){return O[e]},set:function(t){O[e]=t}})},W=l(O),H=0;W.length>H;)q(W[H++]);S.constructor=U,U.prototype=S,m(i,"RegExp",U)}x("RegExp")},447:function(e,t,n){"use strict";var r=n(7768),i=n(4087);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},4208:function(e,t,n){"use strict";var r=n(4932),i=n(3211).PROPER,a=n(2422),o=n(5884),u=n(8946),s=n(6124),c=n(2837),l=n(7687),f="toString",d=RegExp.prototype,h=d.toString,p=r(l),v=c((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),m=i&&h.name!=f;(v||m)&&a(RegExp.prototype,f,(function(){var e=o(this),t=s(e.source),n=e.flags;return"/"+t+"/"+s(void 0===n&&u(d,e)&&!("flags"in d)?p(e):n)}),{unsafe:!0})},4121:function(e,t,n){"use strict";var r=n(7768),i=n(4932),a=n(9693),o=n(2244),u=n(6124),s=n(2525),c=i("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~c(u(o(this)),u(a(e)),arguments.length>1?arguments[1]:void 0)}})},1504:function(e,t,n){"use strict";var r=n(7768),i=n(6840),a=n(8513),o=n(4932),u=n(2244),s=n(9218),c=n(670),l=n(6124),f=n(3863),d=n(7687),h=n(7794),p=n(5028),v=n(3608),m=p("replace"),g=RegExp.prototype,y=i.TypeError,b=o(d),x=o("".indexOf),w=o("".replace),_=o("".slice),k=Math.max,E=function(e,t,n){return n>e.length?-1:""===t?n:x(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,i,o,d,p,O,S,A,C=u(this),D=0,j=0,T="";if(null!=e){if((n=c(e))&&(r=l(u("flags"in g?e.flags:b(e))),!~x(r,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(i=f(e,m))return a(i,e,C,t);if(v&&n)return w(l(C),e,t)}for(o=l(C),d=l(e),(p=s(t))||(t=l(t)),O=d.length,S=k(1,O),D=E(o,d,0);-1!==D;)A=p?l(t(d,D,o)):h(d,o,D,[],void 0,t),T+=_(o,j,D)+A,j=D+O,D=E(o,d,D+S);return j<o.length&&(T+=_(o,j)),T}})},4178:function(e,t,n){"use strict";var r=n(6339),i=n(8513),a=n(4932),o=n(8093),u=n(2837),s=n(5884),c=n(9218),l=n(2128),f=n(2347),d=n(6124),h=n(2244),p=n(5466),v=n(3863),m=n(7794),g=n(2781),y=n(5028)("replace"),b=Math.max,x=Math.min,w=a([].concat),_=a([].push),k=a("".indexOf),E=a("".slice),O="$0"==="a".replace(/./,"$0"),S=!!/./[y]&&""===/./[y]("a","$0");o("replace",(function(e,t,n){var a=S?"$":"$0";return[function(e,n){var r=h(this),a=void 0==e?void 0:v(e,y);return a?i(a,e,r,n):i(t,d(r),e,n)},function(e,i){var o=s(this),u=d(e);if("string"==typeof i&&-1===k(i,a)&&-1===k(i,"$<")){var h=n(t,o,u,i);if(h.done)return h.value}var v=c(i);v||(i=d(i));var y=o.global;if(y){var O=o.unicode;o.lastIndex=0}for(var S=[];;){var A=g(o,u);if(null===A)break;if(_(S,A),!y)break;""===d(A[0])&&(o.lastIndex=p(u,f(o.lastIndex),O))}for(var C,D="",j=0,T=0;T<S.length;T++){for(var F=d((A=S[T])[0]),P=b(x(l(A.index),u.length),0),M=[],N=1;N<A.length;N++)_(M,void 0===(C=A[N])?C:String(C));var R=A.groups;if(v){var I=w([F],M,P,u);void 0!==R&&_(I,R);var B=d(r(i,void 0,I))}else B=m(F,u,P,M,R,i);P>=j&&(D+=E(u,j,P)+B,j=P+F.length)}return D+E(u,j)}]}),!!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||S)},2872:function(e,t,n){"use strict";var r=n(6339),i=n(8513),a=n(4932),o=n(8093),u=n(670),s=n(5884),c=n(2244),l=n(917),f=n(5466),d=n(2347),h=n(6124),p=n(3863),v=n(3278),m=n(2781),g=n(4087),y=n(8596),b=n(2837),x=y.UNSUPPORTED_Y,w=4294967295,_=Math.min,k=[].push,E=a(/./.exec),O=a(k),S=a("".slice),A=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=h(c(this)),o=void 0===n?w:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!u(e))return i(t,a,e,o);for(var s,l,f,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,p+"g");(s=i(g,y,a))&&!((l=y.lastIndex)>m&&(O(d,S(a,m,s.index)),s.length>1&&s.index<a.length&&r(k,d,v(s,1)),f=s[0].length,m=l,d.length>=o));)y.lastIndex===s.index&&y.lastIndex++;return m===a.length?!f&&E(y,"")||O(d,""):O(d,S(a,m)),d.length>o?v(d,0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),o=void 0==t?void 0:p(t,e);return o?i(o,t,r,n):i(a,h(r),t,n)},function(e,r){var i=s(this),o=h(e),u=n(a,i,o,r,a!==t);if(u.done)return u.value;var c=l(i,RegExp),p=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(x?"g":"y"),g=new c(x?"^(?:"+i.source+")":i,v),y=void 0===r?w:r>>>0;if(0===y)return[];if(0===o.length)return null===m(g,o)?[o]:[];for(var b=0,k=0,E=[];k<o.length;){g.lastIndex=x?0:k;var A,C=m(g,x?S(o,k):o);if(null===C||(A=_(d(g.lastIndex+(x?k:0)),o.length))===b)k=f(o,k,p);else{if(O(E,S(o,b,k)),E.length===y)return E;for(var D=1;D<=C.length-1;D++)if(O(E,C[D]),E.length===y)return E;k=b=A}}return O(E,S(o,b)),E}]}),!A,x)},2934:function(e,t,n){"use strict";var r=n(7768),i=n(6889).trim;r({target:"String",proto:!0,forced:n(1879)("trim")},{trim:function(){return i(this)}})},1225:function(e,t,n){n(1504)},1740:function(e,t,n){var r=n(6840),i=n(650),a=n(2752),o=n(8887),u=n(3873),s=n(5028),c=s("iterator"),l=s("toStringTag"),f=o.values,d=function(e,t){if(e){if(e[c]!==f)try{u(e,c,f)}catch(r){e[c]=f}if(e[l]||u(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{u(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var h in i)d(r[h]&&r[h].prototype,h);d(a,"DOMTokenList")},1578:function(e,t,n){"use strict";var r=n(7757),i=n(3269).default,a=n(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.allowedFiles,n=e.setAcceptedFiles,r=e.devmode,i=(0,u.useDropzone)(w(t)),a=i.getRootProps,s=i.getInputProps,c=i.acceptedFiles,l=i.isFocused,f=i.isDragAccept,d=i.isDragReject,p=(0,o.useMemo)((function(){return h(h(h(h({},v),l?m:{}),f?g:{}),d?y:{})}),[l,f,d]);return(0,o.useEffect)((function(){b(c,n,t,r)}),[c,n,t,r]),o.default.createElement("div",a({style:p}),o.default.createElement("input",s()),o.default.createElement("p",null,"Drag a file or folder into this area, or click here to select a file"))},n(7675),n(1740),n(447),n(2603),n(2872),n(4121);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),u=n(7831),s=l(n(5587)),c=l(n(5380));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={alignItems:"center",textAlign:"center",padding:"20px",fontSize:"15px",textShadow:"0px 0px 10px #12263bf7",borderWidth:3,borderRadius:"20px",borderColor:"black",borderStyle:"dashed",backgroundColor:"#2185d0",color:"white",outline:"none",cursor:"pointer",transition:"border .24s ease-in-out"},m={},g={},y={};var b=function(){var e=a(r.mark((function e(t,n,a,o){var u,s,l,f,d,h,p,v;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=[],s=i(t),e.prev=2,s.s();case 4:if((l=s.n()).done){e.next=19;break}if(f=l.value,!/\.zip$/.test(f.name.toLowerCase())){e.next=14;break}return e.next=9,x(f,a);case 9:d=e.sent,h=i(d);try{for(h.s();!(p=h.n()).done;)v=p.value,u.push(v)}catch(r){h.e(r)}finally{h.f()}e.next=17;break;case 14:if(!o||_(f.path,a)){e.next=16;break}return e.abrupt("continue",17);case 16:u.push(new c.default(f.name,f.path,f));case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:n(u);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),x=function(){var e=a(r.mark((function e(t,n){var i,a,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new s.default,e.next=3,i.loadAsync(t);case 3:return a=e.sent,o=Object.values(a.files),e.abrupt("return",o.reduce((function(e,t){if(!_(t.name,n))return e;var r=t.name.split("/").splice(-1)[0];return e.push(new c.default(r,t.name,t,a)),e}),[]));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e,t){if(!e||t)return{};return{validator:function(t){return/\.zip$/.test(t.name.toLowerCase())||_(t.path,e)?null:{code:"file-not-allowed",message:"File doesn't match any of the allowed filenames"}}}},_=function(e,t){if(0===t.length)return!0;var n,r=i(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e.toLowerCase().includes(a.toLowerCase()))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}},5380:function(e,t,n){"use strict";var r=n(7757),i=n(8926).default,a=n(4575).default,o=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(7675);var u,s=(u=n(1025))&&u.__esModule?u:{default:u};var c=function(){function e(t,n,r){a(this,e);var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.name=t,this.path=n,this.blob=r,this.zipped=i}return o(e,[{key:"read",value:function(){var e=this;if(this.zipped)return this.zipped.file(this.path).async("text");var t=new FileReader;return new Promise((function(n,r){t.onerror=function(){t.abort(),r(new DOMException("Problem parsing input file."))},t.onload=function(){n(t.result)},t.readAsText(e.blob)}))}},{key:"parse",value:function(){var e=i(r.mark((function e(t){var n,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this.read();case 4:i=e.sent,"json"===t&&(n=JSON.parse(i)),"html"===t&&(n=(new DOMParser).parseFromString(i,"text/html")),"csv"===t&&(n=s.default.parse(i,{header:!0}).data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(this.name,e.t0);case 13:if(null!==n){e.next=17;break}return e.abrupt("return",{content:n,filetype:t,message:"Failed to parse file as ".concat(t)});case 17:return e.abrupt("return",{content:n,filetype:t,message:"parsed file as ".concat(t)});case 18:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=c},6811:function(e,t,n){"use strict";Object.defineProperty(t,"rE",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"p0",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return i.default}});var r=o(n(1578)),i=o(n(6908)),a=o(n(6517));function o(e){return e&&e.__esModule?e:{default:e}}},8645:function(e,t,n){"use strict";var r=n(3038).default,i=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n.length)return[];var u=Array.from(e.querySelectorAll(t));o&&(u=u.slice(0,5));if(!u||0===u.length)return[];var s=u.map((function(e){var t,o={},u=i(n);try{for(u.s();!(t=u.n()).done;){var s=t.value;if("FULL_ROW_OBJECT"!==s){var c=s.split("@"),l=r(c,2),f=l[0],d=l[1],h=""===f?e:e.querySelector(f);if(h)if(d)if("OUTER"===d)o[s]=h.outerHTML;else if("INNER"===d)o[s]=h.innerHTML;else if("TEXT"===d)o[s]=a(h);else{var p,v;o[s]=null===(p=h.attributes)||void 0===p||null===(v=p[d])||void 0===v?void 0:v.textContent}else o[s]=h.textContent}else o[s]=e.outerHTML}}catch(m){u.e(m)}finally{u.f()}return o}));return s},n(1740),n(447),n(2872),n(2934);var a=function(e){var t,n=[],r=i(e.childNodes);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.nodeType===Node.TEXT_NODE&&n.push(a.textContent.trim())}}catch(o){r.e(o)}finally{r.f()}return n.join(" ")}},766:function(e,t,n){"use strict";var r=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n.length)return[];var o=!1,u=(0,i.JSONPath)({path:t||"$.",json:e,wrap:o});a&&(u=u.slice(0,5));if(!u)return[];var s=u.map((function(e){var t,a={},u=r(n);try{for(u.s();!(t=u.n()).done;){var s=t.value;"FULL_ROW_OBJECT"!==s?a[s]=(0,i.JSONPath)({path:s,json:e,wrap:o}):a[s]=JSON.stringify(e,null,2)}}catch(c){u.e(c)}finally{u.f()}return a}));return s},n(1740);var i=n(6251)},9045:function(e,t,n){"use strict";var r=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=(0,o.default)(t);var c=[];if(null===(n=t)||void 0===n||!n.columns)return[];var l,f=[],d={},h=r(t.columns);try{for(h.s();!(l=h.n()).done;){var p=l.value,v=Array.isArray(p.selector)?p.selector:[p.selector];if(""!==p.name&&0!==v.length){var m,g=r(v);try{for(g.s();!(m=g.n()).done;){var y=m.value;f.includes(y)||f.push(y),d[y]||(d[y]=[]),d[y].push(p.name)}}catch(M){g.e(M)}finally{g.f()}}}}catch(M){h.e(M)}finally{h.f()}u&&(f.push("FULL_ROW_OBJECT"),d.FULL_ROW_OBJECT=["FULL ROW OBJECT"]);try{var b=Array.isArray(t.rows_selector)?t.rows_selector:[t.rows_selector];0===b.length&&(b=[null]);var x,w=r(b);try{for(w.s();!(x=w.n()).done;){var _=x.value,k=void 0;"json"===t.filetype&&(k=(0,a.default)(e.content,_,f,s)),"html"===t.filetype&&(k=(0,i.default)(e.content,_,f,s));var E,O=r(k);try{for(O.s();!(E=O.n()).done;){for(var S=E.value,A={},C=0,D=Object.keys(S);C<D.length;C++){var j,T=D[C],F=r(d[T]);try{for(F.s();!(j=F.n()).done;){var P=j.value;A[P]=S[T]}}catch(M){F.e(M)}finally{F.f()}}c.push(A)}}catch(M){O.e(M)}finally{O.f()}}}catch(M){w.e(M)}finally{w.f()}}catch(N){console.log(N),c=null}return c},n(1740);var i=u(n(8645)),a=u(n(766)),o=u(n(265));function u(e){return e&&e.__esModule?e:{default:e}}},6517:function(e,t,n){"use strict";var r=n(319).default,i=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n={recipes:[],files:[]},a=i(e);try{for(a.s();!(t=a.n()).done;){var u=t.value,s=(0,o.default)(u);n.recipes.push(s),n.files=[].concat(r(n.files),r(s.file))}}catch(c){a.e(c)}finally{a.f()}return n},n(1740);var a,o=(a=n(265))&&a.__esModule?a:{default:a}},6908:function(e,t,n){"use strict";var r=n(7757),i=n(8926).default,a=n(4575).default,o=n(3913).default,u=n(319).default,s=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1740),n(4121),n(7675);var c=f(n(9045)),l=f(n(9563));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n){a(this,e),this.recipe=t,this.files=n}return o(e,[{key:"cook",value:function(){var e=i(r.mark((function e(){var t,n,i,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.files.length){e.next=2;break}return e.abrupt("return",{data:[],status:"no files"});case 2:t=s(this.files),e.prev=3,t.s();case 5:if((n=t.n()).done){e.next=21;break}return i=n.value,e.prev=7,e.next=10,i.parse(this.recipe.filetype);case 10:return a=e.sent,a=(0,c.default)(a,this.recipe),a=(0,l.default)(a,this.recipe),e.abrupt("return",{data:a,status:"success"});case 16:e.prev=16,e.t0=e.catch(7),console.log("Could not cook ".concat(this.recipe.name," with ").concat(i.name));case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(3),t.e(e.t1);case 26:return e.prev=26,t.f(),e.finish(26);case 29:return e.abrupt("return",{data:[],status:"failed"});case 30:case"end":return e.stop()}}),e,this,[[3,23,26,29],[7,16]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),h=function(e,t){var n,r=[],i=s(e.recipes);try{for(i.s();!(n=i.n()).done;){var a,o=n.value,c=[],l=s(o.file);try{var f=function(){var e=a.value,n=t.filter((function(t){return t.path.toLowerCase().includes(e.toLowerCase())}));c=[].concat(u(c),u(n))};for(l.s();!(a=l.n()).done;)f()}catch(h){l.e(h)}finally{l.f()}r.push(new d(o,c))}}catch(h){i.e(h)}finally{i.f()}return r};t.default=h},265:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e){return Array.isArray(e)?e:[e]};e.file=t(e.file)||[],e.filetype=e.filetype||"json",e.rows_selector=t(e.rows_selector)||[],e.columns=e.columns||[];for(var n=0;n<e.columns.length;n++)e.columns[n].selector=t(e.columns[n].selector)||[];return e.transformers=e.transformers||[],e}},8363:function(e,t,n){"use strict";var r=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.transformerFunctions=void 0,n(5979),n(447),n(4208),n(4178),n(1225),n(1740),n(2934);var i=u(n(7892)),a=u(n(8808)),o=u(n(4959));function u(e){return e&&e.__esModule?e:{default:e}}i.default.extend(a.default);var s={replace:{label:"replace",description:"Replace a matched regular expression",arguments:[{name:"regex",type:"string",default:""},{name:"replacement",type:"string",default:""},{name:"case sensitive",type:"bool",default:!1}],transform:function(e,t,n,r){var i=new RegExp(t,r?"g":"gi");return e.replaceAll(i,n)}},int_to_date:{label:"date from integer",description:"Read a date formatted as [units] since UNIX epoch",arguments:[{name:"unit",type:"option",options:["microsecond","millisecond","second"],default:"millisecond"}],transform:function(e,t){return"microsecond"===t&&(e/=1e3),"second"===t&&(e*=1e3),new Date(e)}},str_to_date:{label:"date from string",description:"Transform string to date",arguments:[{name:"format",type:"string_multiple",link:"https://day.js.org/docs/en/parse/string-format",placeholder:"Add formats (one per line)",default:[]},{name:"auto parse",type:"bool",default:!0}],transform:function(e,t,n){var a,u=r(t).filter((function(e){return""!==e}));return(a=u&&0!==u.length?(0,i.default)(e,u):(0,i.default)(e)).isValid()?a.toDate():(n&&(a=o.default.fromString(e)),a instanceof Date?a:"invalid date: ".concat(e))}},trim:{label:"trim",description:"remove leading and trailing whitespace",arguments:[],transform:function(e){return e.trim()}}};t.transformerFunctions=s},9563:function(e,t,n){"use strict";var r=n(319).default,i=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(t=(0,u.default)(t)).transformers;if(!n)return e;var a,c=i(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;try{if(!l.column||!l.transformer)continue;for(var f=o.transformerFunctions[l.transformer].transform,d=s(l.transformer,l.arguments),h=0;h<e.length;h++){var p=e[h][l.column];if(null!=p){var v=l.new_column||l.column;e[h][v]=f.apply(void 0,[p].concat(r(d)))}}}catch(m){console.log(m)}}}catch(g){c.e(g)}finally{c.f()}return e},n(1740);var a,o=n(8363),u=(a=n(265))&&a.__esModule?a:{default:a};var s=function(e,t){return o.transformerFunctions[e].arguments.map((function(e){var n,r=null!==(n=t[e.name])&&void 0!==n?n:e.default;return"string_multiple"!==e.type||Array.isArray(r)||(r=[r]),r}))}},7892:function(e){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",i="day",a="week",o="month",u="quarter",s="year",c="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},p={s:h,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+h(r,2,"0")+":"+h(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,o),a=n-i<0,u=t.clone().add(r+(a?-1:1),o);return+(-(r+(n-i)/(a?i-u:u-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:o,y:s,w:a,d:i,D:c,h:r,m:n,s:t,ms:e,Q:u}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",m={};m[v]=d;var g=function(e){return e instanceof w},y=function(e,t,n){var r;if(!e)return v;if("string"==typeof e)m[e]&&(r=e),t&&(m[e]=t,r=e);else{var i=e.name;m[i]=e,r=i}return!n&&r&&(v=r),r||!n&&v},b=function(e,t){if(g(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},x=p;x.l=y,x.i=g,x.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function d(e){this.$L=y(e.locale,null,!0),this.parse(e)}var h=d.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return x},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var n=b(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return b(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<b(e)},h.$g=function(e,t,n){return x.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,u){var l=this,f=!!x.u(u)||u,d=x.p(e),h=function(e,t){var n=x.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return f?n:n.endOf(i)},p=function(e,t){return x.w(l.toDate()[e].apply(l.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},v=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case s:return f?h(1,0):h(31,11);case o:return f?h(1,m):h(0,m+1);case a:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return h(f?g-w:g+(6-w),m);case i:case c:return p(y+"Hours",0);case r:return p(y+"Minutes",1);case n:return p(y+"Seconds",2);case t:return p(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(a,u){var l,f=x.p(a),d="set"+(this.$u?"UTC":""),h=(l={},l[i]=d+"Date",l[c]=d+"Date",l[o]=d+"Month",l[s]=d+"FullYear",l[r]=d+"Hours",l[n]=d+"Minutes",l[t]=d+"Seconds",l[e]=d+"Milliseconds",l)[f],p=f===i?this.$D+(u-this.$W):u;if(f===o||f===s){var v=this.clone().set(c,1);v.$d[h](p),v.init(),this.$d=v.set(c,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[x.p(e)]()},h.add=function(e,u){var c,l=this;e=Number(e);var f=x.p(u),d=function(t){var n=b(l);return x.w(n.date(n.date()+Math.round(t*e)),l)};if(f===o)return this.set(o,this.$M+e);if(f===s)return this.set(s,this.$y+e);if(f===i)return d(1);if(f===a)return d(7);var h=(c={},c[n]=6e4,c[r]=36e5,c[t]=1e3,c)[f]||1,p=this.$d.getTime()+e*h;return x.w(p,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=x.z(this),i=this.$locale(),a=this.$H,o=this.$m,u=this.$M,s=i.weekdays,c=i.months,l=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].substr(0,a)},d=function(e){return x.s(a%12||12,e,"0")},h=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:x.s(u+1,2,"0"),MMM:l(i.monthsShort,u,c,3),MMMM:l(c,u),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,s,2),ddd:l(i.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(a),HH:x.s(a,2,"0"),h:d(1),hh:d(2),a:h(a,o,!0),A:h(a,o,!1),m:String(o),mm:x.s(o,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:r};return n.replace(f,(function(e,t){return t||p[e]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,c,l){var f,d=x.p(c),h=b(e),p=6e4*(h.utcOffset()-this.utcOffset()),v=this-h,m=x.m(this,h);return m=(f={},f[s]=m/12,f[o]=m,f[u]=m/3,f[a]=(v-p)/6048e5,f[i]=(v-p)/864e5,f[r]=v/36e5,f[n]=v/6e4,f[t]=v/1e3,f)[d]||v,l?m:x.a(m)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return m[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=y(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return x.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},d}(),_=w.prototype;return b.prototype=_,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W",i],["$M",o],["$y",s],["$D",c]].forEach((function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),b.extend=function(e,t){return e.$i||(e(t,w,b),e.$i=!0),b},b.locale=y,b.isDayjs=g,b.unix=function(e){return b(1e3*e)},b.en=m[v],b.Ls=m,b.p={},b}()},8808:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var a=i&&i.toUpperCase();return r||n[i]||e[i]||n[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))},n=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,i=/\d\d?/,a=/\d*[^\s\d-_:/()]+/,o={},u=function(e){return function(t){this[e]=+t}},s=[/[+-]\d\d:?(\d\d)?/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},f={A:[a,function(e){this.afternoon=l(e,!1)}],a:[a,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,u("seconds")],ss:[i,u("seconds")],m:[i,u("minutes")],mm:[i,u("minutes")],H:[i,u("hours")],h:[i,u("hours")],HH:[i,u("hours")],hh:[i,u("hours")],D:[i,u("day")],DD:[r,u("day")],Do:[a,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[i,u("month")],MM:[r,u("month")],MMM:[a,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.substr(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[a,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(e){e=+e,this.year=e+(e>68?1900:2e3)}],YYYY:[/\d{4}/,u("year")],Z:s,ZZ:s},d=function(e,r,i){try{var a=function(e){for(var r=(e=t(e,o&&o.formats)).match(n),i=r.length,a=0;a<i;a+=1){var u=r[a],s=f[u],c=s&&s[0],l=s&&s[1];r[a]=l?{regex:c,parser:l}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,a=0;n<i;n+=1){var o=r[n];if("string"==typeof o)a+=o.length;else{var u=o.regex,s=o.parser,c=e.substr(a),l=u.exec(c)[0];s.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}(r)(e),u=a.year,s=a.month,c=a.day,l=a.hours,d=a.minutes,h=a.seconds,p=a.milliseconds,v=a.zone,m=new Date,g=c||(u||s?1:m.getDate()),y=u||m.getFullYear(),b=0;u&&!s||(b=s>0?s-1:m.getMonth());var x=l||0,w=d||0,_=h||0,k=p||0;return v?new Date(Date.UTC(y,b,g,x,w,_,k+60*v.offset*1e3)):i?new Date(Date.UTC(y,b,g,x,w,_,k)):new Date(y,b,g,x,w,_,k)}catch(e){return new Date("")}};return function(e,t,n){n.p.customParseFormat=!0;var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var u=a[1];if("string"==typeof u){var s=!0===a[2],c=!0===a[3],l=s||c,f=a[2];c&&(f=a[2]),o=this.$locale(),!s&&f&&(o=n.Ls[f]),this.$d=d(t,u,r),this.init(),f&&!0!==f&&(this.$L=this.locale(f).$L),l&&t!==this.format(u)&&(this.$d=new Date("")),o={}}else if(u instanceof Array)for(var h=u.length,p=1;p<=h;p+=1){a[1]=u[p-1];var v=n.apply(this,a);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}p===h&&(this.$d=new Date(""))}else i.call(this,e)}}}()},2618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},1132:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},u=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},s=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,c,l,f=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"===typeof f&&(p=f,f=arguments[1]||{},d=2),(null==f||"object"!==typeof f&&"function"!==typeof f)&&(f={});d<h;++d)if(null!=(t=arguments[d]))for(n in t)r=s(f,n),f!==(i=s(t,n))&&(p&&i&&(o(i)||(c=a(i)))?(c?(c=!1,l=r&&a(r)?r:[]):l=r&&o(r)?r:{},u(f,{name:n,newValue:e(p,l,i)})):"undefined"!==typeof i&&u(f,{name:n,newValue:i}));return f}},7488:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1809),a=n(6145),o=n(525),u=n(4333),s=n(1654),c=n(8829),l=n(1889),f=function(e){return e.source instanceof a.default?e.source:e.source.objectStore},d=function(e,t,n){var a,u,s,c,l=void 0!==e?e.lower:void 0,f=void 0!==e?e.upper:void 0;try{for(var d=r(t),h=d.next();!h.done;h=d.next()){var p=h.value;void 0!==p&&(void 0!==l&&1!==o.default(l,p)||(l=p))}}catch(y){a={error:y}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(a)throw a.error}}try{for(var v=r(n),m=v.next();!m.done;m=v.next()){var g=m.value;void 0!==g&&(void 0!==f&&-1!==o.default(f,g)||(f=g))}}catch(b){s={error:b}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(s)throw s.error}}return void 0!==l&&void 0!==f?i.default.bound(l,f):void 0!==l?i.default.lowerBound(l):void 0!==f?i.default.upperBound(f):void 0},h=function(){function e(e,t,n,r,i){void 0===n&&(n="next"),void 0===i&&(i=!1),this._gotValue=!1,this._position=void 0,this._objectStorePosition=void 0,this._keyOnly=!1,this._key=void 0,this._primaryKey=void 0,this._range=t,this._source=e,this._direction=n,this._request=r,this._keyOnly=i}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryKey",{get:function(){return this._primaryKey},set:function(e){},enumerable:!0,configurable:!0}),e.prototype._iterate=function(e,t){var n,i,u,s,l,f,h,p,v,m,g=this.source instanceof a.default,y=this.source instanceof a.default?this.source._rawObjectStore.records:this.source._rawIndex.records;if("next"===this.direction){var b=d(this._range,[e,this._position],[]);try{for(var x=r(y.values(b)),w=x.next();!w.done;w=x.next()){var _=w.value,k=void 0!==e?o.default(_.key,e):void 0,E=void 0!==this._position?o.default(_.key,this._position):void 0;if(void 0===e||-1!==k){if(void 0!==t){if(-1===k)continue;var O=o.default(_.value,t);if(0===k&&-1===O)continue}if(void 0===this._position||!g||1===E){if(void 0!==this._position&&!g){if(-1===E)continue;if(0===E&&1!==o.default(_.value,this._objectStorePosition))continue}if(void 0===this._range||this._range.includes(_.key)){v=_;break}}}}}catch(M){n={error:M}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}}else if("nextunique"===this.direction){b=d(this._range,[e,this._position],[]);try{for(var S=r(y.values(b)),A=S.next();!A.done;A=S.next()){_=A.value;if((void 0===e||-1!==o.default(_.key,e))&&((void 0===this._position||1===o.default(_.key,this._position))&&(void 0===this._range||this._range.includes(_.key)))){v=_;break}}}catch(N){u={error:N}}finally{try{A&&!A.done&&(s=S.return)&&s.call(S)}finally{if(u)throw u.error}}}else if("prev"===this.direction){b=d(this._range,[],[e,this._position]);try{for(var C=r(y.values(b,"prev")),D=C.next();!D.done;D=C.next()){_=D.value,k=void 0!==e?o.default(_.key,e):void 0,E=void 0!==this._position?o.default(_.key,this._position):void 0;if(void 0===e||1!==k){if(void 0!==t){if(1===k)continue;O=o.default(_.value,t);if(0===k&&1===O)continue}if(void 0===this._position||!g||-1===E){if(void 0!==this._position&&!g){if(1===E)continue;if(0===E&&-1!==o.default(_.value,this._objectStorePosition))continue}if(void 0===this._range||this._range.includes(_.key)){v=_;break}}}}}catch(R){l={error:R}}finally{try{D&&!D.done&&(f=C.return)&&f.call(C)}finally{if(l)throw l.error}}}else if("prevunique"===this.direction){var j=void 0;b=d(this._range,[],[e,this._position]);try{for(var T=r(y.values(b,"prev")),F=T.next();!F.done;F=T.next()){_=F.value;if((void 0===e||1!==o.default(_.key,e))&&((void 0===this._position||-1===o.default(_.key,this._position))&&(void 0===this._range||this._range.includes(_.key)))){j=_;break}}}catch(I){h={error:I}}finally{try{F&&!F.done&&(p=T.return)&&p.call(T)}finally{if(h)throw h.error}}j&&(v=y.get(j.key))}if(v){if(this._position=v.key,g||(this._objectStorePosition=v.value),this._key=v.key,g)this._primaryKey=c.default(v.key),this._keyOnly||"[object IDBCursorWithValue]"!==this.toString()||(this.value=c.default(v.value));else if(this._primaryKey=c.default(v.value),!this._keyOnly&&"[object IDBCursorWithValue]"===this.toString()){if(this.source instanceof a.default)throw new Error("This should never happen");var P=this.source.objectStore._rawObjectStore.getValue(v.value);this.value=c.default(P)}this._gotValue=!0,m=this}else this._key=void 0,g||(this._objectStorePosition=void 0),this._keyOnly||"[object IDBCursorWithValue]"!==this.toString()||(this.value=void 0),m=null;return m},e.prototype.update=function(e){if(void 0===e)throw new TypeError;var t=f(this),n=this.source.hasOwnProperty("_rawIndex")?this.primaryKey:this._position,r=t.transaction;if("active"!==r._state)throw new u.TransactionInactiveError;if("readonly"===r.mode)throw new u.ReadOnlyError;if(t._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(!this._gotValue||!this.hasOwnProperty("value"))throw new u.InvalidStateError;var i=c.default(e);if(null!==t.keyPath){var l=void 0;try{l=s.default(t.keyPath,i)}catch(h){}if(0!==o.default(l,n))throw new u.DataError}var d={key:n,value:i};return r._execRequestAsync({operation:t._rawObjectStore.storeRecord.bind(t._rawObjectStore,d,!1,r._rollbackLog),source:this})},e.prototype.advance=function(e){var t=this;if(!Number.isInteger(e)||e<=0)throw new TypeError;var n=f(this),r=n.transaction;if("active"!==r._state)throw new u.TransactionInactiveError;if(n._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(!this._gotValue)throw new u.InvalidStateError;this._request&&(this._request.readyState="pending"),r._execRequestAsync({operation:function(){for(var n,r=0;r<e&&(n=t._iterate());r++);return n},request:this._request,source:this.source}),this._gotValue=!1},e.prototype.continue=function(e){var t=f(this),n=t.transaction;if("active"!==n._state)throw new u.TransactionInactiveError;if(t._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(!this._gotValue)throw new u.InvalidStateError;if(void 0!==e){e=l.default(e);var r=o.default(e,this._position);if(r<=0&&("next"===this.direction||"nextunique"===this.direction)||r>=0&&("prev"===this.direction||"prevunique"===this.direction))throw new u.DataError}this._request&&(this._request.readyState="pending"),n._execRequestAsync({operation:this._iterate.bind(this,e),request:this._request,source:this.source}),this._gotValue=!1},e.prototype.continuePrimaryKey=function(e,t){var n=f(this),r=n.transaction;if("active"!==r._state)throw new u.TransactionInactiveError;if(n._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(this.source instanceof a.default||"next"!==this.direction&&"prev"!==this.direction)throw new u.InvalidAccessError;if(!this._gotValue)throw new u.InvalidStateError;if(void 0===e||void 0===t)throw new u.DataError;e=l.default(e);var i=o.default(e,this._position);if(-1===i&&"next"===this.direction||1===i&&"prev"===this.direction)throw new u.DataError;var s=o.default(t,this._objectStorePosition);if(0===i&&(s<=0&&"next"===this.direction||s>=0&&"prev"===this.direction))throw new u.DataError;this._request&&(this._request.readyState="pending"),r._execRequestAsync({operation:this._iterate.bind(this,e,t),request:this._request,source:this.source}),this._gotValue=!1},e.prototype.delete=function(){var e=f(this),t=this.source.hasOwnProperty("_rawIndex")?this.primaryKey:this._position,n=e.transaction;if("active"!==n._state)throw new u.TransactionInactiveError;if("readonly"===n.mode)throw new u.ReadOnlyError;if(e._rawObjectStore.deleted)throw new u.InvalidStateError;if(!(this.source instanceof a.default)&&this.source._rawIndex.deleted)throw new u.InvalidStateError;if(!this._gotValue||!this.hasOwnProperty("value"))throw new u.InvalidStateError;return n._execRequestAsync({operation:e._rawObjectStore.deleteRecord.bind(e._rawObjectStore,t,n._rollbackLog),source:this})},e.prototype.toString=function(){return"[object IDBCursor]"},e}();t.default=h},3169:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r,i)||this;return a.value=void 0,a}return r(t,e),t.prototype.toString=function(){return"[object IDBCursorWithValue]"},t}(n(7488).default);t.default=i},7595:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5986),o=n(4333),u=n(7610),s=n(2201),c=n(9239),l=n(4801),f=n(8137),d=function(e){if(!e._runningVersionchangeTransaction)throw new o.InvalidStateError;var t=e._rawDatabase.transactions.filter((function(e){return"versionchange"===e.mode})),n=t[t.length-1];if(!n||"finished"===n._state)throw new o.InvalidStateError;if("active"!==n._state)throw new o.TransactionInactiveError;return n},h=function e(t){t._closePending=!0,t._rawDatabase.transactions.every((function(e){return"finished"===e._state}))?(t._closed=!0,t._rawDatabase.connections=t._rawDatabase.connections.filter((function(e){return t!==e}))):l.queueTask((function(){e(t)}))},p=function(e){function t(t){var n=e.call(this)||this;return n._closePending=!1,n._closed=!1,n._runningVersionchangeTransaction=!1,n._rawDatabase=t,n._rawDatabase.connections.push(n),n.name=t.name,n.version=t.version,n.objectStoreNames=u.default(Array.from(t.rawObjectStores.keys())).sort(),n}return r(t,e),t.prototype.createObjectStore=function(e,t){var n=this;if(void 0===t&&(t={}),void 0===e)throw new TypeError;var r=d(this),i=null!==t&&void 0!==t.keyPath?t.keyPath:null,a=null!==t&&void 0!==t.autoIncrement&&t.autoIncrement;if(null!==i&&f.default(i),this._rawDatabase.rawObjectStores.has(e))throw new o.ConstraintError;if(a&&(""===i||Array.isArray(i)))throw new o.InvalidAccessError;var s=this.objectStoreNames.slice();r._rollbackLog.push((function(){var t=n._rawDatabase.rawObjectStores.get(e);t&&(t.deleted=!0),n.objectStoreNames=u.default(s),r._scope.delete(e),n._rawDatabase.rawObjectStores.delete(e)}));var l=new c.default(this._rawDatabase,e,i,a);return this.objectStoreNames.push(e),this.objectStoreNames.sort(),r._scope.add(e),this._rawDatabase.rawObjectStores.set(e,l),r.objectStoreNames=u.default(this.objectStoreNames.slice()),r.objectStore(e)},t.prototype.deleteObjectStore=function(e){var t=this;if(void 0===e)throw new TypeError;var n=d(this),r=this._rawDatabase.rawObjectStores.get(e);if(void 0===r)throw new o.NotFoundError;this.objectStoreNames=u.default(this.objectStoreNames.filter((function(t){return t!==e}))),n.objectStoreNames=u.default(this.objectStoreNames.slice()),n._rollbackLog.push((function(){r.deleted=!1,t._rawDatabase.rawObjectStores.set(e,r),t.objectStoreNames.push(e),t.objectStoreNames.sort()})),r.deleted=!0,this._rawDatabase.rawObjectStores.delete(e),n._objectStoresCache.delete(e)},t.prototype.transaction=function(e,t){var n,r,u=this;if("readonly"!==(t=void 0!==t?t:"readonly")&&"readwrite"!==t&&"versionchange"!==t)throw new TypeError("Invalid mode: "+t);if(this._rawDatabase.transactions.some((function(e){return"active"===e._state&&"versionchange"===e.mode&&e.db===u})))throw new o.InvalidStateError;if(this._closePending)throw new o.InvalidStateError;if(Array.isArray(e)||(e=[e]),0===e.length&&"versionchange"!==t)throw new o.InvalidAccessError;try{for(var s=i(e),c=s.next();!c.done;c=s.next()){var l=c.value;if(this.objectStoreNames.indexOf(l)<0)throw new o.NotFoundError("No objectStore named "+l+" in this database")}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var f=new a.default(e,t,this);return this._rawDatabase.transactions.push(f),this._rawDatabase.processTransactions(),f},t.prototype.close=function(){h(this)},t.prototype.toString=function(){return"[object IDBDatabase]"},t}(s.default);t.default=p},9662:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7595),o=n(3852),u=n(7898),s=n(525),c=n(6936),l=n(6409),f=n(4333),d=n(5018),h=n(4801),p=function e(t,n,r,i){r.some((function(e){return!e._closed&&!e._closePending}))?h.queueTask((function(){return e(t,n,r,i)})):(t.delete(n),i(null))},v=function(e,t,n,i){var a,o;try{var s=e.get(t);if(void 0===s)return void i(null);s.deletePending=!0;var c=s.connections.filter((function(e){return!e._closed&&!e._closePending}));try{for(var l=r(c),f=l.next();!f.done;f=l.next()){var d=f.value;if(!d._closePending){var h=new u.default("versionchange",{newVersion:null,oldVersion:s.version});d.dispatchEvent(h)}}}catch(g){a={error:g}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}var v=c.some((function(e){return!e._closed&&!e._closePending}));if(n&&v){var m=new u.default("blocked",{newVersion:null,oldVersion:s.version});n.dispatchEvent(m)}p(e,t,c,i)}catch(y){i(y)}},m=function(e,t,n,i,o){var s=e.get(t);if(void 0===s&&(s=new c.default(t,0),e.set(t,s)),void 0===n&&(n=0!==s.version?s.version:1),s.version>n)return o(new f.VersionError);var l=new a.default(s);s.version<n?function(e,t,n,i){var a,o;e._runningVersionchangeTransaction=!0;var s=e.version,c=e._rawDatabase.connections.filter((function(t){return e!==t}));try{for(var l=r(c),d=l.next();!d.done;d=l.next()){var p=d.value;if(!p._closed&&!p._closePending){var v=new u.default("versionchange",{newVersion:t,oldVersion:s});p.dispatchEvent(v)}}}catch(g){a={error:g}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}if(c.some((function(e){return!e._closed&&!e._closePending}))){var m=new u.default("blocked",{newVersion:t,oldVersion:s});n.dispatchEvent(m)}!function r(){var a=c.some((function(e){return!e._closed&&!e._closePending}));if(a)h.queueTask(r);else{e._rawDatabase.version=t,e.version=t;var o=e.transaction(e.objectStoreNames,"versionchange");n.result=e,n.readyState="done",n.transaction=o,o._rollbackLog.push((function(){e._rawDatabase.version=s,e.version=s}));var l=new u.default("upgradeneeded",{newVersion:t,oldVersion:s});n.dispatchEvent(l),o.addEventListener("error",(function(){e._runningVersionchangeTransaction=!1})),o.addEventListener("abort",(function(){e._runningVersionchangeTransaction=!1,n.transaction=null,h.queueTask((function(){i(new f.AbortError)}))})),o.addEventListener("complete",(function(){e._runningVersionchangeTransaction=!1,n.transaction=null,h.queueTask((function(){e._closePending?i(new f.AbortError):i(null)}))}))}}()}(l,n,i,(function(e){if(e)return o(e);o(null,l)})):o(null,l)},g=function(){function e(){this.cmp=s.default,this._databases=new Map}return e.prototype.deleteDatabase=function(e){var t=this,n=new o.default;return n.source=null,h.queueTask((function(){var r=t._databases.get(e),i=void 0!==r?r.version:0;v(t._databases,e,n,(function(e){if(e){n.error=new Error,n.error.name=e.name,n.readyState="done";var t=new d.default("error",{bubbles:!0,cancelable:!0});return t.eventPath=[],void n.dispatchEvent(t)}n.result=void 0,n.readyState="done";var r=new u.default("success",{newVersion:null,oldVersion:i});n.dispatchEvent(r)}))})),n},e.prototype.open=function(e,t){var n=this;if(arguments.length>1&&void 0!==t&&(t=l.default(t,"MAX_SAFE_INTEGER")),0===t)throw new TypeError;var r=new o.default;return r.source=null,h.queueTask((function(){m(n._databases,e,t,r,(function(e,t){if(e){r.result=void 0,r.readyState="done",r.error=new Error,r.error.name=e.name;var n=new d.default("error",{bubbles:!0,cancelable:!0});return n.eventPath=[],void r.dispatchEvent(n)}r.result=t,r.readyState="done";var i=new d.default("success");i.eventPath=[],r.dispatchEvent(i)}))})),r},e.prototype.databases=function(){var e=this;return new Promise((function(t){var n,a,o=[];try{for(var u=r(e._databases),s=u.next();!s.done;s=u.next()){var c=i(s.value,2),l=c[0],f=c[1];o.push({name:l,version:f.version})}}catch(d){n={error:d}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}t(o)}))},e.prototype.toString=function(){return"[object IDBFactory]"},e}();t.default=g},8008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7488),i=n(3169),a=n(1809),o=n(9677),u=n(6409),s=n(4333),c=n(7610),l=n(1889),f=n(3217),d=function(e){if(e._rawIndex.deleted||e.objectStore._rawObjectStore.deleted)throw new s.InvalidStateError;if("active"!==e.objectStore.transaction._state)throw new s.TransactionInactiveError},h=function(){function e(e,t){this._rawIndex=t,this._name=t.name,this.objectStore=e,this.keyPath=t.keyPath,this.multiEntry=t.multiEntry,this.unique=t.unique}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){var t=this,n=this.objectStore.transaction;if(!n.db._runningVersionchangeTransaction)throw new s.InvalidStateError;if("active"!==n._state)throw new s.TransactionInactiveError;if(this._rawIndex.deleted||this.objectStore._rawObjectStore.deleted)throw new s.InvalidStateError;if((e=String(e))!==this._name){if(this.objectStore.indexNames.indexOf(e)>=0)throw new s.ConstraintError;var r=this._name,i=this.objectStore.indexNames.slice();this._name=e,this._rawIndex.name=e,this.objectStore._indexesCache.delete(r),this.objectStore._indexesCache.set(e,this),this.objectStore._rawObjectStore.rawIndexes.delete(r),this.objectStore._rawObjectStore.rawIndexes.set(e,this._rawIndex),this.objectStore.indexNames=c.default(Array.from(this.objectStore._rawObjectStore.rawIndexes.keys()).filter((function(e){var n=t.objectStore._rawObjectStore.rawIndexes.get(e);return n&&!n.deleted}))).sort(),n._rollbackLog.push((function(){t._name=r,t._rawIndex.name=r,t.objectStore._indexesCache.delete(e),t.objectStore._indexesCache.set(r,t),t.objectStore._rawObjectStore.rawIndexes.delete(e),t.objectStore._rawObjectStore.rawIndexes.set(r,t._rawIndex),t.objectStore.indexNames=c.default(i)}))}},enumerable:!0,configurable:!0}),e.prototype.openCursor=function(e,t){d(this),null===e&&(e=void 0),void 0===e||e instanceof a.default||(e=a.default.only(l.default(e)));var n=new o.default;n.source=this,n.transaction=this.objectStore.transaction;var r=new i.default(this,e,t,n);return this.objectStore.transaction._execRequestAsync({operation:r._iterate.bind(r),request:n,source:this})},e.prototype.openKeyCursor=function(e,t){d(this),null===e&&(e=void 0),void 0===e||e instanceof a.default||(e=a.default.only(l.default(e)));var n=new o.default;n.source=this,n.transaction=this.objectStore.transaction;var i=new r.default(this,e,t,n,!0);return this.objectStore.transaction._execRequestAsync({operation:i._iterate.bind(i),request:n,source:this})},e.prototype.get=function(e){return d(this),e instanceof a.default||(e=l.default(e)),this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getValue.bind(this._rawIndex,e),source:this})},e.prototype.getAll=function(e,t){arguments.length>1&&void 0!==t&&(t=u.default(t,"unsigned long")),d(this);var n=f.default(e);return this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getAllValues.bind(this._rawIndex,n,t),source:this})},e.prototype.getKey=function(e){return d(this),e instanceof a.default||(e=l.default(e)),this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getKey.bind(this._rawIndex,e),source:this})},e.prototype.getAllKeys=function(e,t){arguments.length>1&&void 0!==t&&(t=u.default(t,"unsigned long")),d(this);var n=f.default(e);return this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getAllKeys.bind(this._rawIndex,n,t),source:this})},e.prototype.count=function(e){var t=this;return d(this),null===e&&(e=void 0),void 0===e||e instanceof a.default||(e=a.default.only(l.default(e))),this.objectStore.transaction._execRequestAsync({operation:function(){for(var n=0,i=new r.default(t,e);null!==i._iterate();)n+=1;return n},source:this})},e.prototype.toString=function(){return"[object IDBIndex]"},e}();t.default=h},1809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(525),i=n(4333),a=n(1889),o=function(){function e(e,t,n,r){this.lower=e,this.upper=t,this.lowerOpen=n,this.upperOpen=r}return e.only=function(t){if(0===arguments.length)throw new TypeError;return new e(t=a.default(t),t,!1,!1)},e.lowerBound=function(t,n){if(void 0===n&&(n=!1),0===arguments.length)throw new TypeError;return new e(t=a.default(t),void 0,n,!0)},e.upperBound=function(t,n){if(void 0===n&&(n=!1),0===arguments.length)throw new TypeError;return new e(void 0,t=a.default(t),!0,n)},e.bound=function(t,n,o,u){if(void 0===o&&(o=!1),void 0===u&&(u=!1),arguments.length<2)throw new TypeError;var s=r.default(t,n);if(1===s||0===s&&(o||u))throw new i.DataError;return new e(t=a.default(t),n=a.default(n),o,u)},e.prototype.includes=function(e){if(0===arguments.length)throw new TypeError;var t;if((e=a.default(e),void 0!==this.lower)&&(1===(t=r.default(this.lower,e))||0===t&&this.lowerOpen))return!1;if(void 0!==this.upper&&(-1===(t=r.default(this.upper,e))||0===t&&this.upperOpen))return!1;return!0},e.prototype.toString=function(){return"[object IDBKeyRange]"},e}();t.default=o},6145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7488),i=n(3169),a=n(8008),o=n(1809),u=n(9677),s=n(748),c=n(6409),l=n(4333),f=n(1654),d=n(7610),h=n(3523),p=n(8829),v=n(8137),m=n(1889),g=n(3217),y=function(e){if(e._rawObjectStore.deleted)throw new l.InvalidStateError;if("active"!==e.transaction._state)throw new l.TransactionInactiveError},b=function(e,t,n){if(y(e),"readonly"===e.transaction.mode)throw new l.ReadOnlyError;if(null!==e.keyPath&&void 0!==n)throw new l.DataError;var r=p.default(t);if(null!==e.keyPath){var i=f.default(e.keyPath,r);if(void 0!==i)m.default(i);else{if(!e._rawObjectStore.keyGenerator)throw new l.DataError;if(!s.default(e.keyPath,r))throw new l.DataError}}if(null===e.keyPath&&null===e._rawObjectStore.keyGenerator&&void 0===n)throw new l.DataError;return void 0!==n&&(n=m.default(n)),{key:n,value:r}},x=function(){function e(e,t){this._indexesCache=new Map,this._rawObjectStore=t,this._name=t.name,this.keyPath=t.keyPath,this.autoIncrement=t.autoIncrement,this.transaction=e,this.indexNames=d.default(Array.from(t.rawIndexes.keys())).sort()}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){var t=this,n=this.transaction;if(!n.db._runningVersionchangeTransaction)throw new l.InvalidStateError;if(y(this),(e=String(e))!==this._name){if(this._rawObjectStore.rawDatabase.rawObjectStores.has(e))throw new l.ConstraintError;var r=this._name,i=n.db.objectStoreNames.slice();this._name=e,this._rawObjectStore.name=e,this.transaction._objectStoresCache.delete(r),this.transaction._objectStoresCache.set(e,this),this._rawObjectStore.rawDatabase.rawObjectStores.delete(r),this._rawObjectStore.rawDatabase.rawObjectStores.set(e,this._rawObjectStore),n.db.objectStoreNames=d.default(Array.from(this._rawObjectStore.rawDatabase.rawObjectStores.keys()).filter((function(e){var n=t._rawObjectStore.rawDatabase.rawObjectStores.get(e);return n&&!n.deleted}))).sort();var a=new Set(n._scope),o=n.objectStoreNames.slice();this.transaction._scope.delete(r),n._scope.add(e),n.objectStoreNames=d.default(Array.from(n._scope).sort()),n._rollbackLog.push((function(){t._name=r,t._rawObjectStore.name=r,t.transaction._objectStoresCache.delete(e),t.transaction._objectStoresCache.set(r,t),t._rawObjectStore.rawDatabase.rawObjectStores.delete(e),t._rawObjectStore.rawDatabase.rawObjectStores.set(r,t._rawObjectStore),n.db.objectStoreNames=d.default(i),n._scope=a,n.objectStoreNames=d.default(o)}))}},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){if(0===arguments.length)throw new TypeError;var n=b(this,e,t);return this.transaction._execRequestAsync({operation:this._rawObjectStore.storeRecord.bind(this._rawObjectStore,n,!1,this.transaction._rollbackLog),source:this})},e.prototype.add=function(e,t){if(0===arguments.length)throw new TypeError;var n=b(this,e,t);return this.transaction._execRequestAsync({operation:this._rawObjectStore.storeRecord.bind(this._rawObjectStore,n,!0,this.transaction._rollbackLog),source:this})},e.prototype.delete=function(e){if(0===arguments.length)throw new TypeError;if(y(this),"readonly"===this.transaction.mode)throw new l.ReadOnlyError;return e instanceof o.default||(e=m.default(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.deleteRecord.bind(this._rawObjectStore,e,this.transaction._rollbackLog),source:this})},e.prototype.get=function(e){if(0===arguments.length)throw new TypeError;return y(this),e instanceof o.default||(e=m.default(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.getValue.bind(this._rawObjectStore,e),source:this})},e.prototype.getAll=function(e,t){arguments.length>1&&void 0!==t&&(t=c.default(t,"unsigned long")),y(this);var n=g.default(e);return this.transaction._execRequestAsync({operation:this._rawObjectStore.getAllValues.bind(this._rawObjectStore,n,t),source:this})},e.prototype.getKey=function(e){if(0===arguments.length)throw new TypeError;return y(this),e instanceof o.default||(e=m.default(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.getKey.bind(this._rawObjectStore,e),source:this})},e.prototype.getAllKeys=function(e,t){arguments.length>1&&void 0!==t&&(t=c.default(t,"unsigned long")),y(this);var n=g.default(e);return this.transaction._execRequestAsync({operation:this._rawObjectStore.getAllKeys.bind(this._rawObjectStore,n,t),source:this})},e.prototype.clear=function(){if(y(this),"readonly"===this.transaction.mode)throw new l.ReadOnlyError;return this.transaction._execRequestAsync({operation:this._rawObjectStore.clear.bind(this._rawObjectStore,this.transaction._rollbackLog),source:this})},e.prototype.openCursor=function(e,t){y(this),null===e&&(e=void 0),void 0===e||e instanceof o.default||(e=o.default.only(m.default(e)));var n=new u.default;n.source=this,n.transaction=this.transaction;var r=new i.default(this,e,t,n);return this.transaction._execRequestAsync({operation:r._iterate.bind(r),request:n,source:this})},e.prototype.openKeyCursor=function(e,t){y(this),null===e&&(e=void 0),void 0===e||e instanceof o.default||(e=o.default.only(m.default(e)));var n=new u.default;n.source=this,n.transaction=this.transaction;var i=new r.default(this,e,t,n,!0);return this.transaction._execRequestAsync({operation:i._iterate.bind(i),request:n,source:this})},e.prototype.createIndex=function(e,t,n){var r=this;if(void 0===n&&(n={}),arguments.length<2)throw new TypeError;var i=void 0!==n.multiEntry&&n.multiEntry,o=void 0!==n.unique&&n.unique;if("versionchange"!==this.transaction.mode)throw new l.InvalidStateError;if(y(this),this.indexNames.indexOf(e)>=0)throw new l.ConstraintError;if(v.default(t),Array.isArray(t)&&i)throw new l.InvalidAccessError;var u=this.indexNames.slice();this.transaction._rollbackLog.push((function(){var t=r._rawObjectStore.rawIndexes.get(e);t&&(t.deleted=!0),r.indexNames=d.default(u),r._rawObjectStore.rawIndexes.delete(e)}));var s=new h.default(this._rawObjectStore,e,t,i,o);return this.indexNames.push(e),this.indexNames.sort(),this._rawObjectStore.rawIndexes.set(e,s),s.initialize(this.transaction),new a.default(this,s)},e.prototype.index=function(e){if(0===arguments.length)throw new TypeError;if(this._rawObjectStore.deleted||"finished"===this.transaction._state)throw new l.InvalidStateError;var t=this._indexesCache.get(e);if(void 0!==t)return t;var n=this._rawObjectStore.rawIndexes.get(e);if(this.indexNames.indexOf(e)<0||void 0===n)throw new l.NotFoundError;var r=new a.default(this,n);return this._indexesCache.set(e,r),r},e.prototype.deleteIndex=function(e){var t=this;if(0===arguments.length)throw new TypeError;if("versionchange"!==this.transaction.mode)throw new l.InvalidStateError;y(this);var n=this._rawObjectStore.rawIndexes.get(e);if(void 0===n)throw new l.NotFoundError;this.transaction._rollbackLog.push((function(){n.deleted=!1,t._rawObjectStore.rawIndexes.set(e,n),t.indexNames.push(e),t.indexNames.sort()})),this.indexNames=d.default(this.indexNames.filter((function(t){return t!==e}))),n.deleted=!0,this.transaction._execRequestAsync({operation:function(){var r=t._rawObjectStore.rawIndexes.get(e);n===r&&t._rawObjectStore.rawIndexes.delete(e)},source:this})},e.prototype.count=function(e){var t=this;return y(this),null===e&&(e=void 0),void 0===e||e instanceof o.default||(e=o.default.only(m.default(e))),this.transaction._execRequestAsync({operation:function(){for(var n=0,i=new r.default(t,e);null!==i._iterate();)n+=1;return n},source:this})},e.prototype.toString=function(){return"[object IDBObjectStore]"},e}();t.default=x},3852:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onupgradeneeded=null,t.onblocked=null,t}return r(t,e),t.prototype.toString=function(){return"[object IDBOpenDBRequest]"},t}(n(9677).default);t.default=i},9677:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(4333),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._result=null,t._error=null,t.source=null,t.transaction=null,t.readyState="pending",t.onsuccess=null,t.onerror=null,t}return r(t,e),Object.defineProperty(t.prototype,"error",{get:function(){if("pending"===this.readyState)throw new i.InvalidStateError;return this._error},set:function(e){this._error=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"result",{get:function(){if("pending"===this.readyState)throw new i.InvalidStateError;return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"[object IDBRequest]"},t}(n(2201).default);t.default=a},5986:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6145),o=n(9677),u=n(4333),s=n(7610),c=n(5018),l=n(2201),f=n(4801),d=function(e){function t(t,n,r){var i=e.call(this)||this;return i._state="active",i._started=!1,i._rollbackLog=[],i._objectStoresCache=new Map,i.error=null,i.onabort=null,i.oncomplete=null,i.onerror=null,i._requests=[],i._scope=new Set(t),i.mode=n,i.db=r,i.objectStoreNames=s.default(Array.from(i._scope).sort()),i}return r(t,e),t.prototype._abort=function(e){var t,n,r,a,o=this;try{for(var s=i(this._rollbackLog.reverse()),l=s.next();!l.done;l=s.next()){(0,l.value)()}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}if(null!==e){var d=new Error;d.name=e,this.error=d}try{for(var h=i(this._requests),p=h.next();!p.done;p=h.next()){var v=p.value.request;if("done"!==v.readyState&&(v.readyState="done",v.source)){v.result=void 0,v.error=new u.AbortError;var m=new c.default("error",{bubbles:!0,cancelable:!0});m.eventPath=[this.db,this],v.dispatchEvent(m)}}}catch(y){r={error:y}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}f.queueTask((function(){var e=new c.default("abort",{bubbles:!0,cancelable:!1});e.eventPath=[o.db],o.dispatchEvent(e)})),this._state="finished"},t.prototype.abort=function(){if("committing"===this._state||"finished"===this._state)throw new u.InvalidStateError;this._state="active",this._abort(null)},t.prototype.objectStore=function(e){if("active"!==this._state)throw new u.InvalidStateError;var t=this._objectStoresCache.get(e);if(void 0!==t)return t;var n=this.db._rawDatabase.rawObjectStores.get(e);if(!this._scope.has(e)||void 0===n)throw new u.NotFoundError;var r=new a.default(this,n);return this._objectStoresCache.set(e,r),r},t.prototype._execRequestAsync=function(e){var t=e.source,n=e.operation,r=e.hasOwnProperty("request")?e.request:null;if("active"!==this._state)throw new u.TransactionInactiveError;return r||(t?((r=new o.default).source=t,r.transaction=t.transaction):r=new o.default),this._requests.push({operation:n,request:r}),r},t.prototype._start=function(){var e,t;for(this._started=!0;this._requests.length>0;){var n=this._requests.shift();if(n&&"done"!==n.request.readyState){t=n.request,e=n.operation;break}}if(t&&e){if(t.source){var r,i=void 0;try{var a=e();t.readyState="done",t.result=a,t.error=void 0,"inactive"===this._state&&(this._state="active"),r=new c.default("success",{bubbles:!1,cancelable:!1})}catch(u){t.readyState="done",t.result=void 0,t.error=u,"inactive"===this._state&&(this._state="active"),r=new c.default("error",{bubbles:!0,cancelable:!0}),i=this._abort.bind(this,u.name)}try{r.eventPath=[this.db,this],t.dispatchEvent(r)}catch(u){throw"committing"!==this._state&&this._abort("AbortError"),u}r.canceled||i&&i()}else e();f.queueTask(this._start.bind(this))}else if("finished"!==this._state&&(this._state="finished",!this.error)){var o=new c.default("complete");this.dispatchEvent(o)}},t.prototype.commit=function(){if("active"!==this._state)throw new u.InvalidStateError;this._state="committing"},t.prototype.toString=function(){return"[object IDBRequest]"},t}(l.default);t.default=d},7898:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,t)||this;return r.newVersion=void 0!==n.newVersion?n.newVersion:null,r.oldVersion=void 0!==n.oldVersion?n.oldVersion:0,r}return r(t,e),t.prototype.toString=function(){return"[object IDBVersionChangeEvent]"},t}(n(5018).default);t.default=i},1626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(9662).default);t.default=r},2575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1626);e.exports=r.default},6936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4801),i=function(){function e(e,t){this.deletePending=!1,this.transactions=[],this.rawObjectStores=new Map,this.connections=[],this.name=e,this.version=t,this.processTransactions=this.processTransactions.bind(this)}return e.prototype.processTransactions=function(){var e=this;r.queueTask((function(){if(!e.transactions.some((function(e){return e._started&&"finished"!==e._state}))){var t=e.transactions.find((function(e){return!e._started&&"finished"!==e._state}));t&&(t.addEventListener("complete",e.processTransactions),t.addEventListener("abort",e.processTransactions),t._start())}}))},e}();t.default=i},5018:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===t&&(t={}),this.eventPath=[],this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.canceled=!1,this.initialized=!0,this.dispatched=!1,this.target=null,this.currentTarget=null,this.eventPhase=0,this.defaultPrevented=!1,this.isTrusted=!1,this.timeStamp=Date.now(),this.type=e,this.bubbles=void 0!==t.bubbles&&t.bubbles,this.cancelable=void 0!==t.cancelable&&t.cancelable}return e.prototype.preventDefault=function(){this.cancelable&&(this.canceled=!0)},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.stopImmediatePropagation=function(){this.propagationStopped=!0,this.immediatePropagationStopped=!0},e}();t.default=n},2201:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4333),a=function(e,t){return e.immediatePropagationStopped||e.eventPhase===e.CAPTURING_PHASE&&!1===t.capture||e.eventPhase===e.BUBBLING_PHASE&&!0===t.capture},o=function(e,t){var n,i;e.currentTarget=t;try{for(var o=r(t.listeners.slice()),u=o.next();!u.done;u=o.next()){var s=u.value;e.type!==s.type||a(e,s)||s.callback.call(e.currentTarget,e)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}var c={abort:"onabort",blocked:"onblocked",complete:"oncomplete",error:"onerror",success:"onsuccess",upgradeneeded:"onupgradeneeded",versionchange:"onversionchange"}[e.type];if(void 0===c)throw new Error('Unknown event type: "'+e.type+'"');var l=e.currentTarget[c];if(l){s={callback:l,capture:!1,type:e.type};a(e,s)||s.callback.call(e.currentTarget,e)}},u=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e,t,n){void 0===n&&(n=!1),this.listeners.push({callback:t,capture:n,type:e})},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!1);var r=this.listeners.findIndex((function(r){return r.type===e&&r.callback===t&&r.capture===n}));this.listeners.splice(r,1)},e.prototype.dispatchEvent=function(e){var t,n,a,u;if(e.dispatched||!e.initialized)throw new i.InvalidStateError("The object is in an invalid state.");e.isTrusted=!1,e.dispatched=!0,e.target=this,e.eventPhase=e.CAPTURING_PHASE;try{for(var s=r(e.eventPath),c=s.next();!c.done;c=s.next()){var l=c.value;e.propagationStopped||o(e,l)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}if(e.eventPhase=e.AT_TARGET,e.propagationStopped||o(e,e.target),e.bubbles){e.eventPath.reverse(),e.eventPhase=e.BUBBLING_PHASE;try{for(var f=r(e.eventPath),d=f.next();!d.done;d=f.next()){l=d.value;e.propagationStopped||o(e,l)}}catch(p){a={error:p}}finally{try{d&&!d.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}}return e.dispatched=!1,e.eventPhase=e.NONE,e.currentTarget=null,!e.canceled},e}();t.default=u},3523:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4333),a=n(1654),o=n(7321),u=n(8829),s=n(1889),c=function(){function e(e,t,n,r,i){this.deleted=!1,this.initialized=!1,this.records=new o.default,this.rawObjectStore=e,this.name=t,this.keyPath=n,this.multiEntry=r,this.unique=i}return e.prototype.getKey=function(e){var t=this.records.get(e);return void 0!==t?t.value:void 0},e.prototype.getAllKeys=function(e,t){var n,i;void 0!==t&&0!==t||(t=1/0);var a=[];try{for(var o=r(this.records.values(e)),s=o.next();!s.done;s=o.next()){var c=s.value;if(a.push(u.default(c.value)),a.length>=t)break}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.getValue=function(e){var t=this.records.get(e);return void 0!==t?this.rawObjectStore.getValue(t.value):void 0},e.prototype.getAllValues=function(e,t){var n,i;void 0!==t&&0!==t||(t=1/0);var a=[];try{for(var o=r(this.records.values(e)),u=o.next();!u.done;u=o.next()){var s=u.value;if(a.push(this.rawObjectStore.getValue(s.value)),a.length>=t)break}}catch(c){n={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.storeRecord=function(e){var t,n,o,u,c,l,f;try{f=a.default(this.keyPath,e.value)}catch(w){if("DataError"===w.name)return;throw w}if(this.multiEntry&&Array.isArray(f)){var d=[];try{for(var h=r(f),p=h.next();!p.done;p=h.next()){var v=p.value;if(d.indexOf(v)<0)try{d.push(s.default(v))}catch(w){}}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}f=d}else try{s.default(f)}catch(k){return}if(this.multiEntry&&Array.isArray(f)){if(this.unique)try{for(var m=r(f),g=m.next();!g.done;g=m.next()){var y=g.value;if(this.records.get(y))throw new i.ConstraintError}}catch(E){o={error:E}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}}else if(this.unique&&this.records.get(f))throw new i.ConstraintError;if(this.multiEntry&&Array.isArray(f))try{for(var b=r(f),x=b.next();!x.done;x=b.next()){y=x.value;this.records.add({key:y,value:e.key})}}catch(O){c={error:O}}finally{try{x&&!x.done&&(l=b.return)&&l.call(b)}finally{if(c)throw c.error}}else this.records.add({key:f,value:e.key})},e.prototype.initialize=function(e){var t=this;if(this.initialized)throw new Error("Index already initialized");e._execRequestAsync({operation:function(){var n,i;try{try{for(var a=r(t.rawObjectStore.records.values()),o=a.next();!o.done;o=a.next()){var u=o.value;t.storeRecord(u)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}t.initialized=!0}catch(c){e._abort(c.name)}},source:null})},e}();t.default=c},8269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4333),i=9007199254740992,a=function(){function e(){this.num=0}return e.prototype.next=function(){if(this.num>=i)throw new r.ConstraintError;return this.num+=1,this.num},e.prototype.setIfLarger=function(e){var t=Math.floor(Math.min(e,i))-1;t>=this.num&&(this.num=t+1)},e}();t.default=a},9239:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4333),a=n(1654),o=n(8269),u=n(7321),s=n(8829),c=function(){function e(e,t,n,r){this.deleted=!1,this.records=new u.default,this.rawIndexes=new Map,this.rawDatabase=e,this.keyGenerator=!0===r?new o.default:null,this.deleted=!1,this.name=t,this.keyPath=n,this.autoIncrement=r}return e.prototype.getKey=function(e){var t=this.records.get(e);return void 0!==t?s.default(t.key):void 0},e.prototype.getAllKeys=function(e,t){var n,i;void 0!==t&&0!==t||(t=1/0);var a=[];try{for(var o=r(this.records.values(e)),u=o.next();!u.done;u=o.next()){var c=u.value;if(a.push(s.default(c.key)),a.length>=t)break}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.getValue=function(e){var t=this.records.get(e);return void 0!==t?s.default(t.value):void 0},e.prototype.getAllValues=function(e,t){var n,i;void 0!==t&&0!==t||(t=1/0);var a=[];try{for(var o=r(this.records.values(e)),u=o.next();!u.done;u=o.next()){var c=u.value;if(a.push(s.default(c.value)),a.length>=t)break}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.storeRecord=function(e,t,n){var o,u,s=this;if(null!==this.keyPath){var c=a.default(this.keyPath,e.value);void 0!==c&&(e.key=c)}if(null!==this.keyGenerator&&void 0===e.key){if(n){var l=this.keyGenerator.num;n.push((function(){s.keyGenerator&&(s.keyGenerator.num=l)}))}if(e.key=this.keyGenerator.next(),null!==this.keyPath){if(Array.isArray(this.keyPath))throw new Error("Cannot have an array key path in an object store with a key generator");for(var f=this.keyPath,d=e.value,h=void 0,p=0;p>=0;){if("object"!==typeof d)throw new i.DataError;(p=f.indexOf("."))>=0&&(h=f.slice(0,p),f=f.slice(p+1),d.hasOwnProperty(h)||(d[h]={}),d=d[h])}d[h=f]=e.key}}else null!==this.keyGenerator&&"number"===typeof e.key&&this.keyGenerator.setIfLarger(e.key);if(this.records.get(e.key)){if(t)throw new i.ConstraintError;this.deleteRecord(e.key,n)}this.records.add(e),n&&n.push((function(){s.deleteRecord(e.key)}));try{for(var v=r(this.rawIndexes.values()),m=v.next();!m.done;m=v.next()){var g=m.value;g.initialized&&g.storeRecord(e)}}catch(y){o={error:y}}finally{try{m&&!m.done&&(u=v.return)&&u.call(v)}finally{if(o)throw o.error}}return e.key},e.prototype.deleteRecord=function(e,t){var n,i,a,o,u=this,s=this.records.delete(e);if(t){var c=function(e){t.push((function(){u.storeRecord(e,!0)}))};try{for(var l=r(s),f=l.next();!f.done;f=l.next()){c(f.value)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}try{for(var d=r(this.rawIndexes.values()),h=d.next();!h.done;h=d.next()){h.value.records.deleteByValue(e)}}catch(v){a={error:v}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}},e.prototype.clear=function(e){var t,n,i,a,o=this,u=this.records.clear();if(e){var s=function(t){e.push((function(){o.storeRecord(t,!0)}))};try{for(var c=r(u),l=c.next();!l.done;l=c.next()){s(l.value)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}try{for(var f=r(this.rawIndexes.values()),d=f.next();!d.done;d=f.next()){d.value.records.clear()}}catch(p){i={error:p}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}},e}();t.default=c},7321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1809),i=n(1403),a=n(525),o=function(){function e(){this.records=[]}return e.prototype.get=function(e){return e instanceof r.default?i.getByKeyRange(this.records,e):i.getByKey(this.records,e)},e.prototype.add=function(e){var t;if(0===this.records.length)t=0;else if(-1===(t=i.getIndexByKeyGTE(this.records,e.key)))t=this.records.length;else for(;t<this.records.length&&0===a.default(this.records[t].key,e.key)&&-1===a.default(this.records[t].value,e.value);)t+=1;this.records.splice(t,0,e)},e.prototype.delete=function(e){for(var t=[],n=e instanceof r.default;;){var a=n?i.getIndexByKeyRange(this.records,e):i.getIndexByKey(this.records,e);if(-1===a)break;t.push(this.records[a]),this.records.splice(a,1)}return t},e.prototype.deleteByValue=function(e){var t=e instanceof r.default?e:r.default.only(e),n=[];return this.records=this.records.filter((function(e){var r=t.includes(e.value);return r&&n.push(e),!r})),n},e.prototype.clear=function(){var e=this.records.slice();return this.records=[],e},e.prototype.values=function(e,t){var n,r=this;return void 0===t&&(t="next"),(n={})[Symbol.iterator]=function(){var n;if("next"===t){if(n=0,void 0!==e&&void 0!==e.lower)for(;void 0!==r.records[n];){if(1===(i=a.default(r.records[n].key,e.lower))||0===i&&!e.lowerOpen)break;n+=1}}else if(n=r.records.length-1,void 0!==e&&void 0!==e.upper)for(;void 0!==r.records[n];){var i;if(-1===(i=a.default(r.records[n].key,e.upper))||0===i&&!e.upperOpen)break;n-=1}return{next:function(){var i,o,u;"next"===t?(o=r.records[n],i=n>=r.records.length,n+=1,i||void 0===e||void 0===e.upper||(i=1===(u=a.default(o.key,e.upper))||0===u&&e.upperOpen)&&(o=void 0)):(o=r.records[n],i=n<0,n-=1,i||void 0===e||void 0===e.lower||(i=-1===(u=a.default(o.key,e.lower))||0===u&&e.lowerOpen)&&(o=void 0));return{done:i,value:o}}}},n},e}();t.default=o},1403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(525);function i(e,t){for(var n,i=0,a=e.length;i<a;)n=i+a>>>1,r.default(e[n].key,t)<0?i=n+1:a=n;return i}function a(e,t){var n=i(e,t),a=e[n];return a&&0===r.default(a.key,t)?n:-1}function o(e,t){for(var n="undefined"===typeof t.lower?0:i(e,t.lower),r="undefined"===typeof t.upper?e.length-1:i(e,t.upper),a=n;a<=r;a++){var o=e[a];if(o&&t.includes(o.key))return a}return-1}t.getIndexByKey=a,t.getByKey=function(e,t){return e[a(e,t)]},t.getIndexByKeyRange=o,t.getByKeyRange=function(e,t){return e[o(e,t)]},t.getIndexByKeyGTE=function(e,t){var n=i(e,t),a=e[n];return a&&r.default(a.key,t)>=0?n:-1}},748:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var r,i;if(Array.isArray(e))throw new Error("The key paths used in this section are always strings and never sequences, since it is not possible to create a object store which has a key generator and also has a key path that is a sequence.");var a=e.split(".");if(0===a.length)throw new Error("Assert: identifiers is not empty");a.pop();try{for(var o=n(a),u=o.next();!u.done;u=o.next()){var s=u.value;if("object"!==typeof t&&!Array.isArray(t))return!1;if(!t.hasOwnProperty(s))return!0;t=t[s]}}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return"object"===typeof t||Array.isArray(t)}},525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4333),i=n(1889),a=function(e){if("number"===typeof e)return"Number";if(e instanceof Date)return"Date";if(Array.isArray(e))return"Array";if("string"===typeof e)return"String";if(e instanceof ArrayBuffer)return"Binary";throw new r.DataError};t.default=function e(t,n){if(void 0===n)throw new TypeError;t=i.default(t),n=i.default(n);var r=a(t),o=a(n);if(r!==o)return"Array"===r?1:("Binary"!==r||"String"!==o&&"Date"!==o&&"Number"!==o)&&("String"!==r||"Date"!==o&&"Number"!==o)?"Date"===r&&"Number"===o?1:-1:1;if("Binary"===r&&(t=new Uint8Array(t),n=new Uint8Array(n)),"Array"===r||"Binary"===r){for(var u=Math.min(t.length,n.length),s=0;s<u;s++){var c=e(t[s],n[s]);if(0!==c)return c}return t.length>n.length?1:t.length<n.length?-1:0}if("Date"===r){if(t.getTime()===n.getTime())return 0}else if(t===n)return 0;return t>n?1:-1}},6409:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n="unsigned long"===t?4294967295:9007199254740991;if(isNaN(e)||e<0||e>n)throw new TypeError;if(e>=0)return Math.floor(e)}},4333:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r="A request was aborted, for example through a call to IDBTransaction.abort.",i="A mutation operation in the transaction failed because a constraint was not satisfied. For example, an object such as an object store or index already exists and a request attempted to create a new one.",a="The data being stored could not be cloned by the internal structured cloning algorithm.",o="Data provided to an operation does not meet requirements.",u="An invalid operation was performed on an object. For example transaction creation attempt was made, but an empty scope was provided.",s="An operation was called on an object on which it is not allowed or at a time when it is not allowed. Also occurs if a request is made on a source object that has been deleted or removed. Use TransactionInactiveError or ReadOnlyError when possible, as they are more specific variations of InvalidStateError.",c="The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",l='The mutating operation was attempted in a "readonly" transaction.',f="A request was placed against a transaction which is currently not active, or which is finished.",d="An attempt was made to open a database using a lower version than the existing version.",h=function(e){function t(t){void 0===t&&(t=r);var n=e.call(this)||this;return n.name="AbortError",n.message=t,n}return n(t,e),t}(Error);t.AbortError=h;var p=function(e){function t(t){void 0===t&&(t=i);var n=e.call(this)||this;return n.name="ConstraintError",n.message=t,n}return n(t,e),t}(Error);t.ConstraintError=p;var v=function(e){function t(t){void 0===t&&(t=a);var n=e.call(this)||this;return n.name="DataCloneError",n.message=t,n}return n(t,e),t}(Error);t.DataCloneError=v;var m=function(e){function t(t){void 0===t&&(t=o);var n=e.call(this)||this;return n.name="DataError",n.message=t,n}return n(t,e),t}(Error);t.DataError=m;var g=function(e){function t(t){void 0===t&&(t=u);var n=e.call(this)||this;return n.name="InvalidAccessError",n.message=t,n}return n(t,e),t}(Error);t.InvalidAccessError=g;var y=function(e){function t(t){void 0===t&&(t=s);var n=e.call(this)||this;return n.name="InvalidStateError",n.message=t,n}return n(t,e),t}(Error);t.InvalidStateError=y;var b=function(e){function t(t){void 0===t&&(t=c);var n=e.call(this)||this;return n.name="NotFoundError",n.message=t,n}return n(t,e),t}(Error);t.NotFoundError=b;var x=function(e){function t(t){void 0===t&&(t=l);var n=e.call(this)||this;return n.name="ReadOnlyError",n.message=t,n}return n(t,e),t}(Error);t.ReadOnlyError=x;var w=function(e){function t(t){void 0===t&&(t=f);var n=e.call(this)||this;return n.name="TransactionInactiveError",n.message=t,n}return n(t,e),t}(Error);t.TransactionInactiveError=w;var _=function(e){function t(t){void 0===t&&(t=d);var n=e.call(this)||this;return n.name="VersionError",n.message=t,n}return n(t,e),t}(Error);t.VersionError=_},1654:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1889);t.default=function e(t,n){var a,o;if(Array.isArray(t)){var u=[];try{for(var s=r(t),c=s.next();!c.done;c=s.next()){var l=c.value;void 0!==l&&null!==l&&"string"!==typeof l&&l.toString&&(l=l.toString()),u.push(i.default(e(l,n)))}}catch(v){a={error:v}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}return u}if(""===t)return n;for(var f=t,d=n;null!==f;){var h=void 0,p=f.indexOf(".");if(p>=0?(h=f.slice(0,p),f=f.slice(p+1)):(h=f,f=null),!d.hasOwnProperty(h))return;d=d[h]}return d}},7610:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.slice();return Object.defineProperty(t,"contains",{value:function(e){return t.indexOf(e)>=0}}),Object.defineProperty(t,"item",{value:function(e){return t[e]}}),t}},4801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof n.g)return n.g;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;throw new Error("unable to locate global object")}();t.queueTask=r.setImmediate||("undefined"!==typeof navigator&&/jsdom/.test(navigator.userAgent)?new(0,Node.constructor)("return setImmediate")():void 0)||function(e){return setTimeout(e,0)}},8829:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5715),i=n(4333);t.default=function(e){try{return r(e)}catch(t){throw new i.DataCloneError}}},8137:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r){var i,a,o,u;if(void 0===t||null===t||"string"===typeof t||!t.toString||"array"!==r&&Array.isArray(t)||(t=t.toString()),"string"===typeof t){if(""===t&&"string"!==r)return;try{if(t.length>=1&&/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])(?:[\$0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])*$/.test(t))return}catch(d){throw new SyntaxError(d.message)}if(t.indexOf(" ")>=0)throw new SyntaxError("The keypath argument contains an invalid key path (no spaces allowed).")}if(Array.isArray(t)&&t.length>0){if(r)throw new SyntaxError("The keypath argument contains an invalid key path (nested arrays).");try{for(var s=n(t),c=s.next();!c.done;c=s.next()){e(c.value,"array")}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}else{if(!("string"===typeof t&&t.indexOf(".")>=0))throw new SyntaxError;t=t.split(".");try{for(var l=n(t),f=l.next();!f.done;f=l.next()){e(f.value,"string")}}catch(p){o={error:p}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}}}},1889:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4333);t.default=function e(t,n){if("number"===typeof t){if(isNaN(t))throw new r.DataError;return t}if(t instanceof Date){var i=t.valueOf();if(isNaN(i))throw new r.DataError;return new Date(i)}if("string"===typeof t)return t;if(t instanceof ArrayBuffer||"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t))return t instanceof ArrayBuffer?new Uint8Array(t).buffer:new Uint8Array(t.buffer).buffer;if(Array.isArray(t)){if(void 0===n)n=new Set;else if(n.has(t))throw new r.DataError;n.add(t);for(var a=[],o=0;o<t.length;o++){if(!t.hasOwnProperty(o))throw new r.DataError;var u=e(t[o],n);a.push(u)}return a}throw new r.DataError}},3217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1809),i=n(4333),a=n(1889);t.default=function(e,t){if(void 0===t&&(t=!1),e instanceof r.default)return e;if(null===e||void 0===e){if(t)throw new i.DataError;return new r.default(void 0,void 0,!1,!1)}var n=a.default(e);return r.default.only(n)}},3017:function(e,t,n){e.exports=n(1809).default},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},2248:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=a.push(t)-1,s=Object.keys(t).sort(i&&i(t));for(o="",n=0;n<s.length;n++){var c=s[n],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return a.splice(u,1),"{"+o+"}"}}(e)}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},1065:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,s=/^\s+|\s+$/g,c="";function l(e){return e?e.replace(s,c):c}e.exports=function(e,s){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];s=s||{};var f=1,d=1;function h(e){var t=e.match(n);t&&(f+=t.length);var r=e.lastIndexOf("\n");d=~r?e.length-r:d+e.length}function p(){var e={line:f,column:d};return function(t){return t.position=new v(e),b(),t}}function v(e){this.start=e,this.end={line:f,column:d},this.source=s.source}v.prototype.content=e;var m=[];function g(t){var n=new Error(s.source+":"+f+":"+d+": "+t);if(n.reason=t,n.filename=s.source,n.line=f,n.column=d,n.source=e,!s.silent)throw n;m.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function b(){y(r)}function x(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return g("End of comment missing");var r=e.slice(2,n-2);return d+=2,h(r),e=e.slice(n),d+=2,t({type:"comment",comment:r})}}function _(){var e=p(),n=y(i);if(n){if(w(),!y(a))return g("property missing ':'");var r=y(o),s=e({type:"declaration",property:l(n[0].replace(t,c)),value:r?l(r[0].replace(t,c)):c});return y(u),s}}return b(),function(){var e,t=[];for(x(t);e=_();)!1!==e&&(t.push(e),x(t));return t}()}},5586:function(e){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},5587:function(e,t,n){e.exports=function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,u,s,c,l=[],f=0,d=e.length,h=d,p="string"!==r.getTypeOf(e);f<e.length;)h=d-f,i=p?(t=e[f++],n=f<d?e[f++]:0,f<d?e[f++]:0):(t=e.charCodeAt(f++),n=f<d?e.charCodeAt(f++):0,f<d?e.charCodeAt(f++):0),o=t>>2,u=(3&t)<<4|n>>4,s=1<h?(15&n)<<2|i>>6:64,c=2<h?63&i:64,l.push(a.charAt(o)+a.charAt(u)+a.charAt(s)+a.charAt(c));return l.join("")},n.decode=function(e){var t,n,r,o,u,s,c=0,l=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=a.indexOf(e.charAt(c++))<<2|(o=a.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(u=a.indexOf(e.charAt(c++)))>>2,r=(3&u)<<6|(s=a.indexOf(e.charAt(c++))),d[l++]=t,64!==u&&(d[l++]=n),64!==s&&(d[l++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function u(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}u.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var u=r;u<o;u++)e=e>>>8^a[255&(e^t[u])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var u=r;u<o;u++)e=e>>>8^a[255&(e^t.charCodeAt(u))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),u=r?"uint8array":"array";function s(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(s,o),s.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(u,e.data),!1)},s.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},s.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new s("Deflate",e)},n.uncompressWorker=function(){return new s("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,l){var f,d,h=e.file,p=e.compression,v=l!==u.utf8encode,m=a.transformTo("string",l(h.name)),g=a.transformTo("string",u.utf8encode(h.name)),y=h.comment,b=a.transformTo("string",l(y)),x=a.transformTo("string",u.utf8encode(y)),w=g.length!==h.name.length,_=x.length!==y.length,k="",E="",O="",S=h.dir,A=h.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),v||!w&&!_||(D|=2048);var j=0,T=0;S&&(j|=16),"UNIX"===o?(T=798,j|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,S)):(T=20,j|=function(e){return 63&(e||0)}(h.dosPermissions)),f=A.getUTCHours(),f<<=6,f|=A.getUTCMinutes(),f<<=5,f|=A.getUTCSeconds()/2,d=A.getUTCFullYear()-1980,d<<=4,d|=A.getUTCMonth()+1,d<<=5,d|=A.getUTCDate(),w&&(E=r(1,1)+r(s(m),4)+g,k+="up"+r(E.length,2)+E),_&&(O=r(1,1)+r(s(b),4)+x,k+="uc"+r(O.length,2)+O);var F="";return F+="\n\0",F+=r(D,2),F+=p.magic,F+=r(f,2),F+=r(d,2),F+=r(C.crc32,4),F+=r(C.compressedSize,4),F+=r(C.uncompressedSize,4),F+=r(m.length,2),F+=r(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+F+m+k,dirRecord:c.CENTRAL_FILE_HEADER+r(T,2)+F+r(b.length,2)+"\0\0\0\0"+r(j,4)+r(i,4)+m+k+b}}var a=e("../utils"),o=e("../stream/GenericWorker"),u=e("../utf8"),s=e("../crc32"),c=e("../signature");function l(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(l,o),l.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var u=a.transformTo("string",o(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(u.length,2)+u}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},l.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),u=n.options.compressionOptions||t.compressionOptions||{},s=n.dir,c=n.date;n._compressWorker(i,u).withStreamInfo("file",{name:e,dir:s,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.7.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),u=e("./stream/Crc32Probe"),s=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new u);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),s.isNode&&s.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(c(r[a]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,a=0;a<i.length;a++){var o=i[a];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=a.getTypeOf(t),u=a.extend(n||{},s);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(e=v(e)),u.createFolders&&(r=p(e))&&m.call(this,r,!0);var f="string"===i&&!1===u.binary&&!1===u.base64;n&&void 0!==n.binary||(u.binary=!f),(t instanceof c&&0===t.uncompressedSize||u.dir||!t||0===t.length)&&(u.base64=!1,u.binary=!0,t="",u.compression="STORE",i="string");var g=null;g=t instanceof c||t instanceof o?t:d.isNode&&d.isStream(t)?new h(e,t):a.prepareContent(e,t,u.binary,u.optimizedBinaryString,u.base64);var y=new l(e,g,u);this.files[e]=y}var i=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),s=e("./defaults"),c=e("./compressedObject"),l=e("./zipObject"),f=e("./generate"),d=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:s.createFolders,e=v(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=f.generateWorker(this,n,r)}catch(e){(t=new o("error")).error(e)}return new u(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),u=e("./NodeBufferReader"),s=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new u(e):i.uint8array?new s(r.transformTo("uint8array",e)):new a(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function a(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),u=e("../support"),s=e("../external"),c=null;if(u.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,t){return new s.Promise((function(n,i){var a=[],u=e._internalType,s=e._outputType,c=e._mimeType;e.on("data",(function(e,n){a.push(e),t&&t(n)})).on("error",(function(e){a=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return r.transformTo(e,t)}}(s,function(e,t){var n,r=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(u,a),c);n(e)}catch(e){i(e)}a=[]})).resume()}))}function f(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),u=new Array(256),s=0;s<256;s++)u[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function l(){o.call(this,"utf-8 encode")}u[254]=u[254]=1,n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,r,a,o,u=e.length,s=0;for(a=0;a<u;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<u&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(s):new Array(s),a=o=0;o<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<u&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,a,o=e.length,s=new Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)s[n++]=i;else if(4<(a=u[i]))s[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),r.applyFromCharCode(s)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,o),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+u[e[n]]>t?n:t}(t),s=t;o!==t.length&&(i.uint8array?(s=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(s=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(l,o),l.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),o=e("set-immediate-shim"),u=e("./external");function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function f(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return l.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=f;var h={};h.string={string:s,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},h.array={string:f,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},h.arraybuffer={string:function(e){return f(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},h.nodebuffer={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return h[r][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&a.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){o((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,o,s){return u.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new u.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var l=n.getTypeOf(t);return l?("arraybuffer"===l?t=n.transformTo("uint8array",t):"string"===l&&(s?t=i.decode(t):a&&!0!==o&&(t=function(e){return c(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):u.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),u=(e("./utf8"),e("./support"));function s(e){this.files=[],this.loadOptions=e}s.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=u.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=s},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),u=e("./utf8"),s=e("./compressions"),c=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t].magic===e)return s[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:u.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:u.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),u=e("./compressedObject"),s=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof u&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof s?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)r.prototype[c[f]]=l;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(l),u=e.document.createTextNode("");o.observe(u,{characterData:!0}),n=function(){u.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var s=new e.MessageChannel;s.port1.onmessage=l,n=function(){s.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var a={},o=["REJECTED"],u=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return a.reject(e,r)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=p((function(){t(i,r)}));"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===u||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==s?f(n,this.state===u?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){a.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=u,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),u=0,s=-1,c=new this(i);++s<n;)l(e[s],s);return c;function l(e,i){t.resolve(e).then((function(e){o[i]=e,++u!==n||r||(r=!0,a.resolve(c,o))}),(function(e){r||(r=!0,a.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o,u=-1,s=new this(i);++u<n;)o=e[u],t.resolve(o).then((function(e){r||(r=!0,a.resolve(s,e))}),(function(e){r||(r=!0,a.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),u=e("./zlib/zstream"),s=Object.prototype.toString,c=0,l=-1,f=0,d=8;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({level:l,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(o[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(e,t){var n,o,u=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?u.input=a.string2buf(e):"[object ArrayBuffer]"===s.call(e)?u.input=new Uint8Array(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new i.Buf8(l),u.next_out=0,u.avail_out=l),1!==(n=r.deflate(u,o))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==u.avail_out&&(0!==u.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(u.output,u.next_out))):this.onData(i.shrinkBuf(u.output,u.next_out)))}while((0<u.avail_in||0===u.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),!(u.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),u=e("./zlib/messages"),s=e("./zlib/zstream"),c=e("./zlib/gzheader"),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(u[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}f.prototype.push=function(e,t){var n,u,s,c,f,d,h=this.strm,p=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;u=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?h.input=a.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&v&&(d="string"==typeof v?a.string2buf(v):"[object ArrayBuffer]"===l.call(v)?new Uint8Array(v):v,n=r.inflateSetDictionary(this.strm,d)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==o.Z_STREAM_END&&(0!==h.avail_in||u!==o.Z_FINISH&&u!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(s=a.utf8border(h.output,h.next_out),c=h.next_out-s,f=a.buf2string(h.output,s),h.next_out=c,h.avail_out=p-c,c&&i.arraySet(h.output,h.output,s,c,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(u=o.Z_FINISH),u===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):u!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(h.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new r.Buf8(256),u=0;u<256;u++)o[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function s(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,u=e.length,s=0;for(a=0;a<u;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<u&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(s),a=o=0;o<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<u&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return s(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,u=t||e.length,c=new Array(2*u);for(n=r=0;n<u;)if((i=e[n++])<128)c[r++]=i;else if(4<(a=o[i]))c[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&n<u;)i=i<<6|63&e[n++],a--;1<a?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return s(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+t[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var u=i;u<o;u++)e=e>>>8^a[255&(e^t[u])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),u=e("./crc32"),s=e("./messages"),c=0,l=4,f=0,d=-2,h=-1,p=4,v=2,m=8,g=9,y=286,b=30,x=19,w=2*y+1,_=15,k=3,E=258,O=E+k+1,S=42,A=113,C=1,D=2,j=3,T=4;function F(e,t){return e.msg=s[t],t}function P(e){return(e<<1)-(4<e?9:0)}function M(e){for(var t=e.length;0<=--t;)e[t]=0}function N(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function R(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,N(e.strm)}function I(e,t){e.pending_buf[e.pending++]=t}function B(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function z(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,u=e.nice_match,s=e.strstart>e.w_size-O?e.strstart-(e.w_size-O):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+E,h=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(i>>=2),u>e.lookahead&&(u=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===h&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<d);if(r=E-(d-a),a=d-E,o<r){if(e.match_start=t,u<=(o=r))break;h=c[a+o-1],p=c[a+o]}}}while((t=f[t&l])>s&&0!=--i);return o<=e.lookahead?o:e.lookahead}function L(e){var t,n,r,a,s,c,l,f,d,h,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-O)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);a+=p}if(0===e.strm.avail_in)break;if(c=e.strm,l=e.window,f=e.strstart+e.lookahead,h=void 0,(d=a)<(h=c.avail_in)&&(h=d),n=0===h?0:(c.avail_in-=h,i.arraySet(l,c.input,c.next_in,h,f),1===c.state.wrap?c.adler=o(c.adler,l,h,f):2===c.state.wrap&&(c.adler=u(c.adler,l,h,f)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=k)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+k-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<O&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<O){if(L(e),e.lookahead<O&&t===c)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-O&&(e.match_length=z(e,n)),e.match_length>=k)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(R(e,!1),0===e.strm.avail_out))return C}return e.insert=e.strstart<k-1?e.strstart:k-1,t===l?(R(e,!0),0===e.strm.avail_out?j:T):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?C:D}function q(e,t){for(var n,r,i;;){if(e.lookahead<O){if(L(e),e.lookahead<O&&t===c)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-O&&(e.match_length=z(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-k,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(R(e,!1),0===e.strm.avail_out))return C}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&R(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return C}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===l?(R(e,!0),0===e.strm.avail_out?j:T):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?C:D}function W(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*w),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*x+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(_+1),this.heap=new i.Buf16(2*y+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=v,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?S:A,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),f):F(e,d)}function V(e){var t=$(e);return t===f&&function(e){e.window_size=2*e.w_size,M(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function G(e,t,n,r,a,o){if(!e)return d;var u=1;if(t===h&&(t=6),r<0?(u=0,r=-r):15<r&&(u=2,r-=16),a<1||g<a||n!==m||r<8||15<r||t<0||9<t||o<0||p<o)return F(e,d);8===r&&(r=9);var s=new H;return(e.state=s).strm=e,s.wrap=u,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+k-1)/k),s.window=new i.Buf8(2*s.w_size),s.head=new i.Buf16(s.hash_size),s.prev=new i.Buf16(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new i.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,V(e)}r=[new W(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(L(e),0===e.lookahead&&t===c)return C;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,R(e,!1),0===e.strm.avail_out))return C;if(e.strstart-e.block_start>=e.w_size-O&&(R(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===l?(R(e,!0),0===e.strm.avail_out?j:T):(e.strstart>e.block_start&&(R(e,!1),e.strm.avail_out),C)})),new W(4,4,8,4,U),new W(4,5,16,8,U),new W(4,6,32,32,U),new W(4,4,16,16,q),new W(8,16,32,32,q),new W(8,16,128,128,q),new W(8,32,128,256,q),new W(32,128,258,1024,q),new W(32,258,258,4096,q)],n.deflateInit=function(e,t){return G(e,t,m,15,8,0)},n.deflateInit2=G,n.deflateReset=V,n.deflateResetKeep=$,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,f):d},n.deflate=function(e,t){var n,i,o,s;if(!e||!e.state||5<t||t<0)return e?F(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==l)return F(e,0===e.avail_out?-5:d);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===S)if(2===i.wrap)e.adler=0,I(i,31),I(i,139),I(i,8),i.gzhead?(I(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),I(i,255&i.gzhead.time),I(i,i.gzhead.time>>8&255),I(i,i.gzhead.time>>16&255),I(i,i.gzhead.time>>24&255),I(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),I(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(I(i,255&i.gzhead.extra.length),I(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=u(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(I(i,0),I(i,0),I(i,0),I(i,0),I(i,0),I(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),I(i,3),i.status=A);else{var h=m+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=A,B(i,h),0!==i.strstart&&(B(i,e.adler>>>16),B(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),N(e),o=i.pending,i.pending!==i.pending_buf_size));)I(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),N(e),o=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,I(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),N(e),o=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,I(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>o&&(e.adler=u(e.adler,i.pending_buf,i.pending-o,o)),0===s&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&N(e),i.pending+2<=i.pending_buf_size&&(I(i,255&e.adler),I(i,e.adler>>8&255),e.adler=0,i.status=A)):i.status=A),0!==i.pending){if(N(e),0===e.avail_out)return i.last_flush=-1,f}else if(0===e.avail_in&&P(t)<=P(n)&&t!==l)return F(e,-5);if(666===i.status&&0!==e.avail_in)return F(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(L(e),0===e.lookahead)){if(t===c)return C;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(R(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===l?(R(e,!0),0===e.strm.avail_out?j:T):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?C:D}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,u=e.window;;){if(e.lookahead<=E){if(L(e),e.lookahead<=E&&t===c)return C;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(r=u[i=e.strstart-1])===u[++i]&&r===u[++i]&&r===u[++i]){o=e.strstart+E;do{}while(r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&i<o);e.match_length=E-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=a._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(R(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===l?(R(e,!0),0===e.strm.avail_out?j:T):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?C:D}(i,t):r[i.level].func(i,t);if(p!==j&&p!==T||(i.status=666),p===C||p===j)return 0===e.avail_out&&(i.last_flush=-1),f;if(p===D&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(M(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),N(e),0===e.avail_out))return i.last_flush=-1,f}return t!==l?f:i.wrap<=0?1:(2===i.wrap?(I(i,255&e.adler),I(i,e.adler>>8&255),I(i,e.adler>>16&255),I(i,e.adler>>24&255),I(i,255&e.total_in),I(i,e.total_in>>8&255),I(i,e.total_in>>16&255),I(i,e.total_in>>24&255)):(B(i,e.adler>>>16),B(i,65535&e.adler)),N(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?f:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==S&&69!==t&&73!==t&&91!==t&&103!==t&&t!==A&&666!==t?F(e,d):(e.state=null,t===A?F(e,-3):f):d},n.deflateSetDictionary=function(e,t){var n,r,a,u,s,c,l,h,p=t.length;if(!e||!e.state)return d;if(2===(u=(n=e.state).wrap)||1===u&&n.status!==S||n.lookahead)return d;for(1===u&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===u&&(M(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=p,e.next_in=0,e.input=t,L(n);n.lookahead>=k;){for(r=n.strstart,a=n.lookahead-(k-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--a;);n.strstart=r,n.lookahead=k-1,L(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,n.wrap=u,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y,b,x,w,_,k,E,O,S;n=e.state,r=e.next_in,O=e.input,i=r+(e.avail_in-5),a=e.next_out,S=e.output,o=a-(t-e.avail_out),u=a+(e.avail_out-257),s=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,d=n.window,h=n.hold,p=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=O[r++]<<p,p+=8,h+=O[r++]<<p,p+=8),b=v[h&g];t:for(;;){if(h>>>=x=b>>>24,p-=x,0===(x=b>>>16&255))S[a++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=v[(65535&b)+(h&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(x&=15)&&(p<x&&(h+=O[r++]<<p,p+=8),w+=h&(1<<x)-1,h>>>=x,p-=x),p<15&&(h+=O[r++]<<p,p+=8,h+=O[r++]<<p,p+=8),b=m[h&y];n:for(;;){if(h>>>=x=b>>>24,p-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=m[(65535&b)+(h&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,p<(x&=15)&&(h+=O[r++]<<p,(p+=8)<x&&(h+=O[r++]<<p,p+=8)),s<(_+=h&(1<<x)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=x,p-=x,(x=a-o)<_){if(l<(x=_-x)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=d,(k=0)===f){if(k+=c-x,x<w){for(w-=x;S[a++]=d[k++],--x;);k=a-_,E=S}}else if(f<x){if(k+=c+f-x,(x-=f)<w){for(w-=x;S[a++]=d[k++],--x;);if(k=0,f<w){for(w-=x=f;S[a++]=d[k++],--x;);k=a-_,E=S}}}else if(k+=f-x,x<w){for(w-=x;S[a++]=d[k++],--x;);k=a-_,E=S}for(;2<w;)S[a++]=E[k++],S[a++]=E[k++],S[a++]=E[k++],w-=3;w&&(S[a++]=E[k++],1<w&&(S[a++]=E[k++]))}else{for(k=a-_;S[a++]=S[k++],S[a++]=S[k++],S[a++]=S[k++],2<(w-=3););w&&(S[a++]=S[k++],1<w&&(S[a++]=S[k++]))}break}}break}}while(r<i&&a<u);r-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<u?u-a+257:257-(a-u),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),o=e("./inffast"),u=e("./inftrees"),s=1,c=2,l=0,f=-2,d=1,h=852,p=592;function v(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,l):f}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):f}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?f:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):f}function x(e,t){var n,r;return e?(r=new m,(e.state=r).window=null,(n=b(e,t))!==l&&(e.state=null),n):f}var w,_,k=!0;function E(e){if(k){var t;for(w=new r.Buf32(512),_=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(u(s,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;u(c,e.lens,0,32,_,0,e.work,{bits:5}),k=!1}e.lencode=w,e.lenbits=9,e.distcode=_,e.distbits=5}function O(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=g,n.inflateInit=function(e){return x(e,15)},n.inflateInit2=x,n.inflate=function(e,t){var n,h,p,m,g,y,b,x,w,_,k,S,A,C,D,j,T,F,P,M,N,R,I,B,z=0,L=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return f;12===(n=e.state).mode&&(n.mode=13),g=e.next_out,p=e.output,b=e.avail_out,m=e.next_in,h=e.input,y=e.avail_in,x=n.hold,w=n.bits,_=y,k=b,R=l;e:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(2&n.wrap&&35615===x){L[n.check=0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0),w=x=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",n.mode=30;break}if(w-=4,N=8+(15&(x>>>=4)),0===n.wbits)n.wbits=N;else if(N>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<N,e.adler=n.check=1,n.mode=512&x?10:12,w=x=0;break;case 2:for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(n.flags=x,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=x>>8&1),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0,n.mode=3;case 3:for(;w<32;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.head&&(n.head.time=x),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,L[2]=x>>>16&255,L[3]=x>>>24&255,n.check=a(n.check,L,4,0)),w=x=0,n.mode=4;case 4:for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.head&&(n.head.xflags=255&x,n.head.os=x>>8),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.length=x,n.head&&(n.head.extra_len=x),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(S=n.length)&&(S=y),S&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,m,S,N)),512&n.flags&&(n.check=a(n.check,h,S,m)),y-=S,m+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(S=0;N=h[m+S++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N)),N&&S<y;);if(512&n.flags&&(n.check=a(n.check,h,S,m)),y-=S,m+=S,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(S=0;N=h[m+S++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N)),N&&S<y;);if(512&n.flags&&(n.check=a(n.check,h,S,m)),y-=S,m+=S,N)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(x!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}w=x=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;w<32;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}e.adler=n.check=v(x),w=x=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){x>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}switch(n.last=1&x,w-=1,3&(x>>>=1)){case 0:n.mode=14;break;case 1:if(E(n),n.mode=20,6!==t)break;x>>>=2,w-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}x>>>=2,w-=2;break;case 14:for(x>>>=7&w,w-=7&w;w<32;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&x,w=x=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(y<S&&(S=y),b<S&&(S=b),0===S)break e;r.arraySet(p,h,m,S,g),y-=S,m+=S,b-=S,g+=S,n.length-=S;break}n.mode=12;break;case 17:for(;w<14;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(n.nlen=257+(31&x),x>>>=5,w-=5,n.ndist=1+(31&x),x>>>=5,w-=5,n.ncode=4+(15&x),x>>>=4,w-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.lens[U[n.have++]]=7&x,x>>>=3,w-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},R=u(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;j=(z=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,T=65535&z,!((D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(T<16)x>>>=D,w-=D,n.lens[n.have++]=T;else{if(16===T){for(B=D+2;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(x>>>=D,w-=D,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}N=n.lens[n.have-1],S=3+(3&x),x>>>=2,w-=2}else if(17===T){for(B=D+3;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}w-=D,N=0,S=3+(7&(x>>>=D)),x>>>=3,w-=3}else{for(B=D+7;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}w-=D,N=0,S=11+(127&(x>>>=D)),x>>>=7,w-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;S--;)n.lens[n.have++]=N}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},R=u(s,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},R=u(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=b){e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,o(e,k),g=e.next_out,p=e.output,b=e.avail_out,m=e.next_in,h=e.input,y=e.avail_in,x=n.hold,w=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;j=(z=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,T=65535&z,!((D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(j&&0==(240&j)){for(F=D,P=j,M=T;j=(z=n.lencode[M+((x&(1<<F+P)-1)>>F)])>>>16&255,T=65535&z,!(F+(D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}x>>>=F,w-=F,n.back+=F}if(x>>>=D,w-=D,n.back+=D,n.length=T,0===j){n.mode=26;break}if(32&j){n.back=-1,n.mode=12;break}if(64&j){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&j,n.mode=22;case 22:if(n.extra){for(B=n.extra;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.length+=x&(1<<n.extra)-1,x>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;j=(z=n.distcode[x&(1<<n.distbits)-1])>>>16&255,T=65535&z,!((D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(0==(240&j)){for(F=D,P=j,M=T;j=(z=n.distcode[M+((x&(1<<F+P)-1)>>F)])>>>16&255,T=65535&z,!(F+(D=z>>>24)<=w);){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}x>>>=F,w-=F,n.back+=F}if(x>>>=D,w-=D,n.back+=D,64&j){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&j,n.mode=24;case 24:if(n.extra){for(B=n.extra;w<B;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}n.offset+=x&(1<<n.extra)-1,x>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(S=k-b,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}A=S>n.wnext?(S-=n.wnext,n.wsize-S):n.wnext-S,S>n.length&&(S=n.length),C=n.window}else C=p,A=g-n.offset,S=n.length;for(b<S&&(S=b),b-=S,n.length-=S;p[g++]=C[A++],--S;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;p[g++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===y)break e;y--,x|=h[m++]<<w,w+=8}if(k-=b,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?a(n.check,p,k,g-k):i(n.check,p,k,g-k)),k=b,(n.flags?x:v(x))!==n.check){e.msg="incorrect data check",n.mode=30;break}w=x=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===y)break e;y--,x+=h[m++]<<w,w+=8}if(x!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}w=x=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return f}return e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&O(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,k-=e.avail_out,e.total_in+=_,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?a(n.check,p,k,e.next_out-k):i(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==_&&0===k||4===t)&&R===l&&(R=-5),R)},n.inflateEnd=function(e){if(!e||!e.state)return f;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?f:((n.head=t).done=!1,l):f},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?f:11===n.mode&&i(1,t,r,0)!==n.check?-3:O(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,l):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,s,c,l,f,d){var h,p,v,m,g,y,b,x,w,_=d.bits,k=0,E=0,O=0,S=0,A=0,C=0,D=0,j=0,T=0,F=0,P=null,M=0,N=new r.Buf16(16),R=new r.Buf16(16),I=null,B=0;for(k=0;k<=15;k++)N[k]=0;for(E=0;E<s;E++)N[t[n+E]]++;for(A=_,S=15;1<=S&&0===N[S];S--);if(S<A&&(A=S),0===S)return c[l++]=20971520,c[l++]=20971520,d.bits=1,0;for(O=1;O<S&&0===N[O];O++);for(A<O&&(A=O),k=j=1;k<=15;k++)if(j<<=1,(j-=N[k])<0)return-1;if(0<j&&(0===e||1!==S))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+N[k];for(E=0;E<s;E++)0!==t[n+E]&&(f[R[t[n+E]]++]=E);if(y=0===e?(P=I=f,19):1===e?(P=i,M-=257,I=a,B-=257,256):(P=o,I=u,-1),k=O,g=l,D=E=F=0,v=-1,m=(T=1<<(C=A))-1,1===e&&852<T||2===e&&592<T)return 1;for(;;){for(b=k-D,w=f[E]<y?(x=0,f[E]):f[E]>y?(x=I[B+f[E]],P[M+f[E]]):(x=96,0),h=1<<k-D,O=p=1<<C;c[g+(F>>D)+(p-=h)]=b<<24|x<<16|w|0,0!==p;);for(h=1<<k-1;F&h;)h>>=1;if(0!==h?(F&=h-1,F+=h):F=0,E++,0==--N[k]){if(k===S)break;k=t[n+f[E]]}if(A<k&&(F&m)!==v){for(0===D&&(D=A),g+=O,j=1<<(C=k-D);C+D<S&&!((j-=N[C+D])<=0);)C++,j<<=1;if(T+=1<<C,1===e&&852<T||2===e&&592<T)return 1;c[v=F&m]=A<<24|C<<16|g-l|0}}return 0!==F&&(c[g+F]=k-D<<24|64<<16|0),d.bits=A,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,a=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var u=0,s=29,c=256,l=c+1+s,f=30,d=19,h=2*l+1,p=15,v=16,m=7,g=256,y=16,b=17,x=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(l+2));o(O);var S=new Array(2*f);o(S);var A=new Array(512);o(A);var C=new Array(256);o(C);var D=new Array(s);o(D);var j,T,F,P=new Array(f);function M(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function N(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function R(e){return e<256?A[e]:A[256+(e>>>7)]}function I(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,n){e.bi_valid>v-n?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>v-e.bi_valid,e.bi_valid+=n-v):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function z(e,t,n){B(e,n[2*t],n[2*t+1])}function L(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function U(e,t,n){var r,i,a=new Array(p+1),o=0;for(r=1;r<=p;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var u=e[2*i+1];0!==u&&(e[2*i]=L(a[u]++,u))}}function q(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function $(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function V(e,t,n){var r,i,a,o,u=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?z(e,i,t):(z(e,(a=C[i])+c+1,t),0!==(o=w[a])&&B(e,i-=D[a],o),z(e,a=R(--r),n),0!==(o=_[a])&&B(e,r-=P[a],o)),u<e.last_lit;);z(e,g,t)}function G(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,u=t.stat_desc.has_stree,s=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<s;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,u&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)$(e,a,n);for(i=s;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,$(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,u,s=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=p;a++)e.bl_count[a]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)m<(a=s[2*s[2*(r=e.heap[n])+1]+1]+1)&&(a=m,g++),s[2*r+1]=a,c<r||(e.bl_count[a]++,o=0,v<=r&&(o=d[r-v]),u=s[2*r],e.opt_len+=u*(a+o),f&&(e.static_len+=u*(l[2*r+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(a=m;0!==a;a--)for(r=e.bl_count[a];0!==r;)c<(i=e.heap[--n])||(s[2*i+1]!==a&&(e.opt_len+=(a-s[2*i+1])*s[2*i],s[2*i+1]=a),r--)}}(e,t),U(a,c,e.bl_count)}function Y(e,t,n){var r,i,a=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++u<s&&i===o||(u<c?e.bl_tree[2*i]+=u:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):u<=10?e.bl_tree[2*b]++:e.bl_tree[2*x]++,a=i,c=(u=0)===o?(s=138,3):i===o?(s=6,3):(s=7,4))}function K(e,t,n){var r,i,a=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++u<s&&i===o)){if(u<c)for(;z(e,i,e.bl_tree),0!=--u;);else 0!==i?(i!==a&&(z(e,i,e.bl_tree),u--),z(e,y,e.bl_tree),B(e,u-3,2)):u<=10?(z(e,b,e.bl_tree),B(e,u-3,3)):(z(e,x,e.bl_tree),B(e,u-11,7));a=i,c=(u=0)===o?(s=138,3):i===o?(s=6,3):(s=7,4)}}o(P);var X=!1;function Q(e,t,n,i){B(e,(u<<1)+(i?1:0),3),function(e,t,n,i){W(e),i&&(I(e,n),I(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){X||(function(){var e,t,n,r,i,a=new Array(p+1);for(r=n=0;r<s-1;r++)for(D[r]=n,e=0;e<1<<w[r];e++)C[n++]=r;for(C[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,e=0;e<1<<_[r];e++)A[i++]=r;for(i>>=7;r<f;r++)for(P[r]=i<<7,e=0;e<1<<_[r]-7;e++)A[256+i++]=r;for(t=0;t<=p;t++)a[t]=0;for(e=0;e<=143;)O[2*e+1]=8,e++,a[8]++;for(;e<=255;)O[2*e+1]=9,e++,a[9]++;for(;e<=279;)O[2*e+1]=7,e++,a[7]++;for(;e<=287;)O[2*e+1]=8,e++,a[8]++;for(U(O,l+1,a),e=0;e<f;e++)S[2*e+1]=5,S[2*e]=L(e,5);j=new M(O,w,c+1,l,p),T=new M(S,_,0,f,p),F=new M(new Array(0),k,0,d,m)}(),X=!0),e.l_desc=new N(e.dyn_ltree,j),e.d_desc=new N(e.dyn_dtree,T),e.bl_desc=new N(e.bl_tree,F),e.bi_buf=0,e.bi_valid=0,q(e)},n._tr_stored_block=Q,n._tr_flush_block=function(e,t,n,r){var o,u,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return a;return i}(e)),G(e,e.l_desc),G(e,e.d_desc),s=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(u=e.static_len+3+7>>>3)<=o&&(o=u)):o=u=n+5,n+4<=o&&-1!==t?Q(e,t,n,r):4===e.strategy||u===o?(B(e,2+(r?1:0),3),V(e,O,S)):(B(e,4+(r?1:0),3),function(e,t,n,r){var i;for(B(e,t-257,5),B(e,n-1,5),B(e,r-4,4),i=0;i<r;i++)B(e,e.bl_tree[2*E[i]+1],3);K(e,e.dyn_ltree,t-1),K(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),V(e,e.dyn_ltree,e.dyn_dtree)),q(e),r&&W(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(C[n]+c+1)]++,e.dyn_dtree[2*R(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){B(e,2,3),z(e,g,O),function(e){16===e.bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},7854:function(e){"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var a=i+65;n[a]=[String.fromCharCode(a+32),String.fromCharCode(a)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},2366:function(e){"use strict";var t={};function n(e,r,i){var a,o,u,s,c,l="";for("string"!==typeof r&&(i=r,r=n.defaultChars),"undefined"===typeof i&&(i=!0),c=function(e){var n,r,i=t[e];if(i)return i;for(i=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)i[e.charCodeAt(n)]=e[n];return i}(r),a=0,o=e.length;a<o;a++)if(u=e.charCodeAt(a),i&&37===u&&a+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(a+1,a+3)))l+=e.slice(a,a+3),a+=2;else if(u<128)l+=c[u];else if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&a+1<o&&(s=e.charCodeAt(a+1))>=56320&&s<=57343){l+=encodeURIComponent(e[a]+e[a+1]),a++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[a]);return l}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},1025:function(e,t){var n,r,i;r=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),i={},a=0,o={parse:function(n,r){var u=(r=r||{}).dynamicTyping||!1;if(w(u)&&(r.dynamicTypingFunction=u,u={}),r.dynamicTyping=u,r.transform=!!w(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var s=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,u=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),s=new t.Worker(u);return s.onmessage=m,s.id=a++,i[s.id]=s}();return s.userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void s.postMessage({input:n,config:r,workerId:s.id})}var h=null;return o.NODE_STREAM_INPUT,"string"==typeof n?h=r.download?new c(r):new f(r):!0===n.readable&&w(n.read)&&w(n.on)?h=new d(r):(t.File&&n instanceof File||n instanceof Object)&&(h=new l(r)),h.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",a="\r\n",u='"',s=u+u,c=!1,l=null,f=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(u=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");l=t.columns}void 0!==t.escapeChar&&(s=t.escapeChar+u),"boolean"==typeof t.escapeFormulae&&(f=t.escapeFormulae)}}();var d=new RegExp(p(u),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(l||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var u=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(u&&r){for(var c=0;c<e.length;c++)0<c&&(o+=i),o+=v(e[c],c);0<t.length&&(o+=a)}for(var l=0;l<t.length;l++){var f=u?e.length:t[l].length,d=!1,h=u?0===Object.keys(t[l]).length:0===t[l].length;if(n&&!u&&(d="greedy"===n?""===t[l].join("").trim():1===t[l].length&&0===t[l][0].length),"greedy"===n&&u){for(var p=[],m=0;m<f;m++){var g=s?e[m]:m;p.push(t[l][g])}d=""===p.join("").trim()}if(!d){for(var y=0;y<f;y++){0<y&&!h&&(o+=i);var b=u&&s?e[y]:y;o+=v(t[l][b],y)}l<t.length-1&&(!n||0<f&&!h)&&(o+=a)}}return o}function v(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===f&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var r=e.toString().replace(d,s),a="boolean"==typeof n&&n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(r,o.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1);return a?u+r+u:r}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=v,o.ParserHandle=h,o.NetworkStreamer=c,o.FileStreamer=l,o.StringStreamer=f,o.ReadableStreamStreamer=d,t.jQuery){var u=t.jQuery;u.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==u(this).prop("tagName").toUpperCase()||"file"!==u(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:u.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,s,c=r[0];if(w(e.before)){var l=e.before(c.file,c.inputElem);if("object"==typeof l){if("abort"===l.action)return t="AbortError",n=c.file,i=c.inputElem,s=l.reason,void(w(e.error)&&e.error({name:t},n,i,s));if("skip"===l.action)return void a();"object"==typeof l.config&&(c.instanceConfig=u.extend(c.instanceConfig,l.config))}else if("skip"===l)return void a()}var f=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(f)&&f(e,c.file,c.inputElem),a()},o.parse(c.file,c.instanceConfig)}else w(e.complete)&&e.complete()}function a(){r.splice(0,1),i()}}}function s(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var u=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=u.meta.cursor;this._finished||(this._partialLine=a.substring(s-this._baseIndex),this._baseIndex=s),u&&u.data&&(this._rowCount+=u.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:u,workerId:o.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(u,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);u=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(u.data),this._completeResults.errors=this._completeResults.errors.concat(u.errors),this._completeResults.meta=u.meta),this._completed||!c||!w(this._config.complete)||u&&u.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||u&&u.meta.paused||this._nextChunk(),u}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),s.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function l(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),s.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var a=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;s.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){s.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=x((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=x((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=x((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=x((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,i=Math.pow(2,53),a=-i,u=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,s=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,c=this,l=0,f=0,d=!1,h=!1,m=[],g={data:[],errors:[],meta:{}};if(w(e.step)){var y=e.step;e.step=function(t){if(g=t,k())_();else{if(_(),0===g.data.length)return;l+=t.data.length,e.preview&&l>e.preview?n.abort():(g.data=g.data[0],y(g,c))}}}function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){if(g&&r&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<g.data.length;t++)x(g.data[t])&&g.data.splice(t--,1);return k()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;k()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),m.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var a=r,o=t[r];e.header&&(a=r>=m.length?"__parsed_extra":m[r]),e.transform&&(o=e.transform(o,a)),o=E(a,o),"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(o)):i[a]=o}return e.header&&(r>m.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+r,f+n):r<m.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+r,f+n)),i}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=m),f+=n,g}()}function k(){return e.header&&0===m.length}function E(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(u.test(e)){var t=parseFloat(e);if(a<t&&t<i)return!0}return!1}(n)?parseFloat(n):s.test(n)?new Date(n):""===n?null:n):n;var r}function O(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),g.errors.push(i)}this.parse=function(i,a,u){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),a=1<i.length&&i[0].length<r[0].length;if(1===r.length||a)return"\n";for(var o=0,u=0;u<r.length;u++)"\n"===r[u][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,s)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),g.meta.delimiter=e.delimiter);else{var c=function(t,n,r,i,a){var u,s,c,l;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var f=0;f<a.length;f++){var d=a[f],h=0,p=0,m=0;c=void 0;for(var g=new v({comments:i,delimiter:d,newline:n,preview:10}).parse(t),y=0;y<g.data.length;y++)if(r&&x(g.data[y]))m++;else{var b=g.data[y].length;p+=b,void 0!==c?0<b&&(h+=Math.abs(b-c),c=b):c=b}0<g.data.length&&(p/=g.data.length-m),(void 0===s||h<=s)&&(void 0===l||l<p)&&1.99<p&&(s=h,u=d,l=p)}return{successful:!!(e.delimiter=u),bestDelimiter:u}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),g.meta.delimiter=e.delimiter}var l=b(e);return e.preview&&e.header&&l.preview++,t=i,n=new v(l),g=n.parse(t,a,u),_(),d?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(d=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),g.meta.aborted=!0,w(e.complete)&&e.complete(g),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,a=e.step,u=e.preview,s=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,f=!1;this.parse=function(e,o,d){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,v=n.length,m=r.length,g=i.length,y=w(a),b=[],x=[],_=[],k=l=0;if(!e)return R();if(s||!1!==s&&-1===e.indexOf(t)){for(var E=e.split(r),O=0;O<E.length;O++){if(_=E[O],l+=_.length,O!==E.length-1)l+=r.length;else if(d)return R();if(!i||_.substring(0,g)!==i){if(y){if(b=[],F(_.split(n)),I(),f)return R()}else F(_.split(n));if(u&&u<=O)return b=b.slice(0,u),R(!0)}}return R()}for(var S=e.indexOf(n,l),A=e.indexOf(r,l),C=new RegExp(p(c)+p(t),"g"),D=e.indexOf(t,l);;)if(e[l]!==t)if(i&&0===_.length&&e.substring(l,l+g)===i){if(-1===A)return R();l=A+m,A=e.indexOf(r,l),S=e.indexOf(n,l)}else if(-1!==S&&(S<A||-1===A))_.push(e.substring(l,S)),l=S+v,S=e.indexOf(n,l);else{if(-1===A)break;if(_.push(e.substring(l,A)),N(A+m),y&&(I(),f))return R();if(u&&b.length>=u)return R(!0)}else for(D=l,l++;;){if(-1===(D=e.indexOf(t,D+1)))return d||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:l}),M();if(D===h-1)return M(e.substring(l,D).replace(C,t));if(t!==c||e[D+1]!==c){if(t===c||0===D||e[D-1]!==c){-1!==S&&S<D+1&&(S=e.indexOf(n,D+1)),-1!==A&&A<D+1&&(A=e.indexOf(r,D+1));var j=P(-1===A?S:Math.min(S,A));if(e[D+1+j]===n){_.push(e.substring(l,D).replace(C,t)),e[l=D+1+j+v]!==t&&(D=e.indexOf(t,l)),S=e.indexOf(n,l),A=e.indexOf(r,l);break}var T=P(A);if(e.substring(D+1+T,D+1+T+m)===r){if(_.push(e.substring(l,D).replace(C,t)),N(D+1+T+m),S=e.indexOf(n,l),D=e.indexOf(t,l),y&&(I(),f))return R();if(u&&b.length>=u)return R(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:l}),D++}}else D++}return M();function F(e){b.push(e),k=l}function P(t){var n=0;if(-1!==t){var r=e.substring(D+1,t);r&&""===r.trim()&&(n=r.length)}return n}function M(t){return d||(void 0===t&&(t=e.substring(l)),_.push(t),l=h,F(_),y&&I()),R()}function N(t){l=t,F(_),_=[],A=e.indexOf(r,l)}function R(e){return{data:b,errors:x,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!e,cursor:k+(o||0)}}}function I(){a(R()),b=[],x=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return l}}function m(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){r=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},a),!r);o++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&g(t.workerId,t.results)}function g(e,t){var n=i[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function x(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(s.prototype)).constructor=c,(l.prototype=Object.create(s.prototype)).constructor=l,(f.prototype=Object.create(f.prototype)).constructor=f,(d.prototype=Object.create(s.prototype)).constructor=d,o},void 0===(i="function"===typeof n?n.apply(t,r):n)||(e.exports=i)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,k=60106,E=60107,O=60108,S=60114,A=60109,C=60110,D=60112,j=60113,T=60120,F=60115,P=60116,M=60121,N=60128,R=60129,I=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;_=z("react.element"),k=z("react.portal"),E=z("react.fragment"),O=z("react.strict_mode"),S=z("react.profiler"),A=z("react.provider"),C=z("react.context"),D=z("react.forward_ref"),j=z("react.suspense"),T=z("react.suspense_list"),F=z("react.memo"),P=z("react.lazy"),M=z("react.block"),z("react.scope"),N=z("react.opaque.id"),R=z("react.debug_trace_mode"),I=z("react.offscreen"),B=z("react.legacy_hidden")}var L,U="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function W(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var H=!1;function $(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function V(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 22:return e=$(e.type._render,!1);case 1:return e=$(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case S:return"Profiler";case O:return"StrictMode";case j:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case F:return G(e.type);case M:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Oe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ce=null,De=null;function je(e){if(e=ri(e)){if("function"!==typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ae(e.stateNode,e.type,t))}}function Te(e){Ce?De?De.push(e):De=[e]:Ce=e}function Fe(){if(Ce){var e=Ce,t=De;if(De=Ce=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Pe(e,t){return e(t)}function Me(e,t,n,r,i){return e(t,n,r,i)}function Ne(){}var Re=Pe,Ie=!1,Be=!1;function ze(){null===Ce&&null===De||(Ne(),Fe())}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Ue=!1}function We(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,$e=null,Ve=!1,Ge=null,Ye={onError:function(e){He=!0,$e=e}};function Ke(e,t,n,r,i,a,o,u,s){He=!1,$e=null,We.apply(Ye,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Xe(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&yt(ut)&&(ut=null),null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Ot={},St={};function At(e){if(Ot[e])return Ot[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Ot[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=At("animationend"),Dt=At("animationiteration"),jt=At("animationstart"),Tt=At("transitionend"),Ft=new Map,Pt=new Map,Mt=["abort","abort",Ct,"animationEnd",Dt,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ft.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Rt=8;function It(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Rt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=It(s),i=Rt):0!==(u&=a)&&(r=It(u),i=Rt)}else 0!==(a=n&~o)?(r=It(a),i=Rt):0!==u&&(r=It(u),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(It(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Lt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Lt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Lt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Vt|0)|0},$t=Math.log,Vt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Kt=!0;function Xt(e,t,n,r){Ie||Ne();var i=Zt,a=Ie;Ie=!0;try{Me(i,e,t,n,r)}finally{(Ie=a)||ze()}}function Qt(e,t,n,r){Yt(Gt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Nr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Qe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Nr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=i({},dn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(mn),yn=sn(i({},mn,{dataTransfer:0})),bn=sn(i({},pn,{relatedTarget:0})),xn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),kn=sn(i({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},On={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return An}var Dn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?On[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=sn(Dn),Tn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(Mn),Rn=[9,13,27,32],In=f&&"CompositionEvent"in window,Bn=null;f&&"documentMode"in document&&(Bn=document.documentMode);var zn=f&&"TextEvent"in window&&!Bn,Ln=f&&(!In||Bn&&8<Bn&&11>=Bn),Un=String.fromCharCode(32),qn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Yn(e,t,n,r){Te(r),0<(t=Ir(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Xn=null;function Qn(e){Dr(e,0)}function Zn(e){if(Q(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",ar),Xn=Kn=null)}function ar(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];if(Yn(t,Xn,e,Se(e)),e=Qn,Ie)e(t);else{Ie=!0;try{Pe(e,t)}finally{Ie=!1,ze()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Kn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function sr(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==br||br!==Z(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Ir(xr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Mt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Or=0;Or<Er.length;Or++)Pt.set(Er[Or],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ke.apply(this,arguments),He){if(!He)throw Error(o(198));var l=$e;He=!1,$e=null,Ve||(Ve=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ve)throw e=Ge,Ve=!1,Ge=null,e}function jr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){e[Tr]||(e[Tr]=!0,u.forEach((function(t){Ar.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Mr(a,e,i,t),o.add(u))}function Mr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Qt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{Re(e,t,n)}finally{Be=!1,ze()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Ft.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=jn;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Fn;break;case Ct:case Dt:case jt:s=xn;break;case Tt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Le(p,d))&&l.push(Rr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=gn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ii(s),h=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,ni(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Br(h))p++;for(h=0,v=d;v;v=Br(v))h++;for(;0<p-h;)l=Br(l),p--;for(;0<h-p;)d=Br(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Br(l),d=Br(d)}l=null}else l=null;null!==s&&zr(o,u,s,l,!1),null!==c&&null!==f&&zr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Gn(u))if(er)m=cr;else{m=ur;var g=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Yn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ie(u,"number",u.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(br=g,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $n?Wn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&($n||"onCompositionStart"!==b?"onCompositionEnd"===b&&$n&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,$n=!0)),0<(g=Ir(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(qn=!0,Un);case"textInput":return(e=t.data)===Un&&qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!In&&Wn(e,t)?(e=rn(),nn=tn=en=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ir(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Dr(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Rr(e,a,i)),null!=(a=Le(e,t))&&r.push(Rr(e,a,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Le(n,a))&&o.unshift(Rr(n,s,u)):i||null!=(s=Le(n,a))&&o.push(Rr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Lr(){}var Ur=null,qr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Qr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Qr,Jr="__reactProps$"+Qr,ei="__reactContainer$"+Qr,ti="__reactEvents$"+Qr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Zr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Jr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var di={},hi=ci(di),pi=ci(!1),vi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(hi)}function bi(e,t,n){if(hi.current!==di)throw Error(o(168));fi(hi,t),fi(pi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,vi=hi.current,fi(hi,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),fi(hi,e)):li(pi),fi(pi,n)}var ki=null,Ei=null,Oi=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Di=a.unstable_requestPaint,ji=a.unstable_now,Ti=a.unstable_getCurrentPriorityLevel,Fi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Mi=a.unstable_NormalPriority,Ni=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Ii={},Bi=void 0!==Di?Di:function(){},zi=null,Li=null,Ui=!1,qi=ji(),Wi=1e4>qi?ji:function(){return ji()-qi};function Hi(){switch(Ti()){case Fi:return 99;case Pi:return 98;case Mi:return 97;case Ni:return 96;case Ri:return 95;default:throw Error(o(332))}}function $i(e){switch(e){case 99:return Fi;case 98:return Pi;case 97:return Mi;case 96:return Ni;case 95:return Ri;default:throw Error(o(332))}}function Vi(e,t){return e=$i(e),Oi(e,t)}function Gi(e,t,n){return e=$i(e),Si(e,t,n)}function Yi(){if(null!==Li){var e=Li;Li=null,Ai(e)}Ki()}function Ki(){if(!Ui&&null!==zi){Ui=!0;var e=0;try{var t=zi;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Si(Fi,Yi),n}finally{Ui=!1}}}var Xi=w.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),Ji=null,ea=null,ta=null;function na(){ta=ea=Ji=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Ji=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Io=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Ji)throw Error(o(308));ea=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=a.baseState,u=0,f=l=c=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break e;d=i({},d,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=d),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Uu|=u,e.lanes=u,e.memoizedState=d}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ds(),r=hs(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,a))}function ba(e,t,n){var r=!1,i=di,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:hi.current,i.context=mi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Oa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ka(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ys(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=ka(e,null,t),n.return=e,n;case k:return(t=Qs(t,e.mode,n)).return=e,t}if(_a(t)||q(t))return(t=Ys(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null}if(_a(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,c))&&(u=a(y,u,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=a(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ka(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Ys(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=ka(e,r,a),s.return=e,e=s)}return u(e);case k:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(_a(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Oa(!0),Aa=Oa(!1),Ca={},Da=ci(Ca),ja=ci(Ca),Ta=ci(Ca);function Fa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ta,t),fi(ja,e),fi(Da,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Da),fi(Da,t)}function Ma(){li(Da),li(ja),li(Ta)}function Na(e){Fa(Ta.current);var t=Fa(Da.current),n=pe(t,e.type);t!==n&&(fi(ja,e),fi(Da,n))}function Ra(e){ja.current===e&&(li(Da),li(ja))}var Ia=ci(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=null,La=null,Ua=!1;function qa(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ua){var t=La;if(t){var n=t;if(!Wa(e,t)){if(!(t=Yr(n.nextSibling))||!Wa(e,t))return e.flags=-1025&e.flags|2,Ua=!1,void(za=e);qa(za,n)}za=e,La=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Ua=!1,za=e}}function $a(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;za=e}function Va(e){if(e!==za)return!1;if(!Ua)return $a(e),Ua=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=La;t;)qa(e,t),t=Yr(t.nextSibling);if($a(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){La=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}La=null}}else La=za?Yr(e.stateNode.nextSibling):null;return!0}function Ga(){La=za=null,Ua=!1}var Ya=[];function Ka(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Xa=w.ReactCurrentDispatcher,Qa=w.ReactCurrentBatchConfig,Za=0,Ja=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Po:Mo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=No,e=n(r,i)}while(ro)}if(Xa.current=Fo,t=null!==eo&&null!==eo.next,Za=0,to=eo=Ja=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Ja.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Ja.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Ja.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Ja.lanes|=l,Uu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Io=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Io=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Ja;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=hs(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Ht(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hs(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=To.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=To.bind(null,Ja,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},uo().memoizedState=e}function bo(){return so().memoizedState}function xo(e,t,n,r){var i=uo();Ja.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Ja.flags|=e,i.memoizedState=go(1|t,n,a,r)}function _o(e,t){return xo(516,4,e,t)}function ko(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Oo.bind(null,t,e),n)}function Ao(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Do(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jo(e,t){var n=Hi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Qa.transition;Qa.transition=1;try{e(!1),t()}finally{Qa.transition=n}}))}function To(e,t,n){var r=ds(),i=hs(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Fo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,2,Oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=To.bind(null,Ja,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:Ao,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=jo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ua){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,go(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:Co,useContext:oa,useEffect:ko,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Do,useReducer:lo,useRef:bo,useState:function(){return lo(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[bo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},No={readContext:oa,useCallback:Co,useContext:oa,useEffect:ko,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Do,useReducer:fo,useRef:bo,useState:function(){return fo(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return ko((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[bo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Io=!1;function Bo(e,t,n,r){t.child=null===e?Aa(t,null,n,r):Sa(t,e.child,n,r)}function zo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Io?(t.flags|=1,Bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Lo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||$s(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Uo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Vs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Uo(e,t,n,r,i,a){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Io=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Io=!0)}return Ho(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Bo(e,t,i,n),t.child}function Wo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=gi(n)?vi:hi.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Io?(t.flags|=1,Bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function $o(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ba(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xa(t,o,r,c),ua=!1;var d=t.memoizedState;o.state=d,ha(t,r,o,i),s=t.memoizedState,u!==r||d!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ya(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Qi(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=gi(n)?vi:hi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&xa(t,o,r,s),ua=!1,d=t.memoizedState,o.state=d,ha(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||pi.current||ua?("function"===typeof h&&(ma(t,n,h,r),p=t.memoizedState),(c=ua||ya(t,n,c,r,d,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){Wo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),au(e,t,a);r=t.stateNode,Ro.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Bo(e,t,u,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Pa(e,t.containerInfo)}var Yo,Ko,Xo,Qo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Ia.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ia,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qo,t.lanes=33554432,e):((n=Ks({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Qo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Jo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ks(t,i,0,null),n=Ys(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Vs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vs(o,u),null!==e?r=Vs(e,r):(r=Ys(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Bo(e,t,r.children,n),0!==(2&(r=Ia.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ia,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ua)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Ma(),li(pi),li(hi),Ka(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ra(t);var a=Fa(Ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Fa(Da.current),Va(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Zr]=t,r[Jr]=u,n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)jr(Sr[e],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":ee(r,u),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},jr("invalid",r);break;case"textarea":se(r,u),jr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&jr("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[Jr]=r,Yo(e,t),t.stateNode=e,c=Oe(n,r),n){case"dialog":jr("cancel",e),jr("close",e),a=r;break;case"iframe":case"object":case"embed":jr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)jr(Sr[a],e);a=r;break;case"source":jr("error",e),a=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),a=r;break;case"details":jr("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),jr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),jr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),jr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&jr("scroll",e):null!=f&&x(e,u,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Lr)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Fa(Ta.current),Fa(Da.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Ia),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ia.current)?0===Bu&&(Bu=3):(0!==Bu&&3!==Bu||(Bu=4),null===Pu||0===(134217727&Uu)&&0===(134217727&qu)||ys(Pu,Nu))),(r||n)&&(t.flags|=4),null);case 4:return Ma(),null===e&&Fr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ia),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Bu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ba(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ia,1&Ia.current|2),t.child}e=e.sibling}null!==r.tail&&Wi()>Vu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ba(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ua)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=Ia.current,fi(Ia,u?1&t|2:1&t),n):null;case 23:case 24:return ks(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ma(),li(pi),li(hi),Ka(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ra(e),null;case 13:return li(Ia),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ia),null;case 4:return Ma(),null;case 10:return ra(e),null;case 23:case 24:return ks(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Fa(Da.current);var o,u=null;switch(n){case"input":a=J(e,a),r=J(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Lr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&jr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===N?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Qu=r),lu(0,t)},n}function hu(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zu?Zu=new Set([this]):Zu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ls(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Is(n,e),Rs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function yu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bu(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(ki,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Is(t,n);else{r=t;try{i()}catch(a){Ls(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ls(t,a)}break;case 5:vu(t);break;case 4:Ou(e,t)}}function xu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ku(e,n,t):Eu(e,n,t)}function ku(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lr));else if(4!==r&&null!==(e=e.child))for(ku(e,t,n),e=e.sibling;null!==e;)ku(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Ou(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(bu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Oe(e,i),t=Oe(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?ye(n,s):x(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&($u=Wi(),yu(t.child,!0)),void Au(t);case 19:return void Au(t);case 23:case 24:return void yu(t,null!==t.memoizedState)}throw Error(o(163))}function Au(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Du=Math.ceil,ju=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Fu=0,Pu=null,Mu=null,Nu=0,Ru=0,Iu=ci(0),Bu=0,zu=null,Lu=0,Uu=0,qu=0,Wu=0,Hu=null,$u=0,Vu=1/0;function Gu(){Vu=Wi()+500}var Yu,Ku=null,Xu=!1,Qu=null,Zu=null,Ju=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function ds(){return 0!==(48&Fu)?Wi():-1!==us?us:us=Wi()}function hs(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===ss&&(ss=Lu),0!==Xi.transition){0!==cs&&(cs=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Fu)&&98===e?e=Lt(12,ss):e=Lt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;Wt(e,t,n),e===Pu&&(qu|=t,4===Bu&&ys(e,Nu));var r=Hi();1===t?0!==(8&Fu)&&0===(48&Fu)?bs(e):(ms(e,n),0===Fu&&(Gu(),Yi())):(0===(4&Fu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,It(c);var f=Rt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Bt(e,e===Pu?Nu:0),t=Rt,0===r)null!==n&&(n!==Ii&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ii&&Ai(n)}15===t?(n=bs.bind(null,e),null===zi?(zi=[n],Li=Si(Fi,Ki)):zi.push(n),n=Ii):14===t?n=Gi(99,bs.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gs(e){if(us=-1,cs=ss=0,0!==(48&Fu))throw Error(o(327));var t=e.callbackNode;if(Ns()&&e.callbackNode!==t)return null;var n=Bt(e,e===Pu?Nu:0);if(0===n)return null;var r=n,i=Fu;Fu|=16;var a=Ss();for(Pu===e&&Nu===r||(Gu(),Es(e,r));;)try{Ds();break}catch(s){Os(e,s)}if(na(),ju.current=a,Fu=i,null!==Mu?r=0:(Pu=null,Nu=0,r=Bu),0!==(Lu&qu))Es(e,0);else if(0!==r){if(2===r&&(Fu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=zt(e))&&(r=As(e,n))),1===r)throw t=zu,Es(e,0),ys(e,n),ms(e,Wi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Fs(e);break;case 3:if(ys(e,n),(62914560&n)===n&&10<(r=$u+500-Wi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ds(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(Fs.bind(null,e),r);break}Fs(e);break;case 4:if(ys(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Ht(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Du(n/1960))-n)){e.timeoutHandle=$r(Fs.bind(null,e),n);break}Fs(e);break;default:throw Error(o(329))}}return ms(e,Wi()),e.callbackNode===t?gs.bind(null,e):null}function ys(e,t){for(t&=~Wu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function bs(e){if(0!==(48&Fu))throw Error(o(327));if(Ns(),e===Pu&&0!==(e.expiredLanes&Nu)){var t=Nu,n=As(e,t);0!==(Lu&qu)&&(n=As(e,t=Bt(e,t)))}else n=As(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Fu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=zt(e))&&(n=As(e,t))),1===n)throw n=zu,Es(e,0),ys(e,t),ms(e,Wi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e),ms(e,Wi()),null}function xs(e,t){var n=Fu;Fu|=1;try{return e(t)}finally{0===(Fu=n)&&(Gu(),Yi())}}function ws(e,t){var n=Fu;Fu&=-2,Fu|=8;try{return e(t)}finally{0===(Fu=n)&&(Gu(),Yi())}}function _s(e,t){fi(Iu,Ru),Ru|=t,Lu|=t}function ks(){Ru=Iu.current,li(Iu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Mu)for(n=Mu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Ma(),li(pi),li(hi),Ka();break;case 5:Ra(r);break;case 4:Ma();break;case 13:case 19:li(Ia);break;case 10:ra(r);break;case 23:case 24:ks()}n=n.return}Pu=e,Mu=Vs(e.current,null),Nu=Ru=Lu=t,Bu=0,zu=null,Wu=qu=Uu=0}function Os(e,t){for(;;){var n=Mu;try{if(na(),Xa.current=Fo,no){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=Ja=null,ro=!1,Tu.current=null,null===n||null===n.return){Bu=1,zu=t,Mu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Nu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ia.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=la(-1,1);y.tag=2,fa(u,y)}u.lanes|=1;break e}s=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new fu,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var x=Us.bind(null,a,c,u);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bu&&(Bu=2),s=cu(s,u),d=o;do{switch(d.tag){case 3:a=s,d.flags|=4096,t&=-t,d.lanes|=t,da(d,du(0,a,t));break e;case 1:a=s;var w=d.type,_=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Zu||!Zu.has(_)))){d.flags|=4096,t&=-t,d.lanes|=t,da(d,hu(d,a,t));break e}}d=d.return}while(null!==d)}Ts(n)}catch(k){t=k,Mu===n&&null!==n&&(Mu=n=n.return);continue}break}}function Ss(){var e=ju.current;return ju.current=Fo,null===e?Fo:e}function As(e,t){var n=Fu;Fu|=16;var r=Ss();for(Pu===e&&Nu===t||Es(e,t);;)try{Cs();break}catch(i){Os(e,i)}if(na(),Fu=n,ju.current=r,null!==Mu)throw Error(o(261));return Pu=null,Nu=0,Bu}function Cs(){for(;null!==Mu;)js(Mu)}function Ds(){for(;null!==Mu&&!Ci();)js(Mu)}function js(e){var t=Yu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?Ts(e):Mu=t,Tu.current=null}function Ts(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Ru)))return void(Mu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ru)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Mu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Mu=t);Mu=t=e}while(null!==t);0===Bu&&(Bu=5)}function Fs(e){var t=Hi();return Vi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ns()}while(null!==es);if(0!==(48&Fu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Mu=Pu=null,Nu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Fu,Fu|=32,Tu.current=null,Ur=Kt,gr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=u,g=null;t:for(;;){for(var y;m!==s||0!==a&&3!==m.nodeType||(d=f+a),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===u)break t;if(g===s&&++p===a&&(d=f),g===c&&++v===l&&(h=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Kt=!1,ls=null,fs=!1,Ku=r;do{try{Ms()}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);ls=null,Ku=r;do{try{for(u=e;null!==Ku;){var b=Ku.flags;if(16&b&&ye(Ku.stateNode,""),128&b){var x=Ku.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:_u(Ku),Ku.flags&=-3;break;case 6:_u(Ku),Ku.flags&=-3,Su(Ku.alternate,Ku);break;case 1024:Ku.flags&=-1025;break;case 1028:Ku.flags&=-1025,Su(Ku.alternate,Ku);break;case 4:Su(Ku.alternate,Ku);break;case 8:Ou(u,s=Ku);var _=s.alternate;xu(s),null!==_&&xu(_)}Ku=Ku.nextEffect}}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);if(w=qr,x=mr(),b=w.focusedElem,u=w.selectionRange,x!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==u&&gr(b)&&(x=u.start,void 0===(w=u.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),s=b.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=pr(b,_),a=pr(b,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((x=x.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(x),w.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Ur,qr=Ur=null,e.current=n,Ku=r;do{try{for(b=e;null!==Ku;){var k=Ku.flags;if(36&k&&gu(b,Ku.alternate,Ku),128&k){x=void 0;var E=Ku.ref;if(null!==E){var O=Ku.stateNode;Ku.tag,x=O,"function"===typeof E?E(x):E.current=x}}Ku=Ku.nextEffect}}catch(S){if(null===Ku)throw Error(o(330));Ls(Ku,S),Ku=Ku.nextEffect}}while(null!==Ku);Ku=null,Bi(),Fu=i}else e.current=n;if(Ju)Ju=!1,es=e,ts=t;else for(Ku=r;null!==Ku;)t=Ku.nextEffect,Ku.nextEffect=null,8&Ku.flags&&((k=Ku).sibling=null,k.stateNode=null),Ku=t;if(0===(r=e.pendingLanes)&&(Zu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,Wi()),Xu)throw Xu=!1,e=Qu,Qu=null,e;return 0!==(8&Fu)||Yi(),null}function Ms(){for(;null!==Ku;){var e=Ku.alternate;fs||null===ls||(0!==(8&Ku.flags)?et(Ku,ls)&&(fs=!0):13===Ku.tag&&Cu(e,Ku)&&et(Ku,ls)&&(fs=!0));var t=Ku.flags;0!==(256&t)&&mu(e,Ku),0===(512&t)||Ju||(Ju=!0,Gi(97,(function(){return Ns(),null}))),Ku=Ku.nextEffect}}function Ns(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Vi(e,Bs)}return!1}function Rs(e,t){ns.push(t,e),Ju||(Ju=!0,Gi(97,(function(){return Ns(),null})))}function Is(e,t){rs.push(t,e),Ju||(Ju=!0,Gi(97,(function(){return Ns(),null})))}function Bs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Fu))throw Error(o(331));var t=Fu;Fu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Ls(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Ls(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Fu=t,Yi(),!0}function zs(e,t,n){fa(e,t=du(0,t=cu(n,t),1)),t=ds(),null!==(e=vs(e,1))&&(Wt(e,1,t),ms(e,t))}function Ls(e,t){if(3===e.tag)zs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r))){var i=hu(n,e=cu(t,e),1);if(fa(n,i),i=ds(),null!==(n=vs(n,1)))Wt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Us(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ds(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Bu||3===Bu&&(62914560&Nu)===Nu&&500>Wi()-$u?Es(e,0):Wu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===ss&&(ss=Lu),0===(t=Ut(62914560&~ss))&&(t=4194304))),n=ds(),null!==(e=vs(e,t))&&(Wt(e,t,n),ms(e,n))}function Ws(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new Ws(e,t,n,r)}function $s(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vs(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)$s(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Ys(n.children,i,a,t);case R:u=8,i|=16;break;case O:u=8,i|=1;break;case S:return(e=Hs(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case j:return(e=Hs(13,n,t,i)).type=j,e.elementType=j,e.lanes=a,e;case T:return(e=Hs(19,n,t,i)).elementType=T,e.lanes=a,e;case I:return Ks(n,i,a,t);case B:return(e=Hs(24,n,t,i)).elementType=B,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case C:u=9;break e;case D:u=11;break e;case F:u=14;break e;case P:u=16,r=null;break e;case M:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ys(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Ks(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=I,e.lanes=n,e}function Xs(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Qs(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Js(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=ds(),u=hs(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=xi(n,c,s);break e}}n=s}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zs(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Fr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Js(e,t,null,n)}Yu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Io=!0;else{if(0===(n&r)){switch(Io=!1,t.tag){case 3:Go(t),Ga();break;case 5:Na(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fi(Ia,1&Ia.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ia,1&Ia.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ia,Ia.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Io=0!==(16384&e.flags)}else Io=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,Bo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return $s(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===F)return 14}return 2}(i),e=Qi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=$o(null,t,i,e,n);break e;case 11:t=zo(null,t,i,e,n);break e;case 14:t=Lo(null,t,i,Qi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,$o(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(La=Yr(t.stateNode.containerInfo.firstChild),za=t,a=Ua=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ya.push(a);for(n=Aa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Bo(e,t,r,n),Ga();t=t.child}return t;case 5:return Na(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Hr(r,i)?u=null:null!==a&&Hr(r,a)&&(t.flags|=16),Wo(e,t),Bo(e,t,u,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Zo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Zi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Bo(e,t,r,n),t.child;case 14:return a=Qi(i=t.type,t.pendingProps),Lo(e,t,i,a=Qi(i.type,a),r,n);case 15:return Uo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ba(t,r,i),wa(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,ds()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,ds()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=ds(),n=hs(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=xs,Me=function(e,t,n,r,i){var a=Fu;Fu|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Fu=a)&&(Gu(),Yi())}},Ne=function(){0===(49&Fu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,Wi())}))}Yi()}(),Ns())},Re=function(e,t){var n=Fu;Fu|=2;try{return e(t)}finally{0===(Fu=n)&&(Gu(),Yi())}};var sc={Events:[ri,ii,ai,Te,Fe,Ns,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ki=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Fu;if(0!==(48&n))return e(t);Fu|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Fu=n,Yi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},7831:function(e,t,n){"use strict";n.r(t),n.d(t,{ErrorCode:function(){return M},default:function(){return pe},useDropzone:function(){return me}});var r=n(2791),i=n(2007),a=n.n(i);function o(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}Object.create;var c=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function l(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=c.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var f=[".DS_Store","Thumbs.db"];function d(e){return"object"===typeof e&&null!==e}function h(e){return g(e.target.files).map((function(e){return l(e)}))}function p(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return l(e)}))]}}))}))}function v(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return null===e?[2,[]]:e.items?(n=g(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(y))]):[3,2];case 1:return[2,m(b(r.sent()))];case 2:return[2,m(g(e.files).map((function(e){return l(e)})))]}}))}))}function m(e){return e.filter((function(e){return-1===f.indexOf(e.name)}))}function g(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function y(e){if("function"!==typeof e.webkitGetAsEntry)return x(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?_(t):x(e)}function b(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(e,Array.isArray(t)?b(t):[t])}),[])}function x(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=l(t);return Promise.resolve(n)}function w(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){return[2,e.isDirectory?_(e):k(e)]}))}))}function _(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return o(a,void 0,void 0,(function(){var a,o,s;return u(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=u.sent(),e(a),[3,4];case 3:return o=u.sent(),n(o),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(w)),r.push(s),i(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function k(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=l(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var E=n(9998);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j="file-invalid-type",T="file-too-large",F="file-too-small",P="too-many-files",M={FileInvalidType:j,FileTooLarge:T,FileTooSmall:F,TooManyFiles:P},N=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:j,message:"File type must be ".concat(t)}},R=function(e){return{code:T,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},I=function(e){return{code:F,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},B={code:P,message:"Too many files"};function z(e,t){var n="application/x-moz-file"===e.type||(0,E.Z)(e,t);return[n,n?null:N(t)]}function L(e,t,n){if(U(e.size))if(U(t)&&U(n)){if(e.size>n)return[!1,R(n)];if(e.size<t)return[!1,I(t)]}else{if(U(t)&&e.size<t)return[!1,I(t)];if(U(n)&&e.size>n)return[!1,R(n)]}return[!0,null]}function U(e){return void 0!==e&&null!==e}function q(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every((function(e){var t=C(z(e,n),1)[0],a=C(L(e,r,i),1)[0];return t&&a}))}function W(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function H(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function $(e){e.preventDefault()}function V(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function G(e){return-1!==e.indexOf("Edge/")}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return V(e)||G(e)}function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!W(e)&&t&&t.apply(void 0,[e].concat(r)),W(e)}))}}function X(){return"showOpenFilePicker"in window}function Q(e){return e="string"===typeof e?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter((function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)})).reduce((function(e,t){return S(S({},e),{},A({},t,[]))}),{}):{}}]}function Z(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function J(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}var ee=["children"],te=["open"],ne=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],re=["refKey","onChange","onClick"];function ie(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var de=(0,r.forwardRef)((function(e,t){var n=e.children,i=me(fe(e,ee)),a=i.open,o=fe(i,te);return(0,r.useImperativeHandle)(t,(function(){return{open:a}}),[a]),r.createElement(r.Fragment,null,n(ce(ce({},o),{},{open:a})))}));de.displayName="Dropzone";var he={disabled:!1,getFilesFromEvent:function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){return d(e)&&d(e.dataTransfer)?[2,v(e.dataTransfer,e.type)]:function(e){return d(e)&&d(e.target)}(e)?[2,h(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,p(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};de.defaultProps=he,de.propTypes={children:a().func,accept:a().oneOfType([a().string,a().arrayOf(a().string)]),multiple:a().bool,preventDropOnDocument:a().bool,noClick:a().bool,noKeyboard:a().bool,noDrag:a().bool,noDragEventsBubbling:a().bool,minSize:a().number,maxSize:a().number,maxFiles:a().number,disabled:a().bool,getFilesFromEvent:a().func,onFileDialogCancel:a().func,onFileDialogOpen:a().func,useFsAccessApi:a().bool,onDragEnter:a().func,onDragLeave:a().func,onDragOver:a().func,onDrop:a().func,onDropAccepted:a().func,onDropRejected:a().func,validator:a().func};var pe=de,ve={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ce(ce({},he),e),n=t.accept,i=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,u=t.minSize,s=t.multiple,c=t.maxFiles,l=t.onDragEnter,f=t.onDragLeave,d=t.onDragOver,h=t.onDrop,p=t.onDropAccepted,v=t.onDropRejected,m=t.onFileDialogCancel,g=t.onFileDialogOpen,y=t.useFsAccessApi,b=t.preventDropOnDocument,x=t.noClick,w=t.noKeyboard,_=t.noDrag,k=t.noDragEventsBubbling,E=t.validator,O=(0,r.useMemo)((function(){return"function"===typeof g?g:ye}),[g]),S=(0,r.useMemo)((function(){return"function"===typeof m?m:ye}),[m]),A=(0,r.useRef)(null),C=(0,r.useRef)(null),D=(0,r.useReducer)(ge,ve),j=ae(D,2),T=j[0],F=j[1],P=T.isFocused,M=T.isFileDialogActive,N=T.draggedFiles,R=(0,r.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&X()),I=function(){!R.current&&M&&setTimeout((function(){C.current&&(C.current.files.length||(F({type:"closeDialog"}),S()))}),300)};(0,r.useEffect)((function(){return window.addEventListener("focus",I,!1),function(){window.removeEventListener("focus",I,!1)}}),[C,M,S,R]);var U=(0,r.useRef)([]),V=function(e){A.current&&A.current.contains(e.target)||(e.preventDefault(),U.current=[])};(0,r.useEffect)((function(){return b&&(document.addEventListener("dragover",$,!1),document.addEventListener("drop",V,!1)),function(){b&&(document.removeEventListener("dragover",$),document.removeEventListener("drop",V))}}),[A,b]);var G=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),ke(e),U.current=[].concat(ie(U.current),[e.target]),H(e)&&Promise.resolve(a(e)).then((function(t){W(e)&&!k||(F({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e))}))}),[a,l,k]),ee=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),ke(e);var t=H(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&d&&d(e),!1}),[d,k]),te=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),ke(e);var t=U.current.filter((function(e){return A.current&&A.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),U.current=t,t.length>0||(F({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),H(e)&&f&&f(e))}),[A,f,k]),oe=(0,r.useCallback)((function(e,t){var r=[],i=[];e.forEach((function(e){var t=ae(z(e,n),2),a=t[0],s=t[1],c=ae(L(e,u,o),2),l=c[0],f=c[1],d=E?E(e):null;if(a&&l&&!d)r.push(e);else{var h=[s,f];d&&(h=h.concat(d)),i.push({file:e,errors:h.filter((function(e){return e}))})}})),(!s&&r.length>1||s&&c>=1&&r.length>c)&&(r.forEach((function(e){i.push({file:e,errors:[B]})})),r.splice(0)),F({acceptedFiles:r,fileRejections:i,type:"setFiles"}),h&&h(r,i,t),i.length>0&&v&&v(i,t),r.length>0&&p&&p(r,t)}),[F,s,n,u,o,c,h,p,v,E]),ue=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),ke(e),U.current=[],H(e)&&Promise.resolve(a(e)).then((function(t){W(e)&&!k||oe(t,e)})),F({type:"reset"})}),[a,oe,k]),se=(0,r.useCallback)((function(){if(R.current){F({type:"openDialog"}),O();var e={multiple:s,types:Q(n)};window.showOpenFilePicker(e).then((function(e){return a(e)})).then((function(e){oe(e,null),F({type:"closeDialog"})})).catch((function(e){Z(e)?(S(e),F({type:"closeDialog"})):J(e)&&(R.current=!1,C.current&&(C.current.value=null,C.current.click()))}))}else C.current&&(F({type:"openDialog"}),O(),C.current.value=null,C.current.click())}),[F,O,S,y,oe,n,s]),de=(0,r.useCallback)((function(e){A.current&&A.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),se()))}),[A,se]),pe=(0,r.useCallback)((function(){F({type:"focus"})}),[]),me=(0,r.useCallback)((function(){F({type:"blur"})}),[]),be=(0,r.useCallback)((function(){x||(Y()?setTimeout(se,0):se())}),[x,se]),xe=function(e){return i?null:e},we=function(e){return w?null:xe(e)},_e=function(e){return _?null:xe(e)},ke=function(e){k&&e.stopPropagation()},Ee=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,a=e.onKeyDown,o=e.onFocus,u=e.onBlur,s=e.onClick,c=e.onDragEnter,l=e.onDragOver,f=e.onDragLeave,d=e.onDrop,h=fe(e,ne);return ce(ce(le({onKeyDown:we(K(a,de)),onFocus:we(K(o,pe)),onBlur:we(K(u,me)),onClick:xe(K(s,be)),onDragEnter:_e(K(c,G)),onDragOver:_e(K(l,ee)),onDragLeave:_e(K(f,te)),onDrop:_e(K(d,ue)),role:"string"===typeof r&&""!==r?r:"button"},n,A),i||w?{}:{tabIndex:0}),h)}}),[A,de,pe,me,be,G,ee,te,ue,w,_,i]),Oe=(0,r.useCallback)((function(e){e.stopPropagation()}),[]),Se=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,i=e.onChange,a=e.onClick,o=fe(e,re),u=le({accept:n,multiple:s,type:"file",style:{display:"none"},onChange:xe(K(i,ue)),onClick:xe(K(a,Oe)),autoComplete:"off",tabIndex:-1},r,C);return ce(ce({},u),o)}}),[C,n,s,ue,i]),Ae=N.length,Ce=Ae>0&&q({files:N,accept:n,minSize:u,maxSize:o,multiple:s,maxFiles:c}),De=Ae>0&&!Ce;return ce(ce({},T),{},{isDragAccept:Ce,isDragReject:De,isFocused:P&&!i,getRootProps:Ee,getInputProps:Se,rootRef:A,inputRef:C,open:xe(se)})}function ge(e,t){switch(t.type){case"focus":return ce(ce({},e),{},{isFocused:!0});case"blur":return ce(ce({},e),{},{isFocused:!1});case"openDialog":return ce(ce({},ve),{},{isFileDialogActive:!0});case"closeDialog":return ce(ce({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return ce(ce({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return ce(ce({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return ce({},ve);default:return e}}function ye(){}},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var u,s,c,l;if(Array.isArray(e)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!o.has(s.value[0]))return!1;for(l=e.entries();!(s=l.next()).done;)if(!a(s.value[1],o.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(e[s]!==o[s])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((u=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(o,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!a(e[c[s]],o[c[s]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case h:case d:case u:return e;default:return t}}case r:return t}}}var w=u,_=n,k=c,E=i,O=h,S=d,A=r,C=o,D=a,j=l;t.ContextConsumer=s,t.ContextProvider=w,t.Element=_,t.ForwardRef=k,t.Fragment=E,t.Lazy=O,t.Memo=S,t.Portal=A,t.Profiler=C,t.StrictMode=D,t.Suspense=j,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return x(e)===s},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===c},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===h},t.isMemo=function(e){return x(e)===d},t.isPortal=function(e){return x(e)===r},t.isProfiler=function(e){return x(e)===o},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===l},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===g||e===a||e===l||e===f||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===d||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=x},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),A(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=A(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var j={current:null};function T(){var e=j.current;if(null===e)throw Error(h(321));return e}var F={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},5715:function(e,t,n){e.exports=function(){var e;return function(){function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,r){"use strict";e("core-js/fn/array/includes"),e("core-js/fn/object/values");var i=e("domexception"),a=e("typeson"),o=e("typeson-registry/dist/presets/structured-cloning-throwing"),u="undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof n.g?n.g:Function("return this;")();u.DOMException||(u.DOMException=i);var s=(new a).register(o);function c(e){return s.revive(s.encapsulate(e))}t.exports=c},{"core-js/fn/array/includes":2,"core-js/fn/object/values":3,domexception:46,typeson:49,"typeson-registry/dist/presets/structured-cloning-throwing":48}],2:[function(e,t,n){"use strict";e("../../modules/es7.array.includes"),t.exports=e("../../modules/_core").Array.includes},{"../../modules/_core":9,"../../modules/es7.array.includes":41}],3:[function(e,t,n){"use strict";e("../../modules/es7.object.values"),t.exports=e("../../modules/_core").Object.values},{"../../modules/_core":9,"../../modules/es7.object.values":42}],4:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],5:[function(e,t,n){"use strict";var r=e("./_wks")("unscopables"),i=Array.prototype;void 0==i[r]&&e("./_hide")(i,r,{}),t.exports=function(e){i[r][e]=!0}},{"./_hide":20,"./_wks":40}],6:[function(e,t,n){"use strict";var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":23}],7:[function(e,t,n){"use strict";var r=e("./_to-iobject"),i=e("./_to-length"),a=e("./_to-absolute-index");t.exports=function(e){return function(t,n,o){var u,s=r(t),c=i(s.length),l=a(o,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":34,"./_to-iobject":36,"./_to-length":37}],8:[function(e,t,n){"use strict";var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],9:[function(e,t,n){"use strict";var r=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},{}],10:[function(e,t,n){"use strict";var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":4}],11:[function(e,t,n){"use strict";t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],12:[function(e,t,n){"use strict";t.exports=!e("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":16}],13:[function(e,t,n){"use strict";var r=e("./_is-object"),i=e("./_global").document,a=r(i)&&r(i.createElement);t.exports=function(e){return a?i.createElement(e):{}}},{"./_global":18,"./_is-object":23}],14:[function(e,t,n){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],15:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_core"),a=e("./_hide"),o=e("./_redefine"),u=e("./_ctx"),s="prototype",c=function e(t,n,c){var l,f,d,h,p=t&e.F,v=t&e.G,m=t&e.P,g=t&e.B,y=v?r:t&e.S?r[n]||(r[n]={}):(r[n]||{})[s],b=v?i:i[n]||(i[n]={}),x=b[s]||(b[s]={});for(l in v&&(c=n),c)d=((f=!p&&y&&void 0!==y[l])?y:c)[l],h=g&&f?u(d,r):m&&"function"==typeof d?u(Function.call,d):d,y&&o(y,l,d,t&e.U),b[l]!=d&&a(b,l,h),m&&x[l]!=d&&(x[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":9,"./_ctx":10,"./_global":18,"./_hide":20,"./_redefine":31}],16:[function(e,t,n){"use strict";t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],17:[function(e,t,n){"use strict";t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":33}],18:[function(e,t,n){"use strict";var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],19:[function(e,t,n){"use strict";var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],20:[function(e,t,n){"use strict";var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":12,"./_object-dp":25,"./_property-desc":30}],21:[function(e,t,n){"use strict";t.exports=!e("./_descriptors")&&!e("./_fails")((function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":12,"./_dom-create":13,"./_fails":16}],22:[function(e,t,n){"use strict";var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":8}],23:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){return"object"===("undefined"===typeof e?"undefined":r(e))?null!==e:"function"===typeof e}},{}],24:[function(e,t,n){"use strict";t.exports=!1},{}],25:[function(e,t,n){"use strict";var r=e("./_an-object"),i=e("./_ie8-dom-define"),a=e("./_to-primitive"),o=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":6,"./_descriptors":12,"./_ie8-dom-define":21,"./_to-primitive":38}],26:[function(e,t,n){"use strict";var r=e("./_has"),i=e("./_to-iobject"),a=e("./_array-includes")(!1),o=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,u=i(e),s=0,c=[];for(n in u)n!=o&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~a(c,n)||c.push(n));return c}},{"./_array-includes":7,"./_has":19,"./_shared-key":32,"./_to-iobject":36}],27:[function(e,t,n){"use strict";var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":14,"./_object-keys-internal":26}],28:[function(e,t,n){"use strict";n.f={}.propertyIsEnumerable},{}],29:[function(e,t,n){"use strict";var r=e("./_descriptors"),i=e("./_object-keys"),a=e("./_to-iobject"),o=e("./_object-pie").f;t.exports=function(e){return function(t){for(var n,u=a(t),s=i(u),c=s.length,l=0,f=[];c>l;)n=s[l++],r&&!o.call(u,n)||f.push(e?[n,u[n]]:u[n]);return f}}},{"./_descriptors":12,"./_object-keys":27,"./_object-pie":28,"./_to-iobject":36}],30:[function(e,t,n){"use strict";t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],31:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_hide"),a=e("./_has"),o=e("./_uid")("src"),u=e("./_function-to-string"),s="toString",c=(""+u).split(s);e("./_core").inspectSource=function(e){return u.call(e)},(t.exports=function(e,t,n,u){var s="function"==typeof n;s&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(s&&(a(n,o)||i(n,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[o]||u.call(this)}))},{"./_core":9,"./_function-to-string":17,"./_global":18,"./_has":19,"./_hide":20,"./_uid":39}],32:[function(e,t,n){"use strict";var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":33,"./_uid":39}],33:[function(e,t,n){"use strict";var r=e("./_core"),i=e("./_global"),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"./_core":9,"./_global":18,"./_library":24}],34:[function(e,t,n){"use strict";var r=e("./_to-integer"),i=Math.max,a=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},{"./_to-integer":35}],35:[function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],36:[function(e,t,n){"use strict";var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":11,"./_iobject":22}],37:[function(e,t,n){"use strict";var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./_to-integer":35}],38:[function(e,t,n){"use strict";var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":23}],39:[function(e,t,n){"use strict";var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],40:[function(e,t,n){"use strict";var r=e("./_shared")("wks"),i=e("./_uid"),a=e("./_global").Symbol,o="function"==typeof a;(t.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},{"./_global":18,"./_shared":33,"./_uid":39}],41:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-includes")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":5,"./_array-includes":7,"./_export":15}],42:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_object-to-array")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{"./_export":15,"./_object-to-array":29}],43:[function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("./legacy-error-codes.json"),u=e("./utils.js");n.implementation=function(){function e(t){var n=r(t,2),i=n[0],o=n[1];a(this,e),this.name=o,this.message=i}return i(e,[{key:"code",get:function(){return o[this.name]||0}}]),e}(),n.init=function(e){if(Error.captureStackTrace){var t=u.wrapperForImpl(e);Error.captureStackTrace(t,t.constructor)}}},{"./legacy-error-codes.json":45,"./utils.js":47}],44:[function(e,t,n){"use strict";var r=e("webidl-conversions"),i=e("./utils.js"),a=i.implSymbol;function o(){for(var e=[],t=0;t<arguments.length&&t<2;++t)e[t]=arguments[t];void 0!==e[0]?e[0]=r.DOMString(e[0],{context:"Failed to construct 'DOMException': parameter 1"}):e[0]="",void 0!==e[1]?e[1]=r.DOMString(e[1],{context:"Failed to construct 'DOMException': parameter 2"}):e[1]="Error",u.setup(this,e)}Object.defineProperty(o,"prototype",{value:o.prototype,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(o.prototype,"name",{get:function(){return this[a].name},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"message",{get:function(){return this[a].message},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"code",{get:function(){return this[a].code},enumerable:!0,configurable:!0}),Object.defineProperty(o,"INDEX_SIZE_ERR",{value:1,enumerable:!0}),Object.defineProperty(o.prototype,"INDEX_SIZE_ERR",{value:1,enumerable:!0}),Object.defineProperty(o,"DOMSTRING_SIZE_ERR",{value:2,enumerable:!0}),Object.defineProperty(o.prototype,"DOMSTRING_SIZE_ERR",{value:2,enumerable:!0}),Object.defineProperty(o,"HIERARCHY_REQUEST_ERR",{value:3,enumerable:!0}),Object.defineProperty(o.prototype,"HIERARCHY_REQUEST_ERR",{value:3,enumerable:!0}),Object.defineProperty(o,"WRONG_DOCUMENT_ERR",{value:4,enumerable:!0}),Object.defineProperty(o.prototype,"WRONG_DOCUMENT_ERR",{value:4,enumerable:!0}),Object.defineProperty(o,"INVALID_CHARACTER_ERR",{value:5,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_CHARACTER_ERR",{value:5,enumerable:!0}),Object.defineProperty(o,"NO_DATA_ALLOWED_ERR",{value:6,enumerable:!0}),Object.defineProperty(o.prototype,"NO_DATA_ALLOWED_ERR",{value:6,enumerable:!0}),Object.defineProperty(o,"NO_MODIFICATION_ALLOWED_ERR",{value:7,enumerable:!0}),Object.defineProperty(o.prototype,"NO_MODIFICATION_ALLOWED_ERR",{value:7,enumerable:!0}),Object.defineProperty(o,"NOT_FOUND_ERR",{value:8,enumerable:!0}),Object.defineProperty(o.prototype,"NOT_FOUND_ERR",{value:8,enumerable:!0}),Object.defineProperty(o,"NOT_SUPPORTED_ERR",{value:9,enumerable:!0}),Object.defineProperty(o.prototype,"NOT_SUPPORTED_ERR",{value:9,enumerable:!0}),Object.defineProperty(o,"INUSE_ATTRIBUTE_ERR",{value:10,enumerable:!0}),Object.defineProperty(o.prototype,"INUSE_ATTRIBUTE_ERR",{value:10,enumerable:!0}),Object.defineProperty(o,"INVALID_STATE_ERR",{value:11,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_STATE_ERR",{value:11,enumerable:!0}),Object.defineProperty(o,"SYNTAX_ERR",{value:12,enumerable:!0}),Object.defineProperty(o.prototype,"SYNTAX_ERR",{value:12,enumerable:!0}),Object.defineProperty(o,"INVALID_MODIFICATION_ERR",{value:13,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_MODIFICATION_ERR",{value:13,enumerable:!0}),Object.defineProperty(o,"NAMESPACE_ERR",{value:14,enumerable:!0}),Object.defineProperty(o.prototype,"NAMESPACE_ERR",{value:14,enumerable:!0}),Object.defineProperty(o,"INVALID_ACCESS_ERR",{value:15,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_ACCESS_ERR",{value:15,enumerable:!0}),Object.defineProperty(o,"VALIDATION_ERR",{value:16,enumerable:!0}),Object.defineProperty(o.prototype,"VALIDATION_ERR",{value:16,enumerable:!0}),Object.defineProperty(o,"TYPE_MISMATCH_ERR",{value:17,enumerable:!0}),Object.defineProperty(o.prototype,"TYPE_MISMATCH_ERR",{value:17,enumerable:!0}),Object.defineProperty(o,"SECURITY_ERR",{value:18,enumerable:!0}),Object.defineProperty(o.prototype,"SECURITY_ERR",{value:18,enumerable:!0}),Object.defineProperty(o,"NETWORK_ERR",{value:19,enumerable:!0}),Object.defineProperty(o.prototype,"NETWORK_ERR",{value:19,enumerable:!0}),Object.defineProperty(o,"ABORT_ERR",{value:20,enumerable:!0}),Object.defineProperty(o.prototype,"ABORT_ERR",{value:20,enumerable:!0}),Object.defineProperty(o,"URL_MISMATCH_ERR",{value:21,enumerable:!0}),Object.defineProperty(o.prototype,"URL_MISMATCH_ERR",{value:21,enumerable:!0}),Object.defineProperty(o,"QUOTA_EXCEEDED_ERR",{value:22,enumerable:!0}),Object.defineProperty(o.prototype,"QUOTA_EXCEEDED_ERR",{value:22,enumerable:!0}),Object.defineProperty(o,"TIMEOUT_ERR",{value:23,enumerable:!0}),Object.defineProperty(o.prototype,"TIMEOUT_ERR",{value:23,enumerable:!0}),Object.defineProperty(o,"INVALID_NODE_TYPE_ERR",{value:24,enumerable:!0}),Object.defineProperty(o.prototype,"INVALID_NODE_TYPE_ERR",{value:24,enumerable:!0}),Object.defineProperty(o,"DATA_CLONE_ERR",{value:25,enumerable:!0}),Object.defineProperty(o.prototype,"DATA_CLONE_ERR",{value:25,enumerable:!0}),Object.defineProperty(o.prototype,Symbol.toStringTag,{value:"DOMException",writable:!1,enumerable:!1,configurable:!0});var u={mixedInto:[],is:function(e){if(e){if(e[a]instanceof s.implementation)return!0;for(var n=0;n<t.exports.mixedInto.length;++n)if(e instanceof t.exports.mixedInto[n])return!0}return!1},isImpl:function(e){if(e){if(e instanceof s.implementation)return!0;for(var n=i.wrapperForImpl(e),r=0;r<t.exports.mixedInto.length;++r)if(n instanceof t.exports.mixedInto[r])return!0}return!1},convert:function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,r=void 0===n?"The provided value":n;if(t.exports.is(e))return i.implForWrapper(e);throw new TypeError(r+" is not of type 'DOMException'.")},create:function(e,t){var n=Object.create(o.prototype);return this.setup(n,e,t),n},createImpl:function(e,t){var n=Object.create(o.prototype);return this.setup(n,e,t),i.implForWrapper(n)},_internalSetup:function(e){},setup:function(e,t,n){n||(n={}),n.wrapper=e,this._internalSetup(e),Object.defineProperty(e,a,{value:new s.implementation(t,n),writable:!1,enumerable:!1,configurable:!0}),e[a][i.wrapperSymbol]=e,s.init&&s.init(e[a],n)},interface:o,expose:{Window:{DOMException:o},Worker:{DOMException:o}}};t.exports=u;var s=e(".//DOMException-impl.js")},{".//DOMException-impl.js":43,"./utils.js":47,"webidl-conversions":50}],45:[function(e,t,n){t.exports={IndexSizeError:1,DOMStringSizeError:2,HierarchyRequestError:3,WrongDocumentError:4,InvalidCharacterError:5,NoDataAllowedError:6,NoModificationAllowedError:7,NotFoundError:8,NotSupportedError:9,InUseAttributeError:10,InvalidStateError:11,SyntaxError:12,InvalidModificationError:13,NamespaceError:14,InvalidAccessError:15,ValidationError:16,TypeMismatchError:17,SecurityError:18,NetworkError:19,AbortError:20,URLMismatchError:21,QuotaExceededError:22,TimeoutError:23,InvalidNodeTypeError:24,DataCloneError:25}},{}],46:[function(e,t,n){"use strict";t.exports=e("./DOMException").interface,Object.setPrototypeOf(t.exports.prototype,Error.prototype)},{"./DOMException":44}],47:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return"object"===("undefined"===typeof e?"undefined":r(e))&&null!==e||"function"===typeof e}function a(e){return Object.getPrototypeOf(e)===Buffer.prototype?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength)}function o(e){return Buffer.from(a(e))}function u(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;++r)n[r]in e||Object.defineProperty(e,n[r],Object.getOwnPropertyDescriptor(t,n[r]))}var s=Symbol("wrapper"),c=Symbol("impl"),l=Symbol("SameObject caches");function f(e,t,n){return e[l]||(e[l]=Object.create(null)),t in e[l]||(e[l][t]=n()),e[l][t]}function d(e){return e?e[s]:null}function h(e){return e?e[c]:null}function p(e){var t=d(e);return t||e}function v(e){var t=h(e);return t||e}var m=Symbol("internal"),g=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));t.exports={isObject:i,getReferenceToBytes:a,getCopyToBytes:o,mixin:u,wrapperSymbol:s,implSymbol:c,getSameObject:f,wrapperForImpl:d,implForWrapper:h,tryWrapperForImpl:p,tryImplForWrapper:v,iterInternalSymbol:m,IteratorPrototype:g}},{}],48:[function(t,r,i){"use strict";var a,o,u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a=void 0,o=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"===typeof e?"undefined":u(e)})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return(c="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"===typeof e?"undefined":u(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function e(t){l(this,e),this.p=new Promise(t)};b.__typeson__type__="TypesonPromise","undefined"!=typeof Symbol&&(b.prototype[Symbol.toStringTag]="TypesonPromise"),b.prototype.then=function(e,t){var n=this;return new b((function(r,i){n.p.then((function(t){r(e?e(t):t)})).catch((function(e){return t?t(e):Promise.reject(e)})).then(r,i)}))},b.prototype.catch=function(e){return this.then(null,e)},b.resolve=function(e){return new b((function(t){t(e)}))},b.reject=function(e){return new b((function(t,n){n(e)}))},["all","race"].forEach((function(e){b[e]=function(t){return new b((function(n,r){Promise[e](t.map((function(e){return e&&e.constructor&&"TypesonPromise"===e.constructor.__typeson__type__?e.p:e}))).then(n,r)}))}}));var x={}.toString,w={}.hasOwnProperty,_=Object.getPrototypeOf,k=w.toString;function E(e,t){return C(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function O(e){return x.call(e).slice(8,-1)}function S(e,t){if(!e||"object"!==c(e))return!1;var n=_(e);if(!n)return null===t;var r=w.call(n,"constructor")&&n.constructor;return"function"!=typeof r?null===t:t===r||null!==t&&k.call(r)===k.call(t)||"function"==typeof t&&"string"==typeof r.__typeson__type__&&r.__typeson__type__===t.__typeson__type__}function A(e){return!(!e||"Object"!==O(e))&&(!_(e)||S(e,Object))}function C(e){return e&&"object"===c(e)}function D(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function j(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function T(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[j(t.slice(0,n))];return void 0===r?void 0:T(r,t.slice(n+1))}return e[j(t)]}function F(e,t,n){if(""===t)return n;var r=t.indexOf(".");return r>-1?F(e[j(t.slice(0,r))],t.slice(r+1),n):(e[j(t)]=n,e)}function P(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var M=Object.keys,N=Array.isArray,R={}.hasOwnProperty,I=["type","replaced","iterateIn","iterateUnsetNumeric"];function B(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function z(e,t){if(""===e.keypath)return-1;var n=e.keypath.match(/\./g)||0,r=t.keypath.match(/\./g)||0;return n&&(n=n.length),r&&(r=r.length),n>r?-1:n<r?1:e.keypath<t.keypath?-1:e.keypath>t.keypath}var L=function(){function e(t){l(this,e),this.options=t,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"stringify",value:function(e,t,n,r){r=p(p(p({},this.options),r),{},{stringification:!0});var i=this.encapsulate(e,null,r);return N(i)?JSON.stringify(i[0],t,n):i.then((function(e){return JSON.stringify(e,t,n)}))}},{key:"stringifySync",value:function(e,t,n,r){return this.stringify(e,t,n,p(p({throwOnBadSyncType:!0},r),{},{sync:!0}))}},{key:"stringifyAsync",value:function(e,t,n,r){return this.stringify(e,t,n,p(p({throwOnBadSyncType:!0},r),{},{sync:!1}))}},{key:"parse",value:function(e,t,n){return n=p(p(p({},this.options),n),{},{parse:!0}),this.revive(JSON.parse(e,t),n)}},{key:"parseSync",value:function(e,t,n){return this.parse(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"parseAsync",value:function(e,t,n){return this.parse(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"specialTypeNames",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)}},{key:"rootTypeName",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)}},{key:"encapsulate",value:function(t,n,r){var i=B((function(e,t){return P(Promise.all(t.map((function(e){return e[1].p}))),(function(n){return P(Promise.all(n.map(B((function(n){var r=!1,a=[],o=v(t.splice(0,1),1),u=v(o[0],7),s=u[0],c=u[2],l=u[3],f=u[4],d=u[5],h=u[6],p=w(s,n,c,l,a,!0,h),m=S(p,b);return function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}((function(){if(s&&m)return P(p.p,(function(t){return f[d]=t,r=!0,i(e,a)}))}),(function(t){return r?t:(s?f[d]=p:e=m?p.p:p,i(e,a))}))})))),(function(){return e}))}))})),a=(r=p(p({sync:!0},this.options),r)).sync,o=this,u={},s=[],l=[],f=[],d=!("cyclic"in r)||r.cyclic,h=r.encapsulateObserver,g=w("",t,d,n||{},f);function y(t){var n=Object.values(u);if(r.iterateNone)return n.length?n[0]:e.getJSONType(t);if(n.length){if(r.returnTypeNames)return m(new Set(n));t&&A(t)&&!R.call(t,"$types")?t.$types=u:t={$:t,$types:{$:u}}}else C(t)&&R.call(t,"$types")&&(t={$:t,$types:!0});return!r.returnTypeNames&&t}function x(e,t,n){Object.assign(e,t);var r=I.map((function(t){var n=e[t];return delete e[t],n}));n(),I.forEach((function(t,n){e[t]=r[n]}))}function w(t,n,i,a,f,d,p){var v,m={},g=c(n),y=h?function(r){var o=p||a.type||e.getJSONType(n);h(Object.assign(r||m,{keypath:t,value:n,cyclic:i,stateObj:a,promisesData:f,resolvingTypesonPromise:d,awaitingTypesonPromise:S(n,b)},{type:o}))}:null;if(["string","boolean","number","undefined"].includes(g))return void 0===n||Number.isNaN(n)||n===Number.NEGATIVE_INFINITY||n===Number.POSITIVE_INFINITY?(v=a.replaced?n:_(t,n,a,f,!1,d,y))!==n&&(m={replaced:v}):v=n,y&&y(),v;if(null===n)return y&&y(),n;if(i&&!a.iterateIn&&!a.iterateUnsetNumeric&&n&&"object"===c(n)){var k=s.indexOf(n);if(!(k<0))return u[t]="#",y&&y({cyclicKeypath:l[k]}),"#"+l[k];!0===i&&(s.push(n),l.push(t))}var E,O=A(n),C=N(n),j=(O||C)&&(!o.plainObjectReplacers.length||a.replaced)||a.iterateIn?n:_(t,n,a,f,O||C,null,y);if(j!==n?(v=j,m={replaced:j}):""===t&&S(n,b)?(f.push([t,n,i,a,void 0,void 0,a.type]),v=n):C&&"object"!==a.iterateIn||"array"===a.iterateIn?(E=new Array(n.length),m={clone:E}):(["function","symbol"].includes(c(n))||"toJSON"in n||S(n,b)||S(n,Promise)||S(n,ArrayBuffer))&&!O&&"object"!==a.iterateIn?v=n:(E={},a.addLength&&(E.length=n.length),m={clone:E}),y&&y(),r.iterateNone)return E||v;if(!E)return v;if(a.iterateIn){var T=function(e){var r={ownKeys:R.call(n,e)};x(a,r,(function(){var r=t+(t?".":"")+D(e),o=w(r,n[e],Boolean(i),a,f,d);S(o,b)?f.push([r,o,Boolean(i),a,E,e,a.type]):void 0!==o&&(E[e]=o)}))};for(var F in n)T(F);y&&y({endIterateIn:!0,end:!0})}else M(n).forEach((function(e){var r=t+(t?".":"")+D(e);x(a,{ownKeys:!0},(function(){var t=w(r,n[e],Boolean(i),a,f,d);S(t,b)?f.push([r,t,Boolean(i),a,E,e,a.type]):void 0!==t&&(E[e]=t)}))})),y&&y({endIterateOwn:!0,end:!0});if(a.iterateUnsetNumeric){for(var P=n.length,I=function(e){if(!(e in n)){var r=t+(t?".":"")+e;x(a,{ownKeys:!1},(function(){var t=w(r,void 0,Boolean(i),a,f,d);S(t,b)?f.push([r,t,Boolean(i),a,E,e,a.type]):void 0!==t&&(E[e]=t)}))}},B=0;B<P;B++)I(B);y&&y({endIterateUnsetNumeric:!0,end:!0})}return E}function _(e,t,n,r,i,s,c){for(var l=i?o.plainObjectReplacers:o.nonplainObjectReplacers,f=l.length;f--;){var h=l[f];if(h.test(t,n)){var p=h.type;if(o.revivers[p]){var v=u[e];u[e]=v?[p].concat(v):p}return Object.assign(n,{type:p,replaced:!0}),!a&&h.replaceAsync||h.replace?(c&&c({replacing:!0}),w(e,h[a||!h.replaceAsync?"replace":"replaceAsync"](t,n),d&&"readonly",n,r,s,p)):(c&&c({typeDetected:!0}),w(e,t,d&&"readonly",n,r,s,p))}}return t}return f.length?a&&r.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(i(g,f)).then(y):!a&&r.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r.stringification&&a?[y(g)]:a?y(g):Promise.resolve(y(g))}},{key:"encapsulateSync",value:function(e,t,n){return this.encapsulate(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(e,t,n){return this.encapsulate(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"revive",value:function(e,t){var n=e&&e.$types;if(!n)return e;if(!0===n)return e.$;var r=(t=p(p({sync:!0},this.options),t)).sync,i=[],a={},o=!0;n.$&&A(n.$)&&(e=e.$,n=n.$,o=!1);var u=this;function s(e,t){var n=v(u.revivers[e]||[],1)[0];if(!n)throw new Error("Unregistered type: "+e);return r&&!("revive"in n)?t:n[r&&n.revive?"revive":!r&&n.reviveAsync?"reviveAsync":"revive"](t,a)}var c=[];function l(e){return S(e,U)?void 0:e}var f,d=function(){var t=[];if(Object.entries(n).forEach((function(e){var r=v(e,2),i=r[0],a=r[1];"#"!==a&&[].concat(a).forEach((function(e){v(u.revivers[e]||[null,{}],2)[1].plain&&(t.push({keypath:i,type:e}),delete n[i])}))})),t.length)return t.sort(z).reduce((function t(n,r){var i=r.keypath,a=r.type;if(E(n))return n.then((function(e){return t(e,{keypath:i,type:a})}));var o=T(e,i);if(S(o=s(a,o),b))return o.then((function(t){var n=F(e,i,t);n===t&&(e=n)}));var u=F(e,i,o);u===o&&(e=u)}),void 0)}();return S(d,b)?f=d.then((function(){return e})):(f=function e(t,r,a,u,l){if(!o||"$types"!==t){var f=n[t],d=N(r);if(d||A(r)){var h=d?new Array(r.length):{};for(M(r).forEach((function(n){var i=e(t+(t?".":"")+D(n),r[n],a||h,h,n),o=function(e){return S(e,U)?h[n]=void 0:void 0!==e&&(h[n]=e),e};S(i,b)?c.push(i.then((function(e){return o(e)}))):o(i)})),r=h;i.length;){var p=v(i[0],4),m=p[0],g=p[1],y=p[2],x=p[3],w=T(m,g);if(void 0===w)break;y[x]=w,i.splice(0,1)}}if(!f)return r;if("#"===f){var _=T(a,r.slice(1));return void 0===_&&i.push([a,r.slice(1),u,l]),_}return[].concat(f).reduce((function e(t,n){return S(t,b)?t.then((function(t){return e(t,n)})):s(n,t)}),r)}}("",e,null),c.length&&(f=b.resolve(f).then((function(e){return b.all([e].concat(c))})).then((function(e){return v(e,1)[0]})))),E(f)?r&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():S(f,b)?f.p.then(l):f:!r&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r?l(f):Promise.resolve(l(f))}},{key:"reviveSync",value:function(e,t){return this.revive(e,p(p({throwOnBadSyncType:!0},t),{},{sync:!0}))}},{key:"reviveAsync",value:function(e,t){return this.revive(e,p(p({throwOnBadSyncType:!0},t),{},{sync:!1}))}},{key:"register",value:function(t,n){return n=n||{},[].concat(t).forEach((function t(r){var i=this;if(N(r))return r.map((function(e){return t.call(i,e)}));r&&M(r).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(e.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var i=r[t],a=i&&i.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,o=a.filter((function(e){return e.type===t}));if(o.length&&(a.splice(a.indexOf(o[0]),1),delete this.revivers[t],delete this.types[t]),"function"==typeof i){var u=i;i={test:function(e){return e&&e.constructor===u},replace:function(e){return p({},e)},revive:function(e){return Object.assign(Object.create(u.prototype),e)}}}else if(N(i)){var s=v(i,3);i={test:s[0],replace:s[1],revive:s[2]}}if(i&&i.test){var c={type:t,test:i.test.bind(i)};i.replace&&(c.replace=i.replace.bind(i)),i.replaceAsync&&(c.replaceAsync=i.replaceAsync.bind(i));var l="number"==typeof n.fallback?n.fallback:n.fallback?0:Number.POSITIVE_INFINITY;if(i.testPlainObjects?this.plainObjectReplacers.splice(l,0,c):this.nonplainObjectReplacers.splice(l,0,c),i.revive||i.reviveAsync){var f={};i.revive&&(f.revive=i.revive.bind(i)),i.reviveAsync&&(f.reviveAsync=i.reviveAsync.bind(i)),this.revivers[t]=[f,{plain:i.testPlainObjects}]}this.types[t]=i}}),this)}),this),this}}]),e}(),U=function e(){l(this,e)};U.__typeson__type__="TypesonUndefined",L.Undefined=U,L.Promise=b,L.isThenable=E,L.toStringTag=O,L.hasConstructorOf=S,L.isObject=C,L.isPlainObject=A,L.isUserObject=function e(t){if(!t||"Object"!==O(t))return!1;var n=_(t);return!n||S(t,Object)||e(n)},L.escapeKeyPathComponent=D,L.unescapeKeyPathComponent=j,L.getByKeyPath=T,L.getJSONType=function(e){return null===e?"null":Array.isArray(e)?"array":c(e)},L.JSON_TYPES=["null","boolean","number","string","array","object"];for(var q={userObject:{test:function(e,t){return L.isUserObject(e)},replace:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)},revive:function(e){return e}}},W=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(e,t){return!!Array.isArray(e)&&(Object.keys(e).some((function(e){return String(Number.parseInt(e))!==e}))&&(t.iterateIn="object",t.addLength=!0),!0)},replace:function(e,t){return t.iterateUnsetNumeric=!0,e},revive:function(e){if(Array.isArray(e))return e;var t=[];return Object.keys(e).forEach((function(n){var r=e[n];t[n]=r})),t}}},{sparseUndefined:{test:function(e,t){return void 0===e&&!1===t.ownKeys},replace:function(e){return 0},revive:function(e){}}}],H={undef:{test:function(e,t){return void 0===e&&(t.ownKeys||!("ownKeys"in t))},replace:function(e){return 0},revive:function(e){return new L.Undefined}}},$={StringObject:{test:function(t){return"String"===L.toStringTag(t)&&"object"===e(t)},replace:function(e){return String(e)},revive:function(e){return new String(e)}},BooleanObject:{test:function(t){return"Boolean"===L.toStringTag(t)&&"object"===e(t)},replace:function(e){return Boolean(e)},revive:function(e){return new Boolean(e)}},NumberObject:{test:function(t){return"Number"===L.toStringTag(t)&&"object"===e(t)},replace:function(e){return Number(e)},revive:function(e){return new Number(e)}}},V=[{nan:{test:function(e){return Number.isNaN(e)},replace:function(e){return"NaN"},revive:function(e){return Number.NaN}}},{infinity:{test:function(e){return e===Number.POSITIVE_INFINITY},replace:function(e){return"Infinity"},revive:function(e){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(e){return e===Number.NEGATIVE_INFINITY},replace:function(e){return"-Infinity"},revive:function(e){return Number.NEGATIVE_INFINITY}}}],G={date:{test:function(e){return"Date"===L.toStringTag(e)},replace:function(e){var t=e.getTime();return Number.isNaN(t)?"NaN":t},revive:function(e){return"NaN"===e?new Date(Number.NaN):new Date(e)}}},Y={regexp:{test:function(e){return"RegExp"===L.toStringTag(e)},replace:function(e){return{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")}},revive:function(e){var t=e.source,n=e.flags;return new RegExp(t,n)}}},K={map:{test:function(e){return"Map"===L.toStringTag(e)},replace:function(e){return o(e.entries())},revive:function(e){return new Map(e)}}},X={set:{test:function(e){return"Set"===L.toStringTag(e)},replace:function(e){return o(e.values())},revive:function(e){return new Set(e)}}},Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=new Uint8Array(256),J=0;J<Q.length;J++)Z[Q.charCodeAt(J)]=J;var ee=function(e,t,n){null==n&&(n=e.byteLength);for(var r=new Uint8Array(e,t||0,n),i=r.length,a="",o=0;o<i;o+=3)a+=Q[r[o]>>2],a+=Q[(3&r[o])<<4|r[o+1]>>4],a+=Q[(15&r[o+1])<<2|r[o+2]>>6],a+=Q[63&r[o+2]];return i%3==2?a=a.slice(0,-1)+"=":i%3==1&&(a=a.slice(0,-2)+"=="),a},te=function(e){var t,n,r,i,a=e.length,o=.75*e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);for(var s=new ArrayBuffer(o),c=new Uint8Array(s),l=0;l<a;l+=4)t=Z[e.charCodeAt(l)],n=Z[e.charCodeAt(l+1)],r=Z[e.charCodeAt(l+2)],i=Z[e.charCodeAt(l+3)],c[u++]=t<<2|n>>4,c[u++]=(15&n)<<4|r>>2,c[u++]=(3&r)<<6|63&i;return s},ne={arraybuffer:{test:function(e){return"ArrayBuffer"===L.toStringTag(e)},replace:function(e,t){t.buffers||(t.buffers=[]);var n=t.buffers.indexOf(e);return n>-1?{index:n}:(t.buffers.push(e),ee(e))},revive:function(t,n){if(n.buffers||(n.buffers=[]),"object"===e(t))return n.buffers[t.index];var r=te(t);return n.buffers.push(r),r}}},re="undefined"==typeof self?n.g:self,ie={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,n=re[t];n&&(ie[e.toLowerCase()]={test:function(e){return L.toStringTag(e)===t},replace:function(e,t){var n=e.buffer,r=e.byteOffset,i=e.length;t.buffers||(t.buffers=[]);var a=t.buffers.indexOf(n);return a>-1?{index:a,byteOffset:r,length:i}:(t.buffers.push(n),{encoded:ee(n),byteOffset:r,length:i})},revive:function(e,t){t.buffers||(t.buffers=[]);var r,i=e.byteOffset,a=e.length,o=e.encoded,u=e.index;return"index"in e?r=t.buffers[u]:(r=te(o),t.buffers.push(r)),new n(r,i,a)}})}));var ae={dataview:{test:function(e){return"DataView"===L.toStringTag(e)},replace:function(e,t){var n=e.buffer,r=e.byteOffset,i=e.byteLength;t.buffers||(t.buffers=[]);var a=t.buffers.indexOf(n);return a>-1?{index:a,byteOffset:r,byteLength:i}:(t.buffers.push(n),{encoded:ee(n),byteOffset:r,byteLength:i})},revive:function(e,t){t.buffers||(t.buffers=[]);var n,r=e.byteOffset,i=e.byteLength,a=e.encoded,o=e.index;return"index"in e?n=t.buffers[o]:(n=te(a),t.buffers.push(n)),new DataView(n,r,i)}}},oe={IntlCollator:{test:function(e){return L.hasConstructorOf(e,Intl.Collator)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.Collator(e.locale,e)}},IntlDateTimeFormat:{test:function(e){return L.hasConstructorOf(e,Intl.DateTimeFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.DateTimeFormat(e.locale,e)}},IntlNumberFormat:{test:function(e){return L.hasConstructorOf(e,Intl.NumberFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.NumberFormat(e.locale,e)}}};function ue(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}var se={file:{test:function(e){return"File"===L.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad File access: "+t.status);return{type:e.type,stringContents:t.responseText,name:e.name,lastModified:e.lastModified}},revive:function(e){var t=e.name,n=e.type,r=e.stringContents,i=e.lastModified;return new File([ue(r)],t,{type:n,lastModified:i})},replaceAsync:function(e){return new L.Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result,name:e.name,lastModified:e.lastModified})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsBinaryString(e)}))}}},ce={bigint:{test:function(e){return"bigint"==typeof e},replace:function(e){return String(e)},revive:function(e){return BigInt(e)}}},le={bigintObject:{test:function(t){return"object"===e(t)&&L.hasConstructorOf(t,BigInt)},replace:function(e){return String(e)},revive:function(e){return new Object(BigInt(e))}}},fe={cryptokey:{test:function(e){return"CryptoKey"===L.toStringTag(e)&&e.extractable},replaceAsync:function(e){return new L.Promise((function(t,n){crypto.subtle.exportKey("jwk",e).catch((function(e){n(e)})).then((function(n){t({jwk:n,algorithm:e.algorithm,usages:e.usages})}))}))},revive:function(e){var t=e.jwk,n=e.algorithm,r=e.usages;return crypto.subtle.importKey("jwk",t,n,!0,r)}}};return[q,H,W,$,V,G,Y,{imagedata:{test:function(e){return"ImageData"===L.toStringTag(e)},replace:function(e){return{array:o(e.data),width:e.width,height:e.height}},revive:function(e){return new ImageData(new Uint8ClampedArray(e.array),e.width,e.height)}}},{imagebitmap:{test:function(e){return"ImageBitmap"===L.toStringTag(e)||e&&e.dataset&&"ImageBitmap"===e.dataset.toStringTag},replace:function(e){var t=document.createElement("canvas");return t.getContext("2d").drawImage(e,0,0),t.toDataURL()},revive:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.addEventListener("load",(function(){n.drawImage(r,0,0)})),r.src=e,t},reviveAsync:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.addEventListener("load",(function(){n.drawImage(r,0,0)})),r.src=e,createImageBitmap(t)}}},se,{file:se.file,filelist:{test:function(e){return"FileList"===L.toStringTag(e)},replace:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.item(n);return t},revive:function(e){return new(function(){function e(){t(this,e),this._files=arguments[0],this.length=this._files.length}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"item",value:function(e){return this._files[e]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),e}())(e)}}},{blob:{test:function(e){return"Blob"===L.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return{type:e.type,stringContents:t.responseText}},revive:function(e){var t=e.type,n=e.stringContents;return new Blob([ue(n)],{type:t})},replaceAsync:function(e){return new L.Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsBinaryString(e)}))}}}].concat("function"==typeof Map?K:[],"function"==typeof Set?X:[],"function"==typeof ArrayBuffer?ne:[],"function"==typeof Uint8Array?ie:[],"function"==typeof DataView?ae:[],"undefined"!=typeof Intl?oe:[],"undefined"!=typeof crypto?fe:[],"undefined"!=typeof BigInt?[ce,le]:[]).concat({checkDataCloneException:{test:function(t){var n={}.toString.call(t).slice(8,-1);if(["symbol","function"].includes(e(t))||["Arguments","Module","Error","Promise","WeakMap","WeakSet","Event","MessageChannel"].includes(n)||t&&"object"===e(t)&&"number"==typeof t.nodeType&&"function"==typeof t.insertBefore)throw new DOMException("The object cannot be cloned.","DataCloneError");return!1}}})},"object"==("undefined"===typeof i?"undefined":u(i))&&"undefined"!=typeof r?r.exports=o():"function"==typeof e&&e.amd?e(o):((a="undefined"!=typeof globalThis?globalThis:a||self).Typeson=a.Typeson||{},a.Typeson.presets=a.Typeson.presets||{},a.Typeson.presets.structuredCloningThrowing=o())},{}],49:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return(i="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"===typeof e?"undefined":r(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function e(t){a(this,e),this.p=new Promise(t)};p.__typeson__type__="TypesonPromise","undefined"!=typeof Symbol&&(p.prototype[Symbol.toStringTag]="TypesonPromise"),p.prototype.then=function(e,t){var n=this;return new p((function(r,i){n.p.then((function(t){r(e?e(t):t)})).catch((function(e){return t?t(e):Promise.reject(e)})).then(r,i)}))},p.prototype.catch=function(e){return this.then(null,e)},p.resolve=function(e){return new p((function(t){t(e)}))},p.reject=function(e){return new p((function(t,n){n(e)}))},["all","race","allSettled"].forEach((function(e){p[e]=function(t){return new p((function(n,r){Promise[e](t.map((function(e){return e&&e.constructor&&"TypesonPromise"===e.constructor.__typeson__type__?e.p:e}))).then(n,r)}))}}));var v={}.toString,m={}.hasOwnProperty,g=Object.getPrototypeOf,y=m.toString;function b(e,t){return k(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function x(e){return v.call(e).slice(8,-1)}function w(e,t){if(!e||"object"!==i(e))return!1;var n=g(e);if(!n)return null===t;var r=m.call(n,"constructor")&&n.constructor;return"function"!=typeof r?null===t:t===r||null!==t&&y.call(r)===y.call(t)||"function"==typeof t&&"string"==typeof r.__typeson__type__&&r.__typeson__type__===t.__typeson__type__}function _(e){return!(!e||"Object"!==x(e))&&(!g(e)||w(e,Object))}function k(e){return e&&"object"===i(e)}function E(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function O(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function S(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[O(t.slice(0,n))];return void 0===r?void 0:S(r,t.slice(n+1))}return e[O(t)]}function A(e,t,n){if(""===t)return n;var r=t.indexOf(".");return r>-1?A(e[O(t.slice(0,r))],t.slice(r+1),n):(e[O(t)]=n,e)}function C(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var D=Object.keys,j=Array.isArray,T={}.hasOwnProperty,F=["type","replaced","iterateIn","iterateUnsetNumeric"];function P(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function M(e,t){if(""===e.keypath)return-1;var n=e.keypath.match(/\./g)||0,r=t.keypath.match(/\./g)||0;return n&&(n=n.length),r&&(r=r.length),n>r?-1:n<r?1:e.keypath<t.keypath?-1:e.keypath>t.keypath}var N=function(){function e(t){a(this,e),this.options=t,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"stringify",value:function(e,t,n,r){r=c(c(c({},this.options),r),{},{stringification:!0});var i=this.encapsulate(e,null,r);return j(i)?JSON.stringify(i[0],t,n):i.then((function(e){return JSON.stringify(e,t,n)}))}},{key:"stringifySync",value:function(e,t,n,r){return this.stringify(e,t,n,c(c({throwOnBadSyncType:!0},r),{},{sync:!0}))}},{key:"stringifyAsync",value:function(e,t,n,r){return this.stringify(e,t,n,c(c({throwOnBadSyncType:!0},r),{},{sync:!1}))}},{key:"parse",value:function(e,t,n){return n=c(c(c({},this.options),n),{},{parse:!0}),this.revive(JSON.parse(e,t),n)}},{key:"parseSync",value:function(e,t,n){return this.parse(e,t,c(c({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"parseAsync",value:function(e,t,n){return this.parse(e,t,c(c({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"specialTypeNames",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)}},{key:"rootTypeName",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)}},{key:"encapsulate",value:function(t,n,r){var a=P((function(e,t){return C(Promise.all(t.map((function(e){return e[1].p}))),(function(n){return C(Promise.all(n.map(P((function(n){var r=!1,i=[],o=l(t.splice(0,1),1),u=l(o[0],7),s=u[0],c=u[2],f=u[3],d=u[4],h=u[5],v=u[6],m=O(s,n,c,f,i,!0,v),g=w(m,p);return function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}((function(){if(s&&g)return C(m.p,(function(t){return d[h]=t,r=!0,a(e,i)}))}),(function(t){return r?t:(s?d[h]=m:e=g?m.p:m,a(e,i))}))})))),(function(){return e}))}))})),o=(r=c(c({sync:!0},this.options),r)).sync,u=this,s={},d=[],h=[],v=[],m=!("cyclic"in r)||r.cyclic,g=r.encapsulateObserver,y=O("",t,m,n||{},v);function b(t){var n=Object.values(s);if(r.iterateNone)return n.length?n[0]:e.getJSONType(t);if(n.length){if(r.returnTypeNames)return f(new Set(n));t&&_(t)&&!T.call(t,"$types")?t.$types=s:t={$:t,$types:{$:s}}}else k(t)&&T.call(t,"$types")&&(t={$:t,$types:!0});return!r.returnTypeNames&&t}function x(e,t,n){Object.assign(e,t);var r=F.map((function(t){var n=e[t];return delete e[t],n}));n(),F.forEach((function(t,n){e[t]=r[n]}))}function O(t,n,a,o,c,l,f){var v,m={},y=i(n),b=g?function(r){var i=f||o.type||e.getJSONType(n);g(Object.assign(r||m,{keypath:t,value:n,cyclic:a,stateObj:o,promisesData:c,resolvingTypesonPromise:l,awaitingTypesonPromise:w(n,p)},{type:i}))}:null;if(["string","boolean","number","undefined"].includes(y))return void 0===n||Number.isNaN(n)||n===Number.NEGATIVE_INFINITY||n===Number.POSITIVE_INFINITY?(v=o.replaced?n:S(t,n,o,c,!1,l,b))!==n&&(m={replaced:v}):v=n,b&&b(),v;if(null===n)return b&&b(),n;if(a&&!o.iterateIn&&!o.iterateUnsetNumeric&&n&&"object"===i(n)){var k=d.indexOf(n);if(!(k<0))return s[t]="#",b&&b({cyclicKeypath:h[k]}),"#"+h[k];!0===a&&(d.push(n),h.push(t))}var A,C=_(n),F=j(n),P=(C||F)&&(!u.plainObjectReplacers.length||o.replaced)||o.iterateIn?n:S(t,n,o,c,C||F,null,b);if(P!==n?(v=P,m={replaced:P}):""===t&&w(n,p)?(c.push([t,n,a,o,void 0,void 0,o.type]),v=n):F&&"object"!==o.iterateIn||"array"===o.iterateIn?(A=new Array(n.length),m={clone:A}):(["function","symbol"].includes(i(n))||"toJSON"in n||w(n,p)||w(n,Promise)||w(n,ArrayBuffer))&&!C&&"object"!==o.iterateIn?v=n:(A={},o.addLength&&(A.length=n.length),m={clone:A}),b&&b(),r.iterateNone)return A||v;if(!A)return v;if(o.iterateIn){var M=function(e){var r={ownKeys:T.call(n,e)};x(o,r,(function(){var r=t+(t?".":"")+E(e),i=O(r,n[e],Boolean(a),o,c,l);w(i,p)?c.push([r,i,Boolean(a),o,A,e,o.type]):void 0!==i&&(A[e]=i)}))};for(var N in n)M(N);b&&b({endIterateIn:!0,end:!0})}else D(n).forEach((function(e){var r=t+(t?".":"")+E(e);x(o,{ownKeys:!0},(function(){var t=O(r,n[e],Boolean(a),o,c,l);w(t,p)?c.push([r,t,Boolean(a),o,A,e,o.type]):void 0!==t&&(A[e]=t)}))})),b&&b({endIterateOwn:!0,end:!0});if(o.iterateUnsetNumeric){for(var R=n.length,I=function(e){if(!(e in n)){var r=t+(t?".":"")+e;x(o,{ownKeys:!1},(function(){var t=O(r,void 0,Boolean(a),o,c,l);w(t,p)?c.push([r,t,Boolean(a),o,A,e,o.type]):void 0!==t&&(A[e]=t)}))}},B=0;B<R;B++)I(B);b&&b({endIterateUnsetNumeric:!0,end:!0})}return A}function S(e,t,n,r,i,a,c){for(var l=i?u.plainObjectReplacers:u.nonplainObjectReplacers,f=l.length;f--;){var d=l[f];if(d.test(t,n)){var h=d.type;if(u.revivers[h]){var p=s[e];s[e]=p?[h].concat(p):h}return Object.assign(n,{type:h,replaced:!0}),!o&&d.replaceAsync||d.replace?(c&&c({replacing:!0}),O(e,d[o||!d.replaceAsync?"replace":"replaceAsync"](t,n),m&&"readonly",n,r,a,h)):(c&&c({typeDetected:!0}),O(e,t,m&&"readonly",n,r,a,h))}}return t}return v.length?o&&r.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(a(y,v)).then(b):!o&&r.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r.stringification&&o?[b(y)]:o?b(y):Promise.resolve(b(y))}},{key:"encapsulateSync",value:function(e,t,n){return this.encapsulate(e,t,c(c({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(e,t,n){return this.encapsulate(e,t,c(c({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"revive",value:function(e,t){var n=e&&e.$types;if(!n)return e;if(!0===n)return e.$;var r=(t=c(c({sync:!0},this.options),t)).sync,i=[],a={},o=!0;n.$&&_(n.$)&&(e=e.$,n=n.$,o=!1);var u=this;function s(e,t){var n=l(u.revivers[e]||[],1)[0];if(!n)throw new Error("Unregistered type: "+e);return r&&!("revive"in n)?t:n[r&&n.revive?"revive":!r&&n.reviveAsync?"reviveAsync":"revive"](t,a)}var f=[];function d(e){return w(e,R)?void 0:e}var h,v=function(){var t=[];if(Object.entries(n).forEach((function(e){var r=l(e,2),i=r[0],a=r[1];"#"!==a&&[].concat(a).forEach((function(e){l(u.revivers[e]||[null,{}],2)[1].plain&&(t.push({keypath:i,type:e}),delete n[i])}))})),t.length)return t.sort(M).reduce((function t(n,r){var i=r.keypath,a=r.type;if(b(n))return n.then((function(e){return t(e,{keypath:i,type:a})}));var o=S(e,i);if(w(o=s(a,o),p))return o.then((function(t){var n=A(e,i,t);n===t&&(e=n)}));var u=A(e,i,o);u===o&&(e=u)}),void 0)}();return w(v,p)?h=v.then((function(){return e})):(h=function e(t,r,a,u,c){if(!o||"$types"!==t){var d=n[t],h=j(r);if(h||_(r)){var v=h?new Array(r.length):{};for(D(r).forEach((function(n){var i=e(t+(t?".":"")+E(n),r[n],a||v,v,n),o=function(e){return w(e,R)?v[n]=void 0:void 0!==e&&(v[n]=e),e};w(i,p)?f.push(i.then((function(e){return o(e)}))):o(i)})),r=v;i.length;){var m=l(i[0],4),g=m[0],y=m[1],b=m[2],x=m[3],k=S(g,y);if(void 0===k)break;b[x]=k,i.splice(0,1)}}if(!d)return r;if("#"===d){var O=S(a,r.slice(1));return void 0===O&&i.push([a,r.slice(1),u,c]),O}return[].concat(d).reduce((function e(t,n){return w(t,p)?t.then((function(t){return e(t,n)})):s(n,t)}),r)}}("",e,null),f.length&&(h=p.resolve(h).then((function(e){return p.all([e].concat(f))})).then((function(e){return l(e,1)[0]})))),b(h)?r&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():w(h,p)?h.p.then(d):h:!r&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r?d(h):Promise.resolve(d(h))}},{key:"reviveSync",value:function(e,t){return this.revive(e,c(c({throwOnBadSyncType:!0},t),{},{sync:!0}))}},{key:"reviveAsync",value:function(e,t){return this.revive(e,c(c({throwOnBadSyncType:!0},t),{},{sync:!1}))}},{key:"register",value:function(t,n){return n=n||{},[].concat(t).forEach((function t(r){var i=this;if(j(r))return r.map((function(e){return t.call(i,e)}));r&&D(r).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(e.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var i=r[t],a=i&&i.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,o=a.filter((function(e){return e.type===t}));if(o.length&&(a.splice(a.indexOf(o[0]),1),delete this.revivers[t],delete this.types[t]),"function"==typeof i){var u=i;i={test:function(e){return e&&e.constructor===u},replace:function(e){return c({},e)},revive:function(e){return Object.assign(Object.create(u.prototype),e)}}}else if(j(i)){var s=l(i,3);i={test:s[0],replace:s[1],revive:s[2]}}if(i&&i.test){var f={type:t,test:i.test.bind(i)};i.replace&&(f.replace=i.replace.bind(i)),i.replaceAsync&&(f.replaceAsync=i.replaceAsync.bind(i));var d="number"==typeof n.fallback?n.fallback:n.fallback?0:Number.POSITIVE_INFINITY;if(i.testPlainObjects?this.plainObjectReplacers.splice(d,0,f):this.nonplainObjectReplacers.splice(d,0,f),i.revive||i.reviveAsync){var h={};i.revive&&(h.revive=i.revive.bind(i)),i.reviveAsync&&(h.reviveAsync=i.reviveAsync.bind(i)),this.revivers[t]=[h,{plain:i.testPlainObjects}]}this.types[t]=i}}),this)}),this),this}}]),e}(),R=function e(){a(this,e)};R.__typeson__type__="TypesonUndefined",N.Undefined=R,N.Promise=p,N.isThenable=b,N.toStringTag=x,N.hasConstructorOf=w,N.isObject=k,N.isPlainObject=_,N.isUserObject=function e(t){if(!t||"Object"!==x(t))return!1;var n=g(t);return!n||w(t,Object)||e(n)},N.escapeKeyPathComponent=E,N.unescapeKeyPathComponent=O,N.getByKeyPath=S,N.getJSONType=function(e){return null===e?"null":Array.isArray(e)?"array":i(e)},N.JSON_TYPES=["null","boolean","number","string","array","object"],t.exports=N},{}],50:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){return(t&&t.context?t.context:"Value")+" "+e+"."}function a(e){if(null===e)return"Null";switch("undefined"===typeof e?"undefined":r(e)){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";default:return"Object"}}function o(e){return l(e>0&&e%1===.5&&0===(1&e)||e<0&&e%1===-.5&&1===(1&e)?Math.floor(e):Math.round(e))}function u(e){return l(Math.trunc(e))}function s(e){return e<0?-1:1}function c(e,t){var n=e%t;return s(t)!==s(n)?n+t:n}function l(e){return 0===e?0:e}function f(e,t){var n=!t.unsigned,r=void 0,a=void 0;64===e?(a=Math.pow(2,53)-1,r=n?1-Math.pow(2,53):0):n?(r=-Math.pow(2,e-1),a=Math.pow(2,e-1)-1):(r=0,a=Math.pow(2,e)-1);var s=Math.pow(2,e),f=Math.pow(2,e-1);return function(e,t){void 0===t&&(t={});var d=+e;if(d=l(d),t.enforceRange){if(!Number.isFinite(d))throw new TypeError(i("is not a finite number",t));if((d=u(d))<r||d>a)throw new TypeError(i("is outside the accepted range of "+r+" to "+a+", inclusive",t));return d}return!Number.isNaN(d)&&t.clamp?d=o(d=Math.min(Math.max(d,r),a)):Number.isFinite(d)&&0!==d?(d=u(d))>=r&&d<=a?d:(d=c(d,s),n&&d>=f?d-s:d):0}}function d(e,t){if("function"!==typeof e)throw new TypeError(i("is not a function",t));return e}n.any=function(e){return e},n.void=function(){},n.boolean=function(e){return!!e},n.byte=f(8,{unsigned:!1}),n.octet=f(8,{unsigned:!0}),n.short=f(16,{unsigned:!1}),n["unsigned short"]=f(16,{unsigned:!0}),n.long=f(32,{unsigned:!1}),n["unsigned long"]=f(32,{unsigned:!0}),n["long long"]=f(64,{unsigned:!1}),n["unsigned long long"]=f(64,{unsigned:!0}),n.double=function(e,t){var n=+e;if(!Number.isFinite(n))throw new TypeError(i("is not a finite floating-point value",t));return n},n["unrestricted double"]=function(e){return+e},n.float=function(e,t){var n=+e;if(!Number.isFinite(n))throw new TypeError(i("is not a finite floating-point value",t));if(Object.is(n,-0))return n;var r=Math.fround(n);if(!Number.isFinite(r))throw new TypeError(i("is outside the range of a single-precision floating-point value",t));return r},n["unrestricted float"]=function(e){var t=+e;return isNaN(t)||Object.is(t,-0)?t:Math.fround(t)},n.DOMString=function(e,t){if(void 0===t&&(t={}),t.treatNullAsEmptyString&&null===e)return"";if("symbol"===("undefined"===typeof e?"undefined":r(e)))throw new TypeError(i("is a symbol, which cannot be converted to a string",t));return String(e)},n.ByteString=function(e,t){for(var r=n.DOMString(e,t),a=void 0,o=0;void 0!==(a=r.codePointAt(o));++o)if(a>255)throw new TypeError(i("is not a valid ByteString",t));return r},n.USVString=function(e,t){for(var r=n.DOMString(e,t),i=r.length,a=[],o=0;o<i;++o){var u=r.charCodeAt(o);if(u<55296||u>57343)a.push(String.fromCodePoint(u));else if(56320<=u&&u<=57343)a.push(String.fromCodePoint(65533));else if(o===i-1)a.push(String.fromCodePoint(65533));else{var s=r.charCodeAt(o+1);if(56320<=s&&s<=57343){var c=1023&u,l=1023&s;a.push(String.fromCodePoint(65536+1024*c+l)),++o}else a.push(String.fromCodePoint(65533))}}return a.join("")},n.object=function(e,t){if("Object"!==a(e))throw new TypeError(i("is not an object",t));return e},[Error,ArrayBuffer,DataView,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach((function(e){var t=e.name,r=/^[AEIOU]/.test(t)?"an":"a";n[t]=function(n,a){if(!(n instanceof e))throw new TypeError(i("is not "+r+" "+t+" object",a));return n}})),n.ArrayBufferView=function(e,t){if(!ArrayBuffer.isView(e))throw new TypeError(i("is not a view on an ArrayBuffer object",t));return e},n.BufferSource=function(e,t){if(!(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))throw new TypeError(i("is not an ArrayBuffer object or a view on one",t));return e},n.DOMTimeStamp=n["unsigned long long"],n.Function=d,n.VoidFunction=d},{}]},{},[1])(1)}()},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=O(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(D([])));w&&w!==n&&r.call(w,a)&&(b=w);var _=y.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function D(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:j}}function j(){return{value:t,done:!0}}return g.prototype=y,s(_,"constructor",y),s(y,"constructor",g),g.displayName=s(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=D,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=d((function(){e(t.unstable_now())}),n)},i=function(){h(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<O(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>O(o,n))void 0!==s&&0>O(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>O(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],A=[],C=1,D=null,j=3,T=!1,F=!1,P=!1;function M(e){for(var t=k(A);null!==t;){if(null===t.callback)E(A);else{if(!(t.startTime<=e))break;E(A),t.sortIndex=t.expirationTime,_(S,t)}t=k(A)}}function N(e){if(P=!1,M(e),!F)if(null!==k(S))F=!0,n(R);else{var t=k(A);null!==t&&r(N,t.startTime-e)}}function R(e,n){F=!1,P&&(P=!1,i()),T=!0;var a=j;try{for(M(n),D=k(S);null!==D&&(!(D.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=D.callback;if("function"===typeof o){D.callback=null,j=D.priorityLevel;var u=o(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?D.callback=u:D===k(S)&&E(S),M(n)}else E(S);D=k(S)}if(null!==D)var s=!0;else{var c=k(A);null!==c&&r(N,c.startTime-n),s=!1}return s}finally{D=null,j=a,T=!1}}var I=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){F||T||(F=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return k(S)},t.unstable_next=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(A,e),null===k(S)&&e===k(A)&&(P?i():P=!0,r(N,o-u))):(e.sortIndex=s,_(S,e),F||T||(F=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},6426:function(e,t,n){var r=n(1065);e.exports=function(e,t){var n,i=null;if(!e||"string"!==typeof e)return i;for(var a,o,u=r(e),s="function"===typeof t,c=0,l=u.length;c<l;c++)a=(n=u[c]).property,o=n.value,s?t(a,o,n):o&&(i||(i={}),i[a]=o);return i}},7346:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_chrome.49848bff6abc55f5f16c.png"},4568:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_create.ed8efc6ebcc3e7dcb7f4.png"},3953:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_deselect.b6cb7755d8880e12019c.png"},3980:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_download.c8f6db21e987e9cca853.png"},9275:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_unselected.5ca8d9bde343d0e6ea4c.png"},8234:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_youtube.d32fe2835e3e5a36c036.png"},2579:function(e,t,n){"use strict";e.exports=n.p+"static/media/GoogleTakeout_youtube2.95b463dd4985f1e01060.png"},3687:function(e,t,n){"use strict";e.exports=n.p+"static/media/background.eb5e36bfc64c004fd2c0.jpeg"},6662:function(e){"use strict";var t=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,n){var r,i,a;return n=n||{},r=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),i=""===r?1/0:void 0===n.maxLength?80:n.maxLength,a=n.replacer,function e(n,o,u){var s,c,l,f,d,h,p,v,m,g,y,b;if(n&&"function"===typeof n.toJSON&&(n=n.toJSON()),void 0===(y=JSON.stringify(n,a)))return y;if(p=i-o.length-u,y.length<=p&&(m=y.replace(t,(function(e,t){return t||e+" "}))).length<=p)return m;if(null!=a&&(n=JSON.parse(y),a=void 0),"object"===typeof n&&null!==n){if(v=o+r,l=[],c=0,Array.isArray(n))for(g="[",s="]",p=n.length;c<p;c++)l.push(e(n[c],v,c===p-1?0:1)||"null");else for(g="{",s="}",p=(h=Object.keys(n)).length;c<p;c++)f=h[c],d=JSON.stringify(f)+": ",void 0!==(b=e(n[f],v,d.length+(c===p-1?0:1)))&&l.push(d+b);if(l.length>0)return[g,r+l.join(",\n"+v),s].join("\n"+o)}return y}(e,"",0)}},6251:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return u=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},u.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},s(e)}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,{JSONPath:function(){return g}});var h=Object.prototype.hasOwnProperty;function p(e,t){return(e=e.slice()).push(t),e}function v(e,t){return(t=t.slice()).unshift(e),t}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,e);var t=function(e){var t=o();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,r.value=e,r.name="NewError",r}return n}(s(Error));function g(e,t,n,i,a){if(!(this instanceof g))try{return new g(e,t,n,i,a)}catch(c){if(!c.avoidNew)throw c;return c.value}"string"===typeof e&&(a=i,i=n,n=t,t=e,e=null);var o=e&&"object"===r(e);if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!h.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||i||null,this.otherTypeCallback=e.otherTypeCallback||a||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var u={path:o?e.path:t};o?"json"in e&&(u.json=e.json):u.json=n;var s=this.evaluate(u);if(!s||"object"!==r(s))throw new m(s);return s}}g.prototype.evaluate=function(e,t,n,i){var a=this,o=this.parent,u=this.parentProperty,s=this.flatten,c=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=i||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"===r(e)&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!h.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=e.json,s=h.call(e,"flatten")?e.flatten:s,this.currResultType=h.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=h.call(e,"sandbox")?e.sandbox:this.currSandbox,c=h.call(e,"wrap")?e.wrap:c,this.currPreventEval=h.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=h.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=h.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,o=h.call(e,"parent")?e.parent:o,u=h.call(e,"parentProperty")?e.parentProperty:u,e=e.path}if(o=o||null,u=u||null,Array.isArray(e)&&(e=g.toPathString(e)),(e||""===e)&&t){var l=g.toPathArray(e);"$"===l[0]&&l.length>1&&l.shift(),this._hasParentSelector=null;var f=this._trace(l,t,["$"],o,u,n).filter((function(e){return e&&!e.isParentSelector}));return f.length?c||1!==f.length||f[0].hasArrExpr?f.reduce((function(e,t){var n=a._getPreferredOutput(t);return s&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(f[0]):c?[]:void 0}},g.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:g.toPathArray(e.path);return e.pointer=g.toPointer(n),e.path="string"===typeof e.path?e.path:g.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return g.toPathString(e[t]);case"pointer":return g.toPointer(e.path);default:throw new TypeError("Unknown result type")}},g.prototype._handleCallback=function(e,t,n){if(t){var r=this._getPreferredOutput(e);e.path="string"===typeof e.path?e.path:g.toPathString(e.path),t(r,n,e)}},g.prototype._trace=function(e,t,n,i,a,o,u,s){var c,l=this;if(!e.length)return c={path:n,value:t,parent:i,parentProperty:a,hasArrExpr:u},this._handleCallback(c,o,"value"),c;var d=e[0],m=e.slice(1),g=[];function y(e){Array.isArray(e)?e.forEach((function(e){g.push(e)})):g.push(e)}if(("string"!==typeof d||s)&&t&&h.call(t,d))y(this._trace(m,t[d],p(n,d),t,d,o,u));else if("*"===d)this._walk(d,m,t,n,i,a,o,(function(e,t,n,r,i,a,o,u){y(l._trace(v(e,n),r,i,a,o,u,!0,!0))}));else if(".."===d)y(this._trace(m,t,n,i,a,o,u)),this._walk(d,m,t,n,i,a,o,(function(e,t,n,i,a,o,u,s){"object"===r(i[e])&&y(l._trace(v(t,n),i[e],p(a,e),i,e,s,!0))}));else{if("^"===d)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:m,isParentSelector:!0};if("~"===d)return c={path:p(n,d),value:a,parent:i,parentProperty:null},this._handleCallback(c,o,"property"),c;if("$"===d)y(this._trace(m,t,n,null,null,o,u));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(d))y(this._slice(d,m,t,n,i,a,o));else if(0===d.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(d,m,t,n,i,a,o,(function(e,t,n,r,i,a,o,u){l._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),r[e],e,i,a,o)&&y(l._trace(v(e,n),r,i,a,o,u,!0))}))}else if("("===d[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");y(this._trace(v(this._eval(d,t,n[n.length-1],n.slice(0,-1),i,a),m),t,n,i,a,o,u))}else if("@"===d[0]){var b=!1,x=d.slice(1,-2);switch(x){case"scalar":t&&["object","function"].includes(r(t))||(b=!0);break;case"boolean":case"string":case"undefined":case"function":r(t)===x&&(b=!0);break;case"integer":!Number.isFinite(t)||t%1||(b=!0);break;case"number":Number.isFinite(t)&&(b=!0);break;case"nonFinite":"number"!==typeof t||Number.isFinite(t)||(b=!0);break;case"object":t&&r(t)===x&&(b=!0);break;case"array":Array.isArray(t)&&(b=!0);break;case"other":b=this.currOtherTypeCallback(t,n,i,a);break;case"null":null===t&&(b=!0);break;default:throw new TypeError("Unknown value type "+x)}if(b)return c={path:n,value:t,parent:i,parentProperty:a},this._handleCallback(c,o,"value"),c}else if("`"===d[0]&&t&&h.call(t,d.slice(1))){var w=d.slice(1);y(this._trace(m,t[w],p(n,w),t,w,o,u,!0))}else if(d.includes(",")){var _,k=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}(d.split(","));try{for(k.s();!(_=k.n()).done;){var E=_.value;y(this._trace(v(E,m),t,n,i,a,o,!0))}}catch(j){k.e(j)}finally{k.f()}}else!s&&t&&h.call(t,d)&&y(this._trace(m,t[d],p(n,d),t,d,o,u,!0))}if(this._hasParentSelector)for(var O=0;O<g.length;O++){var S=g[O];if(S&&S.isParentSelector){var A=this._trace(S.expr,t,S.path,i,a,o,u);if(Array.isArray(A)){g[O]=A[0];for(var C=A.length,D=1;D<C;D++)O++,g.splice(O,0,A[D])}else g[O]=A}}return g},g.prototype._walk=function(e,t,n,i,a,o,u,s){if(Array.isArray(n))for(var c=n.length,l=0;l<c;l++)s(l,e,t,n,i,a,o,u);else n&&"object"===r(n)&&Object.keys(n).forEach((function(r){s(r,e,t,n,i,a,o,u)}))},g.prototype._slice=function(e,t,n,r,i,a,o){if(Array.isArray(n)){var u=n.length,s=e.split(":"),c=s[2]&&Number.parseInt(s[2])||1,l=s[0]&&Number.parseInt(s[0])||0,f=s[1]&&Number.parseInt(s[1])||u;l=l<0?Math.max(0,l+u):Math.min(u,l),f=f<0?Math.max(0,f+u):Math.min(u,f);for(var d=[],h=l;h<f;h+=c){this._trace(v(h,t),n,r,i,a,o,!0).forEach((function(e){d.push(e)}))}return d}},g.prototype._eval=function(e,t,n,r,i,a){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=a,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=i,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=g.toPathString(r.concat([n])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(o){throw console.log(o),new Error("jsonPath: "+o.message+": "+e)}},g.cache={},g.toPathString=function(e){for(var t=e,n=t.length,r="$",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[i])||(r+=/^[\*0-9]+$/.test(t[i])?"["+t[i]+"]":"['"+t[i]+"']");return r},g.toPointer=function(e){for(var t=e,n=t.length,r="",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[i])||(r+="/"+t[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r},g.toPathArray=function(e){var t=g.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,(function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"})).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map((function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e}));return t[e]=r,t[e].concat()};g.prototype.vm={runInNewContext:function(e,t){var n=Object.keys(t),r=[];!function(e,t,n){for(var r=e.length,i=0;i<r;i++)n(e[i])&&t.push(e.splice(i--,1)[0])}(n,r,(function(e){return"function"===typeof t[e]}));var i=n.map((function(e,n){return t[e]})),a=r.reduce((function(e,n){var r=t[n].toString();return/function/.test(r)||(r="function "+r),"var "+n+"="+r+";"+e}),"");/(["'])use strict\1/.test(e=a+e)||n.includes("arguments")||(e="var arguments = undefined;"+e);var o=(e=e.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),s=o>-1?e.slice(0,o+1)+" return "+e.slice(o+1):" return "+e;return u(Function,l(n).concat([s])).apply(void 0,l(i))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/DigitalFootprintsLab/";n(8088)}();
//# sourceMappingURL=main.8f02954a.js.map